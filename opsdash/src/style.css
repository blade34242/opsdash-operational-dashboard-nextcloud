:root{
  --fg:#0f172a; --muted:#475569; --bg:#f3f4f6; --card:#ffffff; --line:#e5e7eb; --brand:#2563eb; --soft:#eef2ff;
  --pos:#16a34a; --neg:#ef4444;
}
@media (prefers-color-scheme: dark) {
  :root{ --fg:#e5e7eb; --muted:#94a3b8; --bg:#0b1220; --card:#0f172a; --line:#1f2937; --brand:#60a5fa; --soft:#0b2942; --pos:#22c55e; --neg:#f87171; }
}
html,body{margin:0;padding:0;height:100%}
body{background:var(--bg); color:var(--fg); font:14px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
/* App layout: docked left sidebar + scrollable main */
.app-layout{display:grid; grid-template-columns:320px minmax(0,1fr); gap:16px; height:calc(100vh - 56px); box-sizing:border-box; padding:12px 16px}
@media (max-width: 1200px){ .app-layout{ grid-template-columns:280px minmax(0,1fr) } }
.app-sidebar{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:14px; overflow:auto}
.app-main{display:block; width:100%; max-width:100%; min-width:0; min-height:0; overflow-y:scroll; overflow-x:hidden; scrollbar-gutter:stable; box-sizing:border-box; grid-column:2 / -1; justify-self:stretch}
/* Force all immediate children (container, panels) to fill the main width */
.app-main > *{ width:100%; max-width:100%; box-sizing:border-box }
.app-main .card.full{ width:100%; box-sizing:border-box }
.app-main .grid2{ width:100% }
/* Nur ein einheitlicher Rahmen pro Tab: innere Kartenrahmen entfernen */
.card.full .card{ border:none; box-shadow:none; background:transparent; padding:0 }
.card.full .card .chart{ background:var(--card); border:1px solid var(--line); border-radius:12px }
.app-container{display:block; width:100%; max-width:100%; min-width:0; margin:0; padding:0 8px; box-sizing:border-box}
/* Ensure container is full-width inside app-main even if global styles override common class names */
.app-main .app-container{display:block; width:100%; max-width:100%; margin:0; padding:0 8px; box-sizing:border-box}
.appbar{display:flex; align-items:center; justify-content:space-between; gap:12px; margin:8px 0}
.title{display:flex; align-items:center; gap:10px; font-weight:800; font-size:20px}
.layout{display:grid; grid-template-columns:280px 1fr; gap:16px; height:calc(100vh - 120px); min-height:0}
.sidebar{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:14px; box-shadow:0 8px 24px rgba(0,0,0,.08); display:flex; flex-direction:column; align-items:center; gap:8px}
.sidebar > *{ width:100% }
.sb-title{ text-align:center }
main{min-height:0; overflow:auto; padding-right:4px}
.sb-title{font-weight:700; margin-bottom:8px}
.rangebar{display:flex; gap:8px; align-items:center; margin:6px 0; flex-wrap:wrap; flex-direction:column}
.rangebar .range-toggle{display:flex; gap:10px; align-items:center; justify-content:center}
.rangebar .range-nav{display:flex; align-items:center; justify-content:space-between; gap:10px; width:100%}
.rangebar .range-dates{font-weight:600}
.rangebar .nav-btn{min-width:36px}
.sb-actions{display:flex; gap:6px; flex-wrap:wrap; margin:8px 0}
.sb-list{display:flex; flex-direction:column; gap:6px; max-height:50vh; overflow:auto; border-top:1px solid var(--line); padding-top:8px}
.btn{padding:8px 12px; border-radius:10px; border:1px solid var(--line); background:var(--card); color:var(--fg); cursor:pointer}
.btn.primary{background:var(--brand); color:#fff; border-color:var(--brand)}
.btn.soft{background:var(--soft)}
.btn.soft.nav-item[aria-pressed="true"]{ background: color-mix(in oklab, var(--brand), transparent 85%); border-color: color-mix(in oklab, var(--brand), transparent 70%); }
.btn.soft.nav-item{ transition: background .12s ease, border-color .12s ease }
.cards{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:12px; margin:10px 0}
.card{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:16px; box-shadow:0 8px 24px rgba(0,0,0,.08)}
.card.full{width:100%; display:block}
.value{font-size:30px; font-weight:800}
.sub{font-size:12px; color:var(--muted); margin-top:4px}
.tabs{display:grid; grid-auto-flow:column; grid-auto-columns:1fr; gap:16px; margin:12px 0; width:100%}
/* Equal-width tabs via CSS Grid (avoids flex shrink quirks) */
.tabs a{ display:block; color:var(--brand); padding:10px 6px; font-weight:600; text-align:center; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; border-bottom:2px solid transparent }
.tabs a.active{border-color:var(--brand)}
table{width:100%; border-collapse:collapse; table-layout:fixed; background:var(--card)}
th,td{border-top:1px solid var(--line); padding:10px 12px; text-align:left; vertical-align:middle}
/* Better alignment for numeric and date columns */
th.num, td.num{ text-align:right; font-variant-numeric: tabular-nums }
th.mono, td.mono{ font-family:ui-monospace,Consolas,Menlo,monospace }
th.nowrap, td.nowrap{ white-space:nowrap }
/* Truncate overflowing cell text nicely */
td > .cell, th > .cell{ display:block; overflow:hidden; text-overflow:ellipsis; white-space:nowrap }
th{position:sticky; top:0; z-index:1}
tr:nth-child(even) td{background:color-mix(in oklab, var(--card), #000 3%)}
td.num{text-align:right}
.mono{font-family:ui-monospace,Consolas,Menlo,monospace}
.nowrap{white-space:nowrap}
.grid2{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-top:12px}
canvas.chart{display:block; width:100%; height:360px; border:1px solid var(--line); border-radius:12px; background:var(--card)}
.hint{font-size:12px; color:var(--muted)}
.footer{text-align:center; margin-top:16px}
.tab-panel{ width:100%; max-width:100%; box-sizing:border-box; border:1px solid var(--line); border-radius:16px; background:var(--card); padding:16px; box-shadow:0 8px 24px rgba(0,0,0,.08); display:block; min-height:420px; flex:0 0 auto }
.tab-panel{ align-self:stretch }
/* Ensure inner content stretches to full width inside the card */
.tab-panel > *{ width:100%; max-width:100% }
.app-main{ width:100% }
.tab-panel .grid2{ width:100% }
.tab-panel .chart{ width:100% }
:root{
}
/* Namespace root for stronger specificity and isolation */
#opsdash, .opsdash{ display:block; width:100%; max-width:100%; box-sizing:border-box; overflow-x: clip }
#opsdash .app-layout{ width:100%; max-width:100%; }
#opsdash .app-main{ width:100% !important; max-width:100% !important; overflow-y:auto; scrollbar-gutter:stable }
#opsdash .app-container{ width:100% !important; max-width:100% !important }

/* Full-bleed: make the internal grid span the full viewport width,
   even if an outer container is narrower (center with translate) */
#opsdash .app-layout{ width:100vw; max-width:100vw; margin-left:50%; transform:translateX(-50%); }
@supports (width: 100dvw){
  #opsdash .app-layout{ width:100dvw; max-width:100dvw }
}
