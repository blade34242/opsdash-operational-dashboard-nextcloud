(function(){"use strict";var Mn=document.createElement("style");Mn.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-054cbd84]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-054cbd84]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-054cbd84]{font-size:12px}.activity-card__meta[data-v-054cbd84],.activity-card__extra[data-v-054cbd84]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-054cbd84],.activity-card__extra strong[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-054cbd84]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-054cbd84]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.onboarding-action[data-v-b1f9b14e]{display:flex;justify-content:flex-end;margin-bottom:8px}.onboarding-btn[data-v-b1f9b14e]{font-size:.85rem}.forecast-block[data-v-4d86aa83]{margin-top:16px;display:flex;flex-direction:column;gap:8px}.forecast-block .field[data-v-4d86aa83]{max-width:100%}.forecast-block select[data-v-4d86aa83]{width:100%}.forecast-hint[data-v-4d86aa83]{margin:0}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.sb-title[data-v-d602d23c]{font-weight:600;margin-bottom:6px}.sb-description[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.preset-form[data-v-d602d23c]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.preset-label[data-v-d602d23c]{font-size:12px;font-weight:600}.preset-form input[data-v-d602d23c]{width:100%;padding:6px 8px;border-radius:4px;border:1px solid var(--color-border);background:var(--color-main-background);color:var(--color-main-text)}.preset-save[data-v-d602d23c]{align-self:flex-start}.preset-error[data-v-d602d23c]{color:var(--color-error);font-size:12px}.preset-warnings[data-v-d602d23c]{border:1px solid var(--color-warning);background:color-mix(in srgb,var(--color-warning) 10%,transparent);border-radius:6px;padding:8px;margin-bottom:12px}.warnings-title[data-v-d602d23c]{font-weight:600;margin-bottom:4px}.preset-warnings ul[data-v-d602d23c]{padding-left:18px;margin:0 0 6px}.preset-clear[data-v-d602d23c]{padding:2px 6px}.preset-header[data-v-d602d23c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.preset-header h3[data-v-d602d23c]{margin:0;font-size:13px;font-weight:600}.preset-empty[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary)}.preset-list[data-v-d602d23c]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.preset-item[data-v-d602d23c]{border:1px solid var(--color-border);border-radius:6px;padding:8px;display:flex;flex-direction:column;gap:6px;background:var(--color-main-background)}.preset-meta[data-v-d602d23c]{display:flex;flex-direction:column;gap:2px}.preset-name[data-v-d602d23c]{font-weight:600}.preset-info[data-v-d602d23c]{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:var(--text-color-tertiary)}.preset-actions[data-v-d602d23c]{display:flex;gap:6px}.input-message[data-v-25908492]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-25908492]{color:var(--neg)}.input-message.warning[data-v-25908492]{color:var(--warning)}.onboarding-modal[data-v-1578dddc]{display:flex;flex-direction:column;min-height:480px}.onboarding-header[data-v-1578dddc]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:16px}.onboarding-title h2[data-v-1578dddc]{margin:0;font-size:1.6rem}.onboarding-title .subtitle[data-v-1578dddc]{margin:4px 0 0;color:var(--color-text-light)}.skip-link[data-v-1578dddc]{background:none;border:none;color:var(--color-primary);cursor:pointer;font-size:.95rem}.onboarding-body[data-v-1578dddc]{flex:1;overflow-y:auto;padding-right:8px}.onboarding-step h3[data-v-1578dddc]{margin-top:0}.highlights[data-v-1578dddc]{padding-left:18px}.hint[data-v-1578dddc]{color:var(--color-text-light);margin-top:12px}.strategy-grid[data-v-1578dddc]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.strategy-card[data-v-1578dddc]{border:1px solid var(--color-border);border-radius:8px;padding:16px;cursor:pointer;display:flex;flex-direction:column;gap:8px;transition:border-color .15s ease,box-shadow .15s ease}.strategy-card.active[data-v-1578dddc]{border-color:var(--color-primary);box-shadow:0 0 0 2px #3b82f633}.strategy-card h4[data-v-1578dddc]{margin:0}.strategy-card .subtitle[data-v-1578dddc]{color:var(--color-text-light);margin:0}.strategy-card footer[data-v-1578dddc]{margin-top:auto;font-size:.85rem;color:var(--color-text-light)}.calendar-list[data-v-1578dddc]{display:grid;gap:8px;margin-top:8px}.calendar-item[data-v-1578dddc]{display:grid;grid-template-columns:auto auto 1fr;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--color-border);border-radius:6px}.calendar-item.checked[data-v-1578dddc]{border-color:var(--color-primary)}.calendar-item input[data-v-1578dddc]{margin:0}.calendar-item .dot[data-v-1578dddc]{width:12px;height:12px;border-radius:50%}.warning[data-v-1578dddc]{color:var(--color-error);margin-top:12px}.review-grid[data-v-1578dddc]{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.review-grid h5[data-v-1578dddc]{margin:0 0 8px;font-size:.95rem;color:var(--color-text-light)}.onboarding-footer[data-v-1578dddc]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}
/*$vite$:1*/`,document.head.appendChild(Mn);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xa(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ee={},Jt=[],yt=()=>{},Tn=()=>!1,Ls=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Sa=e=>e.startsWith("onUpdate:"),Ye=Object.assign,Ca=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},No=Object.prototype.hasOwnProperty,Ce=(e,t)=>No.call(e,t),de=Array.isArray,Zt=e=>Hs(e)==="[object Map]",An=e=>Hs(e)==="[object Set]",ge=e=>typeof e=="function",Re=e=>typeof e=="string",Tt=e=>typeof e=="symbol",He=e=>e!==null&&typeof e=="object",Dn=e=>(He(e)||ge(e))&&ge(e.then)&&ge(e.catch),En=Object.prototype.toString,Hs=e=>En.call(e),Oo=e=>Hs(e).slice(8,-1),In=e=>Hs(e)==="[object Object]",$a=e=>Re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gs=xa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Lo=/-(\w)/g,gt=Fs(e=>e.replace(Lo,(t,s)=>s?s.toUpperCase():"")),Ho=/\B([A-Z])/g,Ft=Fs(e=>e.replace(Ho,"-$1").toLowerCase()),Rs=Fs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ma=Fs(e=>e?`on${Rs(e)}`:""),Rt=(e,t)=>!Object.is(e,t),Ws=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Pn=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},Ta=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Nn;const Bs=()=>Nn||(Nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bt(e){if(de(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=Re(a)?Bo(a):bt(a);if(n)for(const r in n)t[r]=n[r]}return t}else if(Re(e)||He(e))return e}const Fo=/;(?![^(]*\))/g,Ro=/:([^]+)/,Wo=/\/\*[^]*?\*\//g;function Bo(e){const t={};return e.replace(Wo,"").split(Fo).forEach(s=>{if(s){const a=s.split(Ro);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function ve(e){let t="";if(Re(e))t=e;else if(de(e))for(let s=0;s<e.length;s++){const a=ve(e[s]);a&&(t+=a+" ")}else if(He(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const jo=xa("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function On(e){return!!e||e===""}const Ln=e=>!!(e&&e.__v_isRef===!0),D=e=>Re(e)?e:e==null?"":de(e)||He(e)&&(e.toString===En||!ge(e.toString))?Ln(e)?D(e.value):JSON.stringify(e,Hn,2):String(e),Hn=(e,t)=>Ln(t)?Hn(e,t.value):Zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],r)=>(s[Aa(a,r)+" =>"]=n,s),{})}:An(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Aa(s))}:Tt(t)?Aa(t):He(t)&&!de(t)&&!In(t)?String(t):t,Aa=(e,t="")=>{var s;return Tt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class Uo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function zo(){return nt}let Ne;const Da=new WeakSet;class Fn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Da.has(this)&&(Da.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vn(this),Bn(this);const t=Ne,s=ht;Ne=this,ht=!0;try{return this.fn()}finally{jn(this),Ne=t,ht=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Na(t);this.deps=this.depsTail=void 0,Vn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Da.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pa(this)&&this.run()}get dirty(){return Pa(this)}}let Rn=0,ps,hs;function Wn(e,t=!1){if(e.flags|=8,t){e.next=hs,hs=e;return}e.next=ps,ps=e}function Ea(){Rn++}function Ia(){if(--Rn>0)return;if(hs){let t=hs;for(hs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ps;){let t=ps;for(ps=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Bn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function jn(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),Na(a),Vo(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function Pa(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Un(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Un(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ms)||(e.globalVersion=ms,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Pa(e))))return;e.flags|=2;const t=e.dep,s=Ne,a=ht;Ne=e,ht=!0;try{Bn(e);const n=e.fn(e._value);(t.version===0||Rt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Ne=s,ht=a,jn(e),e.flags&=-3}}function Na(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Na(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Vo(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ht=!0;const zn=[];function wt(){zn.push(ht),ht=!1}function _t(){const e=zn.pop();ht=e===void 0?!0:e}function Vn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ne;Ne=void 0;try{t()}finally{Ne=s}}}let ms=0;class Ko{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Oa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ne||!ht||Ne===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ne)s=this.activeLink=new Ko(Ne,this),Ne.deps?(s.prevDep=Ne.depsTail,Ne.depsTail.nextDep=s,Ne.depsTail=s):Ne.deps=Ne.depsTail=s,Kn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=Ne.depsTail,s.nextDep=void 0,Ne.depsTail.nextDep=s,Ne.depsTail=s,Ne.deps===s&&(Ne.deps=a)}return s}trigger(t){this.version++,ms++,this.notify(t)}notify(t){Ea();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ia()}}}function Kn(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Kn(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const js=new WeakMap,Vt=Symbol(""),La=Symbol(""),vs=Symbol("");function Xe(e,t,s){if(ht&&Ne){let a=js.get(e);a||js.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Oa),n.map=a,n.key=s),n.track()}}function At(e,t,s,a,n,r){const o=js.get(e);if(!o){ms++;return}const i=c=>{c&&c.trigger()};if(Ea(),t==="clear")o.forEach(i);else{const c=de(e),f=c&&$a(s);if(c&&s==="length"){const g=Number(a);o.forEach((d,p)=>{(p==="length"||p===vs||!Tt(p)&&p>=g)&&i(d)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),f&&i(o.get(vs)),t){case"add":c?f&&i(o.get("length")):(i(o.get(Vt)),Zt(e)&&i(o.get(La)));break;case"delete":c||(i(o.get(Vt)),Zt(e)&&i(o.get(La)));break;case"set":Zt(e)&&i(o.get(Vt));break}}Ia()}function qo(e,t){const s=js.get(e);return s&&s.get(t)}function Yt(e){const t=xe(e);return t===e?t:(Xe(t,"iterate",vs),pt(e)?t:t.map(Ke))}function Us(e){return Xe(e=xe(e),"iterate",vs),e}const Go={__proto__:null,[Symbol.iterator](){return Ha(this,Symbol.iterator,Ke)},concat(...e){return Yt(this).concat(...e.map(t=>de(t)?Yt(t):t))},entries(){return Ha(this,"entries",e=>(e[1]=Ke(e[1]),e))},every(e,t){return Dt(this,"every",e,t,void 0,arguments)},filter(e,t){return Dt(this,"filter",e,t,s=>s.map(Ke),arguments)},find(e,t){return Dt(this,"find",e,t,Ke,arguments)},findIndex(e,t){return Dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Dt(this,"findLast",e,t,Ke,arguments)},findLastIndex(e,t){return Dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Fa(this,"includes",e)},indexOf(...e){return Fa(this,"indexOf",e)},join(e){return Yt(this).join(e)},lastIndexOf(...e){return Fa(this,"lastIndexOf",e)},map(e,t){return Dt(this,"map",e,t,void 0,arguments)},pop(){return ys(this,"pop")},push(...e){return ys(this,"push",e)},reduce(e,...t){return qn(this,"reduce",e,t)},reduceRight(e,...t){return qn(this,"reduceRight",e,t)},shift(){return ys(this,"shift")},some(e,t){return Dt(this,"some",e,t,void 0,arguments)},splice(...e){return ys(this,"splice",e)},toReversed(){return Yt(this).toReversed()},toSorted(e){return Yt(this).toSorted(e)},toSpliced(...e){return Yt(this).toSpliced(...e)},unshift(...e){return ys(this,"unshift",e)},values(){return Ha(this,"values",Ke)}};function Ha(e,t,s){const a=Us(e),n=a[t]();return a!==e&&!pt(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.value&&(r.value=s(r.value)),r}),n}const Jo=Array.prototype;function Dt(e,t,s,a,n,r){const o=Us(e),i=o!==e&&!pt(e),c=o[t];if(c!==Jo[t]){const d=c.apply(e,r);return i?Ke(d):d}let f=s;o!==e&&(i?f=function(d,p){return s.call(this,Ke(d),p,e)}:s.length>2&&(f=function(d,p){return s.call(this,d,p,e)}));const g=c.call(o,f,a);return i&&n?n(g):g}function qn(e,t,s,a){const n=Us(e);let r=s;return n!==e&&(pt(e)?s.length>3&&(r=function(o,i,c){return s.call(this,o,i,c,e)}):r=function(o,i,c){return s.call(this,o,Ke(i),c,e)}),n[t](r,...a)}function Fa(e,t,s){const a=xe(e);Xe(a,"iterate",vs);const n=a[t](...s);return(n===-1||n===!1)&&Wa(s[0])?(s[0]=xe(s[0]),a[t](...s)):n}function ys(e,t,s=[]){wt(),Ea();const a=xe(e)[t].apply(e,s);return Ia(),_t(),a}const Zo=xa("__proto__,__v_isRef,__isVue"),Gn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tt));function Yo(e){Tt(e)||(e=String(e));const t=xe(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class Jn{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return a===(n?r?tr:er:r?Qn:Xn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const o=de(t);if(!n){let c;if(o&&(c=Go[s]))return c;if(s==="hasOwnProperty")return Yo}const i=Reflect.get(t,s,ze(t)?t:a);return(Tt(s)?Gn.has(s):Zo(s))||(n||Xe(t,"get",s),r)?i:ze(i)?o&&$a(s)?i:i.value:He(i)?n?sr(i):kt(i):i}}class Zn extends Jn{constructor(t=!1){super(!1,t)}set(t,s,a,n){let r=t[s];if(!this._isShallow){const c=Wt(r);if(!pt(a)&&!Wt(a)&&(r=xe(r),a=xe(a)),!de(t)&&ze(r)&&!ze(a))return c||(r.value=a),!0}const o=de(t)&&$a(s)?Number(s)<t.length:Ce(t,s),i=Reflect.set(t,s,a,ze(t)?t:n);return t===xe(n)&&(o?Rt(a,r)&&At(t,"set",s,a):At(t,"add",s,a)),i}deleteProperty(t,s){const a=Ce(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&At(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!Tt(s)||!Gn.has(s))&&Xe(t,"has",s),a}ownKeys(t){return Xe(t,"iterate",de(t)?"length":Vt),Reflect.ownKeys(t)}}class Yn extends Jn{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Xo=new Zn,Qo=new Yn,ei=new Zn(!0),ti=new Yn(!0),Ra=e=>e,zs=e=>Reflect.getPrototypeOf(e);function si(e,t,s){return function(...a){const n=this.__v_raw,r=xe(n),o=Zt(r),i=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,f=n[e](...a),g=s?Ra:t?Gs:Ke;return!t&&Xe(r,"iterate",c?La:Vt),{next(){const{value:d,done:p}=f.next();return p?{value:d,done:p}:{value:i?[g(d[0]),g(d[1])]:g(d),done:p}},[Symbol.iterator](){return this}}}}function Vs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ai(e,t){const s={get(n){const r=this.__v_raw,o=xe(r),i=xe(n);e||(Rt(n,i)&&Xe(o,"get",n),Xe(o,"get",i));const{has:c}=zs(o),f=t?Ra:e?Gs:Ke;if(c.call(o,n))return f(r.get(n));if(c.call(o,i))return f(r.get(i));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!e&&Xe(xe(n),"iterate",Vt),n.size},has(n){const r=this.__v_raw,o=xe(r),i=xe(n);return e||(Rt(n,i)&&Xe(o,"has",n),Xe(o,"has",i)),n===i?r.has(n):r.has(n)||r.has(i)},forEach(n,r){const o=this,i=o.__v_raw,c=xe(i),f=t?Ra:e?Gs:Ke;return!e&&Xe(c,"iterate",Vt),i.forEach((g,d)=>n.call(r,f(g),f(d),o))}};return Ye(s,e?{add:Vs("add"),set:Vs("set"),delete:Vs("delete"),clear:Vs("clear")}:{add(n){!t&&!pt(n)&&!Wt(n)&&(n=xe(n));const r=xe(this);return zs(r).has.call(r,n)||(r.add(n),At(r,"add",n,n)),this},set(n,r){!t&&!pt(r)&&!Wt(r)&&(r=xe(r));const o=xe(this),{has:i,get:c}=zs(o);let f=i.call(o,n);f||(n=xe(n),f=i.call(o,n));const g=c.call(o,n);return o.set(n,r),f?Rt(r,g)&&At(o,"set",n,r):At(o,"add",n,r),this},delete(n){const r=xe(this),{has:o,get:i}=zs(r);let c=o.call(r,n);c||(n=xe(n),c=o.call(r,n)),i&&i.call(r,n);const f=r.delete(n);return c&&At(r,"delete",n,void 0),f},clear(){const n=xe(this),r=n.size!==0,o=n.clear();return r&&At(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=si(n,e,t)}),s}function Ks(e,t){const s=ai(e,t);return(a,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Ce(s,n)&&n in a?s:a,n,r)}const ni={get:Ks(!1,!1)},ri={get:Ks(!1,!0)},oi={get:Ks(!0,!1)},ii={get:Ks(!0,!0)},Xn=new WeakMap,Qn=new WeakMap,er=new WeakMap,tr=new WeakMap;function li(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ci(e){return e.__v_skip||!Object.isExtensible(e)?0:li(Oo(e))}function kt(e){return Wt(e)?e:qs(e,!1,Xo,ni,Xn)}function ui(e){return qs(e,!1,ei,ri,Qn)}function sr(e){return qs(e,!0,Qo,oi,er)}function jm(e){return qs(e,!0,ti,ii,tr)}function qs(e,t,s,a,n){if(!He(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=ci(e);if(r===0)return e;const o=n.get(e);if(o)return o;const i=new Proxy(e,r===2?a:s);return n.set(e,i),i}function Xt(e){return Wt(e)?Xt(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function Wa(e){return e?!!e.__v_raw:!1}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function di(e){return!Ce(e,"__v_skip")&&Object.isExtensible(e)&&Pn(e,"__v_skip",!0),e}const Ke=e=>He(e)?kt(e):e,Gs=e=>He(e)?sr(e):e;function ze(e){return e?e.__v_isRef===!0:!1}function se(e){return fi(e,!1)}function fi(e,t){return ze(e)?e:new gi(e,t)}class gi{constructor(t,s){this.dep=new Oa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:xe(t),this._value=s?t:Ke(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||pt(t)||Wt(t);t=a?t:xe(t),Rt(t,s)&&(this._rawValue=t,this._value=a?t:Ke(t),this.dep.trigger())}}function _(e){return ze(e)?e.value:e}const pi={get:(e,t,s)=>t==="__v_raw"?e:_(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return ze(n)&&!ze(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function ar(e){return Xt(e)?e:new Proxy(e,pi)}function Ba(e){const t=de(e)?new Array(e.length):{};for(const s in e)t[s]=mi(e,s);return t}class hi{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qo(xe(this._object),this._key)}}function mi(e,t,s){const a=e[t];return ze(a)?a:new hi(e,t,s)}class vi{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Oa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return Wn(this,!0),!0}get value(){const t=this.dep.track();return Un(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function yi(e,t,s=!1){let a,n;return ge(e)?a=e:(a=e.get,n=e.set),new vi(a,n,s)}const Js={},Zs=new WeakMap;let Kt;function bi(e,t=!1,s=Kt){if(s){let a=Zs.get(s);a||Zs.set(s,a=[]),a.push(e)}}function wi(e,t,s=Ee){const{immediate:a,deep:n,once:r,scheduler:o,augmentJob:i,call:c}=s,f=T=>n?T:pt(T)||n===!1||n===0?Et(T,1):Et(T);let g,d,p,u,v=!1,h=!1;if(ze(e)?(d=()=>e.value,v=pt(e)):Xt(e)?(d=()=>f(e),v=!0):de(e)?(h=!0,v=e.some(T=>Xt(T)||pt(T)),d=()=>e.map(T=>{if(ze(T))return T.value;if(Xt(T))return f(T);if(ge(T))return c?c(T,2):T()})):ge(e)?t?d=c?()=>c(e,2):e:d=()=>{if(p){wt();try{p()}finally{_t()}}const T=Kt;Kt=g;try{return c?c(e,3,[u]):e(u)}finally{Kt=T}}:d=yt,t&&n){const T=d,L=n===!0?1/0:n;d=()=>Et(T(),L)}const y=zo(),M=()=>{g.stop(),y&&y.active&&Ca(y.effects,g)};if(r&&t){const T=t;t=(...L)=>{T(...L),M()}}let k=h?new Array(e.length).fill(Js):Js;const C=T=>{if(!(!(g.flags&1)||!g.dirty&&!T))if(t){const L=g.run();if(n||v||(h?L.some((Q,J)=>Rt(Q,k[J])):Rt(L,k))){p&&p();const Q=Kt;Kt=g;try{const J=[L,k===Js?void 0:h&&k[0]===Js?[]:k,u];k=L,c?c(t,3,J):t(...J)}finally{Kt=Q}}}else g.run()};return i&&i(C),g=new Fn(d),g.scheduler=o?()=>o(C,!1):C,u=T=>bi(T,!1,g),p=g.onStop=()=>{const T=Zs.get(g);if(T){if(c)c(T,4);else for(const L of T)L();Zs.delete(g)}},t?a?C(!0):k=g.run():o?o(C.bind(null,!0),!0):g.run(),M.pause=g.pause.bind(g),M.resume=g.resume.bind(g),M.stop=M,M}function Et(e,t=1/0,s){if(t<=0||!He(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ze(e))Et(e.value,t,s);else if(de(e))for(let a=0;a<e.length;a++)Et(e[a],t,s);else if(An(e)||Zt(e))e.forEach(a=>{Et(a,t,s)});else if(In(e)){for(const a in e)Et(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Et(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bs=[];let ja=!1;function Um(e,...t){if(ja)return;ja=!0,wt();const s=bs.length?bs[bs.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=_i();if(a)Qt(a,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${Zr(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...ki(n)),console.warn(...r)}_t(),ja=!1}function _i(){let e=bs[bs.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function ki(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...xi(s))}),t}function xi({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${Zr(e.component,e.type,a)}`,r=">"+s;return e.props?[n,...Si(e.props),r]:[n+r]}function Si(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...nr(a,e[a]))}),s.length>3&&t.push(" ..."),t}function nr(e,t,s){return Re(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:ze(t)?(t=nr(e,xe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ge(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=xe(t),s?t:[`${e}=`,t])}function Qt(e,t,s,a){try{return a?e(...a):e()}catch(n){Ys(n,t,s)}}function xt(e,t,s,a){if(ge(e)){const n=Qt(e,t,s,a);return n&&Dn(n)&&n.catch(r=>{Ys(r,t,s)}),n}if(de(e)){const n=[];for(let r=0;r<e.length;r++)n.push(xt(e[r],t,s,a));return n}}function Ys(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Ee;if(t){let i=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const g=i.ec;if(g){for(let d=0;d<g.length;d++)if(g[d](e,c,f)===!1)return}i=i.parent}if(r){wt(),Qt(r,null,10,[e,c,f]),_t();return}}Ci(e,s,n,a,o)}function Ci(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const tt=[];let St=-1;const es=[];let Bt=null,ts=0;const rr=Promise.resolve();let Xs=null;function Qs(e){const t=Xs||rr;return e?t.then(this?e.bind(this):e):t}function $i(e){let t=St+1,s=tt.length;for(;t<s;){const a=t+s>>>1,n=tt[a],r=ws(n);r<e||r===e&&n.flags&2?t=a+1:s=a}return t}function Ua(e){if(!(e.flags&1)){const t=ws(e),s=tt[tt.length-1];!s||!(e.flags&2)&&t>=ws(s)?tt.push(e):tt.splice($i(t),0,e),e.flags|=1,or()}}function or(){Xs||(Xs=rr.then(cr))}function Mi(e){de(e)?es.push(...e):Bt&&e.id===-1?Bt.splice(ts+1,0,e):e.flags&1||(es.push(e),e.flags|=1),or()}function ir(e,t,s=St+1){for(;s<tt.length;s++){const a=tt[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;tt.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function lr(e){if(es.length){const t=[...new Set(es)].sort((s,a)=>ws(s)-ws(a));if(es.length=0,Bt){Bt.push(...t);return}for(Bt=t,ts=0;ts<Bt.length;ts++){const s=Bt[ts];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Bt=null,ts=0}}const ws=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cr(e){try{for(St=0;St<tt.length;St++){const t=tt[St];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Qt(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;St<tt.length;St++){const t=tt[St];t&&(t.flags&=-2)}St=-1,tt.length=0,lr(),Xs=null,(tt.length||es.length)&&cr()}}let qe=null,ur=null;function ea(e){const t=qe;return qe=e,ur=e&&e.type.__scopeId||null,t}function Ie(e,t=qe,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&jr(-1);const r=ea(t);let o;try{o=e(...n)}finally{ea(r),a._d&&jr(1)}return o};return a._n=!0,a._c=!0,a._d=!0,a}function _s(e,t){if(qe===null)return e;const s=ca(qe),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,o,i,c=Ee]=t[n];r&&(ge(r)&&(r={mounted:r,updated:r}),r.deep&&Et(o),a.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:c}))}return e}function qt(e,t,s,a){const n=e.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const i=n[o];r&&(i.oldValue=r[o].value);let c=i.dir[a];c&&(wt(),xt(c,s,8,[e.el,i,e,t]),_t())}}const Ti=Symbol("_vte"),Ai=e=>e.__isTeleport,Di=Symbol("_leaveCb");function za(e,t){e.shapeFlag&6&&e.component?(e.transition=t,za(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Te(e,t){return ge(e)?Ye({name:e.name},t,{setup:e}):e}function dr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ks(e,t,s,a,n=!1){if(de(e)){e.forEach((v,h)=>ks(v,t&&(de(t)?t[h]:t),s,a,n));return}if(ss(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&ks(e,t,s,a.component.subTree);return}const r=a.shapeFlag&4?ca(a.component):a.el,o=n?null:r,{i,r:c}=e,f=t&&t.r,g=i.refs===Ee?i.refs={}:i.refs,d=i.setupState,p=xe(d),u=d===Ee?Tn:v=>Ce(p,v);if(f!=null&&f!==c){if(Re(f))g[f]=null,u(f)&&(d[f]=null);else if(ze(f)){f.value=null;const v=t;v.k&&(g[v.k]=null)}}if(ge(c))Qt(c,i,12,[o,g]);else{const v=Re(c),h=ze(c);if(v||h){const y=()=>{if(e.f){const M=v?u(c)?d[c]:g[c]:c.value;if(n)de(M)&&Ca(M,r);else if(de(M))M.includes(r)||M.push(r);else if(v)g[c]=[r],u(c)&&(d[c]=g[c]);else{const k=[r];c.value=k,e.k&&(g[e.k]=k)}}else v?(g[c]=o,u(c)&&(d[c]=o)):h&&(c.value=o,e.k&&(g[e.k]=o))};o?(y.id=-1,lt(y,s)):y()}}}Bs().requestIdleCallback,Bs().cancelIdleCallback;const ss=e=>!!e.type.__asyncLoader,fr=e=>e.type.__isKeepAlive;function Ei(e,t){gr(e,"a",t)}function Ii(e,t){gr(e,"da",t)}function gr(e,t,s=Qe){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(ta(t,a,s),s){let n=s.parent;for(;n&&n.parent;)fr(n.parent.vnode)&&Pi(a,t,s,n),n=n.parent}}function Pi(e,t,s,a){const n=ta(t,e,a,!0);pr(()=>{Ca(a[t],n)},s)}function ta(e,t,s=Qe,a=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{wt();const i=As(s),c=xt(t,s,e,o);return i(),_t(),c});return a?n.unshift(r):n.push(r),r}}const It=e=>(t,s=Qe)=>{(!Ds||e==="sp")&&ta(e,(...a)=>t(...a),s)},Ni=It("bm"),as=It("m"),Oi=It("bu"),Li=It("u"),Va=It("bum"),pr=It("um"),Hi=It("sp"),Fi=It("rtg"),Ri=It("rtc");function Wi(e,t=Qe){ta("ec",e,t)}const Bi="components";function ji(e,t){return zi(Bi,e,!0,t)||e}const Ui=Symbol.for("v-ndc");function zi(e,t,s=!0,a=!1){const n=qe||Qe;if(n){const r=n.type;{const i=Jr(r,!1);if(i&&(i===t||i===gt(t)||i===Rs(gt(t))))return r}const o=hr(n[e]||r[e],t)||hr(n.appContext[e],t);return!o&&a?r:o}}function hr(e,t){return e&&(e[t]||e[gt(t)]||e[Rs(gt(t))])}function Le(e,t,s,a){let n;const r=s,o=de(e);if(o||Re(e)){const i=o&&Xt(e);let c=!1,f=!1;i&&(c=!pt(e),f=Wt(e),e=Us(e)),n=new Array(e.length);for(let g=0,d=e.length;g<d;g++)n[g]=t(c?f?Gs(Ke(e[g])):Ke(e[g]):e[g],g,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i,void 0,r)}else if(He(e))if(e[Symbol.iterator])n=Array.from(e,(i,c)=>t(i,c,void 0,r));else{const i=Object.keys(e);n=new Array(i.length);for(let c=0,f=i.length;c<f;c++){const g=i[c];n[c]=t(e[g],g,c,r)}}else n=[];return n}function Vi(e,t,s={},a,n){if(qe.ce||qe.parent&&ss(qe.parent)&&qe.parent.ce)return s.name=t,x(),Fe(le,null,[ce("slot",s,a)],64);let r=e[t];r&&r._c&&(r._d=!1),x();const o=r&&mr(r(s)),i=s.key||o&&o.key,c=Fe(le,{key:(i&&!Tt(i)?i:`_${t}`)+(!o&&a?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),c}function mr(e){return e.some(t=>Ms(t)?!(t.type===Pt||t.type===le&&!mr(t.children)):!0)?e:null}const Ka=e=>e?Kr(e)?ca(e):Ka(e.parent):null,xs=Ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ka(e.parent),$root:e=>Ka(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wr(e),$forceUpdate:e=>e.f||(e.f=()=>{Ua(e.update)}),$nextTick:e=>e.n||(e.n=Qs.bind(e.proxy)),$watch:e=>gl.bind(e)}),qa=(e,t)=>e!==Ee&&!e.__isScriptSetup&&Ce(e,t),Ki={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:r,accessCache:o,type:i,appContext:c}=e;let f;if(t[0]!=="$"){const u=o[t];if(u!==void 0)switch(u){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(qa(a,t))return o[t]=1,a[t];if(n!==Ee&&Ce(n,t))return o[t]=2,n[t];if((f=e.propsOptions[0])&&Ce(f,t))return o[t]=3,r[t];if(s!==Ee&&Ce(s,t))return o[t]=4,s[t];Ga&&(o[t]=0)}}const g=xs[t];let d,p;if(g)return t==="$attrs"&&Xe(e.attrs,"get",""),g(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(s!==Ee&&Ce(s,t))return o[t]=4,s[t];if(p=c.config.globalProperties,Ce(p,t))return p[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:r}=e;return qa(n,t)?(n[t]=s,!0):a!==Ee&&Ce(a,t)?(a[t]=s,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:r,type:o}},i){let c,f;return!!(s[i]||e!==Ee&&i[0]!=="$"&&Ce(e,i)||qa(t,i)||(c=r[0])&&Ce(c,i)||Ce(a,i)||Ce(xs,i)||Ce(n.config.globalProperties,i)||(f=o.__cssModules)&&f[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function vr(e){return de(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ga=!0;function qi(e){const t=wr(e),s=e.proxy,a=e.ctx;Ga=!1,t.beforeCreate&&yr(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:o,watch:i,provide:c,inject:f,created:g,beforeMount:d,mounted:p,beforeUpdate:u,updated:v,activated:h,deactivated:y,beforeDestroy:M,beforeUnmount:k,destroyed:C,unmounted:T,render:L,renderTracked:Q,renderTriggered:J,errorCaptured:V,serverPrefetch:ne,expose:z,inheritAttrs:G,components:ee,directives:ye,filters:Oe}=t;if(f&&Gi(f,a,null),o)for(const te in o){const oe=o[te];ge(oe)&&(a[te]=oe.bind(s))}if(n){const te=n.call(s,s);He(te)&&(e.data=kt(te))}if(Ga=!0,r)for(const te in r){const oe=r[te],Se=ge(oe)?oe.bind(s,s):ge(oe.get)?oe.get.bind(s,s):yt,Pe=!ge(oe)&&ge(oe.set)?oe.set.bind(s):yt,$e=j({get:Se,set:Pe});Object.defineProperty(a,te,{enumerable:!0,configurable:!0,get:()=>$e.value,set:_e=>$e.value=_e})}if(i)for(const te in i)br(i[te],a,s,te);if(c){const te=ge(c)?c.call(s):c;Reflect.ownKeys(te).forEach(oe=>{el(oe,te[oe])})}g&&yr(g,e,"c");function pe(te,oe){de(oe)?oe.forEach(Se=>te(Se.bind(s))):oe&&te(oe.bind(s))}if(pe(Ni,d),pe(as,p),pe(Oi,u),pe(Li,v),pe(Ei,h),pe(Ii,y),pe(Wi,V),pe(Ri,Q),pe(Fi,J),pe(Va,k),pe(pr,T),pe(Hi,ne),de(z))if(z.length){const te=e.exposed||(e.exposed={});z.forEach(oe=>{Object.defineProperty(te,oe,{get:()=>s[oe],set:Se=>s[oe]=Se,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===yt&&(e.render=L),G!=null&&(e.inheritAttrs=G),ee&&(e.components=ee),ye&&(e.directives=ye),ne&&dr(e)}function Gi(e,t,s=yt){de(e)&&(e=Ja(e));for(const a in e){const n=e[a];let r;He(n)?"default"in n?r=aa(n.from||a,n.default,!0):r=aa(n.from||a):r=aa(n),ze(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[a]=r}}function yr(e,t,s){xt(de(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function br(e,t,s,a){let n=a.includes(".")?Hr(s,a):()=>s[a];if(Re(e)){const r=t[e];ge(r)&&ct(n,r)}else if(ge(e))ct(n,e.bind(s));else if(He(e))if(de(e))e.forEach(r=>br(r,t,s,a));else{const r=ge(e.handler)?e.handler.bind(s):t[e.handler];ge(r)&&ct(n,r,e)}}function wr(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let c;return i?c=i:!n.length&&!s&&!a?c=t:(c={},n.length&&n.forEach(f=>sa(c,f,o,!0)),sa(c,t,o)),He(t)&&r.set(t,c),c}function sa(e,t,s,a=!1){const{mixins:n,extends:r}=t;r&&sa(e,r,s,!0),n&&n.forEach(o=>sa(e,o,s,!0));for(const o in t)if(!(a&&o==="expose")){const i=Ji[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Ji={data:_r,props:kr,emits:kr,methods:Ss,computed:Ss,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:Ss,directives:Ss,watch:Yi,provide:_r,inject:Zi};function _r(e,t){return t?e?function(){return Ye(ge(e)?e.call(this,this):e,ge(t)?t.call(this,this):t)}:t:e}function Zi(e,t){return Ss(Ja(e),Ja(t))}function Ja(e){if(de(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function Ss(e,t){return e?Ye(Object.create(null),e,t):t}function kr(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:Ye(Object.create(null),vr(e),vr(t??{})):t}function Yi(e,t){if(!e)return t;if(!t)return e;const s=Ye(Object.create(null),e);for(const a in t)s[a]=st(e[a],t[a]);return s}function xr(){return{app:null,config:{isNativeTag:Tn,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xi=0;function Qi(e,t){return function(a,n=null){ge(a)||(a=Ye({},a)),n!=null&&!He(n)&&(n=null);const r=xr(),o=new WeakSet,i=[];let c=!1;const f=r.app={_uid:Xi++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:Hl,get config(){return r.config},set config(g){},use(g,...d){return o.has(g)||(g&&ge(g.install)?(o.add(g),g.install(f,...d)):ge(g)&&(o.add(g),g(f,...d))),f},mixin(g){return r.mixins.includes(g)||r.mixins.push(g),f},component(g,d){return d?(r.components[g]=d,f):r.components[g]},directive(g,d){return d?(r.directives[g]=d,f):r.directives[g]},mount(g,d,p){if(!c){const u=f._ceVNode||ce(a,n);return u.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),e(u,g,p),c=!0,f._container=g,g.__vue_app__=f,ca(u.component)}},onUnmount(g){i.push(g)},unmount(){c&&(xt(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(g,d){return r.provides[g]=d,f},runWithContext(g){const d=ns;ns=f;try{return g()}finally{ns=d}}};return f}}let ns=null;function el(e,t){if(Qe){let s=Qe.provides;const a=Qe.parent&&Qe.parent.provides;a===s&&(s=Qe.provides=Object.create(a)),s[e]=t}}function aa(e,t,s=!1){const a=Al();if(a||ns){let n=ns?ns._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&ge(t)?t.call(a&&a.proxy):t}}const Sr={},Cr=()=>Object.create(Sr),$r=e=>Object.getPrototypeOf(e)===Sr;function tl(e,t,s,a=!1){const n={},r=Cr();e.propsDefaults=Object.create(null),Mr(e,t,n,r);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=a?n:ui(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function sl(e,t,s,a){const{props:n,attrs:r,vnode:{patchFlag:o}}=e,i=xe(n),[c]=e.propsOptions;let f=!1;if((a||o>0)&&!(o&16)){if(o&8){const g=e.vnode.dynamicProps;for(let d=0;d<g.length;d++){let p=g[d];if(na(e.emitsOptions,p))continue;const u=t[p];if(c)if(Ce(r,p))u!==r[p]&&(r[p]=u,f=!0);else{const v=gt(p);n[v]=Za(c,i,v,u,e,!1)}else u!==r[p]&&(r[p]=u,f=!0)}}}else{Mr(e,t,n,r)&&(f=!0);let g;for(const d in i)(!t||!Ce(t,d)&&((g=Ft(d))===d||!Ce(t,g)))&&(c?s&&(s[d]!==void 0||s[g]!==void 0)&&(n[d]=Za(c,i,d,void 0,e,!0)):delete n[d]);if(r!==i)for(const d in r)(!t||!Ce(t,d))&&(delete r[d],f=!0)}f&&At(e.attrs,"set","")}function Mr(e,t,s,a){const[n,r]=e.propsOptions;let o=!1,i;if(t)for(let c in t){if(gs(c))continue;const f=t[c];let g;n&&Ce(n,g=gt(c))?!r||!r.includes(g)?s[g]=f:(i||(i={}))[g]=f:na(e.emitsOptions,c)||(!(c in a)||f!==a[c])&&(a[c]=f,o=!0)}if(r){const c=xe(s),f=i||Ee;for(let g=0;g<r.length;g++){const d=r[g];s[d]=Za(n,c,d,f[d],e,!Ce(f,d))}}return o}function Za(e,t,s,a,n,r){const o=e[s];if(o!=null){const i=Ce(o,"default");if(i&&a===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ge(c)){const{propsDefaults:f}=n;if(s in f)a=f[s];else{const g=As(n);a=f[s]=c.call(null,t),g()}}else a=c;n.ce&&n.ce._setProp(s,a)}o[0]&&(r&&!i?a=!1:o[1]&&(a===""||a===Ft(s))&&(a=!0))}return a}const al=new WeakMap;function Tr(e,t,s=!1){const a=s?al:t.propsCache,n=a.get(e);if(n)return n;const r=e.props,o={},i=[];let c=!1;if(!ge(e)){const g=d=>{c=!0;const[p,u]=Tr(d,t,!0);Ye(o,p),u&&i.push(...u)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!r&&!c)return He(e)&&a.set(e,Jt),Jt;if(de(r))for(let g=0;g<r.length;g++){const d=gt(r[g]);Ar(d)&&(o[d]=Ee)}else if(r)for(const g in r){const d=gt(g);if(Ar(d)){const p=r[g],u=o[d]=de(p)||ge(p)?{type:p}:Ye({},p),v=u.type;let h=!1,y=!0;if(de(v))for(let M=0;M<v.length;++M){const k=v[M],C=ge(k)&&k.name;if(C==="Boolean"){h=!0;break}else C==="String"&&(y=!1)}else h=ge(v)&&v.name==="Boolean";u[0]=h,u[1]=y,(h||Ce(u,"default"))&&i.push(d)}}const f=[o,i];return He(e)&&a.set(e,f),f}function Ar(e){return e[0]!=="$"&&!gs(e)}const Ya=e=>e==="_"||e==="_ctx"||e==="$stable",Xa=e=>de(e)?e.map(Ct):[Ct(e)],nl=(e,t,s)=>{if(t._n)return t;const a=Ie((...n)=>Xa(t(...n)),s);return a._c=!1,a},Dr=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Ya(n))continue;const r=e[n];if(ge(r))t[n]=nl(n,r,a);else if(r!=null){const o=Xa(r);t[n]=()=>o}}},Er=(e,t)=>{const s=Xa(t);e.slots.default=()=>s},Ir=(e,t,s)=>{for(const a in t)(s||!Ya(a))&&(e[a]=t[a])},rl=(e,t,s)=>{const a=e.slots=Cr();if(e.vnode.shapeFlag&32){const n=t._;n?(Ir(a,t,s),s&&Pn(a,"_",n,!0)):Dr(t,a)}else t&&Er(e,t)},ol=(e,t,s)=>{const{vnode:a,slots:n}=e;let r=!0,o=Ee;if(a.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:Ir(n,t,s):(r=!t.$stable,Dr(t,n)),o=t}else t&&(Er(e,t),o={default:1});if(r)for(const i in n)!Ya(i)&&o[i]==null&&delete n[i]},lt=wl;function il(e){return ll(e)}function ll(e,t){const s=Bs();s.__VUE__=!0;const{insert:a,remove:n,patchProp:r,createElement:o,createText:i,createComment:c,setText:f,setElementText:g,parentNode:d,nextSibling:p,setScopeId:u=yt,insertStaticContent:v}=e,h=(m,w,A,O=null,R=null,H=null,W=void 0,P=null,I=!!w.dynamicChildren)=>{if(m===w)return;m&&!Ts(m,w)&&(O=Me(m),_e(m,R,H,!0),m=null),w.patchFlag===-2&&(I=!1,w.dynamicChildren=null);const{type:E,ref:K,shapeFlag:B}=w;switch(E){case ra:y(m,w,A,O);break;case Pt:M(m,w,A,O);break;case oa:m==null&&k(w,A,O,W);break;case le:ee(m,w,A,O,R,H,W,P,I);break;default:B&1?L(m,w,A,O,R,H,W,P,I):B&6?ye(m,w,A,O,R,H,W,P,I):(B&64||B&128)&&E.process(m,w,A,O,R,H,W,P,I,Ue)}K!=null&&R?ks(K,m&&m.ref,H,w||m,!w):K==null&&m&&m.ref!=null&&ks(m.ref,null,H,m,!0)},y=(m,w,A,O)=>{if(m==null)a(w.el=i(w.children),A,O);else{const R=w.el=m.el;w.children!==m.children&&f(R,w.children)}},M=(m,w,A,O)=>{m==null?a(w.el=c(w.children||""),A,O):w.el=m.el},k=(m,w,A,O)=>{[m.el,m.anchor]=v(m.children,w,A,O,m.el,m.anchor)},C=({el:m,anchor:w},A,O)=>{let R;for(;m&&m!==w;)R=p(m),a(m,A,O),m=R;a(w,A,O)},T=({el:m,anchor:w})=>{let A;for(;m&&m!==w;)A=p(m),n(m),m=A;n(w)},L=(m,w,A,O,R,H,W,P,I)=>{w.type==="svg"?W="svg":w.type==="math"&&(W="mathml"),m==null?Q(w,A,O,R,H,W,P,I):ne(m,w,R,H,W,P,I)},Q=(m,w,A,O,R,H,W,P)=>{let I,E;const{props:K,shapeFlag:B,transition:q,dirs:X}=m;if(I=m.el=o(m.type,H,K&&K.is,K),B&8?g(I,m.children):B&16&&V(m.children,I,null,O,R,Qa(m,H),W,P),X&&qt(m,null,O,"created"),J(I,m,m.scopeId,W,O),K){for(const ie in K)ie!=="value"&&!gs(ie)&&r(I,ie,null,K[ie],H,O);"value"in K&&r(I,"value",null,K.value,H),(E=K.onVnodeBeforeMount)&&$t(E,O,m)}X&&qt(m,null,O,"beforeMount");const ae=cl(R,q);ae&&q.beforeEnter(I),a(I,w,A),((E=K&&K.onVnodeMounted)||ae||X)&&lt(()=>{E&&$t(E,O,m),ae&&q.enter(I),X&&qt(m,null,O,"mounted")},R)},J=(m,w,A,O,R)=>{if(A&&u(m,A),O)for(let H=0;H<O.length;H++)u(m,O[H]);if(R){let H=R.subTree;if(w===H||Br(H.type)&&(H.ssContent===w||H.ssFallback===w)){const W=R.vnode;J(m,W,W.scopeId,W.slotScopeIds,R.parent)}}},V=(m,w,A,O,R,H,W,P,I=0)=>{for(let E=I;E<m.length;E++){const K=m[E]=P?jt(m[E]):Ct(m[E]);h(null,K,w,A,O,R,H,W,P)}},ne=(m,w,A,O,R,H,W)=>{const P=w.el=m.el;let{patchFlag:I,dynamicChildren:E,dirs:K}=w;I|=m.patchFlag&16;const B=m.props||Ee,q=w.props||Ee;let X;if(A&&Gt(A,!1),(X=q.onVnodeBeforeUpdate)&&$t(X,A,w,m),K&&qt(w,m,A,"beforeUpdate"),A&&Gt(A,!0),(B.innerHTML&&q.innerHTML==null||B.textContent&&q.textContent==null)&&g(P,""),E?z(m.dynamicChildren,E,P,A,O,Qa(w,R),H):W||oe(m,w,P,null,A,O,Qa(w,R),H,!1),I>0){if(I&16)G(P,B,q,A,R);else if(I&2&&B.class!==q.class&&r(P,"class",null,q.class,R),I&4&&r(P,"style",B.style,q.style,R),I&8){const ae=w.dynamicProps;for(let ie=0;ie<ae.length;ie++){const ue=ae[ie],fe=B[ue],we=q[ue];(we!==fe||ue==="value")&&r(P,ue,fe,we,R,A)}}I&1&&m.children!==w.children&&g(P,w.children)}else!W&&E==null&&G(P,B,q,A,R);((X=q.onVnodeUpdated)||K)&&lt(()=>{X&&$t(X,A,w,m),K&&qt(w,m,A,"updated")},O)},z=(m,w,A,O,R,H,W)=>{for(let P=0;P<w.length;P++){const I=m[P],E=w[P],K=I.el&&(I.type===le||!Ts(I,E)||I.shapeFlag&198)?d(I.el):A;h(I,E,K,null,O,R,H,W,!0)}},G=(m,w,A,O,R)=>{if(w!==A){if(w!==Ee)for(const H in w)!gs(H)&&!(H in A)&&r(m,H,w[H],null,R,O);for(const H in A){if(gs(H))continue;const W=A[H],P=w[H];W!==P&&H!=="value"&&r(m,H,P,W,R,O)}"value"in A&&r(m,"value",w.value,A.value,R)}},ee=(m,w,A,O,R,H,W,P,I)=>{const E=w.el=m?m.el:i(""),K=w.anchor=m?m.anchor:i("");let{patchFlag:B,dynamicChildren:q,slotScopeIds:X}=w;X&&(P=P?P.concat(X):X),m==null?(a(E,A,O),a(K,A,O),V(w.children||[],A,K,R,H,W,P,I)):B>0&&B&64&&q&&m.dynamicChildren?(z(m.dynamicChildren,q,A,R,H,W,P),(w.key!=null||R&&w===R.subTree)&&Pr(m,w,!0)):oe(m,w,A,K,R,H,W,P,I)},ye=(m,w,A,O,R,H,W,P,I)=>{w.slotScopeIds=P,m==null?w.shapeFlag&512?R.ctx.activate(w,A,O,W,I):Oe(w,A,O,R,H,W,I):Y(m,w,I)},Oe=(m,w,A,O,R,H,W)=>{const P=m.component=Tl(m,O,R);if(fr(m)&&(P.ctx.renderer=Ue),Dl(P,!1,W),P.asyncDep){if(R&&R.registerDep(P,pe,W),!m.el){const I=P.subTree=ce(Pt);M(null,I,w,A),m.placeholder=I.el}}else pe(P,m,w,A,R,H,W)},Y=(m,w,A)=>{const O=w.component=m.component;if(yl(m,w,A))if(O.asyncDep&&!O.asyncResolved){te(O,w,A);return}else O.next=w,O.update();else w.el=m.el,O.vnode=w},pe=(m,w,A,O,R,H,W)=>{const P=()=>{if(m.isMounted){let{next:B,bu:q,u:X,parent:ae,vnode:ie}=m;{const Je=Nr(m);if(Je){B&&(B.el=ie.el,te(m,B,W)),Je.asyncDep.then(()=>{m.isUnmounted||P()});return}}let ue=B,fe;Gt(m,!1),B?(B.el=ie.el,te(m,B,W)):B=ie,q&&Ws(q),(fe=B.props&&B.props.onVnodeBeforeUpdate)&&$t(fe,ae,B,ie),Gt(m,!0);const we=Rr(m),Be=m.subTree;m.subTree=we,h(Be,we,d(Be.el),Me(Be),m,R,H),B.el=we.el,ue===null&&bl(m,we.el),X&&lt(X,R),(fe=B.props&&B.props.onVnodeUpdated)&&lt(()=>$t(fe,ae,B,ie),R)}else{let B;const{el:q,props:X}=w,{bm:ae,m:ie,parent:ue,root:fe,type:we}=m,Be=ss(w);Gt(m,!1),ae&&Ws(ae),!Be&&(B=X&&X.onVnodeBeforeMount)&&$t(B,ue,w),Gt(m,!0);{fe.ce&&fe.ce._def.shadowRoot!==!1&&fe.ce._injectChildStyle(we);const Je=m.subTree=Rr(m);h(null,Je,A,O,m,R,H),w.el=Je.el}if(ie&&lt(ie,R),!Be&&(B=X&&X.onVnodeMounted)){const Je=w;lt(()=>$t(B,ue,Je),R)}(w.shapeFlag&256||ue&&ss(ue.vnode)&&ue.vnode.shapeFlag&256)&&m.a&&lt(m.a,R),m.isMounted=!0,w=A=O=null}};m.scope.on();const I=m.effect=new Fn(P);m.scope.off();const E=m.update=I.run.bind(I),K=m.job=I.runIfDirty.bind(I);K.i=m,K.id=m.uid,I.scheduler=()=>Ua(K),Gt(m,!0),E()},te=(m,w,A)=>{w.component=m;const O=m.vnode.props;m.vnode=w,m.next=null,sl(m,w.props,O,A),ol(m,w.children,A),wt(),ir(m),_t()},oe=(m,w,A,O,R,H,W,P,I=!1)=>{const E=m&&m.children,K=m?m.shapeFlag:0,B=w.children,{patchFlag:q,shapeFlag:X}=w;if(q>0){if(q&128){Pe(E,B,A,O,R,H,W,P,I);return}else if(q&256){Se(E,B,A,O,R,H,W,P,I);return}}X&8?(K&16&&De(E,R,H),B!==E&&g(A,B)):K&16?X&16?Pe(E,B,A,O,R,H,W,P,I):De(E,R,H,!0):(K&8&&g(A,""),X&16&&V(B,A,O,R,H,W,P,I))},Se=(m,w,A,O,R,H,W,P,I)=>{m=m||Jt,w=w||Jt;const E=m.length,K=w.length,B=Math.min(E,K);let q;for(q=0;q<B;q++){const X=w[q]=I?jt(w[q]):Ct(w[q]);h(m[q],X,A,null,R,H,W,P,I)}E>K?De(m,R,H,!0,!1,B):V(w,A,O,R,H,W,P,I,B)},Pe=(m,w,A,O,R,H,W,P,I)=>{let E=0;const K=w.length;let B=m.length-1,q=K-1;for(;E<=B&&E<=q;){const X=m[E],ae=w[E]=I?jt(w[E]):Ct(w[E]);if(Ts(X,ae))h(X,ae,A,null,R,H,W,P,I);else break;E++}for(;E<=B&&E<=q;){const X=m[B],ae=w[q]=I?jt(w[q]):Ct(w[q]);if(Ts(X,ae))h(X,ae,A,null,R,H,W,P,I);else break;B--,q--}if(E>B){if(E<=q){const X=q+1,ae=X<K?w[X].el:O;for(;E<=q;)h(null,w[E]=I?jt(w[E]):Ct(w[E]),A,ae,R,H,W,P,I),E++}}else if(E>q)for(;E<=B;)_e(m[E],R,H,!0),E++;else{const X=E,ae=E,ie=new Map;for(E=ae;E<=q;E++){const Ze=w[E]=I?jt(w[E]):Ct(w[E]);Ze.key!=null&&ie.set(Ze.key,E)}let ue,fe=0;const we=q-ae+1;let Be=!1,Je=0;const vt=new Array(we);for(E=0;E<we;E++)vt[E]=0;for(E=X;E<=B;E++){const Ze=m[E];if(fe>=we){_e(Ze,R,H,!0);continue}let it;if(Ze.key!=null)it=ie.get(Ze.key);else for(ue=ae;ue<=q;ue++)if(vt[ue-ae]===0&&Ts(Ze,w[ue])){it=ue;break}it===void 0?_e(Ze,R,H,!0):(vt[it-ae]=E+1,it>=Je?Je=it:Be=!0,h(Ze,w[it],A,null,R,H,W,P,I),fe++)}const us=Be?ul(vt):Jt;for(ue=us.length-1,E=we-1;E>=0;E--){const Ze=ae+E,it=w[Ze],ds=w[Ze+1],S=Ze+1<K?ds.el||ds.placeholder:O;vt[E]===0?h(null,it,A,S,R,H,W,P,I):Be&&(ue<0||E!==us[ue]?$e(it,A,S,2):ue--)}}},$e=(m,w,A,O,R=null)=>{const{el:H,type:W,transition:P,children:I,shapeFlag:E}=m;if(E&6){$e(m.component.subTree,w,A,O);return}if(E&128){m.suspense.move(w,A,O);return}if(E&64){W.move(m,w,A,Ue);return}if(W===le){a(H,w,A);for(let B=0;B<I.length;B++)$e(I[B],w,A,O);a(m.anchor,w,A);return}if(W===oa){C(m,w,A);return}if(O!==2&&E&1&&P)if(O===0)P.beforeEnter(H),a(H,w,A),lt(()=>P.enter(H),R);else{const{leave:B,delayLeave:q,afterLeave:X}=P,ae=()=>{m.ctx.isUnmounted?n(H):a(H,w,A)},ie=()=>{H._isLeaving&&H[Di](!0),B(H,()=>{ae(),X&&X()})};q?q(H,ae,ie):ie()}else a(H,w,A)},_e=(m,w,A,O=!1,R=!1)=>{const{type:H,props:W,ref:P,children:I,dynamicChildren:E,shapeFlag:K,patchFlag:B,dirs:q,cacheIndex:X}=m;if(B===-2&&(R=!1),P!=null&&(wt(),ks(P,null,A,m,!0),_t()),X!=null&&(w.renderCache[X]=void 0),K&256){w.ctx.deactivate(m);return}const ae=K&1&&q,ie=!ss(m);let ue;if(ie&&(ue=W&&W.onVnodeBeforeUnmount)&&$t(ue,w,m),K&6)Ve(m.component,A,O);else{if(K&128){m.suspense.unmount(A,O);return}ae&&qt(m,null,w,"beforeUnmount"),K&64?m.type.remove(m,w,A,Ue,O):E&&!E.hasOnce&&(H!==le||B>0&&B&64)?De(E,w,A,!1,!0):(H===le&&B&384||!R&&K&16)&&De(I,w,A),O&&ke(m)}(ie&&(ue=W&&W.onVnodeUnmounted)||ae)&&lt(()=>{ue&&$t(ue,w,m),ae&&qt(m,null,w,"unmounted")},A)},ke=m=>{const{type:w,el:A,anchor:O,transition:R}=m;if(w===le){Ae(A,O);return}if(w===oa){T(m);return}const H=()=>{n(A),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(m.shapeFlag&1&&R&&!R.persisted){const{leave:W,delayLeave:P}=R,I=()=>W(A,H);P?P(m.el,H,I):I()}else H()},Ae=(m,w)=>{let A;for(;m!==w;)A=p(m),n(m),m=A;n(w)},Ve=(m,w,A)=>{const{bum:O,scope:R,job:H,subTree:W,um:P,m:I,a:E}=m;Or(I),Or(E),O&&Ws(O),R.stop(),H&&(H.flags|=8,_e(W,m,w,A)),P&&lt(P,w),lt(()=>{m.isUnmounted=!0},w)},De=(m,w,A,O=!1,R=!1,H=0)=>{for(let W=H;W<m.length;W++)_e(m[W],w,A,O,R)},Me=m=>{if(m.shapeFlag&6)return Me(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const w=p(m.anchor||m.el),A=w&&w[Ti];return A?p(A):w};let re=!1;const We=(m,w,A)=>{m==null?w._vnode&&_e(w._vnode,null,null,!0):h(w._vnode||null,m,w,null,null,null,A),w._vnode=m,re||(re=!0,ir(),lr(),re=!1)},Ue={p:h,um:_e,m:$e,r:ke,mt:Oe,mc:V,pc:oe,pbc:z,n:Me,o:e};return{render:We,hydrate:void 0,createApp:Qi(We)}}function Qa({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Gt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function cl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Pr(e,t,s=!1){const a=e.children,n=t.children;if(de(a)&&de(n))for(let r=0;r<a.length;r++){const o=a[r];let i=n[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=n[r]=jt(n[r]),i.el=o.el),!s&&i.patchFlag!==-2&&Pr(o,i)),i.type===ra&&i.patchFlag!==-1&&(i.el=o.el),i.type===Pt&&!i.el&&(i.el=o.el)}}function ul(e){const t=e.slice(),s=[0];let a,n,r,o,i;const c=e.length;for(a=0;a<c;a++){const f=e[a];if(f!==0){if(n=s[s.length-1],e[n]<f){t[a]=n,s.push(a);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<f?r=i+1:o=i;f<e[s[r]]&&(r>0&&(t[a]=s[r-1]),s[r]=a)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Nr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Nr(t)}function Or(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const dl=Symbol.for("v-scx"),fl=()=>aa(dl);function ct(e,t,s){return Lr(e,t,s)}function Lr(e,t,s=Ee){const{immediate:a,deep:n,flush:r,once:o}=s,i=Ye({},s),c=t&&a||!t&&r!=="post";let f;if(Ds){if(r==="sync"){const u=fl();f=u.__watcherHandles||(u.__watcherHandles=[])}else if(!c){const u=()=>{};return u.stop=yt,u.resume=yt,u.pause=yt,u}}const g=Qe;i.call=(u,v,h)=>xt(u,g,v,h);let d=!1;r==="post"?i.scheduler=u=>{lt(u,g&&g.suspense)}:r!=="sync"&&(d=!0,i.scheduler=(u,v)=>{v?u():Ua(u)}),i.augmentJob=u=>{t&&(u.flags|=4),d&&(u.flags|=2,g&&(u.id=g.uid,u.i=g))};const p=wi(e,t,i);return Ds&&(f?f.push(p):c&&p()),p}function gl(e,t,s){const a=this.proxy,n=Re(e)?e.includes(".")?Hr(a,e):()=>a[e]:e.bind(a,a);let r;ge(t)?r=t:(r=t.handler,s=t);const o=As(this),i=Lr(n,r.bind(a),s);return o(),i}function Hr(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const pl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${gt(t)}Modifiers`]||e[`${Ft(t)}Modifiers`];function hl(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Ee;let n=s;const r=t.startsWith("update:"),o=r&&pl(a,t.slice(7));o&&(o.trim&&(n=s.map(g=>Re(g)?g.trim():g)),o.number&&(n=s.map(Ta)));let i,c=a[i=Ma(t)]||a[i=Ma(gt(t))];!c&&r&&(c=a[i=Ma(Ft(t))]),c&&xt(c,e,6,n);const f=a[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,xt(f,e,6,n)}}function Fr(e,t,s=!1){const a=t.emitsCache,n=a.get(e);if(n!==void 0)return n;const r=e.emits;let o={},i=!1;if(!ge(e)){const c=f=>{const g=Fr(f,t,!0);g&&(i=!0,Ye(o,g))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!i?(He(e)&&a.set(e,null),null):(de(r)?r.forEach(c=>o[c]=null):Ye(o,r),He(e)&&a.set(e,o),o)}function na(e,t){return!e||!Ls(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Ft(t))||Ce(e,t))}function zm(){}function Rr(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[r],slots:o,attrs:i,emit:c,render:f,renderCache:g,props:d,data:p,setupState:u,ctx:v,inheritAttrs:h}=e,y=ea(e);let M,k;try{if(s.shapeFlag&4){const T=n||a,L=T;M=Ct(f.call(L,T,g,d,u,p,v)),k=i}else{const T=t;M=Ct(T.length>1?T(d,{attrs:i,slots:o,emit:c}):T(d,null)),k=t.props?i:ml(i)}}catch(T){Cs.length=0,Ys(T,e,1),M=ce(Pt)}let C=M;if(k&&h!==!1){const T=Object.keys(k),{shapeFlag:L}=C;T.length&&L&7&&(r&&T.some(Sa)&&(k=vl(k,r)),C=rs(C,k,!1,!0))}return s.dirs&&(C=rs(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&za(C,s.transition),M=C,ea(y),M}const ml=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ls(s))&&((t||(t={}))[s]=e[s]);return t},vl=(e,t)=>{const s={};for(const a in e)(!Sa(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function yl(e,t,s){const{props:a,children:n,component:r}=e,{props:o,children:i,patchFlag:c}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return a?Wr(a,o,f):!!o;if(c&8){const g=t.dynamicProps;for(let d=0;d<g.length;d++){const p=g[d];if(o[p]!==a[p]&&!na(f,p))return!0}}}else return(n||i)&&(!i||!i.$stable)?!0:a===o?!1:a?o?Wr(a,o,f):!0:!!o;return!1}function Wr(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const r=a[n];if(t[r]!==e[r]&&!na(s,r))return!0}return!1}function bl({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Br=e=>e.__isSuspense;function wl(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):Mi(e)}const le=Symbol.for("v-fgt"),ra=Symbol.for("v-txt"),Pt=Symbol.for("v-cmt"),oa=Symbol.for("v-stc"),Cs=[];let ut=null;function x(e=!1){Cs.push(ut=e?null:[])}function _l(){Cs.pop(),ut=Cs[Cs.length-1]||null}let $s=1;function jr(e,t=!1){$s+=e,e<0&&ut&&t&&(ut.hasOnce=!0)}function Ur(e){return e.dynamicChildren=$s>0?ut||Jt:null,_l(),$s>0&&ut&&ut.push(e),e}function $(e,t,s,a,n,r){return Ur(l(e,t,s,a,n,r,!0))}function Fe(e,t,s,a,n){return Ur(ce(e,t,s,a,n,!0))}function Ms(e){return e?e.__v_isVNode===!0:!1}function Ts(e,t){return e.type===t.type&&e.key===t.key}const zr=({key:e})=>e??null,ia=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Re(e)||ze(e)||ge(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function l(e,t=null,s=null,a=0,n=null,r=e===le?0:1,o=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zr(t),ref:t&&ia(t),scopeId:ur,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return i?(en(c,s),r&128&&e.normalize(c)):s&&(c.shapeFlag|=Re(s)?8:16),$s>0&&!o&&ut&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&ut.push(c),c}const ce=kl;function kl(e,t=null,s=null,a=0,n=null,r=!1){if((!e||e===Ui)&&(e=Pt),Ms(e)){const i=rs(e,t,!0);return s&&en(i,s),$s>0&&!r&&ut&&(i.shapeFlag&6?ut[ut.indexOf(e)]=i:ut.push(i)),i.patchFlag=-2,i}if(Ll(e)&&(e=e.__vccOpts),t){t=xl(t);let{class:i,style:c}=t;i&&!Re(i)&&(t.class=ve(i)),He(c)&&(Wa(c)&&!de(c)&&(c=Ye({},c)),t.style=bt(c))}const o=Re(e)?1:Br(e)?128:Ai(e)?64:He(e)?4:ge(e)?2:0;return l(e,t,s,a,n,o,r,!0)}function xl(e){return e?Wa(e)||$r(e)?Ye({},e):e:null}function rs(e,t,s=!1,a=!1){const{props:n,ref:r,patchFlag:o,children:i,transition:c}=e,f=t?Cl(n||{},t):n,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&zr(f),ref:t&&t.ref?s&&r?de(r)?r.concat(ia(t)):[r,ia(t)]:ia(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&a&&za(g,c.clone(g)),g}function be(e=" ",t=0){return ce(ra,null,e,t)}function Sl(e,t){const s=ce(oa,null,e);return s.staticCount=t,s}function Z(e="",t=!1){return t?(x(),Fe(Pt,null,e)):ce(Pt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?ce(Pt):de(e)?ce(le,null,e.slice()):Ms(e)?jt(e):ce(ra,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function en(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(de(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),en(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!$r(t)?t._ctx=qe:n===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ge(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),a&64?(s=16,t=[be(t)]):s=8);e.children=t,e.shapeFlag|=s}function Cl(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=ve([t.class,a.class]));else if(n==="style")t.style=bt([t.style,a.style]);else if(Ls(n)){const r=t[n],o=a[n];o&&r!==o&&!(de(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=a[n])}return t}function $t(e,t,s,a=null){xt(e,t,7,[s,a])}const $l=xr();let Ml=0;function Tl(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||$l,r={uid:Ml++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tr(a,n),emitsOptions:Fr(a,n),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:a.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=hl.bind(null,r),e.ce&&e.ce(r),r}let Qe=null;const Al=()=>Qe||qe;let la,tn;{const e=Bs(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};la=t("__VUE_INSTANCE_SETTERS__",s=>Qe=s),tn=t("__VUE_SSR_SETTERS__",s=>Ds=s)}const As=e=>{const t=Qe;return la(e),e.scope.on(),()=>{e.scope.off(),la(t)}},Vr=()=>{Qe&&Qe.scope.off(),la(null)};function Kr(e){return e.vnode.shapeFlag&4}let Ds=!1;function Dl(e,t=!1,s=!1){t&&tn(t);const{props:a,children:n}=e.vnode,r=Kr(e);tl(e,a,r,t),rl(e,n,s||t);const o=r?El(e,t):void 0;return t&&tn(!1),o}function El(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ki);const{setup:a}=s;if(a){wt();const n=e.setupContext=a.length>1?Pl(e):null,r=As(e),o=Qt(a,e,0,[e.props,n]),i=Dn(o);if(_t(),r(),(i||e.sp)&&!ss(e)&&dr(e),i){if(o.then(Vr,Vr),t)return o.then(c=>{qr(e,c)}).catch(c=>{Ys(c,e,0)});e.asyncDep=o}else qr(e,o)}else Gr(e)}function qr(e,t,s){ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:He(t)&&(e.setupState=ar(t)),Gr(e)}function Gr(e,t,s){const a=e.type;e.render||(e.render=a.render||yt);{const n=As(e);wt();try{qi(e)}finally{_t(),n()}}}const Il={get(e,t){return Xe(e,"get",""),e[t]}};function Pl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Il),slots:e.slots,emit:e.emit,expose:t}}function ca(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ar(di(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xs)return xs[s](e)},has(t,s){return s in t||s in xs}})):e.proxy}const Nl=/(?:^|[-_])(\w)/g,Ol=e=>e.replace(Nl,t=>t.toUpperCase()).replace(/[-_]/g,"");function Jr(e,t=!0){return ge(e)?e.displayName||e.name:e.name||t&&e.__name}function Zr(e,t,s=!1){let a=Jr(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=r=>{for(const o in r)if(r[o]===t)return o};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?Ol(a):s?"App":"Anonymous"}function Ll(e){return ge(e)&&"__vccOpts"in e}const j=(e,t)=>yi(e,t,Ds);function et(e,t,s){const a=arguments.length;return a===2?He(t)&&!de(t)?Ms(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&Ms(s)&&(s=[s]),ce(e,t,s))}const Hl="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;const Yr=typeof window<"u"&&window.trustedTypes;if(Yr)try{sn=Yr.createPolicy("vue",{createHTML:e=>e})}catch{}const Xr=sn?e=>sn.createHTML(e):e=>e,Fl="http://www.w3.org/2000/svg",Rl="http://www.w3.org/1998/Math/MathML",Nt=typeof document<"u"?document:null,Qr=Nt&&Nt.createElement("template"),Wl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Nt.createElementNS(Fl,e):t==="mathml"?Nt.createElementNS(Rl,e):s?Nt.createElement(e,{is:s}):Nt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Nt.createTextNode(e),createComment:e=>Nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,r){const o=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{Qr.innerHTML=Xr(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const i=Qr.content;if(a==="svg"||a==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Bl=Symbol("_vtc");function jl(e,t,s){const a=e[Bl];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ua=Symbol("_vod"),eo=Symbol("_vsh"),da={name:"show",beforeMount(e,{value:t},{transition:s}){e[ua]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Es(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Es(e,!0),a.enter(e)):a.leave(e,()=>{Es(e,!1)}):Es(e,t))},beforeUnmount(e,{value:t}){Es(e,t)}};function Es(e,t){e.style.display=t?e[ua]:"none",e[eo]=!t}const Ul=Symbol(""),zl=/(^|;)\s*display\s*:/;function Vl(e,t,s){const a=e.style,n=Re(s);let r=!1;if(s&&!n){if(t)if(Re(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&fa(a,i,"")}else for(const o in t)s[o]==null&&fa(a,o,"");for(const o in s)o==="display"&&(r=!0),fa(a,o,s[o])}else if(n){if(t!==s){const o=a[Ul];o&&(s+=";"+o),a.cssText=s,r=zl.test(s)}}else t&&e.removeAttribute("style");ua in e&&(e[ua]=r?a.display:"",e[eo]&&(a.display="none"))}const to=/\s*!important$/;function fa(e,t,s){if(de(s))s.forEach(a=>fa(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=Kl(e,t);to.test(s)?e.setProperty(Ft(a),s.replace(to,""),"important"):e[a]=s}}const so=["Webkit","Moz","ms"],an={};function Kl(e,t){const s=an[t];if(s)return s;let a=gt(t);if(a!=="filter"&&a in e)return an[t]=a;a=Rs(a);for(let n=0;n<so.length;n++){const r=so[n]+a;if(r in e)return an[t]=r}return t}const ao="http://www.w3.org/1999/xlink";function no(e,t,s,a,n,r=jo(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ao,t.slice(6,t.length)):e.setAttributeNS(ao,t,s):s==null||r&&!On(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Tt(s)?String(s):s)}function ro(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Xr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(i!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=On(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function os(e,t,s,a){e.addEventListener(t,s,a)}function ql(e,t,s,a){e.removeEventListener(t,s,a)}const oo=Symbol("_vei");function Gl(e,t,s,a,n=null){const r=e[oo]||(e[oo]={}),o=r[t];if(a&&o)o.value=a;else{const[i,c]=Jl(t);if(a){const f=r[t]=Xl(a,n);os(e,i,f,c)}else o&&(ql(e,i,o,c),r[t]=void 0)}}const io=/(?:Once|Passive|Capture)$/;function Jl(e){let t;if(io.test(e)){t={};let a;for(;a=e.match(io);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ft(e.slice(2)),t]}let nn=0;const Zl=Promise.resolve(),Yl=()=>nn||(Zl.then(()=>nn=0),nn=Date.now());function Xl(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;xt(Ql(a,s.value),t,5,[a])};return s.value=e,s.attached=Yl(),s}function Ql(e,t){if(de(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const lo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ec=(e,t,s,a,n,r)=>{const o=n==="svg";t==="class"?jl(e,a,o):t==="style"?Vl(e,s,a):Ls(t)?Sa(t)||Gl(e,t,s,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tc(e,t,a,o))?(ro(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&no(e,t,a,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Re(a))?ro(e,gt(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),no(e,t,a,o))};function tc(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&lo(t)&&ge(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return lo(t)&&Re(s)?!1:t in e}const co=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?s=>Ws(t,s):t};function sc(e){e.target.composing=!0}function uo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rn=Symbol("_assign"),ac={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[rn]=co(n);const r=a||n.props&&n.props.type==="number";os(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;s&&(i=i.trim()),r&&(i=Ta(i)),e[rn](i)}),s&&os(e,"change",()=>{e.value=e.value.trim()}),t||(os(e,"compositionstart",sc),os(e,"compositionend",uo),os(e,"change",uo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:r}},o){if(e[rn]=co(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ta(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===c)||(e.value=c))}},nc=["ctrl","shift","alt","meta"],rc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nc.some(s=>e[`${s}Key`]&&!t.includes(s))},ga=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...r)=>{for(let o=0;o<t.length;o++){const i=rc[t[o]];if(i&&i(n,t))return}return e(n,...r)})},oc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ic=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const r=Ft(n.key);if(t.some(o=>o===r||oc[o]===r))return e(n)})},lc=Ye({patchProp:ec},Wl);let fo;function cc(){return fo||(fo=il(lc))}const uc=(...e)=>{const t=cc().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=fc(a);if(!n)return;const r=t._component;!ge(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,dc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function dc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fc(e){return Re(e)?document.querySelector(e):e}const gc=Te({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const a=e.showNavigation!==!1,n={...s,class:[s.class,"app-content",a?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":a?"false":"true"};return et("div",n,[et("aside",r,t.navigation?t.navigation():[]),et("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),pc=Te({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const a={...s,class:[s.class,"app-navigation"]};"role"in a||(a.role="navigation");const n=[];return t.actions&&n.push(et("div",{class:"app-navigation__actions"},t.actions())),t.default&&n.push(...t.default()),et("nav",a,n)}}}),Ge=Te({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:a}){return()=>{const n={...a,class:[a.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in n||(n.type="button"),et("button",n,s.default?s.default():[])}}}),pa=Te({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>et("div",{...t,class:[t.class,"card empty"]},[et("div",{class:"value"},e.name),et("div",{class:"hint"},e.description)])}}),ha=Te({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:a}){const n=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...a,class:[a.class,"nc-checkbox-radio-switch"]};return()=>et("label",r,[et("input",{type:e.type,name:e.name,checked:e.checked,onInput:n}),et("span",{},s.default?s.default():[])])}}),hc=Te({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>et("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}}),mc=Te({name:"NcModal",props:{size:{type:String,default:"medium"}},emits:["close"],setup(e,{slots:t,emit:s}){const a=n=>{n.target===n.currentTarget&&s("close")};return()=>et("div",{class:["nc-modal-backdrop",`nc-modal--${e.size}`],onClick:a,role:"dialog","aria-modal":"true"},[et("div",{class:"nc-modal-container"},[et("button",{class:"nc-modal__close",type:"button",onClick:()=>s("close")},""),t.default?t.default():null])])}});function on(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const a=Math.floor(s.width*t),n=Math.floor(s.height*t);e.width!==a&&(e.width=a),e.height!==n&&(e.height=n);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function go(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function vc(e){const s=Math.pow((f=>f<0?0:f>1?1:f)(e),.6),a=go("#e0f2fe"),n=go("#7c3aed");if(!a||!n)return"#7c3aed";const r=(f,g,d)=>Math.round(f+(g-f)*d),o=r(a.r,n.r,s),i=r(a.g,n.g,s),c=r(a.b,n.b,s);return`rgb(${o}, ${i}, ${c})`}const po=Te({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=se(null);function a(){const n=t.data,r=s.value;if(!r||!n)return;const o=on(r);if(!o)return;const i=r.clientWidth,c=r.clientHeight,f=i/2,g=c/2,d=Math.min(i,c)*.35,p=n.data||[],u=n.labels||[],v=n.ids||[],h=n.colors||[],y=[];for(let V=0;V<p.length;V++)(Number(p[V])||0)>0&&y.push(V);if(o.clearRect(0,0,i,c),y.length===0)return;const M=y.map(V=>Number(p[V])||0),k=y.map(V=>String(u[V]||"")),C=y.map(V=>String(v[V]||"")),T=y.map(V=>h[V]),L=M.reduce((V,ne)=>V+Math.max(0,ne),0)||1;let Q=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const J=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];M.forEach((V,ne)=>{var ke,Ae;const z=Math.max(0,V)/L,G=Q+z*2*Math.PI,ee=String((k==null?void 0:k[ne])||""),ye=String((C==null?void 0:C[ne])||""),Oe=T[ne],Y=(ke=t.colorsById)==null?void 0:ke[ye],pe=(Ae=t.colorsByName)==null?void 0:Ae[ee];let te=Y||pe||Oe||J[ne%J.length];o.beginPath(),o.moveTo(f,g),o.arc(f,g,d,Q,G),o.closePath(),o.fillStyle=te,o.fill(),o.stroke();const oe=(Q+G)/2,Se=f+Math.cos(oe)*(d+12),Pe=g+Math.sin(oe)*(d+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const $e=Math.max(0,Number(V)||0)/L*100,_e=`${k!=null&&k[ne]?k[ne]+" ":""}${Number(V).toFixed(2)}h  ${$e.toFixed(1)}%`;o.strokeText(_e,Se,Pe),o.fillText(_e,Se,Pe),o.restore(),Q=G})}return as(()=>{a(),window.addEventListener("resize",a)}),ct(()=>t.data,()=>a(),{deep:!0}),ct(()=>t.colorsById,()=>a(),{deep:!0}),(n,r)=>(x(),$("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),ho=Te({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=se(null);function a(h,y,M,k,C){h.save(),C!=null&&C.font&&(h.font=C.font),C!=null&&C.align&&(h.textAlign=C.align),C!=null&&C.baseline&&(h.textBaseline=C.baseline),h.lineWidth=3,h.strokeStyle="rgba(0,0,0,0.55)",h.strokeText(y,M,k),h.fillStyle="#ffffff",h.fillText(y,M,k),h.restore()}function n(h){const y=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(h||"");return y?{r:parseInt(y[1],16),g:parseInt(y[2],16),b:parseInt(y[3],16)}:null}function r(h,y){const M=n(h);return M&&(.2126*M.r+.7152*M.g+.0722*M.b)/255<.55?"#ffffff":y}function o(h){const y=Math.max(0,Number(h)||0);return(Math.round(y*10)/10).toFixed(1)}function i(h,y=.5){const M=n(h);if(!M)return h;const k=Math.max(0,Math.min(1,y)),C=Math.round(M.r+(255-M.r)*k),T=Math.round(M.g+(255-M.g)*k),L=Math.round(M.b+(255-M.b)*k);return`rgb(${C},${T},${L})`}function c(h,y=.5){const M=n(h);if(!M)return h;const k=Math.max(0,Math.min(1,y)),C=Math.round(M.r*(1-k)),T=Math.round(M.g*(1-k)),L=Math.round(M.b*(1-k));return`rgb(${C},${T},${L})`}function f(h,y){const{x:M,y:k,width:C,height:T,baseColor:L,variant:Q}=y,J=Q==="mixed",V=Math.min(C*(J?.35:.22),6),ne=Math.max(2,J?C*.45:C-V*2),z=J?M+C-ne-V:M+(C-ne)/2,G=i(L,J?.6:.45),ee=c(L,J?.4:.35);h.save(),h.fillStyle=G,h.globalAlpha=J?.12:.16,h.fillRect(z,k,ne,T),h.restore(),h.save(),h.strokeStyle=ee,h.lineWidth=J?1.25:1.5,h.globalAlpha=J?.6:.75,h.setLineDash([4,4]),h.strokeRect(z,k,ne,T),h.restore(),h.save(),h.strokeStyle=ee,h.globalAlpha=J?.35:.45,h.lineWidth=1,h.beginPath(),h.moveTo(z,k),h.lineTo(z+ne,k),h.stroke(),h.restore()}function g(){var $e,_e;const h=s.value;if(!h)return;const y=on(h);if(!y)return;const M=h.clientWidth,k=h.clientHeight,C=28,T=C*1.4,L=k-C,Q=M-C,J=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",V=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";y.clearRect(0,0,M,k),y.strokeStyle=J,y.lineWidth=1,y.beginPath(),y.moveTo(T,L),y.lineTo(Q,L),y.moveTo(T,L),y.lineTo(T,C),y.stroke();const ne=t.stacked;if(ne&&ne.labels&&ne.series){let ke=ne.labels||[],Ae=ne.series||[];const Ve=p(ke,Ae);ke=Ve.labels,Ae=Ve.series;const De=ke.map((H,W)=>Ae.reduce((P,I)=>{var E;return P+Math.max(0,Number(((E=I.data)==null?void 0:E[W])||0))},0)),Me=ke.map((H,W)=>Ae.reduce((P,I)=>{var E;return P+Math.max(0,Number(((E=I.forecast)==null?void 0:E[W])||0))},0)),re=De.map((H,W)=>H+Me[W]),We=Math.max(1,...re),Ue=ke.length||1,dt=8,m=Math.max(6,(Q-T-dt*(Ue+1))/Ue),w=(L-C)/We;let A=0,O=0;ke.forEach((H,W)=>{const P=T+dt+W*(m+dt);let I=L,E=0;Ae.forEach(ie=>{var Be;const ue=Math.max(0,Number(((Be=ie.data)==null?void 0:Be[W])||0)),fe=ue*w;I-=fe;const we=t.colorsById[ie.id]||ie.color||"#93c5fd";if(fe>.5&&(y.fillStyle=we,y.fillRect(P,I,m,fe),fe>14&&m>22&&ue>.01)){const Je=o(ue);y.fillStyle=r(we,V),y.font="11px ui-sans-serif,system-ui";const vt=y.measureText(Je).width;y.fillText(Je,P+m/2-vt/2,I+fe/2+4)}E+=ue});let B=I,q=0;Ae.forEach(ie=>{var Be;const ue=Math.max(0,Number(((Be=ie.forecast)==null?void 0:Be[W])||0));if(ue<=0)return;const fe=ue*w;if(B-=fe,q+=ue,fe<=.5)return;const we=t.colorsById[ie.id]||ie.color||"#93c5fd";f(y,{x:P,y:B,width:m,height:fe,baseColor:we,variant:E>.01?"mixed":"future"})}),A+=E,O+=q,y.fillStyle=V,y.font="12px ui-sans-serif,system-ui";const X=d(String(ke[W]||""));if(m>26){const ie=y.measureText(X).width;y.fillText(X,P+m/2-ie/2,L+14)}const ae=q>.01?`~${o(E+q)}h`:E>.01?`${o(E)}h`:"";ae&&a(y,ae,P+m/2,Math.max(C+4,B-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})});const R=O>.01?`~${o(A+O)}h expected`:`${o(A)}h total`;a(y,R,Q-4,C+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const z=t.legacy;if(!z)return;let G=z.data||[],ee=z.labels||[];const ye=p(ee,[{id:"__legacy__",data:G}]);ee=ye.labels,G=((_e=($e=ye.series)==null?void 0:$e[0])==null?void 0:_e.data)||G;const Oe=Math.max(1,...G.map(ke=>Math.max(0,ke))),Y=G.length||1,pe=8,te=Math.max(6,(Q-T-pe*(Y+1))/Y),oe=(L-C)/Oe;y.fillStyle="#93c5fd",G.forEach((ke,Ae)=>{const Ve=Math.max(0,ke*oe),De=T+pe+Ae*(te+pe),Me=L-Ve;if(y.fillRect(De,Me,te,Ve),Ve>14&&te>22&&ke>.01){const We=String((Math.round(ke*100)/100).toFixed(1));y.fillStyle=r("#93c5fd",V),y.font="11px ui-sans-serif,system-ui";const Ue=y.measureText(We).width;y.fillText(We,De+te/2-Ue/2,Me+Ve/2+4)}y.fillStyle=V,y.font="12px ui-sans-serif,system-ui";const re=d(String(ee[Ae]||""));if(te>26){const We=y.measureText(re).width;y.fillText(re,De+te/2-We/2,L+14)}if(ke>.01){const We=`${(Math.round(ke*100)/100).toFixed(1)}h`;a(y,We,De+te/2,Math.max(C+4,Me-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const Se=G.reduce((ke,Ae)=>ke+Math.max(0,Number(Ae)||0),0),Pe=`${(Math.round(Se*100)/100).toFixed(1)}h total`;a(y,Pe,Q-4,C+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}as(()=>{g(),window.addEventListener("resize",g)}),ct(()=>t.stacked,()=>g(),{deep:!0}),ct(()=>t.legacy,()=>g(),{deep:!0}),ct(()=>t.colorsById,()=>g(),{deep:!0});function d(h){const y=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!y)return h;const M=new Date(`${y[1]}-${y[2]}-${y[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][M.getDay()]||h}function p(h,y){if(!Array.isArray(h)||h.length!==7)return{labels:h,series:y};const M=h.map(V=>u(V));if(M.some(V=>!V))return{labels:h,series:y};const k=M.map(V=>v(V)),C=[1,2,3,4,5,6,7];if(k.join(",")===C.join(","))return{labels:h,series:y};const T={};if(k.forEach((V,ne)=>{T[V]=ne}),!C.every(V=>V in T))return{labels:h,series:y};const L=C.map(V=>T[V]),Q=L.map(V=>h[V]),J=(y||[]).map(V=>{const ne=Array.isArray(V.data)?V.data:[],z=Array.isArray(V.forecast)?V.forecast:null,G=L.map(Oe=>ne[Oe]??0),ee=z?L.map(Oe=>z[Oe]??0):void 0,ye={...V,data:G};return ee&&(ye.forecast=ee),ye});return{labels:Q,series:J}}function u(h){const y=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!y)return null;const M=new Date(`${y[1]}-${y[2]}-${y[3]}T00:00:00`);return isNaN(M.getTime())?null:M}function v(h){const y=h.getDay();return y===0?7:y}return(h,y)=>(x(),$("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),yc=Te({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=se(null);let a=null;function n(){var L;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=on(r);if(!i)return;const c=r.clientWidth,f=r.clientHeight,g=o.dows||[],d=o.hours||[],p=o.matrix||[];i.clearRect(0,0,c,f);const u=36,v=u,h=u,y=c-u,M=f-u,k=(y-v)/Math.max(1,d.length),C=(M-h)/Math.max(1,g.length),T=Math.max(0,...p.flat())||1;g.length&&d.length&&console.info("[opsdash] heatmap draw",{rows:g.length,cols:d.length,vmax:T});for(let Q=0;Q<g.length;Q++)for(let J=0;J<d.length;J++){const ne=(((L=p[Q])==null?void 0:L[J])||0)/T,z=v+J*k,G=h+Q*C;i.fillStyle=vc(ne),i.fillRect(z,G,k-1,C-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",g.forEach((Q,J)=>i.fillText(Q,8,h+J*C+12)),d.forEach((Q,J)=>{J%2===0&&i.fillText(String(Q),v+J*k+2,h-6)})}return as(async()=>{await Qs(),n();try{a=new ResizeObserver(()=>n()),s.value&&a.observe(s.value)}catch{}window.addEventListener("resize",n)}),Va(()=>{try{window.removeEventListener("resize",n)}catch{}try{a&&s.value&&a.unobserve(s.value)}catch{}a=null}),ct(()=>t.hod,()=>n(),{deep:!0}),(r,o)=>(x(),$("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),bc={class:"group-row"},wc={colspan:"5"},_c={class:"group-header"},kc={class:"group-label"},xc={class:"name"},Sc={key:0,class:"group-meta"},Cc={class:"summary"},$c={key:0,class:"summary-percent"},Mc={key:1,class:"group-meta"},Tc={class:"summary"},Ac={key:0},Dc=["title"],Ec={class:"row-name"},Ic={key:0,class:"progress"},Pc={class:"num"},Nc={class:"num"},Oc={class:"num"},Lc={class:"num"},Hc={key:0,class:"hint"},Fc={key:0,class:"empty-row"},Rc=Te({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=j(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(k=>({id:k.id,label:k.label,summary:k.summary??null,color:k.color,rows:(k.rows||[]).map(a)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(a)}]);function a(k){const C=n(k);return{...k,calendarId:C}}function n(k){return k?k.calendarId?String(k.calendarId):k.id?String(k.id):k.calendar_id?String(k.calendar_id):k.calendar?String(k.calendar):"":""}function r(k){return String(k.calendar||k.displayname||k.name||k.calendarId||"")}function o(k){return n(k)||r(k)}function i(k){const C=v(k);if(!C)return!1;const T=t.targets||{},L=Number(T[C]);return isFinite(L)&&L>0}function c(k){const C=v(k);if(!C)return 0;const T=t.targets||{},L=Number(T[C]);return isFinite(L)?L:0}function f(k){const C=c(k);return C>0?(Math.round(C*100)/100).toFixed(2):""}function g(k,C){return k-C>=0?"delta pos":"delta neg"}function d(k,C){const T=k-C,L=Math.abs(Math.round(T*100)/100).toFixed(2);return(T>=0?"+":"-")+L+"h"}function p(k,C){return Math.max(0,Math.min(100,C>0?k/C*100:0)).toFixed(0)+"%"}function u(k,C){return Math.max(0,Math.min(100,C>0?k/C*100:0))}function v(k){return k==null?"":String(k)}function h(k){const C=k.summary;if(!C)return`${k.rows.length} calendar${k.rows.length===1?"":"s"}`;const T=t.n2(C.actualHours);return C.targetHours>0?`${T} h / ${t.n2(C.targetHours)} h`:`${T} h`}function y(k){const C=k.summary;return!C||C.targetHours<=0?"":`${Math.round(C.percent)}%`}function M(k){switch(k){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(k,C)=>(x(),$("table",null,[C[1]||(C[1]=l("colgroup",null,[l("col",{class:"col-w-42"}),l("col",{class:"col-w-12"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-18"})],-1)),C[2]||(C[2]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Calendar"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours"),l("th",{class:"num"},"Target"),l("th",{class:"num"}," / %")])],-1)),l("tbody",null,[(x(!0),$(le,null,Le(s.value,T=>(x(),$(le,{key:T.id},[l("tr",bc,[l("td",wc,[l("div",_c,[l("div",kc,[l("span",{class:"dot",style:bt({background:T.color||"var(--brand)"})},null,4),l("span",xc,D(T.label),1)]),T.summary?(x(),$("div",Sc,[l("span",Cc,D(h(T)),1),y(T)?(x(),$("span",$c,D(y(T)),1)):Z("",!0),T.summary.statusLabel?(x(),$("span",{key:1,class:ve(["badge",M(T.summary.status)])},D(T.summary.statusLabel),3)):Z("",!0)])):(x(),$("div",Mc,[l("span",Tc,[be(D(T.rows.length)+" calendar",1),T.rows.length!==1?(x(),$("span",Ac,"s")):Z("",!0)])]))])])]),(x(!0),$(le,null,Le(T.rows,L=>(x(),$("tr",{key:o(L)},[l("td",null,[l("div",{class:"cell",title:r(L)},[l("div",Ec,D(r(L)),1),i(n(L))&&c(n(L))>0?(x(),$("div",Ic,[l("div",{class:"progress-bar",style:bt({width:u(L.total_hours,c(n(L)))+"%",background:T.color||void 0})},null,4)])):Z("",!0)],8,Dc)]),l("td",Pc,D(L.events_count),1),l("td",Nc,D(k.n2(L.total_hours)),1),l("td",Oc,D(f(n(L))),1),l("td",Lc,[i(n(L))?(x(),$(le,{key:0},[l("span",{class:ve(g(L.total_hours,c(n(L))))},D(d(L.total_hours,c(n(L)))),3),c(n(L))>0?(x(),$("span",Hc," ("+D(p(L.total_hours,c(n(L))))+")",1)):Z("",!0)],64)):(x(),$(le,{key:1},[be("")],64))])]))),128)),T.rows.length?Z("",!0):(x(),$("tr",Fc,[...C[0]||(C[0]=[l("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),mt=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},Wc=mt(Rc,[["__scopeId","data-v-69f095b4"]]),Bc={class:"mono nowrap"},jc=["href"],Uc={class:"hint"},zc={class:"num"},Vc={class:"num"},Kc=Te({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const a=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!a)return"";const n=new Date(`${a[1]}-${a[2]}-${a[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][n.getUTCDay()]||""}return(s,a)=>(x(),$("table",null,[a[0]||(a[0]=l("colgroup",null,[l("col",{class:"col-w-40"}),l("col",{class:"col-w-30"}),l("col",{class:"col-w-30"})],-1)),a[1]||(a[1]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Date"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours")])],-1)),l("tbody",null,[(x(!0),$(le,null,Le(s.rows,n=>(x(),$("tr",{key:n.date},[l("td",Bc,[l("a",{href:s.link(n.date),target:"_blank"},D(n.date),9,jc),l("span",Uc," ("+D(t(n.date))+")",1)]),l("td",zc,D(n.events_count),1),l("td",Vc,D(s.n2(n.total_hours)),1)]))),128))])]))}}),qc=["onClick"],Gc=["title"],Jc={class:"num"},Zc={class:"mono nowrap"},Yc={class:"mono nowrap"},Xc={key:0},Qc={colspan:"5",class:"mono cell-details"},eu={key:0},tu={key:1,class:"hint"},su=Te({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(x(),$("table",null,[s[1]||(s[1]=l("colgroup",null,[l("col",{class:"col-w-22"}),l("col"),l("col",{class:"col-w-12"}),l("col",{class:"col-w-18"}),l("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=l("thead",null,[l("tr",null,[l("th",null,"Calendar"),l("th",null,"Summary"),l("th",{class:"num"},"Hours"),l("th",{class:"nowrap"},"Start date"),l("th",{class:"nowrap"},"Start time")])],-1)),l("tbody",null,[(x(!0),$(le,null,Le(t.rows,(a,n)=>{var r;return x(),$(le,{key:n},[l("tr",{onClick:o=>t.$emit("toggle",n),class:"cursor-pointer"},[l("td",null,D(a.calendar),1),l("td",null,[l("span",{class:"cell",title:a.summary},D(a.summary),9,Gc)]),l("td",Jc,D(t.n2(a.duration_h)),1),l("td",Zc,D((a.start||"").split(" ")[0]),1),l("td",Yc,D((r=(a.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,qc),t.detailsIndex===n?(x(),$("tr",Xc,[l("td",Qc,[s[0]||(s[0]=l("div",null,[l("strong",null,"Details")],-1)),a.desc?(x(),$("div",eu,D(a.desc),1)):(x(),$("div",tu,"No description"))])])):Z("",!0)],64)}),128))])]))}}),au={class:"card time-summary compact"},nu={class:"time-summary-firstline"},ru={class:"time-summary-metrics"},ou={key:0},iu={key:1},lu={key:2},cu={key:3},uu={key:4},du={key:0,class:"time-summary-row"},fu={key:1,class:"time-summary-row"},gu={key:0,class:"share"},pu={key:2,class:"time-summary-row calendars"},hu={class:"label"},mu={class:"text"},vu={key:3,class:"time-summary-row top-category"},yu={class:"text"},bu={key:4,class:"time-summary-row"},wu=mt(Te({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,a=j(()=>Object.assign({},t,s.config??{})),n=j(()=>s.mode==="active"?"active days":"all days"),r=j(()=>{if(!a.value.showWeekendShare)return"";const d=s.summary.weekendShare;return d==null?"":`${c(d)}%`}),o=j(()=>{if(!a.value.showTopCategory)return null;const d=s.summary.topCategory;if(!d)return null;const p=f(d.actualHours),u=Number(d.percent??0).toFixed(0),v=d.targetHours>0?` (${u}% of ${f(d.targetHours)} h)`:"";return{text:`${d.label}  ${p} h${v}`,badge:d.statusLabel||"",badgeClass:g(d.status)}}),i=j(()=>{if(!a.value.showBusiest)return"";const d=s.summary.busiest;if(!d||!d.date)return"";const p=Number(d.hours??0);return`Busiest ${d.date}  ${f(p)} h`});function c(d){return Number(d??0).toFixed(1)}function f(d){return Number(d??0).toFixed(2)}function g(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(d,p)=>(x(),$("div",au,[l("div",nu,[l("em",null,"Time Summary  "+D(d.summary.rangeLabel),1)]),l("ul",ru,[a.value.showTotal?(x(),$("li",ou,[l("strong",null,D(f(d.summary.totalHours))+" h",1),p[0]||(p[0]=be(" total",-1))])):Z("",!0),a.value.showAverage?(x(),$("li",iu,D(f(d.summary.avgDay))+" h/day ("+D(n.value)+")",1)):Z("",!0),a.value.showAverage?(x(),$("li",lu,D(f(d.summary.avgEvent))+" h/event",1)):Z("",!0),a.value.showMedian?(x(),$("li",cu,D(f(d.summary.medianDay))+" h median/day",1)):Z("",!0),a.value.showBusiest&&i.value?(x(),$("li",uu,D(i.value),1)):Z("",!0)]),a.value.showWorkday?(x(),$("div",du,[p[1]||(p[1]=l("span",{class:"label"},"Workdays",-1)),be(" "+D(f(d.summary.workdayAvg))+" h avg  "+D(f(d.summary.workdayMedian))+" h median ",1)])):Z("",!0),a.value.showWeekend?(x(),$("div",fu,[p[2]||(p[2]=l("span",{class:"label"},"Weekend",-1)),be(" "+D(f(d.summary.weekendAvg))+" h avg  "+D(f(d.summary.weekendMedian))+" h median ",1),a.value.showWeekendShare&&r.value?(x(),$("span",gu,"("+D(r.value)+")",1)):Z("",!0)])):Z("",!0),a.value.showCalendarSummary?(x(),$("div",pu,[l("span",hu,D(d.summary.activeCalendars)+" calendars",1),d.summary.calendarSummary?(x(),$(le,{key:0},[p[3]||(p[3]=l("span",{class:"sep"},"",-1)),l("span",mu,D(d.summary.calendarSummary),1)],64)):Z("",!0)])):Z("",!0),a.value.showTopCategory&&o.value?(x(),$("div",vu,[p[4]||(p[4]=l("span",{class:"label"},"Top category",-1)),l("span",yu,D(o.value.text),1),o.value.badge?(x(),$("span",{key:0,class:ve(["summary-badge",o.value.badgeClass])},D(o.value.badge),3)):Z("",!0)])):Z("",!0),a.value.showBalance&&d.summary.balanceIndex!=null?(x(),$("div",bu,[p[5]||(p[5]=l("span",{class:"label"},"Balance",-1)),be(" "+D(f(d.summary.balanceIndex))+" ",1),p[6]||(p[6]=l("span",{class:"hint"},"(1 = perfekt)",-1))])):Z("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),_u={class:"card targets-card"},ku={class:"targets-header"},xu={key:0,class:"hint"},Su={class:"targets-main"},Cu={class:"line total-line"},$u={class:"value"},Mu={key:0,class:"line"},Tu={key:1,class:"line"},Au={class:"line forecast"},Du={class:"hint"},Eu={key:0,class:"targets-badges"},Iu={key:1,class:"targets-categories"},Pu={class:"cat-top"},Nu={class:"cat-label"},Ou={class:"name"},Lu={class:"cat-meta"},Hu={class:"percent"},Fu={class:"cat-progress"},Ru={class:"bar"},Wu={class:"cat-metrics"},Bu={class:"hint"},ju={key:1,class:"hint"},Uu={key:0,class:"cat-footer"},zu={class:"hint"},Vu=mt(Te({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=j(()=>{var d;return((d=t.summary)==null?void 0:d.total)??c("total","Total")}),a=j(()=>{var p;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(u=>({id:u.id,label:u.label,summary:u.summary??c(u.id,u.label),color:u.color,rows:u.rows})):(((p=t.summary)==null?void 0:p.categories)??[]).map(u=>({id:u.id,label:u.label,summary:u,color:void 0,rows:[]}))}),n=j(()=>a.value.map(d=>{const p=d.summary??c(d.id,d.label);return{id:d.id,label:d.label||p.label,actualHours:p.actualHours,targetHours:p.targetHours,percent:p.percent,deltaHours:p.deltaHours,needPerDay:p.needPerDay,daysLeft:p.daysLeft,calendarPercent:p.calendarPercent,gap:p.gap,status:p.status,statusLabel:p.statusLabel,color:d.color,calendarCount:Array.isArray(d.rows)?d.rows.length:0,progress:f(p.percent,0,140),calendarLabel:Array.isArray(d.rows)&&d.rows.length===1?"calendar":"calendars"}}).filter(d=>d.targetHours>0||d.actualHours>0||d.calendarCount>0));function r(d){if(!isFinite(d))return"0";const p=Math.round(d*10)/10;return Math.abs(p-Math.round(p))<.05?String(Math.round(p)):p.toFixed(1)}function o(d){return!isFinite(d)||Math.abs(d)<.005?"0.0":(d>=0?"+":"")+r(Math.abs(d))}function i(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function c(d,p){return{id:d,label:p,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function f(d,p,u){return!isFinite(d)||d<p?p:d>u?u:d}function g(d){return d==="momentum"?"Momentum":"Linear"}return(d,p)=>(x(),$("div",_u,[l("div",ku,[p[0]||(p[0]=l("strong",null,"Targets",-1)),s.value.targetHours>0?(x(),$("span",xu,D(s.value.percent.toFixed(0))+"%",1)):Z("",!0)]),l("div",Su,[l("div",Cu,[l("span",$u,[l("strong",null,D(r(s.value.actualHours)),1),be(" / "+D(r(s.value.targetHours))+" h",1)]),d.config.ui.showTotalDelta&&s.value.targetHours>0?(x(),$("span",{key:0,class:ve(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+D(o(s.value.deltaHours))+"h ",3)):Z("",!0)]),d.config.ui.showNeedPerDay&&s.value.targetHours>0?(x(),$("div",Mu," Days left "+D(s.value.daysLeft)+"  Need "+D(r(s.value.needPerDay))+" h/day ",1)):Z("",!0),s.value.targetHours>0?(x(),$("div",Tu,[be(" Pace: "+D(s.value.percent.toFixed(0))+"% vs "+D(s.value.calendarPercent.toFixed(0))+"%  ",1),l("span",{class:ve(["status-label",i(s.value.status)])},D(s.value.statusLabel),3)])):Z("",!0),l("div",Au,[be(" Forecast: "+D(d.summary.forecast.text)+" ",1),l("span",Du," Linear "+D(r(d.summary.forecast.linear))+"h  Momentum "+D(r(d.summary.forecast.momentum))+"h  Primary: "+D(g(d.summary.forecast.primaryMethod)),1)])]),d.config.ui.badges&&s.value.targetHours>0?(x(),$("div",Eu,[l("span",{class:ve(["badge",i(s.value.status)])},D(s.value.statusLabel),3)])):Z("",!0),d.config.ui.showCategoryBlocks&&n.value.length?(x(),$("div",Iu,[(x(!0),$(le,null,Le(n.value,u=>(x(),$("div",{class:"category",key:u.id},[l("div",Pu,[l("div",Nu,[l("span",{class:"dot",style:bt({background:u.color||"var(--brand)"})},null,4),l("span",Ou,D(u.label),1)]),l("div",Lu,[l("span",Hu,D(u.percent.toFixed(0))+"%",1),d.config.ui.badges&&u.targetHours>0?(x(),$("span",{key:0,class:ve(["badge",i(u.status)])},D(u.statusLabel),3)):Z("",!0)])]),l("div",Fu,[l("div",Ru,[l("div",{class:"fill",style:bt({width:u.progress+"%",background:u.color||"var(--brand)"})},null,4)])]),l("div",Wu,[l("strong",null,D(r(u.actualHours))+"h",1),l("span",Bu,"/ "+D(r(u.targetHours))+"h",1),u.targetHours>0?(x(),$("span",{key:0,class:ve(["delta",u.deltaHours>=0?"pos":"neg"])},"  "+D(o(u.deltaHours))+"h ",3)):Z("",!0),d.config.ui.showNeedPerDay&&u.targetHours>0?(x(),$("span",ju," Need "+D(r(u.needPerDay))+"h/day  "+D(u.daysLeft)+" days left ",1)):Z("",!0)]),u.calendarCount>0?(x(),$("div",Uu,[l("span",zu,D(u.calendarCount)+" "+D(u.calendarLabel),1)])):Z("",!0)]))),128))])):Z("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]);function Ku(e){const t=e?at(e):ls(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(a=>({...s,id:a.id,label:a.label,targetHours:a.targetHours,remainingHours:a.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function ln(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function is(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0,forecastMode:"total"}}const cn=24*60*60*1e3;function qu(e){const t=Number(e);if(!Number.isFinite(t))return 0;const s=Math.min(1e4,Math.max(0,t));return Number(s.toFixed(2))}function un(e){return qu(Number(e)*4)}function ls(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:is(),balance:ln(),includeZeroDaysInStats:!1}}function Is(e){return JSON.parse(JSON.stringify(at(e)))}function Gu(e){const t=at(e.config),s=yo(e.from),a=yo(e.to),n=ad(e.byDay),r=(e.byCal||[]).reduce((d,p)=>{const u=Number((p==null?void 0:p.total_hours)??(p==null?void 0:p.hours)??0);return Number.isFinite(u)?d+u:d},0),o=t.totalHours||0,i=vo({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n}),c=mo({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),f=t.categories.map(d=>{const p=Xu(d,e.byCal,e.groupsById),u=d.paceMode||t.pace.mode,v=vo({includeWeekend:d.includeWeekend,mode:u,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n});return mo({id:d.id,label:d.label,actual:p,target:d.targetHours,pace:v,thresholds:t.pace.thresholds,includeWeekend:d.includeWeekend,paceMode:u})}),g=td({config:t,totalProgress:c,dailyHours:n,pace:i});return{total:c,categories:f,forecast:g}}function at(e){var o,i,c,f,g,d,p,u,v,h,y,M,k,C,T,L,Q,J,V,ne,z,G,ee,ye,Oe;if(typeof e=="string")try{const Y=JSON.parse(e);return at(Y)}catch{return at(void 0)}const t=ls(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const a=s.categories.map(Y=>{const pe=(Y!=null&&Y.id&&typeof Y.id=="string"?Y.id:"")||od(String((Y==null?void 0:Y.label)??"cat")),te=typeof(Y==null?void 0:Y.label)=="string"&&Y.label.trim()!==""?Y.label.trim():Ju(pe),oe=Ot(Y==null?void 0:Y.targetHours,0,1e4),Se=!!(Y!=null&&Y.includeWeekend),Pe=(Y==null?void 0:Y.paceMode)==="time_aware"?"time_aware":"days_only",$e=Array.isArray(Y==null?void 0:Y.groupIds)?Y.groupIds.map(_e=>Number(_e)).filter(_e=>Number.isFinite(_e)&&_e>=0&&_e<=9):[];return{id:pe,label:te,targetHours:oe,includeWeekend:Se,paceMode:Pe,groupIds:$e}}),n=a.length?a:t.categories;return{totalHours:Ot(s.totalHours,0,1e4),categories:n,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Ot(((f=(c=s.pace)==null?void 0:c.thresholds)==null?void 0:f.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Ot(((d=(g=s.pace)==null?void 0:g.thresholds)==null?void 0:d.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((p=s.forecast)==null?void 0:p.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var pe;const Y=Math.round(((pe=s.forecast)==null?void 0:pe.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(Y)?Y:t.forecast.momentumLastNDays))})(),padding:Ot(((u=s.forecast)==null?void 0:u.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((v=s.ui)==null?void 0:v.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((h=s.ui)==null?void 0:h.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((y=s.ui)==null?void 0:y.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((M=s.ui)==null?void 0:M.badges)??t.ui.badges),includeWeekendToggle:!!(((k=s.ui)==null?void 0:k.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((C=s.ui)==null?void 0:C.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((T=s.ui)==null?void 0:T.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Ot(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((L=s.timeSummary)==null?void 0:L.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((Q=s.timeSummary)==null?void 0:Q.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((J=s.timeSummary)==null?void 0:J.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((V=s.timeSummary)==null?void 0:V.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((ne=s.timeSummary)==null?void 0:ne.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((z=s.timeSummary)==null?void 0:z.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((G=s.timeSummary)==null?void 0:G.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((ee=s.timeSummary)==null?void 0:ee.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((ye=s.timeSummary)==null?void 0:ye.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((Oe=s.timeSummary)==null?void 0:Oe.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:Zu(s.activityCard,t.activityCard),balance:Yu(s.balance,n,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Ju(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Ot(e,t,s){const a=Number(e);return Number.isFinite(a)?Math.min(s,Math.max(t,Math.round(a*100)/100)):t}function dn(e,t,s){const a=Number(e);if(!Number.isFinite(a))return t;const n=Math.round(a);return n<t?t:n>s?s:n}function Zu(e,t){const s={...t};if(!e||typeof e!="object")return s;["showWeekendShare","showEveningShare","showEarliestLatest","showOverlaps","showLongestSession","showLastDayOff","showHint"].forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=!!e[r])});const n=e==null?void 0:e.forecastMode;if(typeof n=="string"){const r=n.toLowerCase();(r==="off"||r==="total"||r==="calendar"||r==="category")&&(s.forecastMode=r)}return s}function Yu(e,t,s){var f,g,d,p;const a=t.map(u=>u.id),n=new Set([...a,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const u of r){const v=typeof u=="string"?u.trim():String(u??"").trim();v&&(n.size&&!n.has(v)||o.includes(v)||o.push(v))}o.length||(a.length?o.push(...a.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},c=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((f=e==null?void 0:e.index)==null?void 0:f.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Ot(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Ot(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Ot(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((g=e==null?void 0:e.relations)==null?void 0:g.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:dn(((d=e==null?void 0:e.trend)==null?void 0:d.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((p=e==null?void 0:e.dayparts)==null?void 0:p.enabled)??s.dayparts.enabled)},ui:{roundPercent:dn(c.roundPercent??s.ui.roundPercent,0,3),roundRatio:dn(c.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(c.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(c.showInsights??s.ui.showInsights)}}}function Xu(e,t,s){if(!Array.isArray(t))return 0;const a=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let n=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),c=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);a&&!a.has(c)||(n+=o)}return n}function mo(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),a=t>0?fn(s/t*100):0,n=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,n)/e.pace.daysLeft:0,i=a-e.pace.calendarPercent,c=Qu({percent:a,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:rt(s),targetHours:rt(t),percent:a,deltaHours:rt(r),remainingHours:rt(Math.max(0,n)),needPerDay:rt(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:fn(e.pace.calendarPercent),gap:rt(i),status:c,statusLabel:ed(c),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function Qu(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function ed(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function vo(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const a=ma(new Date),n=Ut(t),r=Ut(s),o=nd(t,s).filter(d=>e.includeWeekend||!rd(d)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Ut(a)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Ut(a)<n)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let c=0;for(const d of o){const p=Ut(d),u=e.dailyHours.get(p)??0;if(!(!e.includeZeroDays&&u<=0&&p!==Ut(a))){if(p<Ut(a))c+=1;else if(p===Ut(a))if(e.mode==="time_aware"){const h=Math.min(new Date().getTime(),d.getTime()+cn)-d.getTime(),y=Math.max(0,Math.min(1,h/cn));(e.includeZeroDays||u>0||y>0)&&(c+=y)}else(e.includeZeroDays||u>0)&&(c+=1)}}const f=fn(c/i*100),g=Math.max(0,i-c);return{totalEligible:i,elapsedEligible:c,daysLeft:g,calendarPercent:f}}function td(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,a=Math.max(0,Math.ceil(e.pace.daysLeft)),n=sd(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+n*a,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,c=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",f=c==="momentum"?r:s,g=Math.max(0,f-e.config.forecast.padding),d=Math.max(0,f+e.config.forecast.padding),p=c==="momentum"?"Momentum":"Linear";return{linear:rt(s),momentum:rt(r),low:rt(Math.max(0,o)),high:rt(Math.max(0,i)),text:`${p} ${gn(e.config.forecast.padding)}h  ${gn(g)}${gn(d)} h`,primaryMethod:c,primary:rt(f),bandLow:rt(g),bandHigh:rt(d)}}function sd(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const a=s.slice(-t),n=a.reduce((r,[,o])=>r+Math.max(0,o||0),0);return a.length?n/a.length:0}function ad(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const a=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!a)continue;const n=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(n)&&t.set(a,n)}return t}function nd(e,t){const s=[];let a=ma(e);const n=ma(t).getTime();for(;a.getTime()<=n;)s.push(new Date(a)),a=new Date(a.getTime()+cn);return s}function yo(e){if(!e)return null;const t=e.split("-").map(a=>Number(a));if(t.length!==3||t.some(a=>!Number.isInteger(a)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:ma(s)}function ma(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Ut(e){return e.toISOString().slice(0,10)}function rd(e){const t=e.getUTCDay();return t===0||t===6}function fn(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function rt(e){return isFinite(e)?Number(e.toFixed(2)):0}function gn(e){if(!isFinite(e))return"0";const t=rt(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function od(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const id={class:"card activity-card"},ld={class:"activity-card__header"},cd={key:0,class:"pill"},ud={key:0,class:"activity-card__hero"},dd={key:1,class:"activity-card__subline"},fd={key:2,class:"activity-card__meta"},gd={key:3,class:"activity-card__extra"},pd={key:4,class:"activity-card__hint"},hd=mt(Te({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t=is(),s=e,a=j(()=>Object.assign({},t,s.config??{})),n=j(()=>{const p=[];p.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&p.push(`Active Days ${s.summary.activeDays}`);const u=c(s.summary.typicalStart,s.summary.typicalEnd);return u&&p.push(`Typical ${u}`),p.join("  ")}),r=j(()=>{const p=[];return a.value.showWeekendShare&&s.summary.weekendShare!=null&&p.push(`Weekend ${f(s.summary.weekendShare)}`),a.value.showEveningShare&&s.summary.eveningShare!=null&&p.push(`Evening ${f(s.summary.eveningShare)}`),p.join("  ")}),o=j(()=>{const p=[];if(a.value.showEarliestLatest){const u=g(s.summary.earliestStart),v=g(s.summary.latestEnd);(u||v)&&p.push({label:"Earliest/Late",value:`${u||""} / ${v||""}`})}return a.value.showOverlaps&&s.summary.overlapEvents!=null&&p.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),p}),i=j(()=>{const p=[];return a.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&p.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),a.value.showLastDayOff&&s.summary.lastDayOff&&p.push({label:"Last day off",value:d(s.summary.lastDayOff)}),a.value.showLastDayOff&&s.summary.lastHalfDayOff&&p.push({label:"Last half day",value:d(s.summary.lastHalfDayOff)}),p});function c(p,u){return p&&u?`${p}${u}`:p?`${p}`:u?`${u}`:""}function f(p){return`${Number(p||0).toFixed(1)}%`}function g(p){return p?p.length>=16?p.slice(11,16):p.length>=5?p.slice(0,5):null:null}function d(p){const u=p.trim();if(!u)return"";if(u.split("-").length>=2){const h=new Date(u.length===10?`${u}T00:00:00`:u);if(!Number.isNaN(h.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(h)}return u}return(p,u)=>(x(),$("div",id,[l("div",ld,[l("span",null,"Activity & Schedule ("+D(p.rangeLabel)+")",1),p.summary.rangeLabel?(x(),$("span",cd,D(p.summary.rangeLabel),1)):Z("",!0)]),n.value?(x(),$("div",ud,[l("span",null,D(n.value),1)])):Z("",!0),r.value?(x(),$("div",dd,[l("span",null,D(r.value),1)])):Z("",!0),o.value.length?(x(),$("div",fd,[(x(!0),$(le,null,Le(o.value,v=>(x(),$("span",{key:v.label},[l("strong",null,D(v.label),1),be(" "+D(v.value),1)]))),128))])):Z("",!0),i.value.length?(x(),$("div",gd,[(x(!0),$(le,null,Le(i.value,v=>(x(),$("span",{key:v.label},[l("strong",null,D(v.label),1),be(" "+D(v.value),1)]))),128))])):Z("",!0),a.value.showHint&&p.categoryHint?(x(),$("div",pd,D(p.categoryHint),1)):Z("",!0)]))}}),[["__scopeId","data-v-054cbd84"]]),md={class:"card balance-card"},vd={class:"balance-card__header"},yd={key:0,class:"balance-card__hero"},bd={key:1,class:"balance-card__relations"},wd={key:2,class:"balance-card__trend"},_d={key:3,class:"balance-card__insights"},kd={key:4,class:"balance-card__warnings"},xd=mt(Te({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,a=j(()=>Object.assign({},t,s.config??{})),n=j(()=>{if(!s.overview)return"";const f=s.overview.index??0,g=s.overview.categories.filter(p=>p.share>.1).slice(0,4).map(p=>`${p.label} ${p.share.toFixed(0)}%`),d=g.length?`  ${g.join(" | ")}`:"";return`Balance Index ${f.toFixed(2)}${d}`}),r=j(()=>{var f;return!s.overview||!((f=s.overview.relations)!=null&&f.length)?"":s.overview.relations.map(g=>`${g.label} ${g.value}`).join("  ")}),o=j(()=>{var g;if(!s.overview)return"";const f=((g=s.overview.trend)==null?void 0:g.delta)??[];return f.length?f.map(d=>{const p=d.delta>0?"+":d.delta<0?"":"";return`${d.label} ${p}${Math.abs(d.delta).toFixed(1)} pp`}).join(", "):""}),i=j(()=>{var f;return a.value.showInsights?((f=s.overview)==null?void 0:f.insights)??[]:[]}),c=j(()=>{var f;return((f=s.overview)==null?void 0:f.warnings)??[]});return(f,g)=>(x(),$("div",md,[l("div",vd,[l("span",null,"Balance Overview ("+D(f.rangeLabel)+")",1)]),n.value?(x(),$("div",yd,[l("span",null,D(n.value),1)])):Z("",!0),r.value?(x(),$("div",bd,D(r.value),1)):Z("",!0),o.value?(x(),$("div",wd,[g[0]||(g[0]=l("strong",null,"WoW-:",-1)),be(" "+D(o.value),1)])):Z("",!0),i.value.length?(x(),$("ul",_d,[(x(!0),$(le,null,Le(i.value,d=>(x(),$("li",{key:d}," "+D(d),1))),128))])):Z("",!0),c.value.length?(x(),$("ul",kd,[(x(!0),$(le,null,Le(c.value,d=>(x(),$("li",{key:d}," "+D(d),1))),128))])):Z("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]),Sd={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},Cd={class:"sb-actions"},$d={class:"sb-list"},Md=["aria-pressed","onClick"],Td={class:"cal-name"},Ad={class:"cal-fields"},Dd={class:"field"},Ed=["value","onChange"],Id=["value"],Pd={class:"field"},Nd=["value","title","aria-invalid","onInput"],Od=Te({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:a,range:n,isLoading:r,categoryOptions:o,calendarTargetMessages:i}=Ba(t),c=g=>t.calendarCategoryId(g),f=g=>t.getTarget(g);return(g,d)=>(x(),$("div",Sd,[l("div",Cd,[ce(_(Ge),{type:"tertiary",disabled:_(r),onClick:d[0]||(d[0]=p=>g.$emit("select-all",!0))},{default:Ie(()=>[...d[2]||(d[2]=[be("All",-1)])]),_:1},8,["disabled"]),ce(_(Ge),{type:"tertiary",disabled:_(r),onClick:d[1]||(d[1]=p=>g.$emit("select-all",!1))},{default:Ie(()=>[...d[3]||(d[3]=[be("None",-1)])]),_:1},8,["disabled"])]),d[8]||(d[8]=Sl('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),l("div",$d,[(x(!0),$(le,null,Le(_(s),p=>{var u,v;return x(),$("div",{key:p.id,class:"cal-card"},[l("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":_(a).includes(p.id),onClick:h=>g.$emit("toggle-calendar",p.id)},[l("span",{class:"color-dot",style:bt({background:p.color||"var(--brand)"})},null,4),l("span",Td,D(p.displayname||p.id),1),l("span",{class:ve(["cal-state",{on:_(a).includes(p.id)}])},D(_(a).includes(p.id)?"Selected":"Hidden"),3)],8,Md),l("div",Ad,[l("label",Dd,[d[5]||(d[5]=l("span",{class:"label"},"Category",-1)),l("select",{value:c(p.id),onChange:h=>g.$emit("set-category",{id:p.id,category:h.target.value})},[d[4]||(d[4]=l("option",{value:""},"Unassigned",-1)),(x(!0),$(le,null,Le(_(o),h=>(x(),$("option",{key:h.id,value:h.id},D(h.label),9,Id))),128))],40,Ed)]),l("label",Pd,[d[6]||(d[6]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:f(p.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${_(n)==="week"?"week":"month"}) in hours`,"aria-invalid":!!_(i)[p.id],class:"target-input",onInput:h=>g.$emit("target-input",{id:p.id,value:h.target.value})},null,40,Nd),_(i)[p.id]?(x(),$("div",{key:0,class:ve(["input-message",(u=_(i)[p.id])==null?void 0:u.tone])},D((v=_(i)[p.id])==null?void 0:v.text),3)):Z("",!0)])])])}),128)),d[7]||(d[7]=l("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),Ld={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},Hd={class:"onboarding-action"},Fd={class:"target-config"},Rd={class:"field"},Wd=["value","aria-invalid"],Bd={class:"field"},jd=["value","aria-invalid"],Ud={class:"preset-buttons"},zd={class:"cat-header"},Vd=["value","onInput"],Kd=["disabled","onClick"],qd={class:"cat-fields"},Gd={class:"field"},Jd=["value","aria-invalid","onInput"],Zd={class:"field"},Yd=["value","onChange"],Xd={class:"field checkbox"},Qd=["checked","onChange"],ef={class:"target-section"},tf={class:"field checkbox"},sf=["checked"],af={class:"field"},nf=["value"],rf={class:"field"},of=["value","aria-invalid"],lf={class:"field"},cf=["value","aria-invalid"],uf={class:"target-section"},df={class:"field"},ff=["value"],gf={class:"field"},pf=["value","aria-invalid"],hf={class:"field"},mf=["value","aria-invalid"],vf={class:"target-section"},yf={class:"field checkbox"},bf=["checked"],wf={class:"field checkbox"},_f=["checked"],kf={class:"field checkbox"},xf=["checked"],Sf={class:"field checkbox"},Cf=["checked"],$f={class:"field checkbox"},Mf=["checked"],Tf={class:"field checkbox"},Af=["checked"],Df={class:"field checkbox"},Ef=["checked"],If={class:"field checkbox"},Pf=["checked"],Nf=mt(Te({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days","rerun-onboarding"],setup(e){return(t,s)=>{var a,n,r,o,i,c,f,g,d,p,u,v;return x(),$("div",Ld,[s[51]||(s[51]=l("div",{class:"sb-title"},"Target Settings",-1)),l("div",Hd,[ce(_(Ge),{type:"secondary",size:"small",class:"onboarding-btn",onClick:s[0]||(s[0]=h=>t.$emit("rerun-onboarding"))},{default:Ie(()=>[...s[21]||(s[21]=[be(" Re-run onboarding ",-1)])]),_:1})]),l("div",Fd,[l("div",Rd,[s[22]||(s[22]=l("span",{class:"label"},"Total target (h)",-1)),l("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[1]||(s[1]=h=>t.$emit("total-target-input",h.target.value))},null,40,Wd),t.totalTargetMessage?(x(),$("div",{key:0,class:ve(["input-message",(a=t.totalTargetMessage)==null?void 0:a.tone])},D((n=t.totalTargetMessage)==null?void 0:n.text),3)):Z("",!0)]),l("div",Bd,[s[23]||(s[23]=l("span",{class:"label"},"All-day event (h per day)",-1)),l("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[2]||(s[2]=h=>t.$emit("set-all-day-hours",h.target.value))},null,40,jd),t.allDayHoursMessage?(x(),$("div",{key:0,class:ve(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},D((o=t.allDayHoursMessage)==null?void 0:o.text),3)):Z("",!0)]),l("div",Ud,[ce(_(Ge),{type:"tertiary",onClick:s[3]||(s[3]=h=>t.$emit("apply-preset","work-week"))},{default:Ie(()=>[...s[24]||(s[24]=[be("Preset: Work-Week",-1)])]),_:1}),ce(_(Ge),{type:"tertiary",onClick:s[4]||(s[4]=h=>t.$emit("apply-preset","balanced-life"))},{default:Ie(()=>[...s[25]||(s[25]=[be("Preset: Balanced-Life",-1)])]),_:1})]),(x(!0),$(le,null,Le(t.categoryOptions,h=>{var y,M;return x(),$("div",{class:"target-category",key:h.id},[l("div",zd,[l("input",{class:"cat-name",type:"text",value:h.label,placeholder:"Category name",onInput:k=>t.$emit("set-category-label",{id:h.id,label:k.target.value})},null,40,Vd),l("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:k=>t.$emit("remove-category",h.id)},"  ",8,Kd)]),l("div",qd,[l("label",Gd,[s[26]||(s[26]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:h.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[h.id],onInput:k=>t.$emit("set-category-target",{id:h.id,value:k.target.value})},null,40,Jd),t.categoryTargetMessages[h.id]?(x(),$("div",{key:0,class:ve(["input-message",(y=t.categoryTargetMessages[h.id])==null?void 0:y.tone])},D((M=t.categoryTargetMessages[h.id])==null?void 0:M.text),3)):Z("",!0)]),l("label",Zd,[s[28]||(s[28]=l("span",{class:"label"},"Pace mode",-1)),l("select",{value:h.paceMode||t.targets.pace.mode,onChange:k=>t.$emit("set-category-pace",{id:h.id,mode:k.target.value})},[...s[27]||(s[27]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,Yd)]),l("label",Xd,[l("input",{type:"checkbox",checked:h.includeWeekend,onChange:k=>t.$emit("set-category-weekend",{id:h.id,value:k.target.checked})},null,40,Qd),s[29]||(s[29]=l("span",null,"Weekend",-1))])])])}),128)),ce(_(Ge),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[5]||(s[5]=h=>t.$emit("add-category"))},{default:Ie(()=>[...s[30]||(s[30]=[be(" Add category ",-1)])]),_:1},8,["disabled"]),l("div",ef,[s[36]||(s[36]=l("div",{class:"section-title"},"Pace",-1)),l("label",tf,[l("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[6]||(s[6]=h=>t.$emit("set-include-weekend-total",h.target.checked))},null,40,sf),s[31]||(s[31]=l("span",null,"Count weekend in total pace",-1))]),l("label",af,[s[33]||(s[33]=l("span",{class:"label"},"Mode",-1)),l("select",{value:t.targets.pace.mode,onChange:s[7]||(s[7]=h=>t.$emit("set-pace-mode",h.target.value))},[...s[32]||(s[32]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,nf)]),l("label",rf,[s[34]||(s[34]=l("span",{class:"label"},"On track  gap (%)",-1)),l("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[8]||(s[8]=h=>t.$emit("set-threshold",{key:"onTrack",value:h.target.value}))},null,40,of),t.paceThresholdMessages.onTrack?(x(),$("div",{key:0,class:ve(["input-message",(i=t.paceThresholdMessages.onTrack)==null?void 0:i.tone])},D((c=t.paceThresholdMessages.onTrack)==null?void 0:c.text),3)):Z("",!0)]),l("label",lf,[s[35]||(s[35]=l("span",{class:"label"},"At risk  gap (%)",-1)),l("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[9]||(s[9]=h=>t.$emit("set-threshold",{key:"atRisk",value:h.target.value}))},null,40,cf),t.paceThresholdMessages.atRisk?(x(),$("div",{key:0,class:ve(["input-message",(f=t.paceThresholdMessages.atRisk)==null?void 0:f.tone])},D((g=t.paceThresholdMessages.atRisk)==null?void 0:g.text),3)):Z("",!0)])]),l("div",uf,[s[41]||(s[41]=l("div",{class:"section-title"},"Forecast",-1)),l("label",df,[s[38]||(s[38]=l("span",{class:"label"},"Primary method",-1)),l("select",{value:t.targets.forecast.methodPrimary,onChange:s[10]||(s[10]=h=>t.$emit("set-forecast-method",h.target.value))},[...s[37]||(s[37]=[l("option",{value:"linear"},"Linear",-1),l("option",{value:"momentum"},"Momentum",-1)])],40,ff)]),l("label",gf,[s[39]||(s[39]=l("span",{class:"label"},"Momentum window (days)",-1)),l("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[11]||(s[11]=h=>t.$emit("set-forecast-momentum",h.target.value))},null,40,pf),t.forecastMomentumMessage?(x(),$("div",{key:0,class:ve(["input-message",(d=t.forecastMomentumMessage)==null?void 0:d.tone])},D((p=t.forecastMomentumMessage)==null?void 0:p.text),3)):Z("",!0)]),l("label",hf,[s[40]||(s[40]=l("span",{class:"label"},"Padding (h)",-1)),l("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[12]||(s[12]=h=>t.$emit("set-forecast-padding",h.target.value))},null,40,mf),t.forecastPaddingMessage?(x(),$("div",{key:0,class:ve(["input-message",(u=t.forecastPaddingMessage)==null?void 0:u.tone])},D((v=t.forecastPaddingMessage)==null?void 0:v.text),3)):Z("",!0)])]),l("div",vf,[s[50]||(s[50]=l("div",{class:"section-title"},"Display",-1)),l("label",yf,[l("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[13]||(s[13]=h=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:h.target.checked}))},null,40,bf),s[42]||(s[42]=l("span",null,"Show calendar charts",-1))]),l("label",wf,[l("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[14]||(s[14]=h=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:h.target.checked}))},null,40,_f),s[43]||(s[43]=l("span",null,"Show category charts",-1))]),l("label",kf,[l("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[15]||(s[15]=h=>t.$emit("set-ui-option",{key:"showTotalDelta",value:h.target.checked}))},null,40,xf),s[44]||(s[44]=l("span",null,"Show total delta",-1))]),l("label",Sf,[l("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[16]||(s[16]=h=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:h.target.checked}))},null,40,Cf),s[45]||(s[45]=l("span",null,"Show need per day",-1))]),l("label",$f,[l("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[17]||(s[17]=h=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:h.target.checked}))},null,40,Mf),s[46]||(s[46]=l("span",null,"Show categories",-1))]),l("label",Tf,[l("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[18]||(s[18]=h=>t.$emit("set-ui-option",{key:"badges",value:h.target.checked}))},null,40,Af),s[47]||(s[47]=l("span",null,"Status badges",-1))]),l("label",Df,[l("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[19]||(s[19]=h=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:h.target.checked}))},null,40,Ef),s[48]||(s[48]=l("span",null,"Weekend toggle",-1))]),l("label",If,[l("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[20]||(s[20]=h=>t.$emit("set-include-zero-days",h.target.checked))},null,40,Pf),s[49]||(s[49]=l("span",null,"Include zero days in pace",-1))])])])])}}}),[["__scopeId","data-v-b1f9b14e"]]),Of={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},Lf={class:"target-config"},Hf={class:"field"},Ff={class:"summary-mode-toggle"},Rf={class:"target-section"},Wf=["checked","onChange"],Bf=Te({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,a=t,n={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=j(()=>({...n,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,c)=>(x(),$("div",Of,[c[6]||(c[6]=l("div",{class:"sb-title"},"Time Summary",-1)),l("div",Lf,[l("div",Hf,[c[4]||(c[4]=l("span",{class:"label"},"Average mode",-1)),l("div",Ff,[ce(_(ha),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":c[0]||(c[0]=f=>{f&&a("update:activeMode","active")})},{default:Ie(()=>[...c[2]||(c[2]=[be(" Active days ",-1)])]),_:1},8,["checked"]),ce(_(ha),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":c[1]||(c[1]=f=>{f&&a("update:activeMode","all")})},{default:Ie(()=>[...c[3]||(c[3]=[be(" All days ",-1)])]),_:1},8,["checked"])])]),l("div",Rf,[c[5]||(c[5]=l("div",{class:"section-title"},"Display",-1)),(x(),$(le,null,Le(o,f=>l("label",{key:f.key,class:"field checkbox"},[l("input",{type:"checkbox",checked:r.value[f.key],onChange:g=>a("toggle-option",{key:f.key,value:g.target.checked})},null,40,Wf),l("span",null,D(f.label),1)])),64))])])]))}}),jf={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},Uf={class:"section-title-row"},zf=["aria-expanded"],Vf={key:0,class:"section-hint"},Kf={class:"target-section toggle-grid"},qf=["checked","onChange"],Gf={class:"forecast-block"},Jf={class:"field"},Zf=["value"],Yf=["value"],Xf={key:0,class:"section-hint forecast-hint"},Qf=mt(Te({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},forecastMode:{},forecastOptions:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option","update-forecast-mode"],setup(e,{emit:t}){const s=e,a=t,{activitySettings:n,activityToggles:r,forecastMode:o,forecastOptions:i,helpOpen:c}=Ba(s),f=j(()=>{var p;const d=(p=i.value)==null?void 0:p.find(u=>u.value===o.value);return(d==null?void 0:d.description)??""});function g(d){(d==="off"||d==="total"||d==="calendar"||d==="category")&&a("update-forecast-mode",d)}return(d,p)=>(x(),$("div",jf,[l("div",Uf,[p[3]||(p[3]=l("div",{class:"section-title"},"Activity & Schedule",-1)),l("button",{type:"button",class:"info-button","aria-expanded":_(c),"aria-label":"Activity & Schedule help",onClick:p[0]||(p[0]=u=>a("toggle-help"))},[...p[2]||(p[2]=[l("span",null,"?",-1)])],8,zf)]),_(c)?(x(),$("p",Vf,"Choose which metrics appear on the Activity & Schedule card.")):Z("",!0),l("div",Kf,[(x(!0),$(le,null,Le(_(r),([u,v])=>(x(),$("label",{key:u,class:"field checkbox toggle-field"},[l("input",{type:"checkbox",checked:_(n)[u],onChange:h=>a("toggle-option",{key:u,value:h.target.checked})},null,40,qf),l("span",null,D(v),1)]))),128))]),l("div",Gf,[p[5]||(p[5]=l("div",{class:"section-title"},"Bar chart projection",-1)),l("label",Jf,[p[4]||(p[4]=l("span",{class:"label"},"Projection mode",-1)),l("select",{value:_(o),onChange:p[1]||(p[1]=u=>g(u.target.value))},[(x(!0),$(le,null,Le(_(i),u=>(x(),$("option",{key:u.value,value:u.value},D(u.label),9,Yf))),128))],40,Zf)]),f.value?(x(),$("p",Xf,D(f.value),1)):Z("",!0)])]))}}),[["__scopeId","data-v-4d86aa83"]]),eg={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},tg={class:"section-title-row"},sg=["aria-expanded"],ag={class:"target-section"},ng={class:"section-title-row"},rg=["aria-expanded"],og={key:0,class:"section-hint"},ig={class:"field-grid"},lg={class:"field"},cg=["value","aria-invalid"],ug={class:"field"},dg=["value","aria-invalid"],fg={class:"field"},gg=["value","aria-invalid"],pg={class:"target-section"},hg={class:"section-title-row"},mg=["aria-expanded"],vg={key:0,class:"section-hint"},yg={class:"field-grid"},bg={class:"field"},wg=["value"],_g={class:"field"},kg=["value","aria-invalid"],xg={class:"target-section"},Sg={class:"section-title-row"},Cg=["aria-expanded"],$g={key:0,class:"section-hint"},Mg={class:"toggle-grid"},Tg={class:"field checkbox toggle-field"},Ag=["checked"],Dg={class:"field checkbox toggle-field"},Eg=["checked"],Ig={class:"field checkbox toggle-field"},Pg=["checked"],Ng={class:"field-grid mt-8"},Og={class:"field"},Lg=["value","aria-invalid"],Hg=["value"],Fg={class:"field"},Rg=["value","aria-invalid"],Wg=["value"],Bg=Te({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,a=t,{balanceSettings:n,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:c,helpThresholds:f,helpTrend:g,helpDisplay:d}=Ba(s);return(p,u)=>{var v,h,y,M,k,C,T,L,Q,J,V,ne;return x(),$("div",eg,[l("div",tg,[u[15]||(u[15]=l("div",{class:"section-title subtitle"},"Balance Overview",-1)),l("button",{type:"button",class:"info-button","aria-expanded":_(f)||_(g)||_(d),"aria-label":"Balance Overview help",onClick:u[0]||(u[0]=z=>a("toggle-help","all"))},[...u[14]||(u[14]=[l("span",null,"?",-1)])],8,sg)]),l("div",ag,[l("div",ng,[u[17]||(u[17]=l("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),l("button",{type:"button",class:"info-button","aria-expanded":_(f),"aria-label":"Thresholds help",onClick:u[1]||(u[1]=z=>a("toggle-help","thresholds"))},[...u[16]||(u[16]=[l("span",null,"?",-1)])],8,rg)]),_(f)?(x(),$("p",og,"Set the share/index limits that trigger balance warnings.")):Z("",!0),l("div",ig,[l("label",lg,[u[18]||(u[18]=l("span",{class:"label"},"Notice max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.noticeMaxShare,"aria-invalid":!!_(r).noticeMaxShare,onInput:u[2]||(u[2]=z=>a("set-threshold",{key:"noticeMaxShare",value:z.target.value}))},null,40,cg),_(r).noticeMaxShare?(x(),$("div",{key:0,class:ve(["input-message",(v=_(r).noticeMaxShare)==null?void 0:v.tone])},D((h=_(r).noticeMaxShare)==null?void 0:h.text),3)):Z("",!0)]),l("label",ug,[u[19]||(u[19]=l("span",{class:"label"},"Warn max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.warnMaxShare,"aria-invalid":!!_(r).warnMaxShare,onInput:u[3]||(u[3]=z=>a("set-threshold",{key:"warnMaxShare",value:z.target.value}))},null,40,dg),_(r).warnMaxShare?(x(),$("div",{key:0,class:ve(["input-message",(y=_(r).warnMaxShare)==null?void 0:y.tone])},D((M=_(r).warnMaxShare)==null?void 0:M.text),3)):Z("",!0)]),l("label",fg,[u[20]||(u[20]=l("span",{class:"label"},"Warn index",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.warnIndex,"aria-invalid":!!_(r).warnIndex,onInput:u[4]||(u[4]=z=>a("set-threshold",{key:"warnIndex",value:z.target.value}))},null,40,gg),_(r).warnIndex?(x(),$("div",{key:0,class:ve(["input-message",(k=_(r).warnIndex)==null?void 0:k.tone])},D((C=_(r).warnIndex)==null?void 0:C.text),3)):Z("",!0)])])]),l("div",pg,[l("div",hg,[u[22]||(u[22]=l("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),l("button",{type:"button",class:"info-button","aria-expanded":_(g),"aria-label":"Trend help",onClick:u[5]||(u[5]=z=>a("toggle-help","trend"))},[...u[21]||(u[21]=[l("span",null,"?",-1)])],8,mg)]),_(g)?(x(),$("p",vg,"Control the comparison window and how ratios are expressed.")):Z("",!0),l("div",yg,[l("label",bg,[u[24]||(u[24]=l("span",{class:"label"},"Relation display",-1)),l("select",{value:_(n).relations.displayMode,onChange:u[6]||(u[6]=z=>a("set-relation",z.target.value))},[...u[23]||(u[23]=[l("option",{value:"ratio"},"Ratio (A : B)",-1),l("option",{value:"factor"},"Factor (A)",-1)])],40,wg)]),l("label",_g,[u[25]||(u[25]=l("span",{class:"label"},"Trend lookback (weeks)",-1)),l("input",{type:"number",min:"1",max:"12",step:"1",value:_(n).trend.lookbackWeeks,"aria-invalid":!!_(o),onInput:u[7]||(u[7]=z=>a("set-lookback",z.target.value))},null,40,kg),_(o)?(x(),$("div",{key:0,class:ve(["input-message",(T=_(o))==null?void 0:T.tone])},D((L=_(o))==null?void 0:L.text),3)):Z("",!0)])])]),l("div",xg,[l("div",Sg,[u[27]||(u[27]=l("div",{class:"section-subtitle subtitle"},"Display",-1)),l("button",{type:"button",class:"info-button","aria-expanded":_(d),"aria-label":"Display help",onClick:u[8]||(u[8]=z=>a("toggle-help","display"))},[...u[26]||(u[26]=[l("span",null,"?",-1)])],8,Cg)]),_(d)?(x(),$("p",$g,"Toggle optional insights and adjust rounding for the card values.")):Z("",!0),l("div",Mg,[l("label",Tg,[l("input",{type:"checkbox",checked:_(n).ui.showInsights,onChange:u[9]||(u[9]=z=>a("set-ui-toggle",{key:"showInsights",value:z.target.checked}))},null,40,Ag),u[28]||(u[28]=l("span",null,"Insights",-1))]),l("label",Dg,[l("input",{type:"checkbox",checked:_(n).ui.showDailyStacks,onChange:u[10]||(u[10]=z=>a("set-ui-toggle",{key:"showDailyStacks",value:z.target.checked}))},null,40,Eg),u[29]||(u[29]=l("span",null,"Daily mix (experimental)",-1))]),l("label",Ig,[l("input",{type:"checkbox",checked:_(n).dayparts.enabled,onChange:u[11]||(u[11]=z=>a("set-ui-toggle",{key:"dayparts",value:z.target.checked}))},null,40,Pg),u[30]||(u[30]=l("span",null,"Dayparts",-1))])]),l("div",Ng,[l("label",Og,[u[31]||(u[31]=l("span",{class:"label"},"Percent precision",-1)),l("select",{value:_(n).ui.roundPercent,"aria-invalid":!!_(i).roundPercent,onChange:u[12]||(u[12]=z=>a("set-ui-precision",{key:"roundPercent",value:z.target.value}))},[(x(!0),$(le,null,Le(_(c),z=>(x(),$("option",{key:`round-percent-${z}`,value:z},D(z),9,Hg))),128))],40,Lg),_(i).roundPercent?(x(),$("div",{key:0,class:ve(["input-message",(Q=_(i).roundPercent)==null?void 0:Q.tone])},D((J=_(i).roundPercent)==null?void 0:J.text),3)):Z("",!0)]),l("label",Fg,[u[32]||(u[32]=l("span",{class:"label"},"Ratio precision",-1)),l("select",{value:_(n).ui.roundRatio,"aria-invalid":!!_(i).roundRatio,onChange:u[13]||(u[13]=z=>a("set-ui-precision",{key:"roundRatio",value:z.target.value}))},[(x(!0),$(le,null,Le(_(c),z=>(x(),$("option",{key:`round-ratio-${z}`,value:z},D(z),9,Wg))),128))],40,Rg),_(i).roundRatio?(x(),$("div",{key:0,class:ve(["input-message",(V=_(i).roundRatio)==null?void 0:V.tone])},D((ne=_(i).roundRatio)==null?void 0:ne.text),3)):Z("",!0)])])])])}}}),jg={class:"notes-section"},Ug=["title"],zg=["value"],Vg=["title"],Kg=["value"],qg={class:"notes-actions"},Gg=mt(Te({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(x(),$("div",jg,[l("div",{class:"hint",title:t.prevTitle},D(t.prevLabel),9,Ug),l("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,zg),l("div",{class:"hint",title:t.currTitle},D(t.currLabel),9,Vg),l("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=a=>t.$emit("update:modelValue",a.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,Kg),l("div",qg,[ce(_(Ge),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=a=>t.$emit("save"))},{default:Ie(()=>[...s[2]||(s[2]=[be("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),Jg={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},Zg=Te({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,a=t,{previous:n,modelValue:r,prevLabel:o,currLabel:i,prevTitle:c,currTitle:f,saving:g}=s;return(d,p)=>(x(),$("div",Jg,[p[2]||(p[2]=l("div",{class:"sb-title"},"Notes",-1)),ce(Gg,{previous:_(n),"model-value":_(r),"prev-label":_(o),"curr-label":_(i),"prev-title":_(c),"curr-title":_(f),saving:_(g),"onUpdate:modelValue":p[0]||(p[0]=u=>a("update:modelValue",u)),onSave:p[1]||(p[1]=u=>a("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}}),Yg={id:"opsdash-sidebar-pane-config",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-config"},Xg={class:"preset-form"},Qg=["disabled"],ep={key:0,class:"preset-error"},tp={key:0,class:"preset-warnings"},sp={class:"preset-header"},ap={key:1,class:"preset-empty"},np={key:2,class:"preset-list"},rp={class:"preset-meta"},op={class:"preset-name"},ip={class:"preset-info"},lp={key:0},cp={class:"preset-actions"},up=mt(Te({__name:"SidebarConfigPane",props:{presets:{},isLoading:{type:Boolean},isSaving:{type:Boolean},isApplying:{type:Boolean},warnings:{}},emits:["save","load","delete","refresh","clear-warnings"],setup(e,{emit:t}){const s=t,a=se(""),n=se(null);function r(){const f=a.value.trim();if(!f){n.value="Enter a profile name";return}n.value=null,s("save",f),a.value=""}function o(f){s("load",f)}function i(f){window.confirm(`Delete profile "${f}"?`)&&s("delete",f)}function c(f){if(!f)return"";const g=new Date(f);if(Number.isNaN(g.getTime()))return f;const p=new Date().getTime()-g.getTime(),u=Math.round(p/6e4);if(u<1)return"just now";if(u<60)return`${u} min ago`;const v=Math.round(u/60);if(v<24)return`${v} h ago`;const h=Math.round(v/24);return h<7?`${h} d ago`:g.toLocaleDateString()}return as(()=>{s("refresh")}),(f,g)=>(x(),$("div",Yg,[g[8]||(g[8]=l("div",{class:"sb-title"},"Configuration Profiles",-1)),g[9]||(g[9]=l("p",{class:"sb-description"}," Save and restore complete sidebar configurations (calendars, groups, targets, settings). ",-1)),l("div",Xg,[g[3]||(g[3]=l("label",{class:"preset-label",for:"preset-name"},"Profile name",-1)),_s(l("input",{id:"preset-name","onUpdate:modelValue":g[0]||(g[0]=d=>a.value=d),type:"text",placeholder:"e.g. Focus week",disabled:f.isSaving,onKeyup:ic(r,["enter"])},null,40,Qg),[[ac,a.value]]),n.value?(x(),$("div",ep,D(n.value),1)):Z("",!0),ce(_(Ge),{class:"preset-save",type:"primary",disabled:f.isSaving||!a.value.trim(),onClick:r},{default:Ie(()=>[be(D(f.isSaving?"Saving":"Save current configuration"),1)]),_:1},8,["disabled"])]),f.warnings.length?(x(),$("div",tp,[g[5]||(g[5]=l("div",{class:"warnings-title"},"Warnings",-1)),l("ul",null,[(x(!0),$(le,null,Le(f.warnings,(d,p)=>(x(),$("li",{key:p},D(d),1))),128))]),ce(_(Ge),{type:"tertiary",class:"preset-clear",onClick:g[1]||(g[1]=d=>s("clear-warnings"))},{default:Ie(()=>[...g[4]||(g[4]=[be(" Clear warnings ",-1)])]),_:1})])):Z("",!0),l("div",sp,[g[6]||(g[6]=l("h3",null,"Saved profiles",-1)),ce(_(Ge),{type:"tertiary",disabled:f.isLoading,onClick:g[2]||(g[2]=d=>s("refresh"))},{default:Ie(()=>[be(D(f.isLoading?"Refreshing":"Refresh list"),1)]),_:1},8,["disabled"])]),!f.presets.length&&!f.isLoading?(x(),$("div",ap," No profiles yet. Save one above to get started. ")):(x(),$("ul",np,[(x(!0),$(le,null,Le(f.presets,d=>(x(),$("li",{key:d.name,class:"preset-item"},[l("div",rp,[l("div",op,D(d.name),1),l("div",ip,[l("span",null,D(d.selectedCount)+" calendars",1),l("span",null,D(d.calendarCount)+" groups",1),d.updatedAt?(x(),$("span",lp,"Updated "+D(c(d.updatedAt)),1)):Z("",!0)])]),l("div",cp,[ce(_(Ge),{type:"primary",disabled:f.isApplying,onClick:p=>o(d.name)},{default:Ie(()=>[be(D(f.isApplying?"Applying":"Load"),1)]),_:2},1032,["disabled","onClick"]),ce(_(Ge),{type:"tertiary",disabled:f.isApplying,onClick:p=>i(d.name)},{default:Ie(()=>[...g[7]||(g[7]=[be(" Delete ",-1)])]),_:2},1032,["disabled","onClick"])])]))),128))]))]))}}),[["__scopeId","data-v-d602d23c"]]);function dp(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const a=Number(e);if(!Number.isFinite(a))return{value:null,error:"Enter a valid number"};let n=a,r;if(typeof t.min=="number"&&n<t.min&&(n=t.min,r=pn(t)),typeof t.max=="number"&&n>t.max&&(n=t.max,r=pn(t)),typeof t.step=="number"&&t.step>0){const i=gp(n,t.step);i!==n&&(n=i,r=pn(t))}const o=bo(t);return typeof o=="number"&&(n=Number(n.toFixed(o))),{value:n,warning:r}}function fp(e,t){const s=dp(e,t),a=[];return s.error&&a.push({severity:"error",message:s.error}),s.warning&&a.push({severity:"warning",message:s.warning}),{value:s.value,issues:a}}function gp(e,t){const s=bo({step:t}),a=Math.round(e/t)*t;return typeof s=="number"?Number(a.toFixed(s)):a}function bo(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return pp(e.step)}function pp(e){const t=e.toString();if(t.includes("e-")){const[,a]=t.split("e-");return Number(a)}const[,s=""]=t.split(".");return s.length}function pn(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function hp(e,t,s="Enter a valid number"){const a=fp(e,t),n=a.issues.find(i=>i.severity==="error"),r=a.issues.find(i=>i.severity==="warning");let o=null;return n||a.value===null?o={text:(n==null?void 0:n.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!n&&a.value!==null,value:a.value,message:o}}function Mt(e,t,s,a,n){const{ok:r,value:o,message:i}=hp(e,t,n);return s(i),!r||o===null?!1:(a(o),!0)}const mp={class:"rangebar",title:"Time range"},vp={class:"range-actions"},yp=["disabled"],bp=["aria-label"],wp={class:"range-toggle"},_p={class:"range-nav"},kp={class:"range-dates"},xp={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},Sp=["aria-selected"],Cp=["aria-selected"],$p=["aria-selected"],Mp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},Tp=["aria-selected"],Ap=["aria-selected"],Dp=["aria-selected"],Ep={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Advanced configuration"},Ip=["aria-selected"],Pp=mt(Te({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{},presets:{},presetsLoading:{type:Boolean},presetSaving:{type:Boolean},presetApplying:{type:Boolean},presetWarnings:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav","save-preset","load-preset","delete-preset","refresh-presets","clear-preset-warnings","rerun-onboarding"],setup(e,{emit:t}){const s=e,a=t,n=se("calendars"),r=j(()=>s.targetsConfig),o=j(()=>{var S;return((S=r.value)==null?void 0:S.categories)??[]}),i=j(()=>s.presets??[]);function c(S){const b=at(JSON.parse(JSON.stringify(s.targetsConfig||{})));S(b),a("update:targets-config",b)}const f=j(()=>ee()!==null),g=j(()=>{var S;return((S=r.value)==null?void 0:S.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),d=j(()=>{var S;return{...is(),...((S=r.value)==null?void 0:S.activityCard)??{}}}),p={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},u=j(()=>Object.entries(p)),v=[{value:"off",label:"Do not project future days",description:"Keep charts empty until events occur."},{value:"total",label:"Distribute remaining total target",description:"Split leftover total target hours evenly across future days using current calendar mix."},{value:"calendar",label:"Respect calendar targets",description:"Use per-calendar targets for the current range and spread remaining hours across future days."},{value:"category",label:"Respect category targets",description:"Allocate remaining category targets across future days according to current mappings."}],h=j(()=>{var N;const S=ln(),b=((N=r.value)==null?void 0:N.balance)??S;return{...S,...b,thresholds:{...S.thresholds,...b.thresholds??{}},relations:{...S.relations,...b.relations??{}},trend:{...S.trend,...b.trend??{}},dayparts:{...S.dayparts,...b.dayparts??{}},ui:{...S.ui,...b.ui??{}}}}),y=[0,1,2,3],M=kt({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),k=kt({}),C=kt({}),T=se(null),L=se(null),Q=kt({onTrack:null,atRisk:null}),J=kt({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),V=se(null),ne=se(null),z=se(null),G=kt({roundPercent:null,roundRatio:null});function ee(){const S=new Set;for(const b of o.value)(b.groupIds||[]).forEach(N=>S.add(Number(N)));Object.values(s.groupsById||{}).forEach(b=>S.add(Number(b)));for(let b=1;b<=9;b++)if(!S.has(b))return b;return null}function ye(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function Oe(S){const b=oe(S),N=o.value.find(me=>Array.isArray(me.groupIds)&&me.groupIds.includes(b));return N?N.id:""}function Y(S,b){if(!b){a("set-group",{id:S,n:0});return}const N=o.value.find(ft=>ft.id===b);if(!N){a("set-group",{id:S,n:0});return}const me=pe(N.id);a("set-group",{id:S,n:me})}function pe(S){const b=o.value.find(ft=>ft.id===S);if(!b)return 0;const N=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;if(N&&Number.isFinite(N))return N;const me=ee()??0;return c(ft=>{const wa=ft.categories.find(bn=>bn.id===S);wa&&(wa.groupIds=me?[me]:[])}),me}function te(S,b){c(N=>{const me=N.categories.find(ft=>ft.id===S);me&&b(me)})}function oe(S){const b=Number((s.groupsById||{})[S]??0);return isFinite(b)?Math.max(0,Math.min(9,Math.trunc(b))):0}function Se(S){const b=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},N=Number(b[S]??"");return isFinite(N)?N:""}function Pe(S){a("select-all",S)}function $e(S){a("toggle-calendar",S)}function _e(S){Y(S.id,S.category)}function ke(S){m(S.id,S.value)}function Ae(S){P(S.key,S.value)}function Ve(S){I(S.key,S.value)}function De(S){S!=="off"&&S!=="total"&&S!=="calendar"&&S!=="category"||c(b=>{b.activityCard||(b.activityCard=is()),b.activityCard.forecastMode=S})}function Me(){M.activity=!M.activity}function re(S){if(S==="all"){const b=!(M.balanceThresholds&&M.balanceTrend&&M.balanceDisplay);M.balanceThresholds=b,M.balanceTrend=b,M.balanceDisplay=b;return}S==="thresholds"?M.balanceThresholds=!M.balanceThresholds:S==="trend"?M.balanceTrend=!M.balanceTrend:S==="display"&&(M.balanceDisplay=!M.balanceDisplay)}function We(S){X(S.key,S.value)}function Ue(S){if(S.key==="dayparts"){c(b=>{b.balance.dayparts.enabled=S.value});return}ue(S.key,S.value)}function dt(S){fe(S.key,S.value)}function m(S,b){Mt(b,{min:0,max:1e4,step:.25,decimals:2},N=>{k[S]=N},N=>a("set-target",{id:S,h:N}))}function w(S){Mt(S,{min:0,max:1e3,step:.5,decimals:2},b=>{T.value=b},b=>c(N=>{N.totalHours=b}))}function A(S){Mt(S,{min:0,max:24,step:.25,decimals:2},b=>{L.value=b},b=>c(N=>{N.allDayHours=b}),"024 hours per day")}function O(S,b){Mt(b,{min:0,max:1e3,step:.5,decimals:2},N=>{C[S]=N},N=>te(S,me=>{me.targetHours=N}))}function R(S,b){te(S,N=>{N.label=b.trim()||N.label})}function H(S,b){te(S,N=>{N.includeWeekend=b})}function W(S){s.activeDayMode!==S&&a("update:active-mode",S)}function P(S,b){c(N=>{N.timeSummary||(N.timeSummary=JSON.parse(JSON.stringify(g.value))),N.timeSummary[S]=b})}function I(S,b){c(N=>{N.activityCard||(N.activityCard=is()),N.activityCard[S]=b})}function E(S,b){b!=="days_only"&&b!=="time_aware"||te(S,N=>{N.paceMode=b})}function K(S){c(b=>{b.pace.includeWeekendTotal=S})}function B(S){S!=="days_only"&&S!=="time_aware"||c(b=>{b.pace.mode=S})}function q(S,b){Mt(b,{min:-100,max:100,step:.1,decimals:1},N=>{Q[S]=N},N=>c(me=>{me.pace.thresholds[S]=N}))}function X(S,b){Mt(b,{min:0,max:1,step:.01,decimals:2},N=>{J[S]=N},N=>c(me=>{me.balance.thresholds[S]=Number(N.toFixed(2))}))}function ae(S){const b=S==="factor"?"factor":"ratio";c(N=>{N.balance.relations.displayMode=b})}function ie(S){Mt(S,{min:1,max:12,step:1,decimals:0},b=>{z.value=b},b=>c(N=>{N.balance.trend.lookbackWeeks=b}))}function ue(S,b){c(N=>{N.balance.ui[S]=b})}function fe(S,b){Mt(b,{min:0,max:3,step:1,decimals:0},N=>{G[S]=N},N=>c(me=>{me.balance.ui[S]=N}))}function we(S){const b=S==="momentum"?"momentum":"linear";c(N=>{N.forecast.methodPrimary=b})}function Be(S){Mt(S,{min:1,max:14,step:1,decimals:0},b=>{V.value=b},b=>c(N=>{N.forecast.momentumLastNDays=b}))}function Je(S){Mt(S,{min:0,max:100,step:.1,decimals:1},b=>{ne.value=b},b=>c(N=>{N.forecast.padding=b}))}function vt(S,b){c(N=>{N.ui[S]=b})}function us(S){c(b=>{b.includeZeroDaysInStats=S})}function Ze(S){c(b=>{S==="work-week"?(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="days_only",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0):S==="balanced-life"&&(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="time_aware",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0)})}function it(){var b;const S=ee();if(S===null){(b=window.alert)==null||b.call(window,"All category slots are currently in use (max 9).");return}c(N=>{N.categories=[...N.categories,{id:ye(),label:`Category ${N.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[S]}]})}function ds(S){if(o.value.length<=1)return;const b=o.value.find(me=>me.id===S);if(!b)return;const N=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;c(me=>{me.categories=me.categories.filter(ft=>ft.id!==S)}),N!==null&&Object.entries(s.groupsById||{}).forEach(([me,ft])=>{Number(ft)===N&&a("set-group",{id:me,n:0})})}return(S,b)=>(x(),Fe(_(pc),null,{default:Ie(()=>[Vi(S.$slots,"actions",{},void 0,!0),b[31]||(b[31]=l("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),l("div",mp,[l("div",vp,[l("button",{class:"sidebar-action-btn",type:"button",disabled:S.isLoading,onClick:b[0]||(b[0]=N=>S.$emit("load"))}," Refresh ",8,yp),l("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:b[1]||(b[1]=N=>S.$emit("toggle-nav")),"aria-label":S.navToggleLabel},D(S.navToggleIcon),9,bp)]),l("div",wp,[ce(_(ha),{type:"radio",name:"range-week",checked:S.range==="week","onUpdate:checked":b[2]||(b[2]=N=>{N&&S.$emit("update:range","week")})},{default:Ie(()=>[...b[27]||(b[27]=[be("Week",-1)])]),_:1},8,["checked"]),ce(_(ha),{type:"radio",name:"range-month",checked:S.range==="month","onUpdate:checked":b[3]||(b[3]=N=>{N&&S.$emit("update:range","month")})},{default:Ie(()=>[...b[28]||(b[28]=[be("Month",-1)])]),_:1},8,["checked"])]),l("div",_p,[ce(_(Ge),{class:"nav-btn",type:"tertiary",disabled:S.isLoading,onClick:b[4]||(b[4]=N=>S.$emit("update:offset",S.offset-1)),title:"Previous"},{default:Ie(()=>[...b[29]||(b[29]=[be("",-1)])]),_:1},8,["disabled"]),l("span",kp,D(S.from)+"  "+D(S.to),1),ce(_(Ge),{class:"nav-btn",type:"tertiary",disabled:S.isLoading,onClick:b[5]||(b[5]=N=>S.$emit("update:offset",S.offset+1)),title:"Next"},{default:Ie(()=>[...b[30]||(b[30]=[be("",-1)])]),_:1},8,["disabled"])])]),l("div",xp,[l("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:ve(["sb-tab",{active:n.value==="calendars"}]),role:"tab","aria-selected":n.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:b[6]||(b[6]=N=>n.value="calendars")}," Calendars ",10,Sp),l("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:ve(["sb-tab",{active:n.value==="targets"}]),role:"tab","aria-selected":n.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:b[7]||(b[7]=N=>n.value="targets")}," Targets ",10,Cp),l("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:ve(["sb-tab",{active:n.value==="summary"}]),role:"tab","aria-selected":n.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:b[8]||(b[8]=N=>n.value="summary")}," Summary ",10,$p)]),l("div",Mp,[l("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:ve(["sb-tab",{active:n.value==="activity"}]),role:"tab","aria-selected":n.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:b[9]||(b[9]=N=>n.value="activity")}," Activity & Schedule ",10,Tp),l("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:ve(["sb-tab",{active:n.value==="balance"}]),role:"tab","aria-selected":n.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:b[10]||(b[10]=N=>n.value="balance")}," Balance ",10,Ap),l("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:ve(["sb-tab",{active:n.value==="notes"}]),role:"tab","aria-selected":n.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:b[11]||(b[11]=N=>n.value="notes")}," Notes ",10,Dp)]),l("div",Ep,[l("button",{id:"opsdash-sidebar-tab-config",type:"button",class:ve(["sb-tab",{active:n.value==="config"}]),role:"tab","aria-selected":n.value==="config","aria-controls":"opsdash-sidebar-pane-config",onClick:b[12]||(b[12]=N=>n.value="config")}," Config ",10,Ip)]),n.value==="calendars"?(x(),Fe(Od,{key:0,calendars:S.calendars,selected:S.selected,range:S.range,"is-loading":S.isLoading,"category-options":o.value,"calendar-target-messages":k,"calendar-category-id":Oe,"get-target":Se,onSelectAll:Pe,onToggleCalendar:$e,onSetCategory:_e,onTargetInput:ke},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):n.value==="targets"?(x(),Fe(Nf,{key:1,targets:r.value,"category-options":o.value,"total-target-message":T.value,"all-day-hours-message":L.value,"category-target-messages":C,"pace-threshold-messages":Q,"forecast-momentum-message":V.value,"forecast-padding-message":ne.value,"can-add-category":f.value,onTotalTargetInput:w,onApplyPreset:Ze,onSetAllDayHours:A,onSetCategoryLabel:b[13]||(b[13]=({id:N,label:me})=>R(N,me)),onRemoveCategory:ds,onSetCategoryTarget:b[14]||(b[14]=({id:N,value:me})=>O(N,me)),onSetCategoryPace:b[15]||(b[15]=({id:N,mode:me})=>E(N,me)),onSetCategoryWeekend:b[16]||(b[16]=({id:N,value:me})=>H(N,me)),onAddCategory:it,onSetIncludeWeekendTotal:K,onSetPaceMode:B,onSetThreshold:b[17]||(b[17]=({key:N,value:me})=>q(N,me)),onSetForecastMethod:we,onSetForecastMomentum:Be,onSetForecastPadding:Je,onSetUiOption:b[18]||(b[18]=({key:N,value:me})=>vt(N,me)),onSetIncludeZeroDays:us,onRerunOnboarding:b[19]||(b[19]=N=>a("rerun-onboarding"))},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):n.value==="summary"?(x(),Fe(Bf,{key:2,"summary-options":g.value,"active-day-mode":S.activeDayMode,"onUpdate:activeMode":W,onToggleOption:Ae},null,8,["summary-options","active-day-mode"])):n.value==="config"?(x(),Fe(up,{key:3,presets:i.value,"is-loading":s.presetsLoading,"is-saving":s.presetSaving,"is-applying":s.presetApplying,warnings:s.presetWarnings,onSave:b[20]||(b[20]=N=>a("save-preset",N)),onLoad:b[21]||(b[21]=N=>a("load-preset",N)),onDelete:b[22]||(b[22]=N=>a("delete-preset",N)),onRefresh:b[23]||(b[23]=()=>a("refresh-presets")),onClearWarnings:b[24]||(b[24]=()=>a("clear-preset-warnings"))},null,8,["presets","is-loading","is-saving","is-applying","warnings"])):n.value==="activity"?(x(),Fe(Qf,{key:4,"activity-settings":d.value,"activity-toggles":u.value,"forecast-mode":d.value.forecastMode,"forecast-options":v,"help-open":M.activity,onToggleHelp:Me,onToggleOption:Ve,onUpdateForecastMode:De},null,8,["activity-settings","activity-toggles","forecast-mode","help-open"])):n.value==="balance"?(x(),Fe(Bg,{key:5,"balance-settings":h.value,"balance-threshold-messages":J,"balance-lookback-message":z.value,"balance-ui-precision-messages":G,"rounding-options":y,"help-thresholds":M.balanceThresholds,"help-trend":M.balanceTrend,"help-display":M.balanceDisplay,onToggleHelp:re,onSetThreshold:We,onSetRelation:ae,onSetLookback:ie,onSetUiToggle:Ue,onSetUiPrecision:dt},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):n.value==="notes"?(x(),Fe(Zg,{key:6,previous:S.notesPrev,"model-value":S.notesCurrDraft,"prev-label":S.notesLabelPrev,"curr-label":S.notesLabelCurr,"prev-title":S.notesLabelPrevTitle,"curr-title":S.notesLabelCurrTitle,saving:S.isSavingNote,"onUpdate:modelValue":b[25]||(b[25]=N=>S.$emit("update:notes",N)),onSave:b[26]||(b[26]=N=>S.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):Z("",!0)]),_:3}))}}),[["__scopeId","data-v-25908492"]]),va=1,Np=[{id:"total_only",title:"Focused",subtitle:"Keep it simple with one total goal",highlights:["Single weekly/monthly target","Great for personal overview","Upgradable later"],layers:{total:!0,categories:!1,calendars:!1},recommendedFor:"Individuals tracking a single workload"},{id:"total_plus_categories",title:"Balanced",subtitle:"Track balance across a few life areas",highlights:["Total goal plus key categories","Automatic category summaries","Calendar grouping suggestions"],layers:{total:!0,categories:!0,calendars:!1},recommendedFor:"Work/life blend with a handful of focus areas"},{id:"full_granular",title:"Power",subtitle:"Targets per category and calendar",highlights:["Detailed per-calendar goals","Category dashboards & pacing","Best for multi-project oversight"],layers:{total:!0,categories:!0,calendars:!0},recommendedFor:"Power users managing several project calendars"}],Op={work:["work","focus","deep","project"],personal:["personal","home","family","life"],recovery:["recovery","wellness","rest","health"],hobby:["hobby","learn","study","growth"],sport:["sport","fitness","gym","run","ride"]};function Lp(e,t,s,a){const n=e.toLowerCase();for(const r of t)if((s[r]||[]).some(i=>n.includes(i)))return r;return t[a%t.length]}function Hp(e){const t={};return Object.entries(e).forEach(([s,a])=>{t[s]=Number((a*4).toFixed(2))}),t}function Fp(){return Np}function Rp(e,t,s){const a=s.length?[...s]:t.map(c=>c.id),n=at(ls()),r={},o={};if(e==="total_plus_categories"||e==="full_granular"){const c=e==="total_plus_categories"?["work","personal","recovery"]:["work","hobby","sport"],f=e==="total_plus_categories"?[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupId:1},{id:"personal",label:"Personal",targetHours:8,includeWeekend:!0,paceMode:"days_only",groupId:2},{id:"recovery",label:"Recovery",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupId:3}]:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupId:1},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupId:2},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupId:3}],g={};let d=0;t.filter(v=>a.includes(v.id)).forEach(v=>{g[v.id]=Lp(v.displayname,c,Op,d),d+=1});const p={};Object.values(g).forEach(v=>{p[v]=(p[v]??0)+1});const u=Is(n);return u.totalHours=f.reduce((v,h)=>v+h.targetHours,0),u.categories=f.map(v=>({id:v.id,label:v.label,targetHours:v.targetHours,includeWeekend:v.includeWeekend,paceMode:v.paceMode,groupIds:[v.groupId]})),u.ui.showCategoryBlocks=!0,u.ui.showCategoryCharts=!0,u.ui.showCalendarCharts=e==="full_granular",u.includeZeroDaysInStats=!1,Object.entries(g).forEach(([v,h])=>{const y=f.find(M=>M.id===h);if(y&&(r[v]=y.groupId,e==="full_granular"&&y.targetHours>0)){const M=p[h]||1,k=Number((y.targetHours/M).toFixed(2));o[v]=k}}),{selected:a,targetsConfig:at(u),groups:r,targetsWeek:o,targetsMonth:Hp(o)}}const i=Is(n);return i.totalHours=40,i.categories=[],i.ui.showCategoryBlocks=!1,i.ui.showCategoryCharts=!1,i.ui.showCalendarCharts=!1,{selected:a,targetsConfig:at(i),groups:r,targetsWeek:o,targetsMonth:{}}}const Wp={class:"onboarding-modal"},Bp={class:"onboarding-header"},jp={class:"onboarding-title"},Up={class:"subtitle"},zp=["disabled"],Vp={class:"onboarding-body"},Kp={key:0,class:"onboarding-step"},qp={key:1,class:"onboarding-step"},Gp={class:"strategy-grid"},Jp=["onClick"],Zp={class:"subtitle"},Yp={key:2,class:"onboarding-step"},Xp={class:"calendar-list"},Qp=["value","checked","onChange"],eh={key:0,class:"warning"},th={key:3,class:"onboarding-step"},sh={class:"review-grid"},ah={key:0},nh={key:1},rh={class:"onboarding-footer"},oh=mt(Te({__name:"OnboardingWizard",props:{visible:{type:Boolean},calendars:{},initialSelection:{},initialStrategy:{},onboardingVersion:{},saving:{type:Boolean}},emits:["close","skip","complete"],setup(e,{emit:t}){const s=e,a=t,n=["intro","strategy","calendars","review"],r=se(0),o=se("total_only"),i=se([]),c=Fp(),f=j(()=>n[r.value]),g=j(()=>r.value+1),d=n.length,p=j(()=>s.saving===!0);ct(()=>s.visible,z=>{z&&u()});function u(){var G;r.value=0,o.value=s.initialStrategy??"total_only";const z=(G=s.initialSelection)!=null&&G.length?[...s.initialSelection]:s.calendars.map(ee=>ee.id);i.value=Array.from(new Set(z.filter(ee=>s.calendars.some(ye=>ye.id===ee))))}const v=j(()=>s.calendars.filter(z=>i.value.includes(z.id))),h=j(()=>Rp(o.value,s.calendars,i.value)),y=j(()=>{var z;return((z=c.find(G=>G.id===o.value))==null?void 0:z.title)??""}),M=j(()=>r.value>0),k=j(()=>r.value<n.length-1),C=j(()=>f.value==="strategy"?!o.value:f.value==="calendars"?i.value.length===0:!1);function T(){k.value&&!C.value&&(r.value+=1)}function L(){M.value&&(r.value-=1)}function Q(){a("skip")}function J(){a("close")}function V(){a("complete",{strategy:o.value,selected:h.value.selected,targetsConfig:h.value.targetsConfig,groups:h.value.groups,targetsWeek:h.value.targetsWeek,targetsMonth:h.value.targetsMonth})}function ne(z,G){G.checked?i.value.includes(z)||(i.value=[...i.value,z]):i.value=i.value.filter(ye=>ye!==z)}return(z,G)=>z.visible?(x(),Fe(_(mc),{key:0,size:"large",onClose:J},{default:Ie(()=>[l("div",Wp,[l("header",Bp,[l("div",jp,[G[0]||(G[0]=l("h2",null,"Welcome to Opsdash",-1)),l("p",Up,"Step "+D(g.value)+" of "+D(_(d)),1)]),l("button",{type:"button",class:"skip-link",onClick:Q,disabled:p.value},"Maybe later",8,zp)]),l("main",Vp,[f.value==="intro"?(x(),$("section",Kp,[...G[1]||(G[1]=[l("h3",null,"Opsdash visualises your calendar time and keeps goals on track.",-1),l("ul",{class:"highlights"},[l("li",null,"Targets  stay aligned with your weekly/monthly goals."),l("li",null,"Balance  ensure your focus areas get the right attention."),l("li",null,"Notes  capture insights and the story behind the numbers.")],-1),l("p",{class:"hint"},"You can change configuration later from the Sidebar.",-1)])])):f.value==="strategy"?(x(),$("section",qp,[G[2]||(G[2]=l("h3",null,"Select a starting strategy",-1)),l("div",Gp,[(x(!0),$(le,null,Le(_(c),ee=>(x(),$("article",{key:ee.id,class:ve(["strategy-card",{active:o.value===ee.id}]),onClick:ye=>o.value=ee.id},[l("h4",null,D(ee.title),1),l("p",Zp,D(ee.subtitle),1),l("ul",null,[(x(!0),$(le,null,Le(ee.highlights,ye=>(x(),$("li",{key:ye},D(ye),1))),128))]),l("footer",null,"Best for: "+D(ee.recommendedFor),1)],10,Jp))),128))])])):f.value==="calendars"?(x(),$("section",Yp,[G[3]||(G[3]=l("h3",null,"Choose calendars to include",-1)),G[4]||(G[4]=l("p",null,"Select the calendars you want to track. You can adjust later at any time.",-1)),l("div",Xp,[(x(!0),$(le,null,Le(z.calendars,ee=>(x(),$("label",{key:ee.id,class:ve(["calendar-item",{checked:i.value.includes(ee.id)}])},[l("input",{type:"checkbox",value:ee.id,checked:i.value.includes(ee.id),onChange:ye=>ne(ee.id,ye.target)},null,40,Qp),l("span",{class:"dot",style:bt({backgroundColor:ee.color||"#3B82F6"})},null,4),l("span",null,D(ee.displayname),1)],2))),128))]),i.value.length?Z("",!0):(x(),$("div",eh,"Select at least one calendar to continue."))])):f.value==="review"?(x(),$("section",th,[G[8]||(G[8]=l("h3",null,"Review your setup",-1)),l("div",sh,[l("div",null,[G[5]||(G[5]=l("h5",null,"Strategy",-1)),l("p",null,D(y.value),1)]),l("div",null,[G[6]||(G[6]=l("h5",null,"Calendars",-1)),l("ul",null,[(x(!0),$(le,null,Le(v.value,ee=>(x(),$("li",{key:ee.id},D(ee.displayname),1))),128))])]),l("div",null,[G[7]||(G[7]=l("h5",null,"Targets preview",-1)),h.value.targetsConfig.categories.length?(x(),$("ul",ah,[(x(!0),$(le,null,Le(h.value.targetsConfig.categories,ee=>(x(),$("li",{key:ee.id},D(ee.label)+"  "+D(ee.targetHours)+" h ",1))),128))])):(x(),$("p",nh,"Total target: "+D(h.value.targetsConfig.totalHours)+" h per week",1))])]),G[9]||(G[9]=l("p",{class:"hint"},"You can fine-tune categories, goals, and pacing once the dashboard loads.",-1))])):Z("",!0)]),l("footer",rh,[M.value?(x(),Fe(_(Ge),{key:0,type:"tertiary",disabled:p.value,onClick:L},{default:Ie(()=>[...G[10]||(G[10]=[be("Back",-1)])]),_:1},8,["disabled"])):Z("",!0),k.value?(x(),Fe(_(Ge),{key:1,type:"primary",disabled:C.value||p.value,onClick:T},{default:Ie(()=>[...G[11]||(G[11]=[be("Continue",-1)])]),_:1},8,["disabled"])):(x(),Fe(_(Ge),{key:2,type:"primary",disabled:p.value,onClick:V},{default:Ie(()=>[...G[12]||(G[12]=[be(" Start dashboard ",-1)])]),_:1},8,["disabled"]))])])]),_:1})):Z("",!0)}}),[["__scopeId","data-v-1578dddc"]]);function ih(e){const t=se(""),s=se(""),a=se(!1);async function n(){var i,c;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((c=o==null?void 0:o.notes)==null?void 0:c.current)??"")}async function r(){try{a.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await n()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{a.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:a,fetchNotes:n,saveNotes:r}}function lh(e){const t=se([]),s=se({}),a=se({}),n=se({}),r=se([]),o=se(!1),i=se(!1),c=se(null),f=se(""),g=se(""),d=se(""),p=kt({}),u=se([]),v=se([]),h=se([]),y=se({}),M=se({}),k=se({}),C=se(at(ls())),T=se(null);let L=0;async function Q(){var G,ee,ye,Oe,Y,pe,te,oe,Se,Pe,$e,_e,ke,Ae,Ve,De;const J=++L;o.value=!0;const V={...a.value},ne={...s.value};let z=!1;try{const Me={range:e.range.value,offset:e.offset.value|0,save:!1},re=await e.getJson(e.route("load"),Me);if(J!==L){(G=e.isDebug)!=null&&G.call(e)&&console.warn("discarding stale load response",{currentSeq:J,loadSeq:L});return}f.value=String(((ee=re.meta)==null?void 0:ee.uid)??""),g.value=String(((ye=re.meta)==null?void 0:ye.from)??""),d.value=String(((Oe=re.meta)==null?void 0:Oe.to)??""),i.value=!!((Y=re.meta)!=null&&Y.truncated),c.value=((pe=re.meta)==null?void 0:pe.limits)??null;const We=P=>{const I={};return P&&typeof P=="object"&&Object.entries(P).forEach(([E,K])=>{typeof K=="string"&&K.trim()!==""&&(I[String(E)]=K)}),I},Ue=Array.isArray(re.calendars)?re.calendars:[],dt=We((te=re.colors)==null?void 0:te.byId),m=We((oe=re.colors)==null?void 0:oe.byName),w=Ue.map(P=>{if(!P||typeof P!="object")return P;const I={...P},E=String(I.id??""),K=String(I.displayname??I.name??I.calendar??E),B=typeof I.color=="string"?I.color:"",q=typeof I.color_src=="string"?I.color_src:"",X=E?dt[E]:"",ae=K?m[K]:"",ie=E?V[E]:"",ue=K?ne[K]:"",fe=ie||ue;let we=B;return!we&&X&&(we=X),!we&&ae&&(we=ae),(!we||q==="fallback")&&fe&&(we=fe),!we&&fe&&(we=fe),we&&(we!==B&&(z=!0),I.color=we,E&&(dt[E]=we),K&&(m[K]=we)),I});t.value=w,s.value=m,a.value=dt,T.value=re.onboarding?{...re.onboarding}:null;const A=()=>{var I,E,K,B;let P=!1;try{const q=((I=y.value)==null?void 0:I.pie)||{},X=Array.isArray(q.ids)?q.ids.map(ae=>String(ae??"")):[];if(X.length){const ae=Array.isArray(q.colors)?q.colors:[],ie=X.map((ue,fe)=>a.value[ue]||ae[fe]||"#60a5fa");y.value={...y.value||{},pie:{...q,colors:ie}},P=!0}}catch(q){(E=e.isDebug)!=null&&E.call(e)&&console.warn("recompute pie colors failed",q)}try{const q=(K=y.value)==null?void 0:K.perDaySeries;if(q&&Array.isArray(q.series)){const X=q.series.map(ae=>{const ie=String((ae==null?void 0:ae.id)??""),ue=a.value[ie]||ae.color||"#60a5fa";return{...ae,color:ue}});y.value={...y.value||{},perDaySeries:{labels:q.labels,series:X}},P=!0}}catch(q){(B=e.isDebug)!=null&&B.call(e)&&console.warn("recompute stacked colors failed",q)}return P},O=((Se=re.groups)==null?void 0:Se.byId)??((Pe=re.groups)==null?void 0:Pe.byID)??(($e=re.groups)==null?void 0:$e.ids)??{},R={};t.value.forEach(P=>{const I=String((P==null?void 0:P.id)??""),E=Number((O==null?void 0:O[I])??0);R[I]=Number.isFinite(E)?Math.max(0,Math.min(9,Math.trunc(E))):0}),n.value=R;const H=((_e=re.targets)==null?void 0:_e.week)??{},W=((ke=re.targets)==null?void 0:ke.month)??{};if(M.value=H&&typeof H=="object"?H:{},k.value=W&&typeof W=="object"?W:{},C.value=at(re.targetsConfig??ls()),(Ae=e.isDebug)!=null&&Ae.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(P=>({id:P.id,name:P.displayname,color:P.color,raw:P.color_raw,src:P.color_src}))),console.log("colors.byId",a.value),console.log("colors.byName",s.value),re.calDebug&&console.log("server calDebug",re.calDebug),re.debug&&(console.group("[opsdash] server query debug"),console.log(re.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(I=>!I.color||I.color_src==="fallback").length)try{const I=await e.fetchDavColors(f.value,t.value.map(K=>String(K.id)));let E=!1;t.value=t.value.map(K=>{const B=I[K.id];return B&&B!==K.color&&(K.color_src="dav"(K).color_raw=B,K.color=B,E=!0),K}),Object.entries(I).forEach(([K,B])=>{if(B){const q=String(B);a.value[K]=q;const X=t.value.find(ie=>String((ie==null?void 0:ie.id)??"")===K);X&&(X.color=q);const ae=X?String(X.displayname??X.name??""):"";ae&&(s.value[ae]=q)}}),E&&((Ve=e.isDebug)!=null&&Ve.call(e)&&console.log("[opsdash] dav colors applied",I),z=!0)}catch(I){(De=e.isDebug)!=null&&De.call(e)&&console.warn("dav colors failed",I)}r.value=Array.isArray(re.selected)?re.selected.map(P=>String(P)):Array.isArray(re.saved)?re.saved.map(P=>String(P)):[],e.userChangedSelection.value=!1,Object.assign(p,re.stats??{}),u.value=Array.isArray(re.byCal)?re.byCal:[],v.value=Array.isArray(re.byDay)?re.byDay:[],h.value=Array.isArray(re.longest)?re.longest:[],y.value=re.charts??{},z&&A(),await Qs(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(Me){console.error(Me),e.notifyError("Failed to load data")}finally{o.value=!1}}return{calendars:t,colorsByName:s,colorsById:a,groupsById:n,selected:r,isLoading:o,isTruncated:i,truncLimits:c,uid:f,from:g,to:d,stats:p,byCal:u,byDay:v,longest:h,charts:y,targetsWeek:M,targetsMonth:k,targetsConfig:C,onboarding:T,load:Q}}function ch(e){const t=se(!1);let s=null;function a(n=!0){s&&clearTimeout(s),s=setTimeout(async()=>{s=null;try{t.value=!0;const r=await e.postJson(e.route("persist"),{cals:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:Is(e.targetsConfig.value)});Array.isArray(r.read)?e.selected.value=r.read.map(c=>String(c)):Array.isArray(r.saved)&&(e.selected.value=r.saved.map(c=>String(c)));const o=r.targets_config_read,i=r.targets_config_saved;o?e.targetsConfig.value=at(o):i&&(e.targetsConfig.value=at(i)),n&&e.onReload&&await e.onReload(),e.notifySuccess("Selection saved")}catch(r){console.error(r),e.notifyError("Failed to save selection")}finally{t.value=!1}},250)}return{queueSave:a,isSaving:t}}const uh=1e4;function dh(e){function t(f){return e.selected.value.includes(f)}function s(f,g){const d=new Set(e.selected.value);g?d.add(f):d.delete(f),e.selected.value=Array.from(d)}function a(f){s(f,!t(f)),e.userChangedSelection.value=!0,e.queueSave()}function n(f){e.selected.value=f?e.calendars.value.map(g=>String(g.id)):[]}function r(f,g){const d=Math.max(0,Math.min(9,Math.trunc(Number(g)||0))),p=e.groupsById.value??{};e.groupsById.value={...p,[f]:d},e.queueSave(!1)}function o(f){const g=Math.round(f*100)/100;return Math.min(uh,Math.max(0,g))}function i(f,g){const d=Number(g);if(!Number.isFinite(d)||d<0)return;const p=o(d);if(e.range.value==="month"){const u=o(p/4);e.targetsMonth.value={...e.targetsMonth.value||{},[f]:p},e.targetsWeek.value={...e.targetsWeek.value||{},[f]:u}}else{const u=o(p*4);e.targetsWeek.value={...e.targetsWeek.value||{},[f]:p},e.targetsMonth.value={...e.targetsMonth.value||{},[f]:u}}e.queueSave(!1)}function c(f){e.targetsConfig.value=at(f),e.queueSave(!1)}return{isSelected:t,toggleCalendar:a,setGroup:r,setTarget:i,updateTargetsConfig:c,selectAll:n}}function fh(e){const t=se([]),s=se(!1),a=se(!1),n=se(!1),r=se([]),o=se(null);async function i(){s.value=!0;try{const u=await e.getJson(e.route("presetsList"),{});t.value=Array.isArray(u==null?void 0:u.presets)?u.presets:[]}catch(u){console.error(u),e.notifyError("Failed to load presets")}finally{s.value=!1}}async function c(u){const v=u.trim();if(v===""){e.notifyError("Enter a preset name.");return}a.value=!0;try{const h={name:v,selected:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:e.targetsConfig.value},y=await e.postJson(e.route("presetsSave"),h);t.value=Array.isArray(y==null?void 0:y.presets)?y.presets:t.value;const M=Array.isArray(y==null?void 0:y.warnings)?y.warnings:[];r.value=M,o.value=v,e.notifySuccess(`Profile "${v}" saved`)}catch(h){console.error(h),e.notifyError("Failed to save preset")}finally{a.value=!1}}function f(u){const v=Array.isArray(u==null?void 0:u.selected)?u.selected.map(M=>String(M)):[];e.selected.value=v;const h=u!=null&&u.groups&&typeof u.groups=="object"?u.groups:{};e.groupsById.value={...h},e.targetsWeek.value=u!=null&&u.targets_week&&typeof u.targets_week=="object"?u.targets_week:{},e.targetsMonth.value=u!=null&&u.targets_month&&typeof u.targets_month=="object"?u.targets_month:{};const y=u!=null&&u.targets_config&&typeof u.targets_config=="object"?at(u.targets_config):Is(e.targetsConfig.value);e.targetsConfig.value=y,e.userChangedSelection.value=!1}async function g(u){const v=u.trim();if(v!==""){n.value=!0;try{const h=await e.getJson(e.route("presetsLoad",v),{}),y=(h==null?void 0:h.preset)??{},M=Array.isArray(y==null?void 0:y.warnings)?y.warnings:Array.isArray(h==null?void 0:h.warnings)?h.warnings:[];if(M.length){const k=`Some items in the saved profile are no longer available:

${M.map(C=>` ${C}`).join(`
`)}

Apply the remaining values?`;if(!window.confirm(k)){r.value=M,n.value=!1;return}}f(y),r.value=M,o.value=v,e.notifySuccess(`Profile "${v}" applied`),e.queueSave(!0),i().catch(k=>console.warn("[opsdash] refresh presets after load failed",k))}catch(h){console.error(h),e.notifyError("Failed to load preset")}finally{n.value=!1}}}async function d(u){const v=u.trim();if(v!=="")try{const h=await e.deleteJson(e.route("presetsDelete",v));t.value=Array.isArray(h==null?void 0:h.presets)?h.presets:t.value,e.notifySuccess(`Profile "${v}" deleted`),o.value===v&&(o.value=null)}catch(h){console.error(h),e.notifyError("Failed to delete preset")}}function p(){r.value=[]}return{presets:t,presetsLoading:s,presetSaving:a,presetApplying:n,presetWarnings:r,lastLoadedPreset:o,refreshPresets:i,savePreset:c,loadPreset:g,deletePreset:d,clearPresetWarnings:p}}function gh(){let e=null;function t(){typeof window>"u"||typeof window.requestAnimationFrame!="function"||(e!==null&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{e=null,window.dispatchEvent(new Event("resize"))}))}return Va(()=>{e!==null&&typeof window<"u"&&typeof window.cancelAnimationFrame=="function"&&(window.cancelAnimationFrame(e),e=null)}),{scheduleDraw:t}}const ph={load:"/apps/opsdash/overview/load",persist:"/apps/opsdash/overview/persist",notes:"/apps/opsdash/overview/notes",notesSave:"/apps/opsdash/overview/notes",presetsList:"/apps/opsdash/overview/presets",presetsSave:"/apps/opsdash/overview/presets",presetsLoad:"/apps/opsdash/overview/presets",presetsDelete:"/apps/opsdash/overview/presets",ping:"/apps/opsdash/overview/ping"};function hh(){var t,s;const e=typeof window<"u"?window:{};return e.OC&&(e.OC.webroot||((s=(t=e.OC).getRootPath)==null?void 0:s.call(t)))||e._oc_webroot||""}function mh(){const e=j(()=>hh());function t(o,i){const c=typeof window<"u"?window:{},f=ph[o];if(o==="presetsLoad"||o==="presetsDelete"){const g=`${f}/${encodeURIComponent(String(i??""))}`;return c.OC&&typeof c.OC.generateUrl=="function"?c.OC.generateUrl(g):`${e.value}${g}`}return c.OC&&typeof c.OC.generateUrl=="function"?c.OC.generateUrl(f):`${e.value}${f}`}function s(o){const i=new URLSearchParams;return Object.entries(o||{}).forEach(([c,f])=>{Array.isArray(f)?f.forEach(g=>i.append(c,String(g))):f!=null&&i.set(c,String(f))}),i.toString()}async function a(o,i){const c=s(i),f=c?`${o}${o.includes("?")?"&":"?"}${c}`:o,g=await fetch(f,{method:"GET",credentials:"same-origin"});if(!g.ok)throw new Error(`HTTP ${g.status}`);return await g.json()}async function n(o,i){var p;const c=typeof window<"u"?window:{},f=((p=c.OC)==null?void 0:p.requestToken)||c.oc_requesttoken||"",g={"Content-Type":"application/json"};f&&(g.requesttoken=f);const d=await fetch(o,{method:"POST",credentials:"same-origin",headers:g,body:JSON.stringify(i||{})});if(!d.ok)throw new Error(`HTTP ${d.status}`);return await d.json()}async function r(o){var p;const i=typeof window<"u"?window:{},c=((p=i.OC)==null?void 0:p.requestToken)||i.oc_requesttoken||"",f={};c&&(f.requesttoken=c);const g=await fetch(o,{method:"DELETE",credentials:"same-origin",headers:f});if(!g.ok)throw new Error(`HTTP ${g.status}`);const d=await g.text();return d?JSON.parse(d):{}}return{route:t,getJson:a,postJson:n,deleteJson:r,root:e}}function wo(e){const t=typeof document<"u"?document.getElementById("app"):null;if(!t||!t.dataset)return"";const s=t.dataset;return s?String(s[e]??""):""}function vh(e){const t=se(0),s=j(()=>{var d;const c=[],f=typeof window<"u"?window:{};try{if((d=f.OC)!=null&&d.imagePath){const p=f.OC.imagePath("opsdash","app.svg");p&&c.push(p)}}catch{}const g=e.root.value;return c.push(`${g}/apps/opsdash/img/app.svg`),c.push(`${g}/apps-extra/opsdash/img/app.svg`),c.push(`${g}/apps-writable/opsdash/img/app.svg`),c}),a=j(()=>s.value[Math.min(t.value,s.value.length-1)]||"");function n(){t.value+1<s.value.length&&t.value++}const r=se(wo("opsdashVersion")||(e.pkgVersion?String(e.pkgVersion):"")),o=se(wo("opsdashChangelog"));async function i(){if(!(r.value&&o.value))try{const c=await e.getJson(e.pingUrl(),{});!r.value&&typeof(c==null?void 0:c.version)=="string"&&(r.value=c.version),!o.value&&typeof(c==null?void 0:c.changelog)=="string"&&(o.value=c.changelog)}catch{}}return i(),{iconSrc:a,onIconError:n,appVersion:r,changelogUrl:o}}function yh(e){function t(a){const n=typeof window<"u"?window:{};return n.OC&&typeof n.OC.generateUrl=="function"?n.OC.generateUrl(`/apps/calendar/timeGridDay/${a}`):`${e.root.value}/index.php/apps/calendar/timeGridDay/${a}`}async function s(a,n){var c,f,g;const r={};if(!a)return r;const o=((c=window.OC)==null?void 0:c.requestToken)||window.oc_requesttoken||"",i=e.root.value;for(const d of n)try{const p=`${i}/remote.php/dav/calendars/${encodeURIComponent(a)}/${encodeURIComponent(d)}/`,u=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;(f=e.isDebug)!=null&&f.call(e)&&console.log("[opsdash] PROPFIND",{url:p,id:d});const v=await fetch(p,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:o},body:u});if(!v.ok)continue;const h=await v.text();(g=e.isDebug)!=null&&g.call(e)&&console.log("[opsdash] PROPFIND response",{id:d,status:v.status,length:h.length,sample:h.slice(0,400)});const y=h.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);y&&(r[d]=y[1])}catch{}return r}return{calendarDayLink:t,fetchDavColors:s}}function bh(e){const t=j(()=>{var n,r;return kh({perDaySeries:(n=e.charts.value)==null?void 0:n.perDaySeries,forecastMode:((r=e.activityCardConfig.value)==null?void 0:r.forecastMode)??"total",targetsConfig:e.targetsConfig.value,currentTargets:e.currentTargets.value,calendarCategoryMap:e.calendarCategoryMap.value})}),s=j(()=>{var n;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:t.value}}),a=j(()=>{var y,M;const n={},r=(y=e.charts.value)==null?void 0:y.pie,o=(M=e.charts.value)==null?void 0:M.perDaySeries,i=t.value||o,c=r&&Array.isArray(r.data)&&Array.isArray(r.ids),f=i&&Array.isArray(i.series)&&Array.isArray(i.labels),g=e.calendarCategoryMap.value,d=c?(r.ids||[]).map(k=>String(k??"")):[],p=c?(r.labels||[]).map(k=>String(k??"")):[],u=c?(r.data||[]).map(k=>Number(k)||0):[],v=c?r.colors||[]:[],h=f?i.series:[];return e.calendarGroups.value.forEach(k=>{const C=[];c&&d.forEach((J,V)=>{g[J]===k.id&&C.push(V)});const T=C.length?{ids:C.map(J=>d[J]),labels:C.map(J=>p[J]),data:C.map(J=>u[J]),colors:C.map(J=>{var V;return v[J]||((V=e.colorsById.value)==null?void 0:V[d[J]])||"#60a5fa"})}:null,L=f?h.filter(J=>g[String((J==null?void 0:J.id)??"")]===k.id):[],Q=L.length?{labels:i.labels,series:L}:null;n[k.id]={pie:T,stacked:Q}}),n});return{calendarChartData:s,categoryChartsById:a}}const wh=/^\d{4}-\d{2}-\d{2}$/,_h="__uncategorized__";function kh(e){const t=e.perDaySeries;if(!t||!Array.isArray(t.labels)||!Array.isArray(t.series))return null;const s=t.labels.map(h=>String(h??"")),a=t.series.map(h=>{const y=String((h==null?void 0:h.id)??"");return{...h,id:y,name:String((h==null?void 0:h.name)??(h==null?void 0:h.label)??y),color:String((h==null?void 0:h.color)??""),data:s.map((M,k)=>{var T;const C=Number(((T=h==null?void 0:h.data)==null?void 0:T[k])??0);return Number.isFinite(C)?Math.max(0,C):0})}}),n=xh(e.forecastMode),r=Sh(new Date),o=s.map(h=>wh.test(h)&&h>r),i=[];if(o.forEach((h,y)=>{h&&i.push(y)}),!i.length||n==="off")return{labels:s,series:a};const c=e.targetsConfig??ls(),f=$h(e.currentTargets),g=e.calendarCategoryMap??{},d=i.length,p=new Map;a.forEach(h=>{let y=0;h.data.forEach((M,k)=>{o[k]||(y+=Math.max(0,M))}),p.set(h.id,y)});const u=Array.from(p.values()).reduce((h,y)=>h+y,0),v=new Map;if(a.forEach(h=>{v.set(h.id,Ch(s.length))}),n==="total"){const h=Math.max(0,Number(c.totalHours??0)),y=Math.max(0,h-u);if(y>1e-4){const M=y/d,k=a.map(T=>T.id),C=_o(k,p,f);k.forEach(T=>{const L=C[T]??0;if(L<=0)return;const Q=v.get(T);Q&&i.forEach(J=>{Q[J]=ya(M*L)})})}}else if(n==="calendar")a.forEach(h=>{const y=f[h.id]??0;if(y<=0)return;const M=Math.max(0,p.get(h.id)??0),k=Math.max(0,y-M);if(k<=1e-4)return;const C=k/d,T=v.get(h.id);T&&i.forEach(L=>{T[L]=ya(C)})});else if(n==="category"){const h=new Set,y=Array.isArray(c.categories)?c.categories:[],M=new Map;y.forEach(C=>{M.set(String(C.id),Math.max(0,Number(C.targetHours??0)))});const k=new Map;a.forEach(C=>{const T=g==null?void 0:g[C.id],L=T?String(T):_h;k.has(L)||k.set(L,[]),k.get(L).push(C.id)}),k.forEach((C,T)=>{if(!C.length)return;const L=M.get(T)??0;if(L<=0)return;const Q=C.reduce((G,ee)=>G+Math.max(0,p.get(ee)??0),0),J=Math.max(0,L-Q);if(J<=1e-4)return;const V=J/d,ne={};C.forEach(G=>{ne[G]=f[G]??0});const z=_o(C,p,ne);C.forEach(G=>{const ee=z[G]??0;if(ee<=0)return;const ye=v.get(G);ye&&(i.forEach(Oe=>{ye[Oe]=ya(V*ee)}),h.add(G))})}),a.forEach(C=>{if(h.has(C.id))return;const T=f[C.id]??0;if(T<=0)return;const L=Math.max(0,p.get(C.id)??0),Q=Math.max(0,T-L);if(Q<=1e-4)return;const J=Q/d,V=v.get(C.id);V&&i.forEach(ne=>{V[ne]=ya(J)})})}return a.forEach(h=>{const y=v.get(h.id);y&&y.some(M=>M>1e-4)&&(h.forecast=y)}),{labels:s,series:a}}function xh(e){return e==="off"||e==="calendar"||e==="category"?e:"total"}function Sh(e){const t=e.getFullYear(),s=`${e.getMonth()+1}`.padStart(2,"0"),a=`${e.getDate()}`.padStart(2,"0");return`${t}-${s}-${a}`}function Ch(e){return Array.from({length:e},()=>0)}function ya(e){const t=Math.round(e*100)/100;return Number.isFinite(t)?t:0}function $h(e){const t={};return e&&Object.entries(e).forEach(([s,a])=>{const n=Number(a);Number.isFinite(n)&&n>0&&(t[String(s)]=n)}),t}function _o(e,t,s){const a={},n=e.reduce((i,c)=>i+Math.max(0,t.get(c)??0),0);if(n>1e-4)return e.forEach(i=>{const c=Math.max(0,t.get(i)??0);a[i]=c/n}),a;const r=e.reduce((i,c)=>i+Math.max(0,(s==null?void 0:s[c])??0),0);if(r>1e-4)return e.forEach(i=>{const c=Math.max(0,(s==null?void 0:s[i])??0);a[i]=c/r}),a;const o=e.length?1/e.length:0;return e.forEach(i=>{a[i]=o}),a}const Lt="__uncategorized__",ko="Unassigned";function Mh(e){const t=j(()=>{var g;const f=(g=e.targetsConfig.value)==null?void 0:g.categories;return Array.isArray(f)?f:[]}),s=j(()=>{const f={};return t.value.forEach(g=>{f[String(g.id)]=g.label||String(g.id)}),f}),a=j(()=>{var d;const f=new Map;return(((d=e.targetsSummary.value)==null?void 0:d.categories)||[]).forEach(p=>f.set(String(p.id),p)),f}),n=j(()=>{const f=new Map;return t.value.forEach(g=>{(Array.isArray(g.groupIds)?g.groupIds:[]).forEach(p=>{const u=Math.max(0,Math.min(9,Math.trunc(Number(p)||0)));f.set(u,String(g.id))})}),f}),r=j(()=>{var d;const f=e.calendars.value;if(!Array.isArray(f))return(d=e.isDebug)!=null&&d.call(e)&&console.warn("[opsdash] calendars not array",f),{};const g={};return f.forEach(p=>{var h;const u=String((p==null?void 0:p.id)??"");if(!u)return;const v=((h=e.colorsById.value)==null?void 0:h[u])||String((p==null?void 0:p.color)||"");g[u]={name:String((p==null?void 0:p.displayname)||(p==null?void 0:p.name)||(p==null?void 0:p.calendar)||u),color:v||void 0}}),g}),o=j(()=>{var v;const f={},g=n.value,d=e.groupsById.value||{},p=h=>{const y=d==null?void 0:d[h],M=Math.max(0,Math.min(9,Math.trunc(Number(y)||0))),k=g.get(M);f[h]=k||Lt},u=e.calendars.value;return Array.isArray(u)?(u.forEach(h=>{const y=String((h==null?void 0:h.id)??"");y&&p(y)}),(e.selected.value||[]).forEach(h=>{const y=String(h??"");y&&(f[y]||p(y))}),f):((v=e.isDebug)!=null&&v.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",u),f)}),i=j(()=>{const f=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],g={};let d=0;const p=u=>{if(g[u])return g[u];const v=Object.entries(o.value).filter(([,y])=>y===u).map(([y])=>y);for(const y of v){const M=r.value[y];if(M!=null&&M.color)return g[u]=M.color,M.color}const h=f[d%f.length];return d+=1,g[u]=h,h};return t.value.forEach(u=>p(String(u.id))),Object.values(o.value||{}).some(u=>u===Lt)&&p(Lt),g}),c=j(()=>{var L,Q,J,V,ne,z,G,ee,ye,Oe;const f=[],g=o.value,d=a.value,p=e.byCal.value;if(!Array.isArray(p))return(L=e.isDebug)!=null&&L.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",p),f;const u=new Map;p.forEach(Y=>{const pe=String((Y==null?void 0:Y.id)??(Y==null?void 0:Y.calendar_id)??(Y==null?void 0:Y.calendar)??"");if(!pe)return;const te=g[pe]||Lt;u.has(te)||u.set(te,[]),u.get(te).push({...Y,calendarId:pe})}),(Q=e.isDebug)!=null&&Q.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(p),rowsSourceLength:p.length,byCat:u,assignments:g});const v=((V=(J=e.targetsSummary.value)==null?void 0:J.total)==null?void 0:V.daysLeft)??0,h=((z=(ne=e.targetsSummary.value)==null?void 0:ne.total)==null?void 0:z.calendarPercent)??0,y=((ee=(G=e.targetsSummary.value)==null?void 0:G.total)==null?void 0:ee.paceMode)??((Oe=(ye=e.targetsConfig.value)==null?void 0:ye.pace)==null?void 0:Oe.mode)??"days_only",M=Y=>Math.round(Y*100)/100,k=e.currentTargets.value||{},C=(Y,pe,te)=>{const oe=te.reduce((De,Me)=>{const re=Number(k[Me.calendarId]??0);return Number.isFinite(re)?De+Math.max(0,re):De},0),Se=te.reduce((De,Me)=>{const re=Number((Me==null?void 0:Me.total_hours)??(Me==null?void 0:Me.hours)??0);return Number.isFinite(re)?De+Math.max(0,re):De},0),Pe=oe>0?Math.max(0,Math.min(100,Se/oe*100)):0,$e=Se-oe,_e=Math.max(0,oe-Se),ke=oe<=0?"none":Pe>=100?"done":$e>=0?"on_track":"behind",Ae=ke==="done"?"Done":ke==="on_track"?"On Track":ke==="behind"?"Behind":"",Ve=v>0?_e/v:0;return{id:Y,label:pe,actualHours:M(Se),targetHours:M(oe),percent:Pe,deltaHours:M($e),remainingHours:M(_e),needPerDay:M(Ve),daysLeft:v,calendarPercent:Math.max(0,Math.min(100,h)),gap:M(Pe-h),status:ke,statusLabel:Ae,includeWeekend:!0,paceMode:y}};if(t.value.map(Y=>String(Y.id)).forEach(Y=>{const pe=s.value[Y]||Y,te=u.get(Y)||[],oe=d.get(Y)||C(Y,pe,te);f.push({id:Y,label:pe,rows:te,summary:oe,color:i.value[Y]})}),u.has(Lt)){const Y=u.get(Lt)||[];f.push({id:Lt,label:ko,rows:Y,summary:C(Lt,ko,Y),color:i.value[Lt]})}return f});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:c}}function Th(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function ot(e){const t=Number(e);return Number.isFinite(t)?t:null}function cs(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function Ah(e){const t=j(()=>{var k;const u=(k=e.charts.value)==null?void 0:k.pie;if(!u||!Array.isArray(u.data)||!Array.isArray(u.labels))return[];const v=u.data.map(C=>Number(C)||0),h=u.labels.map(C=>String(C||"")),y=v.reduce((C,T)=>C+Math.max(0,T),0);if(y<=0)return[];const M=v.map((C,T)=>({name:h[T]||"",value:Math.max(0,C)}));return M.sort((C,T)=>T.value-C.value),M.slice(0,3).map(C=>({name:C.name,share:C.value/y*100}))}),s=j(()=>{var v;if(t.value.length)return t.value.map(h=>`${h.name} ${So(h.share)}`).join(", ");const u=(v=e.stats)==null?void 0:v.top_calendar;if(u&&u.calendar){const h=Number(u.share??0);return`${u.calendar} ${So(h)}`}return""}),a=j(()=>{var u;return e.selected.value.length||(((u=e.calendars.value)==null?void 0:u.length)??0)}),n=j(()=>(e.byDay.value||[]).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),r=j(()=>{const u=n.value.map(v=>Number(v)||0);return e.activeDayMode.value==="active"?u.filter(v=>v>0):u}),o=j(()=>(e.byDay.value||[]).filter(u=>{const v=xo(String(u==null?void 0:u.date));return v>=1&&v<=5}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),i=j(()=>(e.byDay.value||[]).filter(u=>{const v=xo(String(u==null?void 0:u.date));return v===0||v===6}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),c=j(()=>e.activeDayMode.value==="active"?o.value.filter(u=>u>0):o.value),f=j(()=>e.activeDayMode.value==="active"?i.value.filter(u=>u>0):i.value),g=j(()=>{var h,y,M,k;const u=((h=e.stats)==null?void 0:h.balance_index)??((y=e.stats)==null?void 0:y.balanceIndex)??((k=(M=e.stats)==null?void 0:M.balance_overview)==null?void 0:k.index),v=Number(u);return Number.isFinite(v)?v:null}),d=j(()=>{var u,v,h,y;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((u=e.stats)==null?void 0:u.total_hours)??0),avgDay:hn(r.value),avgEvent:Number(((v=e.stats)==null?void 0:v.avg_per_event)??0),medianDay:mn(r.value),busiest:((h=e.stats)==null?void 0:h.busiest_day)??null,workdayAvg:hn(c.value),workdayMedian:mn(c.value),weekendAvg:hn(f.value),weekendMedian:mn(f.value),weekendShare:((y=e.stats)==null?void 0:y.weekend_share)??null,activeCalendars:a.value,calendarSummary:s.value,balanceIndex:g.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),p=j(()=>{const u=e.stats;return{rangeLabel:e.rangeLabel.value,events:Th(u.events),activeDays:ot(u.active_days),typicalStart:cs(u.typical_start),typicalEnd:cs(u.typical_end),weekendShare:ot(u.weekend_share),eveningShare:ot(u.evening_share),earliestStart:cs(u.earliest_start),latestEnd:cs(u.latest_end),overlapEvents:ot(u.overlap_events),longestSession:ot(u.longest_session),lastDayOff:cs(u.last_day_off),lastHalfDayOff:cs(u.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:d,activitySummary:p}}function hn(e){return e.length?e.reduce((s,a)=>s+a,0)/e.length:0}function mn(e){if(!e.length)return 0;const t=[...e].sort((a,n)=>a-n),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function xo(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function So(e){return`${Number(e||0).toFixed(1)}%`}function Dh(e){return{balanceOverview:j(()=>{var d,p,u;const s=(d=e.stats)==null?void 0:d.balance_overview;if(!s||typeof s!="object")return null;const a=Array.isArray(s.categories)?s.categories.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),hours:ot(v==null?void 0:v.hours)??0,share:ot(v==null?void 0:v.share)??0,prevShare:ot(v==null?void 0:v.prev_share)??0,delta:ot(v==null?void 0:v.delta)??0,color:e.categoryColorMap.value[String((v==null?void 0:v.id)??"")]})):[],n=Array.isArray(s.relations)?s.relations.map(v=>({label:String((v==null?void 0:v.label)??""),value:String((v==null?void 0:v.value)??"")})):[],r={delta:Array.isArray((p=s.trend)==null?void 0:p.delta)?s.trend.delta.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),delta:ot(v==null?void 0:v.delta)??0})):[],badge:String(((u=s.trend)==null?void 0:u.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(v=>({date:String((v==null?void 0:v.date)??""),weekday:String((v==null?void 0:v.weekday)??""),total_hours:ot(v==null?void 0:v.total_hours)??0,categories:Array.isArray(v==null?void 0:v.categories)?v.categories.map(h=>({id:String((h==null?void 0:h.id)??""),label:String((h==null?void 0:h.label)??""),hours:ot(h==null?void 0:h.hours)??0,share:ot(h==null?void 0:h.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(v=>String(v)):[],c=Array.isArray(s.warnings)?s.warnings.map(v=>String(v)):[],f=ot(s.index)??0,g=e.balanceCardConfig.value.showInsights?i:[];return{index:f,categories:a,relations:n,trend:r,daily:o,insights:g,warnings:c}})}}const Eh={version:"0.4.3"},Ih={class:"app-shell"},Ph={class:"app-main"},Nh={class:"app-container"},Oh={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},Lh=["aria-expanded","aria-label"],Hh=["disabled"],Fh=["disabled","aria-pressed"],Rh={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},Wh=["disabled"],Bh=["title"],jh=["disabled"],Uh={class:"appbar"},zh={class:"title"},Vh=["src"],Kh=["textContent"],qh={class:"hint appbar-meta"},Gh=["textContent"],Jh={key:1,title:"Results truncated for performance"},Zh=["title"],Yh={class:"cards"},Xh={class:"tabs"},Qh={class:"card full tab-panel"},em={key:0,class:"chart-section"},tm={class:"grid2 mt-12"},sm={class:"card chart-card"},am={class:"card chart-card"},nm={key:1,class:"chart-section"},rm={key:0,class:"category-chart-block"},om={class:"category-chart-header"},im={class:"name"},lm={class:"grid2 mt-8"},cm={class:"card chart-card"},um={class:"card chart-card"},dm={class:"card full tab-panel"},fm={class:"card full tab-panel"},gm={class:"card full tab-panel"},pm={class:"hint footer"},Co="opsdash.sidebarOpen",hm=Te({__name:"App",setup(e){function t(F){var je,he;const U=window;(he=(je=U.OC)==null?void 0:je.Notification)!=null&&he.showTemporary?U.OC.Notification.showTemporary(F):console.log("SUCCESS:",F)}function s(F){var je,he;const U=window;(he=(je=U.OC)==null?void 0:je.Notification)!=null&&he.showTemporary?U.OC.Notification.showTemporary(F):(console.error("ERROR:",F),alert(F))}const a=se((()=>{if(typeof window>"u")return!0;const F=window.localStorage.getItem(Co);return F==null?!0:F==="1"})()),n=()=>{a.value=!a.value},r=j(()=>a.value?"Hide sidebar":"Show sidebar"),o=j(()=>a.value?"":"");ct(a,F=>{typeof window<"u"&&(window.localStorage.setItem(Co,F?"1":"0"),Qs(()=>{window.dispatchEvent(new Event("resize"))}))});const i=se("cal"),c=se("week"),f=se(0),g=j(()=>!a.value),d=j(()=>c.value==="week"?"Switch to month":"Switch to week"),p=j(()=>!De.value||!Me.value?"":`${De.value}  ${Me.value}`);function u(){fe().catch(console.error)}function v(){c.value=c.value==="week"?"month":"week",f.value=0,fe().catch(console.error)}function h(){f.value=(f.value||0)-1,fe().catch(console.error)}function y(){f.value=(f.value||0)+1,fe().catch(console.error)}const M=j(()=>{const F=Ae.value;if(!F)return"Partial data due to caps";const U=[];return F.maxPerCal!=null&&U.push(`cap per calendar: ${F.maxPerCal}`),F.maxTotal!=null&&U.push(`cap total: ${F.maxTotal}`),F.totalProcessed!=null&&U.push(`processed: ${F.totalProcessed}`),U.join("  ")}),k=se(!1),{scheduleDraw:C}=gh(),{route:T,getJson:L,postJson:Q,deleteJson:J,root:V}=mh(),{calendarDayLink:ne,fetchDavColors:z}=yh({root:V,isDebug:Cn}),G=ih({range:c,offset:f,route:F=>T(F),getJson:L,postJson:Q,notifySuccess:t,notifyError:s}),{notesPrev:ee,notesCurrDraft:ye,isSavingNote:Oe,fetchNotes:Y,saveNotes:pe}=G,{calendars:te,colorsByName:oe,colorsById:Se,groupsById:Pe,selected:$e,isLoading:_e,isTruncated:ke,truncLimits:Ae,uid:Ve,from:De,to:Me,stats:re,byCal:We,byDay:Ue,longest:dt,charts:m,targetsWeek:w,targetsMonth:A,targetsConfig:O,onboarding:R,load:H}=lh({range:c,offset:f,userChangedSelection:k,route:F=>T(F),getJson:L,notifyError:s,scheduleDraw:C,fetchNotes:Y,isDebug:Cn,fetchDavColors:z}),W=R,P=se(!1),I=se(!1),E=se(!1),K=se(!1);function B(F){if(!F)return!0;const U=F.version_required??va;return!F.completed||(F.version??0)<U}function q(F){const U=F??W.value;if(!P.value&&!U)return;const je=B(U);I.value=je||!!(U!=null&&U.resetRequested),U!=null&&U.resetRequested&&(E.value=!0)}const X=j(()=>(te.value||[]).map(F=>({id:String((F==null?void 0:F.id)??""),displayname:String((F==null?void 0:F.displayname)??(F==null?void 0:F.name)??(F==null?void 0:F.id)??""),color:typeof(F==null?void 0:F.color)=="string"?F.color:""})).filter(F=>F.id)),ae=j(()=>[...$e.value]),ie=j(()=>{var F;return((F=W.value)==null?void 0:F.strategy)??"total_only"}),ue=j(()=>I.value||E.value),fe=async()=>{await H(),P.value=!0,q()},{queueSave:we}=ch({route:F=>T(F),postJson:Q,notifyError:s,notifySuccess:t,onReload:()=>fe(),selected:$e,groupsById:Pe,targetsWeek:w,targetsMonth:A,targetsConfig:O}),{toggleCalendar:Be,setGroup:Je,setTarget:vt,updateTargetsConfig:us,selectAll:Ze}=dh({calendars:te,selected:$e,groupsById:Pe,targetsWeek:w,targetsMonth:A,targetsConfig:O,range:c,queueSave:we,userChangedSelection:k}),{presets:it,presetsLoading:ds,presetSaving:S,presetApplying:b,presetWarnings:N,refreshPresets:me,savePreset:ft,loadPreset:wa,deletePreset:bn,clearPresetWarnings:km}=fh({route:(F,U)=>T(F,U),getJson:L,postJson:Q,deleteJson:J,notifyError:s,notifySuccess:t,queueSave:we,selected:$e,groupsById:Pe,targetsWeek:w,targetsMonth:A,targetsConfig:O,userChangedSelection:k}),Ns=se("active"),wn=j(()=>c.value==="month"?"Month":"Week"),_n=j(()=>{const F=Is(O.value);return c.value==="month"&&(F.totalHours=un(F.totalHours),F.categories=F.categories.map(U=>({...U,targetHours:un(U.targetHours)}))),F}),Mo=j(()=>{const F=_n.value;try{return Gu({config:F,stats:re,byDay:Ue.value||[],byCal:We.value||[],groupsById:Pe.value||{},range:c.value,from:De.value,to:Me.value})}catch(U){return console.error("[opsdash] targets summary failed",U),Ku(F)}}),kn=j(()=>{if(c.value==="month"){const F=A.value||{};if(F&&Object.keys(F).length>0)return F;const U=w.value||{},je={};return Object.entries(U).forEach(([he,zt])=>{const Ht=Number(zt);Number.isFinite(Ht)&&(je[he]=un(Ht))}),je}return w.value||{}}),xn=j(()=>{var F;return{...is(),...((F=O.value)==null?void 0:F.activityCard)??{}}}),To=j(()=>{var je;const F=ln(),U=((je=O.value)==null?void 0:je.balance)??F;return{...F,...U,thresholds:{...F.thresholds,...U.thresholds??{}},relations:{...F.relations,...U.relations??{}},trend:{...F.trend,...U.trend??{}},dayparts:{...F.dayparts,...U.dayparts??{}},ui:{...F.ui,...U.ui??{}}}}),Ao=j(()=>({showInsights:!!To.value.ui.showInsights,showDailyStacks:!!To.value.ui.showDailyStacks})),{categoryLabelById:xm,categoryColorMap:Do,calendarCategoryMap:Sm,calendarGroups:fs}=Mh({calendars:te,selected:$e,groupsById:Pe,colorsById:Se,targetsConfig:_n,targetsSummary:Mo,byCal:We,currentTargets:kn,isDebug:Cn}),{balanceOverview:Cm}=Dh({stats:re,categoryColorMap:Do,balanceCardConfig:Ao}),$m=j(()=>{var je,he;if(!xn.value.showHint)return"";const U=(Array.isArray((he=(je=O.value)==null?void 0:je.balance)==null?void 0:he.categories)?O.value.balance.categories:[]).map(zt=>{const Ht=String(zt??"").trim();if(!Ht)return"";const Os=xm.value[Ht];return Os||Ht.toUpperCase()}).filter(zt=>zt);return U.length?`Mapping via Sidebar  ${U.join(" / ")}`:""}),{calendarChartData:_a,categoryChartsById:ka}=bh({charts:m,colorsById:Se,calendarGroups:fs,calendarCategoryMap:Sm,targetsConfig:_n,currentTargets:kn,activityCardConfig:xn}),Mm=j(()=>{const F=fs.value||[];return F.length&&[...F].sort((je,he)=>(he.summary.actualHours||0)-(je.summary.actualHours||0))[0]||null}),{timeSummary:Tm,activitySummary:Am}=Ah({stats:re,byDay:Ue,charts:m,calendars:te,selected:$e,rangeLabel:wn,activeDayMode:Ns,topCategory:Mm}),Sn=se(null);function Dm(F){Sn.value=Sn.value===F?null:F}function Cn(){return!1}const{iconSrc:Em,onIconError:Eo,appVersion:Io}=vh({pingUrl:()=>T("ping"),getJson:L,pkgVersion:String(Eh.version),root:V}),Im=j(()=>c.value==="month"?"Last month":"Last week"),Pm=j(()=>c.value==="month"?"This month":"This week"),Nm=j(()=>c.value==="month"?"Notes for previous month":"Notes for previous week"),Om=j(()=>c.value==="month"?"Notes for current month":"Notes for current week");function $n(F){return Number(F??0).toFixed(2)}function Lm(F){Ns.value!==F&&(Ns.value=F)}ct(W,F=>{P.value&&q(F)});async function Hm(F){try{K.value=!0,await Q(T("persist"),{cals:F.selected,groups:F.groups,targets_week:F.targetsWeek,targets_month:F.targetsMonth,targets_config:F.targetsConfig,onboarding:{completed:!0,version:va,strategy:F.strategy,completed_at:new Date().toISOString()}}),E.value=!1,await fe(),t("Onboarding saved")}catch(U){console.error(U),s("Failed to save onboarding")}finally{K.value=!1}}async function Fm(){var F;try{K.value=!0,await Q(T("persist"),{onboarding:{completed:!0,version:va,strategy:((F=W.value)==null?void 0:F.strategy)??"total_only",completed_at:new Date().toISOString()}}),E.value=!1,I.value=!1,await fe(),t("You can revisit onboarding from the Targets tab any time.")}catch(U){console.error(U),s("Failed to update onboarding state")}finally{K.value=!1}}function Rm(){E.value=!1}function Wm(){E.value=!0}return as(async()=>{console.info("[opsdash] start");try{await fe()}catch(F){console.error(F),alert("Initial load failed")}me().catch(F=>console.warn("[opsdash] presets fetch failed",F))}),ct(c,()=>{f.value=0,fe().catch(console.error)}),(F,U)=>{const je=ji("NcAppSidebarToggle");return x(),$("div",{id:"opsdash",class:ve(["opsdash",{"is-nav-collapsed":!a.value}])},[ce(oh,{visible:ue.value,calendars:X.value,"initial-selection":ae.value,"initial-strategy":ie.value,"onboarding-version":_(va),saving:K.value,onClose:Rm,onSkip:Fm,onComplete:Hm},null,8,["visible","calendars","initial-selection","initial-strategy","onboarding-version","saving"]),ce(_(gc),{"app-name":"Operational Dashboard","show-navigation":a.value},{navigation:Ie(()=>[ce(Pp,{id:"opsdash-sidebar",calendars:_(te),selected:_($e),"groups-by-id":_(Pe),"is-loading":_(_e),range:c.value,offset:f.value,from:_(De),to:_(Me),"targets-week":_(w),"targets-month":_(A),"targets-config":_(O),"notes-prev":_(ee),"notes-curr-draft":_(ye),"notes-label-prev":Im.value,"notes-label-curr":Pm.value,"notes-label-prev-title":Nm.value,"notes-label-curr-title":Om.value,"is-saving-note":_(Oe),"active-day-mode":Ns.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,presets:_(it),"presets-loading":_(ds),"preset-saving":_(S),"preset-applying":_(b),"preset-warnings":_(N),onLoad:fe,"onUpdate:range":U[0]||(U[0]=he=>{c.value=he,f.value=0,fe()}),"onUpdate:offset":U[1]||(U[1]=he=>{f.value=he,fe()}),onSelectAll:U[2]||(U[2]=he=>_(Ze)(he)),onToggleCalendar:U[3]||(U[3]=he=>_(Be)(he)),onSetGroup:U[4]||(U[4]=he=>_(Je)(he.id,he.n)),onSetTarget:U[5]||(U[5]=he=>_(vt)(he.id,he.h)),"onUpdate:notes":U[6]||(U[6]=he=>ye.value=he),onSaveNotes:_(pe),"onUpdate:targetsConfig":_(us),"onUpdate:activeMode":Lm,onToggleNav:n,onSavePreset:_(ft),onLoadPreset:_(wa),onDeletePreset:_(bn),onRefreshPresets:_(me),onClearPresetWarnings:_(km),onRerunOnboarding:Wm},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","presets","presets-loading","preset-saving","preset-applying","preset-warnings","onSaveNotes","onUpdate:targetsConfig","onSavePreset","onLoadPreset","onDeletePreset","onRefreshPresets","onClearPresetWarnings"])]),"sidebar-toggle":Ie(()=>[ce(je,{open:a.value,onToggle:n},null,8,["open"])]),default:Ie(()=>[l("div",Ih,[l("div",Ph,[l("div",Nh,[g.value?(x(),$("div",Oh,[l("button",{class:"range-toolbar__btn",type:"button",onClick:n,"aria-expanded":a.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},D(o.value),9,Lh),l("button",{class:"range-toolbar__btn",type:"button",disabled:_(_e),onClick:u}," Refresh ",8,Hh),U[12]||(U[12]=l("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),l("button",{class:"range-toolbar__btn",type:"button",disabled:_(_e),onClick:v,"aria-pressed":c.value==="month"},D(d.value),9,Fh),l("div",Rh,[l("button",{class:"range-toolbar__btn",type:"button",disabled:_(_e),onClick:h},"  ",8,Wh),l("span",{class:"range-toolbar__label",title:p.value},D(p.value),9,Bh),l("button",{class:"range-toolbar__btn",type:"button",disabled:_(_e),onClick:y},"  ",8,jh)])])):Z("",!0),l("div",Uh,[l("div",zh,[l("img",{src:_(Em),onError:U[7]||(U[7]=(...he)=>_(Eo)&&_(Eo)(...he)),class:"app-icon",alt:"","aria-hidden":"true"},null,40,Vh),U[13]||(U[13]=l("span",null,"Operational Dashboard",-1)),l("span",{class:"chip",textContent:D(c.value.toUpperCase())},null,8,Kh)]),l("div",qh,[_(_e)?(x(),Fe(_(hc),{key:0,size:16})):Z("",!0),l("span",{textContent:D(_(Ve))},null,8,Gh),_(ke)?(x(),$("span",Jh," Partial data")):Z("",!0)])]),_(ke)?(x(),$("div",{key:1,class:"banner warn",title:M.value},[U[14]||(U[14]=be(" Showing partial data to keep things fast. ",-1)),_(Ae)&&_(Ae).totalProcessed!=null?(x(),$(le,{key:0},[be(" Processed "+D(_(Ae).totalProcessed)+" items. ",1)],64)):Z("",!0)],8,Zh)):Z("",!0),l("div",Yh,[ce(wu,{summary:_(Tm),mode:Ns.value,config:_(O).timeSummary},null,8,["summary","mode","config"]),ce(Vu,{summary:Mo.value,config:_(O),groups:_(fs)},null,8,["summary","config","groups"]),ce(hd,{summary:_(Am),"range-label":wn.value,"category-hint":$m.value,config:xn.value},null,8,["summary","range-label","category-hint","config"]),ce(xd,{overview:_(Cm),"range-label":wn.value,config:Ao.value},null,8,["overview","range-label","config"])]),l("div",Xh,[l("a",{href:"#",class:ve({active:i.value==="cal"}),onClick:U[8]||(U[8]=ga(he=>i.value="cal",["prevent"]))},"By Calendar",2),l("a",{href:"#",class:ve({active:i.value==="day"}),onClick:U[9]||(U[9]=ga(he=>i.value="day",["prevent"]))},"By Day",2),l("a",{href:"#",class:ve({active:i.value==="top"}),onClick:U[10]||(U[10]=ga(he=>i.value="top",["prevent"]))},"Longest Tasks",2),l("a",{href:"#",class:ve({active:i.value==="heat"}),onClick:U[11]||(U[11]=ga(he=>i.value="heat",["prevent"]))},"Heatmap",2)]),_s(l("div",Qh,[_(We).length===0?(x(),Fe(_(pa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),$(le,{key:1},[ce(Wc,{rows:_(We),n2:$n,targets:kn.value,groups:_(fs)},null,8,["rows","targets","groups"]),_(O).ui.showCalendarCharts&&(_(_a).pie||_(_a).stacked)?(x(),$("div",em,[U[17]||(U[17]=l("h3",{class:"section-title"},"Calendars (all)",-1)),l("div",tm,[l("div",sm,[U[15]||(U[15]=l("div",{class:"chart-card__title"},"Distribution by calendar",-1)),ce(po,{data:_(_a).pie,"colors-by-id":_(Se),"colors-by-name":_(oe)},null,8,["data","colors-by-id","colors-by-name"])]),l("div",am,[U[16]||(U[16]=l("div",{class:"chart-card__title"},"Hours per day",-1)),ce(ho,{stacked:_(_a).stacked,legacy:_(m).perDay,"colors-by-id":_(Se)},null,8,["stacked","legacy","colors-by-id"])])])])):Z("",!0),_(O).ui.showCategoryCharts&&_(fs).length?(x(),$("div",nm,[U[20]||(U[20]=l("h3",{class:"section-title"},"Categories",-1)),(x(!0),$(le,null,Le(_(fs),he=>{var zt,Ht,Os,Po;return x(),$(le,{key:"cat-charts-"+he.id},[(zt=_(ka)[he.id])!=null&&zt.pie||(Ht=_(ka)[he.id])!=null&&Ht.stacked?(x(),$("div",rm,[l("div",om,[l("span",{class:"dot",style:bt({background:_(Do)[he.id]||"var(--brand)"})},null,4),l("span",im,D(he.label),1)]),l("div",lm,[l("div",cm,[U[18]||(U[18]=l("div",{class:"chart-card__title"},"Calendar share",-1)),ce(po,{data:(Os=_(ka)[he.id])==null?void 0:Os.pie,"colors-by-id":_(Se),"colors-by-name":_(oe)},null,8,["data","colors-by-id","colors-by-name"])]),l("div",um,[U[19]||(U[19]=l("div",{class:"chart-card__title"},"Hours per day",-1)),ce(ho,{stacked:(Po=_(ka)[he.id])==null?void 0:Po.stacked,legacy:null,"colors-by-id":_(Se)},null,8,["stacked","colors-by-id"])])])])):Z("",!0)],64)}),128))])):Z("",!0)],64))],512),[[da,i.value==="cal"]]),_s(l("div",dm,[_(Ue).length===0?(x(),Fe(_(pa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),Fe(Kc,{key:1,rows:_(Ue),n2:$n,link:_(ne)},null,8,["rows","link"]))],512),[[da,i.value==="day"]]),_s(l("div",fm,[_(dt).length===0?(x(),Fe(_(pa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),Fe(su,{key:1,rows:_(dt),n2:$n,"details-index":Sn.value,onToggle:Dm},null,8,["rows","details-index"]))],512),[[da,i.value==="top"]]),_s(l("div",gm,[!_(m).hod||!_(m).hod.matrix||_(m).hod.matrix.length===0?(x(),Fe(_(pa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),$(le,{key:1},[ce(yc,{hod:_(m).hod},null,8,["hod"]),U[21]||(U[21]=l("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[da,i.value==="heat"]]),l("div",pm,[_(Io)?(x(),$(le,{key:0},[be(" Operational Dashboard  v"+D(_(Io))+"  Built by Blade34242 @ Gellert Innovation ",1)],64)):(x(),$(le,{key:1},[be(" Operational Dashboard  v0.4.3  Built by Blade34242 @ Gellert Innovation ")],64))])])])])]),_:1},8,["show-navigation"])],2)}}});let Ps=null,vn=null,$o=!1;function mm(){if(!(typeof window>"u"))try{ba(),vm()}catch(e){_m()&&console.warn("[opsdash] theme boot install failed",e)}}function vm(){if(Ps||vn||$o)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Ps=new MutationObserver(()=>ba()),e.forEach(t=>{Ps==null||Ps.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>ba();typeof t.addEventListener=="function"?(t.addEventListener("change",s),vn=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),vn=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",ba),$o=!0}function ba(){const e=ym();if(!e)return;["icon","shortcut icon"].forEach(s=>{let a=document.querySelector(`link[rel="${s}"]`);a||(a=document.createElement("link"),a.rel=s,document.head.appendChild(a)),a.type="image/svg+xml",a.href=e})}function ym(){const e=bm()==="dark",t=wm(),s=t("favicon.svg");if(s)return s;if(e){const n=t("app-dark.svg");if(n)return n}const a=t(e?"app-dark.svg":"app.svg");return a||"/apps-extra/opsdash/img/favicon.svg"}function bm(){var a,n,r,o,i;const e=(a=document.documentElement)==null?void 0:a.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(n=document.body)==null?void 0:n.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function wm(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function _m(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function yn(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=uc(hm);t.config.errorHandler=(n,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",c={err:n,info:o,name:i,stack:n instanceof Error?n.stack:void 0},f=window;Array.isArray(f.__opsdashErrors)||(f.__opsdashErrors=[]),f.__opsdashErrors.push(c),console.error("[opsdash] Vue error",c)};const s=t.mount(e),a=window;a.__opsdashApp=t,a.__opsdashRoot=s,mm(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(yn,50):window.addEventListener("DOMContentLoaded",yn,{once:!0})}yn()})();
