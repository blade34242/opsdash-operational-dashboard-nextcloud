(function(){"use strict";var Pa=document.createElement("style");Pa.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-1ab0985e]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-1ab0985e]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-1ab0985e]{font-size:12px}.activity-card__meta[data-v-1ab0985e],.activity-card__extra[data-v-1ab0985e]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-1ab0985e],.activity-card__extra strong[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-1ab0985e]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-1ab0985e]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}
/*$vite$:1*/`,document.head.appendChild(Pa);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const _e={},is=[],kt=()=>{},La=()=>!1,Gs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ln=e=>e.startsWith("onUpdate:"),ze=Object.assign,On=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ho=Object.prototype.hasOwnProperty,me=(e,t)=>Ho.call(e,t),Q=Array.isArray,ls=e=>qs(e)==="[object Map]",Oa=e=>qs(e)==="[object Set]",ee=e=>typeof e=="function",De=e=>typeof e=="string",Nt=e=>typeof e=="symbol",Te=e=>e!==null&&typeof e=="object",Ha=e=>(Te(e)||ee(e))&&ee(e.then)&&ee(e.catch),Fa=Object.prototype.toString,qs=e=>Fa.call(e),Fo=e=>qs(e).slice(8,-1),Ra=e=>qs(e)==="[object Object]",Hn=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ws=Pn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Js=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ro=/-(\w)/g,Vt=Js(e=>e.replace(Ro,(t,s)=>s?s.toUpperCase():"")),Wo=/\B([A-Z])/g,Qt=Js(e=>e.replace(Wo,"-$1").toLowerCase()),Wa=Js(e=>e.charAt(0).toUpperCase()+e.slice(1)),Fn=Js(e=>e?`on${Wa(e)}`:""),zt=(e,t)=>!Object.is(e,t),Rn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ba=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Bo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ja;const Zs=()=>ja||(ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pt(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=De(n)?zo(n):Pt(n);if(a)for(const o in a)t[o]=a[o]}return t}else if(De(e)||Te(e))return e}const jo=/;(?![^(]*\))/g,Uo=/:([^]+)/,Vo=/\/\*[^]*?\*\//g;function zo(e){const t={};return e.replace(Vo,"").split(jo).forEach(s=>{if(s){const n=s.split(Uo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function $e(e){let t="";if(De(e))t=e;else if(Q(e))for(let s=0;s<e.length;s++){const n=$e(e[s]);n&&(t+=n+" ")}else if(Te(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Ko=Pn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ua(e){return!!e||e===""}const Va=e=>!!(e&&e.__v_isRef===!0),I=e=>De(e)?e:e==null?"":Q(e)||Te(e)&&(e.toString===Fa||!ee(e.toString))?Va(e)?I(e.value):JSON.stringify(e,za,2):String(e),za=(e,t)=>Va(t)?za(e,t.value):ls(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,a],o)=>(s[Wn(n,o)+" =>"]=a,s),{})}:Oa(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Wn(s))}:Nt(t)?Wn(t):Te(t)&&!Q(t)&&!Ra(t)?String(t):t,Wn=(e,t="")=>{var s;return Nt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class Go{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function qo(){return st}let xe;const Bn=new WeakSet;class Ka{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bn.has(this)&&(Bn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qa(this),Ja(this);const t=xe,s=mt;xe=this,mt=!0;try{return this.fn()}finally{Za(this),xe=t,mt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)zn(t);this.deps=this.depsTail=void 0,Qa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vn(this)&&this.run()}get dirty(){return Vn(this)}}let Ga=0,xs,ks;function qa(e,t=!1){if(e.flags|=8,t){e.next=ks,ks=e;return}e.next=xs,xs=e}function jn(){Ga++}function Un(){if(--Ga>0)return;if(ks){let t=ks;for(ks=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Ja(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Za(e){let t,s=e.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),zn(n),Jo(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=s}function Vn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ya(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ya(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ss)||(e.globalVersion=Ss,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Vn(e))))return;e.flags|=2;const t=e.dep,s=xe,n=mt;xe=e,mt=!0;try{Ja(e);const a=e.fn(e._value);(t.version===0||zt(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{xe=s,mt=n,Za(e),e.flags&=-3}}function zn(e,t=!1){const{dep:s,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)zn(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Jo(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let mt=!0;const Xa=[];function St(){Xa.push(mt),mt=!1}function Ct(){const e=Xa.pop();mt=e===void 0?!0:e}function Qa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=xe;xe=void 0;try{t()}finally{xe=s}}}let Ss=0;class Zo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Kn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!xe||!mt||xe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==xe)s=this.activeLink=new Zo(xe,this),xe.deps?(s.prevDep=xe.depsTail,xe.depsTail.nextDep=s,xe.depsTail=s):xe.deps=xe.depsTail=s,er(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=xe.depsTail,s.nextDep=void 0,xe.depsTail.nextDep=s,xe.depsTail=s,xe.deps===s&&(xe.deps=n)}return s}trigger(t){this.version++,Ss++,this.notify(t)}notify(t){jn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Un()}}}function er(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)er(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Gn=new WeakMap,es=Symbol(""),qn=Symbol(""),Cs=Symbol("");function Ke(e,t,s){if(mt&&xe){let n=Gn.get(e);n||Gn.set(e,n=new Map);let a=n.get(s);a||(n.set(s,a=new Kn),a.map=n,a.key=s),a.track()}}function Lt(e,t,s,n,a,o){const i=Gn.get(e);if(!i){Ss++;return}const u=p=>{p&&p.trigger()};if(jn(),t==="clear")i.forEach(u);else{const p=Q(e),y=p&&Hn(s);if(p&&s==="length"){const b=Number(n);i.forEach((f,h)=>{(h==="length"||h===Cs||!Nt(h)&&h>=b)&&u(f)})}else switch((s!==void 0||i.has(void 0))&&u(i.get(s)),y&&u(i.get(Cs)),t){case"add":p?y&&u(i.get("length")):(u(i.get(es)),ls(e)&&u(i.get(qn)));break;case"delete":p||(u(i.get(es)),ls(e)&&u(i.get(qn)));break;case"set":ls(e)&&u(i.get(es));break}}Un()}function us(e){const t=pe(e);return t===e?t:(Ke(t,"iterate",Cs),gt(e)?t:t.map(Be))}function Ys(e){return Ke(e=pe(e),"iterate",Cs),e}const Yo={__proto__:null,[Symbol.iterator](){return Jn(this,Symbol.iterator,Be)},concat(...e){return us(this).concat(...e.map(t=>Q(t)?us(t):t))},entries(){return Jn(this,"entries",e=>(e[1]=Be(e[1]),e))},every(e,t){return Ot(this,"every",e,t,void 0,arguments)},filter(e,t){return Ot(this,"filter",e,t,s=>s.map(Be),arguments)},find(e,t){return Ot(this,"find",e,t,Be,arguments)},findIndex(e,t){return Ot(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ot(this,"findLast",e,t,Be,arguments)},findLastIndex(e,t){return Ot(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ot(this,"forEach",e,t,void 0,arguments)},includes(...e){return Zn(this,"includes",e)},indexOf(...e){return Zn(this,"indexOf",e)},join(e){return us(this).join(e)},lastIndexOf(...e){return Zn(this,"lastIndexOf",e)},map(e,t){return Ot(this,"map",e,t,void 0,arguments)},pop(){return Ts(this,"pop")},push(...e){return Ts(this,"push",e)},reduce(e,...t){return tr(this,"reduce",e,t)},reduceRight(e,...t){return tr(this,"reduceRight",e,t)},shift(){return Ts(this,"shift")},some(e,t){return Ot(this,"some",e,t,void 0,arguments)},splice(...e){return Ts(this,"splice",e)},toReversed(){return us(this).toReversed()},toSorted(e){return us(this).toSorted(e)},toSpliced(...e){return us(this).toSpliced(...e)},unshift(...e){return Ts(this,"unshift",e)},values(){return Jn(this,"values",Be)}};function Jn(e,t,s){const n=Ys(e),a=n[t]();return n!==e&&!gt(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=s(o.value)),o}),a}const Xo=Array.prototype;function Ot(e,t,s,n,a,o){const i=Ys(e),u=i!==e&&!gt(e),p=i[t];if(p!==Xo[t]){const f=p.apply(e,o);return u?Be(f):f}let y=s;i!==e&&(u?y=function(f,h){return s.call(this,Be(f),h,e)}:s.length>2&&(y=function(f,h){return s.call(this,f,h,e)}));const b=p.call(i,y,n);return u&&a?a(b):b}function tr(e,t,s,n){const a=Ys(e);let o=s;return a!==e&&(gt(e)?s.length>3&&(o=function(i,u,p){return s.call(this,i,u,p,e)}):o=function(i,u,p){return s.call(this,i,Be(u),p,e)}),a[t](o,...n)}function Zn(e,t,s){const n=pe(e);Ke(n,"iterate",Cs);const a=n[t](...s);return(a===-1||a===!1)&&Xn(s[0])?(s[0]=pe(s[0]),n[t](...s)):a}function Ts(e,t,s=[]){St(),jn();const n=pe(e)[t].apply(e,s);return Un(),Ct(),n}const Qo=Pn("__proto__,__v_isRef,__isVue"),sr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Nt));function ei(e){Nt(e)||(e=String(e));const t=pe(this);return Ke(t,"has",e),t.hasOwnProperty(e)}class nr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(a?o?ur:lr:o?ir:or).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=Q(t);if(!a){let p;if(i&&(p=Yo[s]))return p;if(s==="hasOwnProperty")return ei}const u=Reflect.get(t,s,je(t)?t:n);return(Nt(s)?sr.has(s):Qo(s))||(a||Ke(t,"get",s),o)?u:je(u)?i&&Hn(s)?u:u.value:Te(u)?a?cr(u):Ms(u):u}}class ar extends nr{constructor(t=!1){super(!1,t)}set(t,s,n,a){let o=t[s];if(!this._isShallow){const p=Kt(o);if(!gt(n)&&!Kt(n)&&(o=pe(o),n=pe(n)),!Q(t)&&je(o)&&!je(n))return p||(o.value=n),!0}const i=Q(t)&&Hn(s)?Number(s)<t.length:me(t,s),u=Reflect.set(t,s,n,je(t)?t:a);return t===pe(a)&&(i?zt(n,o)&&Lt(t,"set",s,n):Lt(t,"add",s,n)),u}deleteProperty(t,s){const n=me(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&n&&Lt(t,"delete",s,void 0),a}has(t,s){const n=Reflect.has(t,s);return(!Nt(s)||!sr.has(s))&&Ke(t,"has",s),n}ownKeys(t){return Ke(t,"iterate",Q(t)?"length":es),Reflect.ownKeys(t)}}class rr extends nr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ti=new ar,si=new rr,ni=new ar(!0),ai=new rr(!0),Yn=e=>e,Xs=e=>Reflect.getPrototypeOf(e);function ri(e,t,s){return function(...n){const a=this.__v_raw,o=pe(a),i=ls(o),u=e==="entries"||e===Symbol.iterator&&i,p=e==="keys"&&i,y=a[e](...n),b=s?Yn:t?sn:Be;return!t&&Ke(o,"iterate",p?qn:es),{next(){const{value:f,done:h}=y.next();return h?{value:f,done:h}:{value:u?[b(f[0]),b(f[1])]:b(f),done:h}},[Symbol.iterator](){return this}}}}function Qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function oi(e,t){const s={get(a){const o=this.__v_raw,i=pe(o),u=pe(a);e||(zt(a,u)&&Ke(i,"get",a),Ke(i,"get",u));const{has:p}=Xs(i),y=t?Yn:e?sn:Be;if(p.call(i,a))return y(o.get(a));if(p.call(i,u))return y(o.get(u));o!==i&&o.get(a)},get size(){const a=this.__v_raw;return!e&&Ke(pe(a),"iterate",es),a.size},has(a){const o=this.__v_raw,i=pe(o),u=pe(a);return e||(zt(a,u)&&Ke(i,"has",a),Ke(i,"has",u)),a===u?o.has(a):o.has(a)||o.has(u)},forEach(a,o){const i=this,u=i.__v_raw,p=pe(u),y=t?Yn:e?sn:Be;return!e&&Ke(p,"iterate",es),u.forEach((b,f)=>a.call(o,y(b),y(f),i))}};return ze(s,e?{add:Qs("add"),set:Qs("set"),delete:Qs("delete"),clear:Qs("clear")}:{add(a){!t&&!gt(a)&&!Kt(a)&&(a=pe(a));const o=pe(this);return Xs(o).has.call(o,a)||(o.add(a),Lt(o,"add",a,a)),this},set(a,o){!t&&!gt(o)&&!Kt(o)&&(o=pe(o));const i=pe(this),{has:u,get:p}=Xs(i);let y=u.call(i,a);y||(a=pe(a),y=u.call(i,a));const b=p.call(i,a);return i.set(a,o),y?zt(o,b)&&Lt(i,"set",a,o):Lt(i,"add",a,o),this},delete(a){const o=pe(this),{has:i,get:u}=Xs(o);let p=i.call(o,a);p||(a=pe(a),p=i.call(o,a)),u&&u.call(o,a);const y=o.delete(a);return p&&Lt(o,"delete",a,void 0),y},clear(){const a=pe(this),o=a.size!==0,i=a.clear();return o&&Lt(a,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=ri(a,e,t)}),s}function en(e,t){const s=oi(e,t);return(n,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(me(s,a)&&a in n?s:n,a,o)}const ii={get:en(!1,!1)},li={get:en(!1,!0)},ui={get:en(!0,!1)},ci={get:en(!0,!0)},or=new WeakMap,ir=new WeakMap,lr=new WeakMap,ur=new WeakMap;function di(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fi(e){return e.__v_skip||!Object.isExtensible(e)?0:di(Fo(e))}function Ms(e){return Kt(e)?e:tn(e,!1,ti,ii,or)}function hi(e){return tn(e,!1,ni,li,ir)}function cr(e){return tn(e,!0,si,ui,lr)}function cg(e){return tn(e,!0,ai,ci,ur)}function tn(e,t,s,n,a){if(!Te(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=fi(e);if(o===0)return e;const i=a.get(e);if(i)return i;const u=new Proxy(e,o===2?n:s);return a.set(e,u),u}function cs(e){return Kt(e)?cs(e.__v_raw):!!(e&&e.__v_isReactive)}function Kt(e){return!!(e&&e.__v_isReadonly)}function gt(e){return!!(e&&e.__v_isShallow)}function Xn(e){return e?!!e.__v_raw:!1}function pe(e){const t=e&&e.__v_raw;return t?pe(t):e}function pi(e){return!me(e,"__v_skip")&&Object.isExtensible(e)&&Ba(e,"__v_skip",!0),e}const Be=e=>Te(e)?Ms(e):e,sn=e=>Te(e)?cr(e):e;function je(e){return e?e.__v_isRef===!0:!1}function ae(e){return gi(e,!1)}function gi(e,t){return je(e)?e:new mi(e,t)}class mi{constructor(t,s){this.dep=new Kn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:pe(t),this._value=s?t:Be(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||gt(t)||Kt(t);t=n?t:pe(t),zt(t,s)&&(this._rawValue=t,this._value=n?t:Be(t),this.dep.trigger())}}function Ie(e){return je(e)?e.value:e}const vi={get:(e,t,s)=>t==="__v_raw"?e:Ie(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const a=e[t];return je(a)&&!je(s)?(a.value=s,!0):Reflect.set(e,t,s,n)}};function dr(e){return cs(e)?e:new Proxy(e,vi)}class bi{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Kn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ss-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return qa(this,!0),!0}get value(){const t=this.dep.track();return Ya(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function yi(e,t,s=!1){let n,a;return ee(e)?n=e:(n=e.get,a=e.set),new bi(n,a,s)}const nn={},an=new WeakMap;let ts;function _i(e,t=!1,s=ts){if(s){let n=an.get(s);n||an.set(s,n=[]),n.push(e)}}function wi(e,t,s=_e){const{immediate:n,deep:a,once:o,scheduler:i,augmentJob:u,call:p}=s,y=C=>a?C:gt(C)||a===!1||a===0?Ht(C,1):Ht(C);let b,f,h,_,M=!1,L=!1;if(je(e)?(f=()=>e.value,M=gt(e)):cs(e)?(f=()=>y(e),M=!0):Q(e)?(L=!0,M=e.some(C=>cs(C)||gt(C)),f=()=>e.map(C=>{if(je(C))return C.value;if(cs(C))return y(C);if(ee(C))return p?p(C,2):C()})):ee(e)?t?f=p?()=>p(e,2):e:f=()=>{if(h){St();try{h()}finally{Ct()}}const C=ts;ts=b;try{return p?p(e,3,[_]):e(_)}finally{ts=C}}:f=kt,t&&a){const C=f,O=a===!0?1/0:a;f=()=>Ht(C(),O)}const q=qo(),j=()=>{b.stop(),q&&q.active&&On(q.effects,b)};if(o&&t){const C=t;t=(...O)=>{C(...O),j()}}let $=L?new Array(e.length).fill(nn):nn;const N=C=>{if(!(!(b.flags&1)||!b.dirty&&!C))if(t){const O=b.run();if(a||M||(L?O.some((ue,V)=>zt(ue,$[V])):zt(O,$))){h&&h();const ue=ts;ts=b;try{const V=[O,$===nn?void 0:L&&$[0]===nn?[]:$,_];$=O,p?p(t,3,V):t(...V)}finally{ts=ue}}}else b.run()};return u&&u(N),b=new Ka(f),b.scheduler=i?()=>i(N,!1):N,_=C=>_i(C,!1,b),h=b.onStop=()=>{const C=an.get(b);if(C){if(p)p(C,4);else for(const O of C)O();an.delete(b)}},t?n?N(!0):$=b.run():i?i(N.bind(null,!0),!0):b.run(),j.pause=b.pause.bind(b),j.resume=b.resume.bind(b),j.stop=j,j}function Ht(e,t=1/0,s){if(t<=0||!Te(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,je(e))Ht(e.value,t,s);else if(Q(e))for(let n=0;n<e.length;n++)Ht(e[n],t,s);else if(Oa(e)||ls(e))e.forEach(n=>{Ht(n,t,s)});else if(Ra(e)){for(const n in e)Ht(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ht(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $s=[];let Qn=!1;function dg(e,...t){if(Qn)return;Qn=!0,St();const s=$s.length?$s[$s.length-1].component:null,n=s&&s.appContext.config.warnHandler,a=xi();if(n)ds(n,s,11,[e+t.map(o=>{var i,u;return(u=(i=o.toString)==null?void 0:i.call(o))!=null?u:JSON.stringify(o)}).join(""),s&&s.proxy,a.map(({vnode:o})=>`at <${no(s,o.type)}>`).join(`
`),a]);else{const o=[`[Vue warn]: ${e}`,...t];a.length&&o.push(`
`,...ki(a)),console.warn(...o)}Ct(),Qn=!1}function xi(){let e=$s[$s.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function ki(e){const t=[];return e.forEach((s,n)=>{t.push(...n===0?[]:[`
`],...Si(s))}),t}function Si({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,a=` at <${no(e.component,e.type,n)}`,o=">"+s;return e.props?[a,...Ci(e.props),o]:[a+o]}function Ci(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(n=>{t.push(...fr(n,e[n]))}),s.length>3&&t.push(" ..."),t}function fr(e,t,s){return De(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:je(t)?(t=fr(e,pe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ee(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=pe(t),s?t:[`${e}=`,t])}function ds(e,t,s,n){try{return n?e(...n):e()}catch(a){rn(a,t,s)}}function Tt(e,t,s,n){if(ee(e)){const a=ds(e,t,s,n);return a&&Ha(a)&&a.catch(o=>{rn(o,t,s)}),a}if(Q(e)){const a=[];for(let o=0;o<e.length;o++)a.push(Tt(e[o],t,s,n));return a}}function rn(e,t,s,n=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||_e;if(t){let u=t.parent;const p=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const b=u.ec;if(b){for(let f=0;f<b.length;f++)if(b[f](e,p,y)===!1)return}u=u.parent}if(o){St(),ds(o,null,10,[e,p,y]),Ct();return}}Ti(e,s,a,n,i)}function Ti(e,t,s,n=!0,a=!1){if(a)throw e;console.error(e)}const Ye=[];let Mt=-1;const fs=[];let Gt=null,hs=0;const hr=Promise.resolve();let on=null;function ln(e){const t=on||hr;return e?t.then(this?e.bind(this):e):t}function Mi(e){let t=Mt+1,s=Ye.length;for(;t<s;){const n=t+s>>>1,a=Ye[n],o=As(a);o<e||o===e&&a.flags&2?t=n+1:s=n}return t}function ea(e){if(!(e.flags&1)){const t=As(e),s=Ye[Ye.length-1];!s||!(e.flags&2)&&t>=As(s)?Ye.push(e):Ye.splice(Mi(t),0,e),e.flags|=1,pr()}}function pr(){on||(on=hr.then(vr))}function $i(e){Q(e)?fs.push(...e):Gt&&e.id===-1?Gt.splice(hs+1,0,e):e.flags&1||(fs.push(e),e.flags|=1),pr()}function gr(e,t,s=Mt+1){for(;s<Ye.length;s++){const n=Ye[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ye.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function mr(e){if(fs.length){const t=[...new Set(fs)].sort((s,n)=>As(s)-As(n));if(fs.length=0,Gt){Gt.push(...t);return}for(Gt=t,hs=0;hs<Gt.length;hs++){const s=Gt[hs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Gt=null,hs=0}}const As=e=>e.id==null?e.flags&2?-1:1/0:e.id;function vr(e){try{for(Mt=0;Mt<Ye.length;Mt++){const t=Ye[Mt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ds(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Mt<Ye.length;Mt++){const t=Ye[Mt];t&&(t.flags&=-2)}Mt=-1,Ye.length=0,mr(),on=null,(Ye.length||fs.length)&&vr()}}let Ge=null,br=null;function un(e){const t=Ge;return Ge=e,br=e&&e.type.__scopeId||null,t}function Ue(e,t=Ge,s){if(!t||e._n)return e;const n=(...a)=>{n._d&&Zr(-1);const o=un(t);let i;try{i=e(...a)}finally{un(o),n._d&&Zr(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function cn(e,t){if(Ge===null)return e;const s=bn(Ge),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,i,u,p=_e]=t[a];o&&(ee(o)&&(o={mounted:o,updated:o}),o.deep&&Ht(i),n.push({dir:o,instance:s,value:i,oldValue:void 0,arg:u,modifiers:p}))}return e}function ss(e,t,s,n){const a=e.dirs,o=t&&t.dirs;for(let i=0;i<a.length;i++){const u=a[i];o&&(u.oldValue=o[i].value);let p=u.dir[n];p&&(St(),Tt(p,s,8,[e.el,u,e,t]),Ct())}}const Ai=Symbol("_vte"),Di=e=>e.__isTeleport,Ii=Symbol("_leaveCb");function ta(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ta(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Fe(e,t){return ee(e)?ze({name:e.name},t,{setup:e}):e}function yr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ds(e,t,s,n,a=!1){if(Q(e)){e.forEach((M,L)=>Ds(M,t&&(Q(t)?t[L]:t),s,n,a));return}if(ps(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ds(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?bn(n.component):n.el,i=a?null:o,{i:u,r:p}=e,y=t&&t.r,b=u.refs===_e?u.refs={}:u.refs,f=u.setupState,h=pe(f),_=f===_e?La:M=>me(h,M);if(y!=null&&y!==p){if(De(y))b[y]=null,_(y)&&(f[y]=null);else if(je(y)){y.value=null;const M=t;M.k&&(b[M.k]=null)}}if(ee(p))ds(p,u,12,[i,b]);else{const M=De(p),L=je(p);if(M||L){const q=()=>{if(e.f){const j=M?_(p)?f[p]:b[p]:p.value;if(a)Q(j)&&On(j,o);else if(Q(j))j.includes(o)||j.push(o);else if(M)b[p]=[o],_(p)&&(f[p]=b[p]);else{const $=[o];p.value=$,e.k&&(b[e.k]=$)}}else M?(b[p]=i,_(p)&&(f[p]=i)):L&&(p.value=i,e.k&&(b[e.k]=i))};i?(q.id=-1,ct(q,s)):q()}}}Zs().requestIdleCallback,Zs().cancelIdleCallback;const ps=e=>!!e.type.__asyncLoader,_r=e=>e.type.__isKeepAlive;function Ei(e,t){wr(e,"a",t)}function Ni(e,t){wr(e,"da",t)}function wr(e,t,s=Qe){const n=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(dn(t,n,s),s){let a=s.parent;for(;a&&a.parent;)_r(a.parent.vnode)&&Pi(n,t,s,a),a=a.parent}}function Pi(e,t,s,n){const a=dn(t,e,n,!0);kr(()=>{On(n[t],a)},s)}function dn(e,t,s=Qe,n=!1){if(s){const a=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...i)=>{St();const u=Fs(s),p=Tt(t,s,e,i);return u(),Ct(),p});return n?a.unshift(o):a.push(o),o}}const Ft=e=>(t,s=Qe)=>{(!Rs||e==="sp")&&dn(e,(...n)=>t(...n),s)},Li=Ft("bm"),Is=Ft("m"),Oi=Ft("bu"),Hi=Ft("u"),xr=Ft("bum"),kr=Ft("um"),Fi=Ft("sp"),Ri=Ft("rtg"),Wi=Ft("rtc");function Bi(e,t=Qe){dn("ec",e,t)}const ji=Symbol.for("v-ndc");function qe(e,t,s,n){let a;const o=s,i=Q(e);if(i||De(e)){const u=i&&cs(e);let p=!1,y=!1;u&&(p=!gt(e),y=Kt(e),e=Ys(e)),a=new Array(e.length);for(let b=0,f=e.length;b<f;b++)a[b]=t(p?y?sn(Be(e[b])):Be(e[b]):e[b],b,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let u=0;u<e;u++)a[u]=t(u+1,u,void 0,o)}else if(Te(e))if(e[Symbol.iterator])a=Array.from(e,(u,p)=>t(u,p,void 0,o));else{const u=Object.keys(e);a=new Array(u.length);for(let p=0,y=u.length;p<y;p++){const b=u[p];a[p]=t(e[b],b,p,o)}}else a=[];return a}function Ui(e,t,s={},n,a){if(Ge.ce||Ge.parent&&ps(Ge.parent)&&Ge.parent.ce)return s.name=t,S(),bt(re,null,[se("slot",s,n)],64);let o=e[t];o&&o._c&&(o._d=!1),S();const i=o&&Sr(o(s)),u=s.key||i&&i.key,p=bt(re,{key:(u&&!Nt(u)?u:`_${t}`)+(!i&&n?"_fb":"")},i||[],i&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),o&&o._c&&(o._d=!0),p}function Sr(e){return e.some(t=>Os(t)?!(t.type===Rt||t.type===re&&!Sr(t.children)):!0)?e:null}const sa=e=>e?eo(e)?bn(e):sa(e.parent):null,Es=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sa(e.parent),$root:e=>sa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$r(e),$forceUpdate:e=>e.f||(e.f=()=>{ea(e.update)}),$nextTick:e=>e.n||(e.n=ln.bind(e.proxy)),$watch:e=>dl.bind(e)}),na=(e,t)=>e!==_e&&!e.__isScriptSetup&&me(e,t),Vi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:o,accessCache:i,type:u,appContext:p}=e;let y;if(t[0]!=="$"){const _=i[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return a[t];case 4:return s[t];case 3:return o[t]}else{if(na(n,t))return i[t]=1,n[t];if(a!==_e&&me(a,t))return i[t]=2,a[t];if((y=e.propsOptions[0])&&me(y,t))return i[t]=3,o[t];if(s!==_e&&me(s,t))return i[t]=4,s[t];aa&&(i[t]=0)}}const b=Es[t];let f,h;if(b)return t==="$attrs"&&Ke(e.attrs,"get",""),b(e);if((f=u.__cssModules)&&(f=f[t]))return f;if(s!==_e&&me(s,t))return i[t]=4,s[t];if(h=p.config.globalProperties,me(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:a,ctx:o}=e;return na(a,t)?(a[t]=s,!0):n!==_e&&me(n,t)?(n[t]=s,!0):me(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:a,propsOptions:o,type:i}},u){let p,y;return!!(s[u]||e!==_e&&u[0]!=="$"&&me(e,u)||na(t,u)||(p=o[0])&&me(p,u)||me(n,u)||me(Es,u)||me(a.config.globalProperties,u)||(y=i.__cssModules)&&y[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:me(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Cr(e){return Q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let aa=!0;function zi(e){const t=$r(e),s=e.proxy,n=e.ctx;aa=!1,t.beforeCreate&&Tr(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:i,watch:u,provide:p,inject:y,created:b,beforeMount:f,mounted:h,beforeUpdate:_,updated:M,activated:L,deactivated:q,beforeDestroy:j,beforeUnmount:$,destroyed:N,unmounted:C,render:O,renderTracked:ue,renderTriggered:V,errorCaptured:oe,serverPrefetch:Ce,expose:Pe,inheritAttrs:Ee,components:We,directives:ve,filters:at}=t;if(y&&Ki(y,n,null),i)for(const ne in i){const te=i[ne];ee(te)&&(n[ne]=te.bind(s))}if(a){const ne=a.call(s,s);Te(ne)&&(e.data=Ms(ne))}if(aa=!0,o)for(const ne in o){const te=o[ne],Z=ee(te)?te.bind(s,s):ee(te.get)?te.get.bind(s,s):kt,we=!ee(te)&&ee(te.set)?te.set.bind(s):kt,ke=R({get:Z,set:we});Object.defineProperty(n,ne,{enumerable:!0,configurable:!0,get:()=>ke.value,set:he=>ke.value=he})}if(u)for(const ne in u)Mr(u[ne],n,s,ne);if(p){const ne=ee(p)?p.call(s):p;Reflect.ownKeys(ne).forEach(te=>{Xi(te,ne[te])})}b&&Tr(b,e,"c");function fe(ne,te){Q(te)?te.forEach(Z=>ne(Z.bind(s))):te&&ne(te.bind(s))}if(fe(Li,f),fe(Is,h),fe(Oi,_),fe(Hi,M),fe(Ei,L),fe(Ni,q),fe(Bi,oe),fe(Wi,ue),fe(Ri,V),fe(xr,$),fe(kr,C),fe(Fi,Ce),Q(Pe))if(Pe.length){const ne=e.exposed||(e.exposed={});Pe.forEach(te=>{Object.defineProperty(ne,te,{get:()=>s[te],set:Z=>s[te]=Z,enumerable:!0})})}else e.exposed||(e.exposed={});O&&e.render===kt&&(e.render=O),Ee!=null&&(e.inheritAttrs=Ee),We&&(e.components=We),ve&&(e.directives=ve),Ce&&yr(e)}function Ki(e,t,s=kt){Q(e)&&(e=ra(e));for(const n in e){const a=e[n];let o;Te(a)?"default"in a?o=hn(a.from||n,a.default,!0):o=hn(a.from||n):o=hn(a),je(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[n]=o}}function Tr(e,t,s){Tt(Q(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Mr(e,t,s,n){let a=n.includes(".")?zr(s,n):()=>s[n];if(De(e)){const o=t[e];ee(o)&&vt(a,o)}else if(ee(e))vt(a,e.bind(s));else if(Te(e))if(Q(e))e.forEach(o=>Mr(o,t,s,n));else{const o=ee(e.handler)?e.handler.bind(s):t[e.handler];ee(o)&&vt(a,o,e)}}function $r(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,u=o.get(t);let p;return u?p=u:!a.length&&!s&&!n?p=t:(p={},a.length&&a.forEach(y=>fn(p,y,i,!0)),fn(p,t,i)),Te(t)&&o.set(t,p),p}function fn(e,t,s,n=!1){const{mixins:a,extends:o}=t;o&&fn(e,o,s,!0),a&&a.forEach(i=>fn(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const u=Gi[i]||s&&s[i];e[i]=u?u(e[i],t[i]):t[i]}return e}const Gi={data:Ar,props:Dr,emits:Dr,methods:Ns,computed:Ns,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:Ns,directives:Ns,watch:Ji,provide:Ar,inject:qi};function Ar(e,t){return t?e?function(){return ze(ee(e)?e.call(this,this):e,ee(t)?t.call(this,this):t)}:t:e}function qi(e,t){return Ns(ra(e),ra(t))}function ra(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Ns(e,t){return e?ze(Object.create(null),e,t):t}function Dr(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:ze(Object.create(null),Cr(e),Cr(t??{})):t}function Ji(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const n in t)s[n]=Xe(e[n],t[n]);return s}function Ir(){return{app:null,config:{isNativeTag:La,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zi=0;function Yi(e,t){return function(n,a=null){ee(n)||(n=ze({},n)),a!=null&&!Te(a)&&(a=null);const o=Ir(),i=new WeakSet,u=[];let p=!1;const y=o.app={_uid:Zi++,_component:n,_props:a,_container:null,_context:o,_instance:null,version:Ll,get config(){return o.config},set config(b){},use(b,...f){return i.has(b)||(b&&ee(b.install)?(i.add(b),b.install(y,...f)):ee(b)&&(i.add(b),b(y,...f))),y},mixin(b){return o.mixins.includes(b)||o.mixins.push(b),y},component(b,f){return f?(o.components[b]=f,y):o.components[b]},directive(b,f){return f?(o.directives[b]=f,y):o.directives[b]},mount(b,f,h){if(!p){const _=y._ceVNode||se(n,a);return _.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(_,b,h),p=!0,y._container=b,b.__vue_app__=y,bn(_.component)}},onUnmount(b){u.push(b)},unmount(){p&&(Tt(u,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(b,f){return o.provides[b]=f,y},runWithContext(b){const f=gs;gs=y;try{return b()}finally{gs=f}}};return y}}let gs=null;function Xi(e,t){if(Qe){let s=Qe.provides;const n=Qe.parent&&Qe.parent.provides;n===s&&(s=Qe.provides=Object.create(n)),s[e]=t}}function hn(e,t,s=!1){const n=Tl();if(n||gs){let a=gs?gs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&ee(t)?t.call(n&&n.proxy):t}}const Er={},Nr=()=>Object.create(Er),Pr=e=>Object.getPrototypeOf(e)===Er;function Qi(e,t,s,n=!1){const a={},o=Nr();e.propsDefaults=Object.create(null),Lr(e,t,a,o);for(const i in e.propsOptions[0])i in a||(a[i]=void 0);s?e.props=n?a:hi(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function el(e,t,s,n){const{props:a,attrs:o,vnode:{patchFlag:i}}=e,u=pe(a),[p]=e.propsOptions;let y=!1;if((n||i>0)&&!(i&16)){if(i&8){const b=e.vnode.dynamicProps;for(let f=0;f<b.length;f++){let h=b[f];if(pn(e.emitsOptions,h))continue;const _=t[h];if(p)if(me(o,h))_!==o[h]&&(o[h]=_,y=!0);else{const M=Vt(h);a[M]=oa(p,u,M,_,e,!1)}else _!==o[h]&&(o[h]=_,y=!0)}}}else{Lr(e,t,a,o)&&(y=!0);let b;for(const f in u)(!t||!me(t,f)&&((b=Qt(f))===f||!me(t,b)))&&(p?s&&(s[f]!==void 0||s[b]!==void 0)&&(a[f]=oa(p,u,f,void 0,e,!0)):delete a[f]);if(o!==u)for(const f in o)(!t||!me(t,f))&&(delete o[f],y=!0)}y&&Lt(e.attrs,"set","")}function Lr(e,t,s,n){const[a,o]=e.propsOptions;let i=!1,u;if(t)for(let p in t){if(ws(p))continue;const y=t[p];let b;a&&me(a,b=Vt(p))?!o||!o.includes(b)?s[b]=y:(u||(u={}))[b]=y:pn(e.emitsOptions,p)||(!(p in n)||y!==n[p])&&(n[p]=y,i=!0)}if(o){const p=pe(s),y=u||_e;for(let b=0;b<o.length;b++){const f=o[b];s[f]=oa(a,p,f,y[f],e,!me(y,f))}}return i}function oa(e,t,s,n,a,o){const i=e[s];if(i!=null){const u=me(i,"default");if(u&&n===void 0){const p=i.default;if(i.type!==Function&&!i.skipFactory&&ee(p)){const{propsDefaults:y}=a;if(s in y)n=y[s];else{const b=Fs(a);n=y[s]=p.call(null,t),b()}}else n=p;a.ce&&a.ce._setProp(s,n)}i[0]&&(o&&!u?n=!1:i[1]&&(n===""||n===Qt(s))&&(n=!0))}return n}const tl=new WeakMap;function Or(e,t,s=!1){const n=s?tl:t.propsCache,a=n.get(e);if(a)return a;const o=e.props,i={},u=[];let p=!1;if(!ee(e)){const b=f=>{p=!0;const[h,_]=Or(f,t,!0);ze(i,h),_&&u.push(..._)};!s&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!o&&!p)return Te(e)&&n.set(e,is),is;if(Q(o))for(let b=0;b<o.length;b++){const f=Vt(o[b]);Hr(f)&&(i[f]=_e)}else if(o)for(const b in o){const f=Vt(b);if(Hr(f)){const h=o[b],_=i[f]=Q(h)||ee(h)?{type:h}:ze({},h),M=_.type;let L=!1,q=!0;if(Q(M))for(let j=0;j<M.length;++j){const $=M[j],N=ee($)&&$.name;if(N==="Boolean"){L=!0;break}else N==="String"&&(q=!1)}else L=ee(M)&&M.name==="Boolean";_[0]=L,_[1]=q,(L||me(_,"default"))&&u.push(f)}}const y=[i,u];return Te(e)&&n.set(e,y),y}function Hr(e){return e[0]!=="$"&&!ws(e)}const ia=e=>e==="_"||e==="_ctx"||e==="$stable",la=e=>Q(e)?e.map($t):[$t(e)],sl=(e,t,s)=>{if(t._n)return t;const n=Ue((...a)=>la(t(...a)),s);return n._c=!1,n},Fr=(e,t,s)=>{const n=e._ctx;for(const a in e){if(ia(a))continue;const o=e[a];if(ee(o))t[a]=sl(a,o,n);else if(o!=null){const i=la(o);t[a]=()=>i}}},Rr=(e,t)=>{const s=la(t);e.slots.default=()=>s},Wr=(e,t,s)=>{for(const n in t)(s||!ia(n))&&(e[n]=t[n])},nl=(e,t,s)=>{const n=e.slots=Nr();if(e.vnode.shapeFlag&32){const a=t._;a?(Wr(n,t,s),s&&Ba(n,"_",a,!0)):Fr(t,n)}else t&&Rr(e,t)},al=(e,t,s)=>{const{vnode:n,slots:a}=e;let o=!0,i=_e;if(n.shapeFlag&32){const u=t._;u?s&&u===1?o=!1:Wr(a,t,s):(o=!t.$stable,Fr(t,a)),i=t}else t&&(Rr(e,t),i={default:1});if(o)for(const u in a)!ia(u)&&i[u]==null&&delete a[u]},ct=bl;function rl(e){return ol(e)}function ol(e,t){const s=Zs();s.__VUE__=!0;const{insert:n,remove:a,patchProp:o,createElement:i,createText:u,createComment:p,setText:y,setElementText:b,parentNode:f,nextSibling:h,setScopeId:_=kt,insertStaticContent:M}=e,L=(g,c,r,d=null,w=null,x=null,P=void 0,D=null,E=!!c.dynamicChildren)=>{if(g===c)return;g&&!Hs(g,c)&&(d=Ve(g),he(g,w,x,!0),g=null),c.patchFlag===-2&&(E=!1,c.dynamicChildren=null);const{type:A,ref:K,shapeFlag:F}=c;switch(A){case gn:q(g,c,r,d);break;case Rt:j(g,c,r,d);break;case ca:g==null&&$(c,r,d,P);break;case re:We(g,c,r,d,w,x,P,D,E);break;default:F&1?O(g,c,r,d,w,x,P,D,E):F&6?ve(g,c,r,d,w,x,P,D,E):(F&64||F&128)&&A.process(g,c,r,d,w,x,P,D,E,ht)}K!=null&&w?Ds(K,g&&g.ref,x,c||g,!c):K==null&&g&&g.ref!=null&&Ds(g.ref,null,x,g,!0)},q=(g,c,r,d)=>{if(g==null)n(c.el=u(c.children),r,d);else{const w=c.el=g.el;c.children!==g.children&&y(w,c.children)}},j=(g,c,r,d)=>{g==null?n(c.el=p(c.children||""),r,d):c.el=g.el},$=(g,c,r,d)=>{[g.el,g.anchor]=M(g.children,c,r,d,g.el,g.anchor)},N=({el:g,anchor:c},r,d)=>{let w;for(;g&&g!==c;)w=h(g),n(g,r,d),g=w;n(c,r,d)},C=({el:g,anchor:c})=>{let r;for(;g&&g!==c;)r=h(g),a(g),g=r;a(c)},O=(g,c,r,d,w,x,P,D,E)=>{c.type==="svg"?P="svg":c.type==="math"&&(P="mathml"),g==null?ue(c,r,d,w,x,P,D,E):Ce(g,c,w,x,P,D,E)},ue=(g,c,r,d,w,x,P,D)=>{let E,A;const{props:K,shapeFlag:F,transition:G,dirs:X}=g;if(E=g.el=i(g.type,x,K&&K.is,K),F&8?b(E,g.children):F&16&&oe(g.children,E,null,d,w,ua(g,x),P,D),X&&ss(g,null,d,"created"),V(E,g,g.scopeId,P,d),K){for(const be in K)be!=="value"&&!ws(be)&&o(E,be,null,K[be],x,d);"value"in K&&o(E,"value",null,K.value,x),(A=K.onVnodeBeforeMount)&&At(A,d,g)}X&&ss(g,null,d,"beforeMount");const ie=il(w,G);ie&&G.beforeEnter(E),n(E,c,r),((A=K&&K.onVnodeMounted)||ie||X)&&ct(()=>{A&&At(A,d,g),ie&&G.enter(E),X&&ss(g,null,d,"mounted")},w)},V=(g,c,r,d,w)=>{if(r&&_(g,r),d)for(let x=0;x<d.length;x++)_(g,d[x]);if(w){let x=w.subTree;if(c===x||Jr(x.type)&&(x.ssContent===c||x.ssFallback===c)){const P=w.vnode;V(g,P,P.scopeId,P.slotScopeIds,w.parent)}}},oe=(g,c,r,d,w,x,P,D,E=0)=>{for(let A=E;A<g.length;A++){const K=g[A]=D?qt(g[A]):$t(g[A]);L(null,K,c,r,d,w,x,P,D)}},Ce=(g,c,r,d,w,x,P)=>{const D=c.el=g.el;let{patchFlag:E,dynamicChildren:A,dirs:K}=c;E|=g.patchFlag&16;const F=g.props||_e,G=c.props||_e;let X;if(r&&ns(r,!1),(X=G.onVnodeBeforeUpdate)&&At(X,r,c,g),K&&ss(c,g,r,"beforeUpdate"),r&&ns(r,!0),(F.innerHTML&&G.innerHTML==null||F.textContent&&G.textContent==null)&&b(D,""),A?Pe(g.dynamicChildren,A,D,r,d,ua(c,w),x):P||te(g,c,D,null,r,d,ua(c,w),x,!1),E>0){if(E&16)Ee(D,F,G,r,w);else if(E&2&&F.class!==G.class&&o(D,"class",null,G.class,w),E&4&&o(D,"style",F.style,G.style,w),E&8){const ie=c.dynamicProps;for(let be=0;be<ie.length;be++){const ge=ie[be],Je=F[ge],Ze=G[ge];(Ze!==Je||ge==="value")&&o(D,ge,Je,Ze,w,r)}}E&1&&g.children!==c.children&&b(D,c.children)}else!P&&A==null&&Ee(D,F,G,r,w);((X=G.onVnodeUpdated)||K)&&ct(()=>{X&&At(X,r,c,g),K&&ss(c,g,r,"updated")},d)},Pe=(g,c,r,d,w,x,P)=>{for(let D=0;D<c.length;D++){const E=g[D],A=c[D],K=E.el&&(E.type===re||!Hs(E,A)||E.shapeFlag&198)?f(E.el):r;L(E,A,K,null,d,w,x,P,!0)}},Ee=(g,c,r,d,w)=>{if(c!==r){if(c!==_e)for(const x in c)!ws(x)&&!(x in r)&&o(g,x,c[x],null,w,d);for(const x in r){if(ws(x))continue;const P=r[x],D=c[x];P!==D&&x!=="value"&&o(g,x,D,P,w,d)}"value"in r&&o(g,"value",c.value,r.value,w)}},We=(g,c,r,d,w,x,P,D,E)=>{const A=c.el=g?g.el:u(""),K=c.anchor=g?g.anchor:u("");let{patchFlag:F,dynamicChildren:G,slotScopeIds:X}=c;X&&(D=D?D.concat(X):X),g==null?(n(A,r,d),n(K,r,d),oe(c.children||[],r,K,w,x,P,D,E)):F>0&&F&64&&G&&g.dynamicChildren?(Pe(g.dynamicChildren,G,r,w,x,P,D),(c.key!=null||w&&c===w.subTree)&&Br(g,c,!0)):te(g,c,r,K,w,x,P,D,E)},ve=(g,c,r,d,w,x,P,D,E)=>{c.slotScopeIds=D,g==null?c.shapeFlag&512?w.ctx.activate(c,r,d,P,E):at(c,r,d,w,x,P,E):W(g,c,E)},at=(g,c,r,d,w,x,P)=>{const D=g.component=Cl(g,d,w);if(_r(g)&&(D.ctx.renderer=ht),Ml(D,!1,P),D.asyncDep){if(w&&w.registerDep(D,fe,P),!g.el){const E=D.subTree=se(Rt);j(null,E,c,r),g.placeholder=E.el}}else fe(D,g,c,r,w,x,P)},W=(g,c,r)=>{const d=c.component=g.component;if(ml(g,c,r))if(d.asyncDep&&!d.asyncResolved){ne(d,c,r);return}else d.next=c,d.update();else c.el=g.el,d.vnode=c},fe=(g,c,r,d,w,x,P)=>{const D=()=>{if(g.isMounted){let{next:F,bu:G,u:X,parent:ie,vnode:be}=g;{const it=jr(g);if(it){F&&(F.el=be.el,ne(g,F,P)),it.asyncDep.then(()=>{g.isUnmounted||D()});return}}let ge=F,Je;ns(g,!1),F?(F.el=be.el,ne(g,F,P)):F=be,G&&Rn(G),(Je=F.props&&F.props.onVnodeBeforeUpdate)&&At(Je,ie,F,be),ns(g,!0);const Ze=Gr(g),et=g.subTree;g.subTree=Ze,L(et,Ze,f(et.el),Ve(et),g,w,x),F.el=Ze.el,ge===null&&vl(g,Ze.el),X&&ct(X,w),(Je=F.props&&F.props.onVnodeUpdated)&&ct(()=>At(Je,ie,F,be),w)}else{let F;const{el:G,props:X}=c,{bm:ie,m:be,parent:ge,root:Je,type:Ze}=g,et=ps(c);ns(g,!1),ie&&Rn(ie),!et&&(F=X&&X.onVnodeBeforeMount)&&At(F,ge,c),ns(g,!0);{Je.ce&&Je.ce._def.shadowRoot!==!1&&Je.ce._injectChildStyle(Ze);const it=g.subTree=Gr(g);L(null,it,r,d,g,w,x),c.el=it.el}if(be&&ct(be,w),!et&&(F=X&&X.onVnodeMounted)){const it=c;ct(()=>At(F,ge,it),w)}(c.shapeFlag&256||ge&&ps(ge.vnode)&&ge.vnode.shapeFlag&256)&&g.a&&ct(g.a,w),g.isMounted=!0,c=r=d=null}};g.scope.on();const E=g.effect=new Ka(D);g.scope.off();const A=g.update=E.run.bind(E),K=g.job=E.runIfDirty.bind(E);K.i=g,K.id=g.uid,E.scheduler=()=>ea(K),ns(g,!0),A()},ne=(g,c,r)=>{c.component=g;const d=g.vnode.props;g.vnode=c,g.next=null,el(g,c.props,d,r),al(g,c.children,r),St(),gr(g),Ct()},te=(g,c,r,d,w,x,P,D,E=!1)=>{const A=g&&g.children,K=g?g.shapeFlag:0,F=c.children,{patchFlag:G,shapeFlag:X}=c;if(G>0){if(G&128){we(A,F,r,d,w,x,P,D,E);return}else if(G&256){Z(A,F,r,d,w,x,P,D,E);return}}X&8?(K&16&&Ae(A,w,x),F!==A&&b(r,F)):K&16?X&16?we(A,F,r,d,w,x,P,D,E):Ae(A,w,x,!0):(K&8&&b(r,""),X&16&&oe(F,r,d,w,x,P,D,E))},Z=(g,c,r,d,w,x,P,D,E)=>{g=g||is,c=c||is;const A=g.length,K=c.length,F=Math.min(A,K);let G;for(G=0;G<F;G++){const X=c[G]=E?qt(c[G]):$t(c[G]);L(g[G],X,r,null,w,x,P,D,E)}A>K?Ae(g,w,x,!0,!1,F):oe(c,r,d,w,x,P,D,E,F)},we=(g,c,r,d,w,x,P,D,E)=>{let A=0;const K=c.length;let F=g.length-1,G=K-1;for(;A<=F&&A<=G;){const X=g[A],ie=c[A]=E?qt(c[A]):$t(c[A]);if(Hs(X,ie))L(X,ie,r,null,w,x,P,D,E);else break;A++}for(;A<=F&&A<=G;){const X=g[F],ie=c[G]=E?qt(c[G]):$t(c[G]);if(Hs(X,ie))L(X,ie,r,null,w,x,P,D,E);else break;F--,G--}if(A>F){if(A<=G){const X=G+1,ie=X<K?c[X].el:d;for(;A<=G;)L(null,c[A]=E?qt(c[A]):$t(c[A]),r,ie,w,x,P,D,E),A++}}else if(A>G)for(;A<=F;)he(g[A],w,x,!0),A++;else{const X=A,ie=A,be=new Map;for(A=ie;A<=G;A++){const Oe=c[A]=E?qt(c[A]):$t(c[A]);Oe.key!=null&&be.set(Oe.key,A)}let ge,Je=0;const Ze=G-ie+1;let et=!1,it=0;const as=new Array(Ze);for(A=0;A<Ze;A++)as[A]=0;for(A=X;A<=F;A++){const Oe=g[A];if(Je>=Ze){he(Oe,w,x,!0);continue}let tt;if(Oe.key!=null)tt=be.get(Oe.key);else for(ge=ie;ge<=G;ge++)if(as[ge-ie]===0&&Hs(Oe,c[ge])){tt=ge;break}tt===void 0?he(Oe,w,x,!0):(as[tt-ie]=A+1,tt>=it?it=tt:et=!0,L(Oe,c[tt],r,null,w,x,P,D,E),Je++)}const An=et?ll(as):is;for(ge=An.length-1,A=Ze-1;A>=0;A--){const Oe=ie+A,tt=c[Oe],rs=c[Oe+1],_t=Oe+1<K?rs.el||rs.placeholder:d;as[A]===0?L(null,tt,r,_t,w,x,P,D,E):et&&(ge<0||A!==An[ge]?ke(tt,r,_t,2):ge--)}}},ke=(g,c,r,d,w=null)=>{const{el:x,type:P,transition:D,children:E,shapeFlag:A}=g;if(A&6){ke(g.component.subTree,c,r,d);return}if(A&128){g.suspense.move(c,r,d);return}if(A&64){P.move(g,c,r,ht);return}if(P===re){n(x,c,r);for(let F=0;F<E.length;F++)ke(E[F],c,r,d);n(g.anchor,c,r);return}if(P===ca){N(g,c,r);return}if(d!==2&&A&1&&D)if(d===0)D.beforeEnter(x),n(x,c,r),ct(()=>D.enter(x),w);else{const{leave:F,delayLeave:G,afterLeave:X}=D,ie=()=>{g.ctx.isUnmounted?a(x):n(x,c,r)},be=()=>{x._isLeaving&&x[Ii](!0),F(x,()=>{ie(),X&&X()})};G?G(x,ie,be):be()}else n(x,c,r)},he=(g,c,r,d=!1,w=!1)=>{const{type:x,props:P,ref:D,children:E,dynamicChildren:A,shapeFlag:K,patchFlag:F,dirs:G,cacheIndex:X}=g;if(F===-2&&(w=!1),D!=null&&(St(),Ds(D,null,r,g,!0),Ct()),X!=null&&(c.renderCache[X]=void 0),K&256){c.ctx.deactivate(g);return}const ie=K&1&&G,be=!ps(g);let ge;if(be&&(ge=P&&P.onVnodeBeforeUnmount)&&At(ge,c,g),K&6)Le(g.component,r,d);else{if(K&128){g.suspense.unmount(r,d);return}ie&&ss(g,null,c,"beforeUnmount"),K&64?g.type.remove(g,c,r,ht,d):A&&!A.hasOnce&&(x!==re||F>0&&F&64)?Ae(A,c,r,!1,!0):(x===re&&F&384||!w&&K&16)&&Ae(E,c,r),d&&Ne(g)}(be&&(ge=P&&P.onVnodeUnmounted)||ie)&&ct(()=>{ge&&At(ge,c,g),ie&&ss(g,null,c,"unmounted")},r)},Ne=g=>{const{type:c,el:r,anchor:d,transition:w}=g;if(c===re){rt(r,d);return}if(c===ca){C(g);return}const x=()=>{a(r),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(g.shapeFlag&1&&w&&!w.persisted){const{leave:P,delayLeave:D}=w,E=()=>P(r,x);D?D(g.el,x,E):E()}else x()},rt=(g,c)=>{let r;for(;g!==c;)r=h(g),a(g),g=r;a(c)},Le=(g,c,r)=>{const{bum:d,scope:w,job:x,subTree:P,um:D,m:E,a:A}=g;Ur(E),Ur(A),d&&Rn(d),w.stop(),x&&(x.flags|=8,he(P,g,c,r)),D&&ct(D,c),ct(()=>{g.isUnmounted=!0},c)},Ae=(g,c,r,d=!1,w=!1,x=0)=>{for(let P=x;P<g.length;P++)he(g[P],c,r,d,w)},Ve=g=>{if(g.shapeFlag&6)return Ve(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const c=h(g.anchor||g.el),r=c&&c[Ai];return r?h(r):c};let jt=!1;const Ut=(g,c,r)=>{g==null?c._vnode&&he(c._vnode,null,null,!0):L(c._vnode||null,g,c,null,null,null,r),c._vnode=g,jt||(jt=!0,gr(),mr(),jt=!1)},ht={p:L,um:he,m:ke,r:Ne,mt:at,mc:oe,pc:te,pbc:Pe,n:Ve,o:e};return{render:Ut,hydrate:void 0,createApp:Yi(Ut)}}function ua({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ns({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function il(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Br(e,t,s=!1){const n=e.children,a=t.children;if(Q(n)&&Q(a))for(let o=0;o<n.length;o++){const i=n[o];let u=a[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[o]=qt(a[o]),u.el=i.el),!s&&u.patchFlag!==-2&&Br(i,u)),u.type===gn&&u.patchFlag!==-1&&(u.el=i.el),u.type===Rt&&!u.el&&(u.el=i.el)}}function ll(e){const t=e.slice(),s=[0];let n,a,o,i,u;const p=e.length;for(n=0;n<p;n++){const y=e[n];if(y!==0){if(a=s[s.length-1],e[a]<y){t[n]=a,s.push(n);continue}for(o=0,i=s.length-1;o<i;)u=o+i>>1,e[s[u]]<y?o=u+1:i=u;y<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=t[i];return s}function jr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jr(t)}function Ur(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ul=Symbol.for("v-scx"),cl=()=>hn(ul);function vt(e,t,s){return Vr(e,t,s)}function Vr(e,t,s=_e){const{immediate:n,deep:a,flush:o,once:i}=s,u=ze({},s),p=t&&n||!t&&o!=="post";let y;if(Rs){if(o==="sync"){const _=cl();y=_.__watcherHandles||(_.__watcherHandles=[])}else if(!p){const _=()=>{};return _.stop=kt,_.resume=kt,_.pause=kt,_}}const b=Qe;u.call=(_,M,L)=>Tt(_,b,M,L);let f=!1;o==="post"?u.scheduler=_=>{ct(_,b&&b.suspense)}:o!=="sync"&&(f=!0,u.scheduler=(_,M)=>{M?_():ea(_)}),u.augmentJob=_=>{t&&(_.flags|=4),f&&(_.flags|=2,b&&(_.id=b.uid,_.i=b))};const h=wi(e,t,u);return Rs&&(y?y.push(h):p&&h()),h}function dl(e,t,s){const n=this.proxy,a=De(e)?e.includes(".")?zr(n,e):()=>n[e]:e.bind(n,n);let o;ee(t)?o=t:(o=t.handler,s=t);const i=Fs(this),u=Vr(a,o.bind(n),s);return i(),u}function zr(e,t){const s=t.split(".");return()=>{let n=e;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const fl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Vt(t)}Modifiers`]||e[`${Qt(t)}Modifiers`];function hl(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||_e;let a=s;const o=t.startsWith("update:"),i=o&&fl(n,t.slice(7));i&&(i.trim&&(a=s.map(b=>De(b)?b.trim():b)),i.number&&(a=s.map(Bo)));let u,p=n[u=Fn(t)]||n[u=Fn(Vt(t))];!p&&o&&(p=n[u=Fn(Qt(t))]),p&&Tt(p,e,6,a);const y=n[u+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Tt(y,e,6,a)}}function Kr(e,t,s=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const o=e.emits;let i={},u=!1;if(!ee(e)){const p=y=>{const b=Kr(y,t,!0);b&&(u=!0,ze(i,b))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!u?(Te(e)&&n.set(e,null),null):(Q(o)?o.forEach(p=>i[p]=null):ze(i,o),Te(e)&&n.set(e,i),i)}function pn(e,t){return!e||!Gs(t)?!1:(t=t.slice(2).replace(/Once$/,""),me(e,t[0].toLowerCase()+t.slice(1))||me(e,Qt(t))||me(e,t))}function fg(){}function Gr(e){const{type:t,vnode:s,proxy:n,withProxy:a,propsOptions:[o],slots:i,attrs:u,emit:p,render:y,renderCache:b,props:f,data:h,setupState:_,ctx:M,inheritAttrs:L}=e,q=un(e);let j,$;try{if(s.shapeFlag&4){const C=a||n,O=C;j=$t(y.call(O,C,b,f,_,h,M)),$=u}else{const C=t;j=$t(C.length>1?C(f,{attrs:u,slots:i,emit:p}):C(f,null)),$=t.props?u:pl(u)}}catch(C){Ps.length=0,rn(C,e,1),j=se(Rt)}let N=j;if($&&L!==!1){const C=Object.keys($),{shapeFlag:O}=N;C.length&&O&7&&(o&&C.some(Ln)&&($=gl($,o)),N=ms(N,$,!1,!0))}return s.dirs&&(N=ms(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(s.dirs):s.dirs),s.transition&&ta(N,s.transition),j=N,un(q),j}const pl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Gs(s))&&((t||(t={}))[s]=e[s]);return t},gl=(e,t)=>{const s={};for(const n in e)(!Ln(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function ml(e,t,s){const{props:n,children:a,component:o}=e,{props:i,children:u,patchFlag:p}=t,y=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return n?qr(n,i,y):!!i;if(p&8){const b=t.dynamicProps;for(let f=0;f<b.length;f++){const h=b[f];if(i[h]!==n[h]&&!pn(y,h))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:n===i?!1:n?i?qr(n,i,y):!0:!!i;return!1}function qr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const o=n[a];if(t[o]!==e[o]&&!pn(s,o))return!0}return!1}function vl({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Jr=e=>e.__isSuspense;function bl(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):$i(e)}const re=Symbol.for("v-fgt"),gn=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),ca=Symbol.for("v-stc"),Ps=[];let dt=null;function S(e=!1){Ps.push(dt=e?null:[])}function yl(){Ps.pop(),dt=Ps[Ps.length-1]||null}let Ls=1;function Zr(e,t=!1){Ls+=e,e<0&&dt&&t&&(dt.hasOnce=!0)}function Yr(e){return e.dynamicChildren=Ls>0?dt||is:null,yl(),Ls>0&&dt&&dt.push(e),e}function T(e,t,s,n,a,o){return Yr(l(e,t,s,n,a,o,!0))}function bt(e,t,s,n,a){return Yr(se(e,t,s,n,a,!0))}function Os(e){return e?e.__v_isVNode===!0:!1}function Hs(e,t){return e.type===t.type&&e.key===t.key}const Xr=({key:e})=>e??null,mn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||je(e)||ee(e)?{i:Ge,r:e,k:t,f:!!s}:e:null);function l(e,t=null,s=null,n=0,a=null,o=e===re?0:1,i=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xr(t),ref:t&&mn(t),scopeId:br,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ge};return u?(da(p,s),o&128&&e.normalize(p)):s&&(p.shapeFlag|=De(s)?8:16),Ls>0&&!i&&dt&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&dt.push(p),p}const se=_l;function _l(e,t=null,s=null,n=0,a=null,o=!1){if((!e||e===ji)&&(e=Rt),Os(e)){const u=ms(e,t,!0);return s&&da(u,s),Ls>0&&!o&&dt&&(u.shapeFlag&6?dt[dt.indexOf(e)]=u:dt.push(u)),u.patchFlag=-2,u}if(Pl(e)&&(e=e.__vccOpts),t){t=wl(t);let{class:u,style:p}=t;u&&!De(u)&&(t.class=$e(u)),Te(p)&&(Xn(p)&&!Q(p)&&(p=ze({},p)),t.style=Pt(p))}const i=De(e)?1:Jr(e)?128:Di(e)?64:Te(e)?4:ee(e)?2:0;return l(e,t,s,n,a,i,o,!0)}function wl(e){return e?Xn(e)||Pr(e)?ze({},e):e:null}function ms(e,t,s=!1,n=!1){const{props:a,ref:o,patchFlag:i,children:u,transition:p}=e,y=t?xl(a||{},t):a,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&Xr(y),ref:t&&t.ref?s&&o?Q(o)?o.concat(mn(t)):[o,mn(t)]:mn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ms(e.ssContent),ssFallback:e.ssFallback&&ms(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&n&&ta(b,p.clone(b)),b}function ce(e=" ",t=0){return se(gn,null,e,t)}function z(e="",t=!1){return t?(S(),bt(Rt,null,e)):se(Rt,null,e)}function $t(e){return e==null||typeof e=="boolean"?se(Rt):Q(e)?se(re,null,e.slice()):Os(e)?qt(e):se(gn,null,String(e))}function qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ms(e)}function da(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Q(t))s=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),da(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!Pr(t)?t._ctx=Ge:a===3&&Ge&&(Ge.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ee(t)?(t={default:t,_ctx:Ge},s=32):(t=String(t),n&64?(s=16,t=[ce(t)]):s=8);e.children=t,e.shapeFlag|=s}function xl(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=$e([t.class,n.class]));else if(a==="style")t.style=Pt([t.style,n.style]);else if(Gs(a)){const o=t[a],i=n[a];i&&o!==i&&!(Q(o)&&o.includes(i))&&(t[a]=o?[].concat(o,i):i)}else a!==""&&(t[a]=n[a])}return t}function At(e,t,s,n=null){Tt(e,t,7,[s,n])}const kl=Ir();let Sl=0;function Cl(e,t,s){const n=e.type,a=(t?t.appContext:e.appContext)||kl,o={uid:Sl++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Go(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Or(n,a),emitsOptions:Kr(n,a),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:n.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=hl.bind(null,o),e.ce&&e.ce(o),o}let Qe=null;const Tl=()=>Qe||Ge;let vn,fa;{const e=Zs(),t=(s,n)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(n),o=>{a.length>1?a.forEach(i=>i(o)):a[0](o)}};vn=t("__VUE_INSTANCE_SETTERS__",s=>Qe=s),fa=t("__VUE_SSR_SETTERS__",s=>Rs=s)}const Fs=e=>{const t=Qe;return vn(e),e.scope.on(),()=>{e.scope.off(),vn(t)}},Qr=()=>{Qe&&Qe.scope.off(),vn(null)};function eo(e){return e.vnode.shapeFlag&4}let Rs=!1;function Ml(e,t=!1,s=!1){t&&fa(t);const{props:n,children:a}=e.vnode,o=eo(e);Qi(e,n,o,t),nl(e,a,s||t);const i=o?$l(e,t):void 0;return t&&fa(!1),i}function $l(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vi);const{setup:n}=s;if(n){St();const a=e.setupContext=n.length>1?Dl(e):null,o=Fs(e),i=ds(n,e,0,[e.props,a]),u=Ha(i);if(Ct(),o(),(u||e.sp)&&!ps(e)&&yr(e),u){if(i.then(Qr,Qr),t)return i.then(p=>{to(e,p)}).catch(p=>{rn(p,e,0)});e.asyncDep=i}else to(e,i)}else so(e)}function to(e,t,s){ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Te(t)&&(e.setupState=dr(t)),so(e)}function so(e,t,s){const n=e.type;e.render||(e.render=n.render||kt);{const a=Fs(e);St();try{zi(e)}finally{Ct(),a()}}}const Al={get(e,t){return Ke(e,"get",""),e[t]}};function Dl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Al),slots:e.slots,emit:e.emit,expose:t}}function bn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(dr(pi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Es)return Es[s](e)},has(t,s){return s in t||s in Es}})):e.proxy}const Il=/(?:^|[-_])(\w)/g,El=e=>e.replace(Il,t=>t.toUpperCase()).replace(/[-_]/g,"");function Nl(e,t=!0){return ee(e)?e.displayName||e.name:e.name||t&&e.__name}function no(e,t,s=!1){let n=Nl(t);if(!n&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(n=a[1])}if(!n&&e&&e.parent){const a=o=>{for(const i in o)if(o[i]===t)return i};n=a(e.components||e.parent.type.components)||a(e.appContext.components)}return n?El(n):s?"App":"Anonymous"}function Pl(e){return ee(e)&&"__vccOpts"in e}const R=(e,t)=>yi(e,t,Rs);function ft(e,t,s){const n=arguments.length;return n===2?Te(t)&&!Q(t)?Os(t)?se(e,null,[t]):se(e,t):se(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Os(s)&&(s=[s]),se(e,t,s))}const Ll="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ha;const ao=typeof window<"u"&&window.trustedTypes;if(ao)try{ha=ao.createPolicy("vue",{createHTML:e=>e})}catch{}const ro=ha?e=>ha.createHTML(e):e=>e,Ol="http://www.w3.org/2000/svg",Hl="http://www.w3.org/1998/Math/MathML",Wt=typeof document<"u"?document:null,oo=Wt&&Wt.createElement("template"),Fl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const a=t==="svg"?Wt.createElementNS(Ol,e):t==="mathml"?Wt.createElementNS(Hl,e):s?Wt.createElement(e,{is:s}):Wt.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Wt.createTextNode(e),createComment:e=>Wt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,a,o){const i=s?s.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===o||!(a=a.nextSibling)););else{oo.innerHTML=ro(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const u=oo.content;if(n==="svg"||n==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Rl=Symbol("_vtc");function Wl(e,t,s){const n=e[Rl];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const yn=Symbol("_vod"),io=Symbol("_vsh"),_n={name:"show",beforeMount(e,{value:t},{transition:s}){e[yn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ws(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Ws(e,!0),n.enter(e)):n.leave(e,()=>{Ws(e,!1)}):Ws(e,t))},beforeUnmount(e,{value:t}){Ws(e,t)}};function Ws(e,t){e.style.display=t?e[yn]:"none",e[io]=!t}const Bl=Symbol(""),jl=/(^|;)\s*display\s*:/;function Ul(e,t,s){const n=e.style,a=De(s);let o=!1;if(s&&!a){if(t)if(De(t))for(const i of t.split(";")){const u=i.slice(0,i.indexOf(":")).trim();s[u]==null&&wn(n,u,"")}else for(const i in t)s[i]==null&&wn(n,i,"");for(const i in s)i==="display"&&(o=!0),wn(n,i,s[i])}else if(a){if(t!==s){const i=n[Bl];i&&(s+=";"+i),n.cssText=s,o=jl.test(s)}}else t&&e.removeAttribute("style");yn in e&&(e[yn]=o?n.display:"",e[io]&&(n.display="none"))}const lo=/\s*!important$/;function wn(e,t,s){if(Q(s))s.forEach(n=>wn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Vl(e,t);lo.test(s)?e.setProperty(Qt(n),s.replace(lo,""),"important"):e[n]=s}}const uo=["Webkit","Moz","ms"],pa={};function Vl(e,t){const s=pa[t];if(s)return s;let n=Vt(t);if(n!=="filter"&&n in e)return pa[t]=n;n=Wa(n);for(let a=0;a<uo.length;a++){const o=uo[a]+n;if(o in e)return pa[t]=o}return t}const co="http://www.w3.org/1999/xlink";function fo(e,t,s,n,a,o=Ko(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(co,t.slice(6,t.length)):e.setAttributeNS(co,t,s):s==null||o&&!Ua(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Nt(s)?String(s):s)}function ho(e,t,s,n,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ro(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Ua(s):s==null&&u==="string"?(s="",i=!0):u==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(a||t)}function zl(e,t,s,n){e.addEventListener(t,s,n)}function Kl(e,t,s,n){e.removeEventListener(t,s,n)}const po=Symbol("_vei");function Gl(e,t,s,n,a=null){const o=e[po]||(e[po]={}),i=o[t];if(n&&i)i.value=n;else{const[u,p]=ql(t);if(n){const y=o[t]=Yl(n,a);zl(e,u,y,p)}else i&&(Kl(e,u,i,p),o[t]=void 0)}}const go=/(?:Once|Passive|Capture)$/;function ql(e){let t;if(go.test(e)){t={};let n;for(;n=e.match(go);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qt(e.slice(2)),t]}let ga=0;const Jl=Promise.resolve(),Zl=()=>ga||(Jl.then(()=>ga=0),ga=Date.now());function Yl(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Tt(Xl(n,s.value),t,5,[n])};return s.value=e,s.attached=Zl(),s}function Xl(e,t){if(Q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const mo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ql=(e,t,s,n,a,o)=>{const i=a==="svg";t==="class"?Wl(e,n,i):t==="style"?Ul(e,s,n):Gs(t)?Ln(t)||Gl(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eu(e,t,n,i))?(ho(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&fo(e,t,n,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!De(n))?ho(e,Vt(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),fo(e,t,n,i))};function eu(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&mo(t)&&ee(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return mo(t)&&De(s)?!1:t in e}const tu=["ctrl","shift","alt","meta"],su={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>tu.some(s=>e[`${s}Key`]&&!t.includes(s))},xn=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(a,...o)=>{for(let i=0;i<t.length;i++){const u=su[t[i]];if(u&&u(a,t))return}return e(a,...o)})},nu=ze({patchProp:Ql},Fl);let vo;function au(){return vo||(vo=rl(nu))}const ru=(...e)=>{const t=au().createApp(...e),{mount:s}=t;return t.mount=n=>{const a=iu(n);if(!a)return;const o=t._component;!ee(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const i=s(a,!1,ou(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},t};function ou(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function iu(e){return De(e)?document.querySelector(e):e}const lu=Fe({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const n=e.showNavigation!==!1,a={...s,class:[s.class,"app-content",n?null:"app-content--navigation-hidden"]},o={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":n?"false":"true"};return ft("div",a,[ft("aside",o,t.navigation?t.navigation():[]),ft("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),uu=Fe({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const n={...s,class:[s.class,"app-navigation"]};"role"in n||(n.role="navigation");const a=[];return t.actions&&a.push(ft("div",{class:"app-navigation__actions"},t.actions())),t.default&&a.push(...t.default()),ft("nav",n,a)}}}),Bt=Fe({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:n}){return()=>{const a={...n,class:[n.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in a||(a.type="button"),ft("button",a,s.default?s.default():[])}}}),kn=Fe({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>ft("div",{...t,class:[t.class,"card empty"]},[ft("div",{class:"value"},e.name),ft("div",{class:"hint"},e.description)])}}),Sn=Fe({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:n}){const a=i=>{var u;return t("update:checked",!!((u=i==null?void 0:i.target)!=null&&u.checked))},o={...n,class:[n.class,"nc-checkbox-radio-switch"]};return()=>ft("label",o,[ft("input",{type:e.type,name:e.name,checked:e.checked,onInput:a}),ft("span",{},s.default?s.default():[])])}}),cu=Fe({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>ft("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function ma(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const n=Math.floor(s.width*t),a=Math.floor(s.height*t);e.width!==n&&(e.width=n),e.height!==a&&(e.height=a);const o=e.getContext("2d");return o.setTransform(t,0,0,t,0,0),o}function bo(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function du(e){const s=Math.pow((y=>y<0?0:y>1?1:y)(e),.6),n=bo("#e0f2fe"),a=bo("#7c3aed");if(!n||!a)return"#7c3aed";const o=(y,b,f)=>Math.round(y+(b-y)*f),i=o(n.r,a.r,s),u=o(n.g,a.g,s),p=o(n.b,a.b,s);return`rgb(${i}, ${u}, ${p})`}const yo=Fe({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=ae(null);function n(){const a=t.data,o=s.value;if(!o||!a)return;const i=ma(o);if(!i)return;const u=o.clientWidth,p=o.clientHeight,y=u/2,b=p/2,f=Math.min(u,p)*.35,h=a.data||[],_=a.labels||[],M=a.ids||[],L=a.colors||[],q=[];for(let oe=0;oe<h.length;oe++)(Number(h[oe])||0)>0&&q.push(oe);if(i.clearRect(0,0,u,p),q.length===0)return;const j=q.map(oe=>Number(h[oe])||0),$=q.map(oe=>String(_[oe]||"")),N=q.map(oe=>String(M[oe]||"")),C=q.map(oe=>L[oe]),O=j.reduce((oe,Ce)=>oe+Math.max(0,Ce),0)||1;let ue=-Math.PI/2;i.lineWidth=1,i.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const V=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];j.forEach((oe,Ce)=>{var Ne,rt;const Pe=Math.max(0,oe)/O,Ee=ue+Pe*2*Math.PI,We=String(($==null?void 0:$[Ce])||""),ve=String((N==null?void 0:N[Ce])||""),at=C[Ce],W=(Ne=t.colorsById)==null?void 0:Ne[ve],fe=(rt=t.colorsByName)==null?void 0:rt[We];let ne=W||fe||at||V[Ce%V.length];i.beginPath(),i.moveTo(y,b),i.arc(y,b,f,ue,Ee),i.closePath(),i.fillStyle=ne,i.fill(),i.stroke();const te=(ue+Ee)/2,Z=y+Math.cos(te)*(f+12),we=b+Math.sin(te)*(f+12);i.save(),i.font="12px ui-sans-serif,system-ui",i.fillStyle="#ffffff",i.strokeStyle="rgba(0,0,0,0.55)",i.lineWidth=3,i.textAlign="center",i.textBaseline="middle";const ke=Math.max(0,Number(oe)||0)/O*100,he=`${$!=null&&$[Ce]?$[Ce]+" ":""}${Number(oe).toFixed(2)}h  ${ke.toFixed(1)}%`;i.strokeText(he,Z,we),i.fillText(he,Z,we),i.restore(),ue=Ee})}return Is(()=>{n(),window.addEventListener("resize",n)}),vt(()=>t.data,()=>n(),{deep:!0}),vt(()=>t.colorsById,()=>n(),{deep:!0}),(a,o)=>(S(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),_o=Fe({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=ae(null);function n(f,h,_,M,L){f.save(),L!=null&&L.font&&(f.font=L.font),L!=null&&L.align&&(f.textAlign=L.align),L!=null&&L.baseline&&(f.textBaseline=L.baseline),f.lineWidth=3,f.strokeStyle="rgba(0,0,0,0.55)",f.strokeText(h,_,M),f.fillStyle="#ffffff",f.fillText(h,_,M),f.restore()}function a(f){const h=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(f||"");return h?{r:parseInt(h[1],16),g:parseInt(h[2],16),b:parseInt(h[3],16)}:null}function o(f,h){const _=a(f);return _&&(.2126*_.r+.7152*_.g+.0722*_.b)/255<.55?"#ffffff":h}function i(){var ne,te;const f=s.value;if(!f)return;const h=ma(f);if(!h)return;const _=f.clientWidth,M=f.clientHeight,L=28,q=L*1.4,j=M-L,$=_-L,N=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",C=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";h.clearRect(0,0,_,M),h.strokeStyle=N,h.lineWidth=1,h.beginPath(),h.moveTo(q,j),h.lineTo($,j),h.moveTo(q,j),h.lineTo(q,L),h.stroke();const O=t.stacked;if(O&&O.labels&&O.series){let Z=O.labels||[],we=O.series||[];const ke=p(Z,we);Z=ke.labels,we=ke.series;const he=Z.map((ht,ot)=>we.reduce((g,c)=>{var r;return g+Math.max(0,Number(((r=c.data)==null?void 0:r[ot])||0))},0)),Ne=Math.max(1,...he),rt=Z.length||1,Le=8,Ae=Math.max(6,($-q-Le*(rt+1))/rt),Ve=(j-L)/Ne;Z.forEach((ht,ot)=>{let g=j,c=0;we.forEach(d=>{var E;const w=Math.max(0,Number(((E=d.data)==null?void 0:E[ot])||0)),x=w*Ve,P=q+Le+ot*(Ae+Le);g=g-x;const D=t.colorsById[d.id]||d.color||"#93c5fd";if(h.fillStyle=D,x>.5&&(h.fillRect(P,g,Ae,x),x>14&&Ae>22&&w>.01)){const A=String((Math.round(w*100)/100).toFixed(1));h.fillStyle=o(D,C),h.font="11px ui-sans-serif,system-ui";const K=h.measureText(A).width;h.fillText(A,P+Ae/2-K/2,g+x/2+4)}c+=w}),h.fillStyle=C,h.font="12px ui-sans-serif,system-ui";const r=u(String(Z[ot]||""));if(Ae>26){const d=h.measureText(r).width;h.fillText(r,q+Le+ot*(Ae+Le)+Ae/2-d/2,j+14)}if(c>.01){const d=q+Le+ot*(Ae+Le),w=`${(Math.round(c*100)/100).toFixed(1)}h`;n(h,w,d+Ae/2,Math.max(L+4,g-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const jt=he.reduce((ht,ot)=>ht+ot,0),Ut=`${(Math.round(jt*100)/100).toFixed(1)}h total`;n(h,Ut,$-4,L+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const ue=t.legacy;if(!ue)return;let V=ue.data||[],oe=ue.labels||[];const Ce=p(oe,[{id:"__legacy__",data:V}]);oe=Ce.labels,V=((te=(ne=Ce.series)==null?void 0:ne[0])==null?void 0:te.data)||V;const Pe=Math.max(1,...V.map(Z=>Math.max(0,Z))),Ee=V.length||1,We=8,ve=Math.max(6,($-q-We*(Ee+1))/Ee),at=(j-L)/Pe;h.fillStyle="#93c5fd",V.forEach((Z,we)=>{const ke=Math.max(0,Z*at),he=q+We+we*(ve+We),Ne=j-ke;if(h.fillRect(he,Ne,ve,ke),ke>14&&ve>22&&Z>.01){const Le=String((Math.round(Z*100)/100).toFixed(1));h.fillStyle=o("#93c5fd",C),h.font="11px ui-sans-serif,system-ui";const Ae=h.measureText(Le).width;h.fillText(Le,he+ve/2-Ae/2,Ne+ke/2+4)}h.fillStyle=C,h.font="12px ui-sans-serif,system-ui";const rt=u(String(oe[we]||""));if(ve>26){const Le=h.measureText(rt).width;h.fillText(rt,he+ve/2-Le/2,j+14)}if(Z>.01){const Le=`${(Math.round(Z*100)/100).toFixed(1)}h`;n(h,Le,he+ve/2,Math.max(L+4,Ne-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const W=V.reduce((Z,we)=>Z+Math.max(0,Number(we)||0),0),fe=`${(Math.round(W*100)/100).toFixed(1)}h total`;n(h,fe,$-4,L+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}Is(()=>{i(),window.addEventListener("resize",i)}),vt(()=>t.stacked,()=>i(),{deep:!0}),vt(()=>t.legacy,()=>i(),{deep:!0}),vt(()=>t.colorsById,()=>i(),{deep:!0});function u(f){const h=/^(\d{4})-(\d{2})-(\d{2})$/.exec(f);if(!h)return f;const _=new Date(`${h[1]}-${h[2]}-${h[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][_.getDay()]||f}function p(f,h){if(!Array.isArray(f)||f.length!==7)return{labels:f,series:h};const _=f.map(C=>y(C));if(_.some(C=>!C))return{labels:f,series:h};const M=_.map(C=>b(C)),L=[1,2,3,4,5,6,7];if(M.join(",")===L.join(","))return{labels:f,series:h};const q={};if(M.forEach((C,O)=>{q[C]=O}),!L.every(C=>C in q))return{labels:f,series:h};const j=L.map(C=>q[C]),$=j.map(C=>f[C]),N=(h||[]).map(C=>({...C,data:(C.data||[]).map((O,ue)=>(C.data||[])[j[ue]])}));return{labels:$,series:N}}function y(f){const h=/^(\d{4})-(\d{2})-(\d{2})$/.exec(f);if(!h)return null;const _=new Date(`${h[1]}-${h[2]}-${h[3]}T00:00:00`);return isNaN(_.getTime())?null:_}function b(f){const h=f.getDay();return h===0?7:h}return(f,h)=>(S(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),fu=Fe({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=ae(null);let n=null;function a(){var O;const o=s.value,i=t.hod;if(!o)return;if(!i){console.info("[opsdash] heatmap: no data provided");return}const u=ma(o);if(!u)return;const p=o.clientWidth,y=o.clientHeight,b=i.dows||[],f=i.hours||[],h=i.matrix||[];u.clearRect(0,0,p,y);const _=36,M=_,L=_,q=p-_,j=y-_,$=(q-M)/Math.max(1,f.length),N=(j-L)/Math.max(1,b.length),C=Math.max(0,...h.flat())||1;b.length&&f.length&&console.info("[opsdash] heatmap draw",{rows:b.length,cols:f.length,vmax:C});for(let ue=0;ue<b.length;ue++)for(let V=0;V<f.length;V++){const Ce=(((O=h[ue])==null?void 0:O[V])||0)/C,Pe=M+V*$,Ee=L+ue*N;u.fillStyle=du(Ce),u.fillRect(Pe,Ee,$-1,N-1)}u.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",u.font="12px ui-sans-serif,system-ui",b.forEach((ue,V)=>u.fillText(ue,8,L+V*N+12)),f.forEach((ue,V)=>{V%2===0&&u.fillText(String(ue),M+V*$+2,L-6)})}return Is(async()=>{await ln(),a();try{n=new ResizeObserver(()=>a()),s.value&&n.observe(s.value)}catch{}window.addEventListener("resize",a)}),xr(()=>{try{window.removeEventListener("resize",a)}catch{}try{n&&s.value&&n.unobserve(s.value)}catch{}n=null}),vt(()=>t.hod,()=>a(),{deep:!0}),(o,i)=>(S(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),hu={class:"group-row"},pu={colspan:"5"},gu={class:"group-header"},mu={class:"group-label"},vu={class:"name"},bu={key:0,class:"group-meta"},yu={class:"summary"},_u={key:0,class:"summary-percent"},wu={key:1,class:"group-meta"},xu={class:"summary"},ku={key:0},Su=["title"],Cu={class:"row-name"},Tu={key:0,class:"progress"},Mu={class:"num"},$u={class:"num"},Au={class:"num"},Du={class:"num"},Iu={key:0,class:"hint"},Eu={key:0,class:"empty-row"},Nu=Fe({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=R(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map($=>({id:$.id,label:$.label,summary:$.summary??null,color:$.color,rows:($.rows||[]).map(n)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(n)}]);function n($){const N=a($);return{...$,calendarId:N}}function a($){return $?$.calendarId?String($.calendarId):$.id?String($.id):$.calendar_id?String($.calendar_id):$.calendar?String($.calendar):"":""}function o($){return String($.calendar||$.displayname||$.name||$.calendarId||"")}function i($){return a($)||o($)}function u($){const N=M($);if(!N)return!1;const C=t.targets||{},O=Number(C[N]);return isFinite(O)&&O>0}function p($){const N=M($);if(!N)return 0;const C=t.targets||{},O=Number(C[N]);return isFinite(O)?O:0}function y($){const N=p($);return N>0?(Math.round(N*100)/100).toFixed(2):""}function b($,N){return $-N>=0?"delta pos":"delta neg"}function f($,N){const C=$-N,O=Math.abs(Math.round(C*100)/100).toFixed(2);return(C>=0?"+":"-")+O+"h"}function h($,N){return Math.max(0,Math.min(100,N>0?$/N*100:0)).toFixed(0)+"%"}function _($,N){return Math.max(0,Math.min(100,N>0?$/N*100:0))}function M($){return $==null?"":String($)}function L($){const N=$.summary;if(!N)return`${$.rows.length} calendar${$.rows.length===1?"":"s"}`;const C=t.n2(N.actualHours);return N.targetHours>0?`${C} h / ${t.n2(N.targetHours)} h`:`${C} h`}function q($){const N=$.summary;return!N||N.targetHours<=0?"":`${Math.round(N.percent)}%`}function j($){switch($){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return($,N)=>(S(),T("table",null,[N[1]||(N[1]=l("colgroup",null,[l("col",{class:"col-w-42"}),l("col",{class:"col-w-12"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-18"})],-1)),N[2]||(N[2]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Calendar"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours"),l("th",{class:"num"},"Target"),l("th",{class:"num"}," / %")])],-1)),l("tbody",null,[(S(!0),T(re,null,qe(s.value,C=>(S(),T(re,{key:C.id},[l("tr",hu,[l("td",pu,[l("div",gu,[l("div",mu,[l("span",{class:"dot",style:Pt({background:C.color||"var(--brand)"})},null,4),l("span",vu,I(C.label),1)]),C.summary?(S(),T("div",bu,[l("span",yu,I(L(C)),1),q(C)?(S(),T("span",_u,I(q(C)),1)):z("",!0),C.summary.statusLabel?(S(),T("span",{key:1,class:$e(["badge",j(C.summary.status)])},I(C.summary.statusLabel),3)):z("",!0)])):(S(),T("div",wu,[l("span",xu,[ce(I(C.rows.length)+" calendar",1),C.rows.length!==1?(S(),T("span",ku,"s")):z("",!0)])]))])])]),(S(!0),T(re,null,qe(C.rows,O=>(S(),T("tr",{key:i(O)},[l("td",null,[l("div",{class:"cell",title:o(O)},[l("div",Cu,I(o(O)),1),u(a(O))&&p(a(O))>0?(S(),T("div",Tu,[l("div",{class:"progress-bar",style:Pt({width:_(O.total_hours,p(a(O)))+"%",background:C.color||void 0})},null,4)])):z("",!0)],8,Su)]),l("td",Mu,I(O.events_count),1),l("td",$u,I($.n2(O.total_hours)),1),l("td",Au,I(y(a(O))),1),l("td",Du,[u(a(O))?(S(),T(re,{key:0},[l("span",{class:$e(b(O.total_hours,p(a(O))))},I(f(O.total_hours,p(a(O)))),3),p(a(O))>0?(S(),T("span",Iu," ("+I(h(O.total_hours,p(a(O))))+")",1)):z("",!0)],64)):(S(),T(re,{key:1},[ce("")],64))])]))),128)),C.rows.length?z("",!0):(S(),T("tr",Eu,[...N[0]||(N[0]=[l("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),vs=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},Pu=vs(Nu,[["__scopeId","data-v-69f095b4"]]),Lu={class:"mono nowrap"},Ou=["href"],Hu={class:"hint"},Fu={class:"num"},Ru={class:"num"},Wu=Fe({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!n)return"";const a=new Date(`${n[1]}-${n[2]}-${n[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getUTCDay()]||""}return(s,n)=>(S(),T("table",null,[n[0]||(n[0]=l("colgroup",null,[l("col",{class:"col-w-40"}),l("col",{class:"col-w-30"}),l("col",{class:"col-w-30"})],-1)),n[1]||(n[1]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Date"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours")])],-1)),l("tbody",null,[(S(!0),T(re,null,qe(s.rows,a=>(S(),T("tr",{key:a.date},[l("td",Lu,[l("a",{href:s.link(a.date),target:"_blank"},I(a.date),9,Ou),l("span",Hu," ("+I(t(a.date))+")",1)]),l("td",Fu,I(a.events_count),1),l("td",Ru,I(s.n2(a.total_hours)),1)]))),128))])]))}}),Bu=["onClick"],ju=["title"],Uu={class:"num"},Vu={class:"mono nowrap"},zu={class:"mono nowrap"},Ku={key:0},Gu={colspan:"5",class:"mono cell-details"},qu={key:0},Ju={key:1,class:"hint"},Zu=Fe({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(S(),T("table",null,[s[1]||(s[1]=l("colgroup",null,[l("col",{class:"col-w-22"}),l("col"),l("col",{class:"col-w-12"}),l("col",{class:"col-w-18"}),l("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=l("thead",null,[l("tr",null,[l("th",null,"Calendar"),l("th",null,"Summary"),l("th",{class:"num"},"Hours"),l("th",{class:"nowrap"},"Start date"),l("th",{class:"nowrap"},"Start time")])],-1)),l("tbody",null,[(S(!0),T(re,null,qe(t.rows,(n,a)=>{var o;return S(),T(re,{key:a},[l("tr",{onClick:i=>t.$emit("toggle",a),class:"cursor-pointer"},[l("td",null,I(n.calendar),1),l("td",null,[l("span",{class:"cell",title:n.summary},I(n.summary),9,ju)]),l("td",Uu,I(t.n2(n.duration_h)),1),l("td",Vu,I((n.start||"").split(" ")[0]),1),l("td",zu,I((o=(n.start||"").split(" ")[1])==null?void 0:o.slice(0,5)),1)],8,Bu),t.detailsIndex===a?(S(),T("tr",Ku,[l("td",Gu,[s[0]||(s[0]=l("div",null,[l("strong",null,"Details")],-1)),n.desc?(S(),T("div",qu,I(n.desc),1)):(S(),T("div",Ju,"No description"))])])):z("",!0)],64)}),128))])]))}}),Yu={class:"card time-summary compact"},Xu={class:"time-summary-firstline"},Qu={class:"time-summary-metrics"},ec={key:0},tc={key:1},sc={key:2},nc={key:3},ac={key:4},rc={key:0,class:"time-summary-row"},oc={key:1,class:"time-summary-row"},ic={key:0,class:"share"},lc={key:2,class:"time-summary-row calendars"},uc={class:"label"},cc={class:"text"},dc={key:3,class:"time-summary-row top-category"},fc={class:"text"},hc={key:4,class:"time-summary-row"},pc=vs(Fe({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,n=R(()=>Object.assign({},t,s.config??{})),a=R(()=>s.mode==="active"?"active days":"all days"),o=R(()=>{if(!n.value.showWeekendShare)return"";const f=s.summary.weekendShare;return f==null?"":`${p(f)}%`}),i=R(()=>{if(!n.value.showTopCategory)return null;const f=s.summary.topCategory;if(!f)return null;const h=y(f.actualHours),_=Number(f.percent??0).toFixed(0),M=f.targetHours>0?` (${_}% of ${y(f.targetHours)} h)`:"";return{text:`${f.label}  ${h} h${M}`,badge:f.statusLabel||"",badgeClass:b(f.status)}}),u=R(()=>{if(!n.value.showBusiest)return"";const f=s.summary.busiest;if(!f||!f.date)return"";const h=Number(f.hours??0);return`Busiest ${f.date}  ${y(h)} h`});function p(f){return Number(f??0).toFixed(1)}function y(f){return Number(f??0).toFixed(2)}function b(f){switch(f){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(f,h)=>(S(),T("div",Yu,[l("div",Xu,[l("em",null,"Time Summary  "+I(f.summary.rangeLabel),1)]),l("ul",Qu,[n.value.showTotal?(S(),T("li",ec,[l("strong",null,I(y(f.summary.totalHours))+" h",1),h[0]||(h[0]=ce(" total",-1))])):z("",!0),n.value.showAverage?(S(),T("li",tc,I(y(f.summary.avgDay))+" h/day ("+I(a.value)+")",1)):z("",!0),n.value.showAverage?(S(),T("li",sc,I(y(f.summary.avgEvent))+" h/event",1)):z("",!0),n.value.showMedian?(S(),T("li",nc,I(y(f.summary.medianDay))+" h median/day",1)):z("",!0),n.value.showBusiest&&u.value?(S(),T("li",ac,I(u.value),1)):z("",!0)]),n.value.showWorkday?(S(),T("div",rc,[h[1]||(h[1]=l("span",{class:"label"},"Workdays",-1)),ce(" "+I(y(f.summary.workdayAvg))+" h avg  "+I(y(f.summary.workdayMedian))+" h median ",1)])):z("",!0),n.value.showWeekend?(S(),T("div",oc,[h[2]||(h[2]=l("span",{class:"label"},"Weekend",-1)),ce(" "+I(y(f.summary.weekendAvg))+" h avg  "+I(y(f.summary.weekendMedian))+" h median ",1),n.value.showWeekendShare&&o.value?(S(),T("span",ic,"("+I(o.value)+")",1)):z("",!0)])):z("",!0),n.value.showCalendarSummary?(S(),T("div",lc,[l("span",uc,I(f.summary.activeCalendars)+" calendars",1),f.summary.calendarSummary?(S(),T(re,{key:0},[h[3]||(h[3]=l("span",{class:"sep"},"",-1)),l("span",cc,I(f.summary.calendarSummary),1)],64)):z("",!0)])):z("",!0),n.value.showTopCategory&&i.value?(S(),T("div",dc,[h[4]||(h[4]=l("span",{class:"label"},"Top category",-1)),l("span",fc,I(i.value.text),1),i.value.badge?(S(),T("span",{key:0,class:$e(["summary-badge",i.value.badgeClass])},I(i.value.badge),3)):z("",!0)])):z("",!0),n.value.showBalance&&f.summary.balanceIndex!=null?(S(),T("div",hc,[h[5]||(h[5]=l("span",{class:"label"},"Balance",-1)),ce(" "+I(y(f.summary.balanceIndex))+" ",1),h[6]||(h[6]=l("span",{class:"hint"},"(1 = perfekt)",-1))])):z("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),gc={class:"card targets-card"},mc={class:"targets-header"},vc={key:0,class:"hint"},bc={class:"targets-main"},yc={class:"line total-line"},_c={class:"value"},wc={key:0,class:"line"},xc={key:1,class:"line"},kc={class:"line forecast"},Sc={class:"hint"},Cc={key:0,class:"targets-badges"},Tc={key:1,class:"targets-categories"},Mc={class:"cat-top"},$c={class:"cat-label"},Ac={class:"name"},Dc={class:"cat-meta"},Ic={class:"percent"},Ec={class:"cat-progress"},Nc={class:"bar"},Pc={class:"cat-metrics"},Lc={class:"hint"},Oc={key:1,class:"hint"},Hc={key:0,class:"cat-footer"},Fc={class:"hint"},Rc=vs(Fe({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=R(()=>{var f;return((f=t.summary)==null?void 0:f.total)??p("total","Total")}),n=R(()=>{var h;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(_=>({id:_.id,label:_.label,summary:_.summary??p(_.id,_.label),color:_.color,rows:_.rows})):(((h=t.summary)==null?void 0:h.categories)??[]).map(_=>({id:_.id,label:_.label,summary:_,color:void 0,rows:[]}))}),a=R(()=>n.value.map(f=>{const h=f.summary??p(f.id,f.label);return{id:f.id,label:f.label||h.label,actualHours:h.actualHours,targetHours:h.targetHours,percent:h.percent,deltaHours:h.deltaHours,needPerDay:h.needPerDay,daysLeft:h.daysLeft,calendarPercent:h.calendarPercent,gap:h.gap,status:h.status,statusLabel:h.statusLabel,color:f.color,calendarCount:Array.isArray(f.rows)?f.rows.length:0,progress:y(h.percent,0,140),calendarLabel:Array.isArray(f.rows)&&f.rows.length===1?"calendar":"calendars"}}).filter(f=>f.targetHours>0||f.actualHours>0||f.calendarCount>0));function o(f){if(!isFinite(f))return"0";const h=Math.round(f*10)/10;return Math.abs(h-Math.round(h))<.05?String(Math.round(h)):h.toFixed(1)}function i(f){return!isFinite(f)||Math.abs(f)<.005?"0.0":(f>=0?"+":"")+o(Math.abs(f))}function u(f){switch(f){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function p(f,h){return{id:f,label:h,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function y(f,h,_){return!isFinite(f)||f<h?h:f>_?_:f}function b(f){return f==="momentum"?"Momentum":"Linear"}return(f,h)=>(S(),T("div",gc,[l("div",mc,[h[0]||(h[0]=l("strong",null,"Targets",-1)),s.value.targetHours>0?(S(),T("span",vc,I(s.value.percent.toFixed(0))+"%",1)):z("",!0)]),l("div",bc,[l("div",yc,[l("span",_c,[l("strong",null,I(o(s.value.actualHours)),1),ce(" / "+I(o(s.value.targetHours))+" h",1)]),f.config.ui.showTotalDelta&&s.value.targetHours>0?(S(),T("span",{key:0,class:$e(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+I(i(s.value.deltaHours))+"h ",3)):z("",!0)]),f.config.ui.showNeedPerDay&&s.value.targetHours>0?(S(),T("div",wc," Days left "+I(s.value.daysLeft)+"  Need "+I(o(s.value.needPerDay))+" h/day ",1)):z("",!0),s.value.targetHours>0?(S(),T("div",xc,[ce(" Pace: "+I(s.value.percent.toFixed(0))+"% vs "+I(s.value.calendarPercent.toFixed(0))+"%  ",1),l("span",{class:$e(["status-label",u(s.value.status)])},I(s.value.statusLabel),3)])):z("",!0),l("div",kc,[ce(" Forecast: "+I(f.summary.forecast.text)+" ",1),l("span",Sc," Linear "+I(o(f.summary.forecast.linear))+"h  Momentum "+I(o(f.summary.forecast.momentum))+"h  Primary: "+I(b(f.summary.forecast.primaryMethod)),1)])]),f.config.ui.badges&&s.value.targetHours>0?(S(),T("div",Cc,[l("span",{class:$e(["badge",u(s.value.status)])},I(s.value.statusLabel),3)])):z("",!0),f.config.ui.showCategoryBlocks&&a.value.length?(S(),T("div",Tc,[(S(!0),T(re,null,qe(a.value,_=>(S(),T("div",{class:"category",key:_.id},[l("div",Mc,[l("div",$c,[l("span",{class:"dot",style:Pt({background:_.color||"var(--brand)"})},null,4),l("span",Ac,I(_.label),1)]),l("div",Dc,[l("span",Ic,I(_.percent.toFixed(0))+"%",1),f.config.ui.badges&&_.targetHours>0?(S(),T("span",{key:0,class:$e(["badge",u(_.status)])},I(_.statusLabel),3)):z("",!0)])]),l("div",Ec,[l("div",Nc,[l("div",{class:"fill",style:Pt({width:_.progress+"%",background:_.color||"var(--brand)"})},null,4)])]),l("div",Pc,[l("strong",null,I(o(_.actualHours))+"h",1),l("span",Lc,"/ "+I(o(_.targetHours))+"h",1),_.targetHours>0?(S(),T("span",{key:0,class:$e(["delta",_.deltaHours>=0?"pos":"neg"])},"  "+I(i(_.deltaHours))+"h ",3)):z("",!0),f.config.ui.showNeedPerDay&&_.targetHours>0?(S(),T("span",Oc," Need "+I(o(_.needPerDay))+"h/day  "+I(_.daysLeft)+" days left ",1)):z("",!0)]),_.calendarCount>0?(S(),T("div",Hc,[l("span",Fc,I(_.calendarCount)+" "+I(_.calendarLabel),1)])):z("",!0)]))),128))])):z("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]),Wc={class:"card activity-card"},Bc={class:"activity-card__header"},jc={key:0,class:"pill"},Uc={key:0,class:"activity-card__hero"},Vc={key:1,class:"activity-card__subline"},zc={key:2,class:"activity-card__meta"},Kc={key:3,class:"activity-card__extra"},Gc={key:4,class:"activity-card__hint"},qc=vs(Fe({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t={showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0},s=e,n=R(()=>Object.assign({},t,s.config??{})),a=R(()=>{const h=[];h.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&h.push(`Active Days ${s.summary.activeDays}`);const _=p(s.summary.typicalStart,s.summary.typicalEnd);return _&&h.push(`Typical ${_}`),h.join("  ")}),o=R(()=>{const h=[];return n.value.showWeekendShare&&s.summary.weekendShare!=null&&h.push(`Weekend ${y(s.summary.weekendShare)}`),n.value.showEveningShare&&s.summary.eveningShare!=null&&h.push(`Evening ${y(s.summary.eveningShare)}`),h.join("  ")}),i=R(()=>{const h=[];if(n.value.showEarliestLatest){const _=b(s.summary.earliestStart),M=b(s.summary.latestEnd);(_||M)&&h.push({label:"Earliest/Late",value:`${_||""} / ${M||""}`})}return n.value.showOverlaps&&s.summary.overlapEvents!=null&&h.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),h}),u=R(()=>{const h=[];return n.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&h.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),n.value.showLastDayOff&&s.summary.lastDayOff&&h.push({label:"Last day off",value:f(s.summary.lastDayOff)}),n.value.showLastDayOff&&s.summary.lastHalfDayOff&&h.push({label:"Last half day",value:f(s.summary.lastHalfDayOff)}),h});function p(h,_){return h&&_?`${h}${_}`:h?`${h}`:_?`${_}`:""}function y(h){return`${Number(h||0).toFixed(1)}%`}function b(h){return h?h.length>=16?h.slice(11,16):h.length>=5?h.slice(0,5):null:null}function f(h){const _=h.trim();if(!_)return"";if(_.split("-").length>=2){const L=new Date(_.length===10?`${_}T00:00:00`:_);if(!Number.isNaN(L.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(L)}return _}return(h,_)=>(S(),T("div",Wc,[l("div",Bc,[l("span",null,"Activity & Schedule ("+I(h.rangeLabel)+")",1),h.summary.rangeLabel?(S(),T("span",jc,I(h.summary.rangeLabel),1)):z("",!0)]),a.value?(S(),T("div",Uc,[l("span",null,I(a.value),1)])):z("",!0),o.value?(S(),T("div",Vc,[l("span",null,I(o.value),1)])):z("",!0),i.value.length?(S(),T("div",zc,[(S(!0),T(re,null,qe(i.value,M=>(S(),T("span",{key:M.label},[l("strong",null,I(M.label),1),ce(" "+I(M.value),1)]))),128))])):z("",!0),u.value.length?(S(),T("div",Kc,[(S(!0),T(re,null,qe(u.value,M=>(S(),T("span",{key:M.label},[l("strong",null,I(M.label),1),ce(" "+I(M.value),1)]))),128))])):z("",!0),n.value.showHint&&h.categoryHint?(S(),T("div",Gc,I(h.categoryHint),1)):z("",!0)]))}}),[["__scopeId","data-v-1ab0985e"]]),Jc={class:"card balance-card"},Zc={class:"balance-card__header"},Yc={key:0,class:"balance-card__hero"},Xc={key:1,class:"balance-card__relations"},Qc={key:2,class:"balance-card__trend"},ed={key:3,class:"balance-card__insights"},td={key:4,class:"balance-card__warnings"},sd=vs(Fe({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,n=R(()=>Object.assign({},t,s.config??{})),a=R(()=>{if(!s.overview)return"";const y=s.overview.index??0,b=s.overview.categories.filter(h=>h.share>.1).slice(0,4).map(h=>`${h.label} ${h.share.toFixed(0)}%`),f=b.length?`  ${b.join(" | ")}`:"";return`Balance Index ${y.toFixed(2)}${f}`}),o=R(()=>{var y;return!s.overview||!((y=s.overview.relations)!=null&&y.length)?"":s.overview.relations.map(b=>`${b.label} ${b.value}`).join("  ")}),i=R(()=>{var b;if(!s.overview)return"";const y=((b=s.overview.trend)==null?void 0:b.delta)??[];return y.length?y.map(f=>{const h=f.delta>0?"+":f.delta<0?"":"";return`${f.label} ${h}${Math.abs(f.delta).toFixed(1)} pp`}).join(", "):""}),u=R(()=>{var y;return n.value.showInsights?((y=s.overview)==null?void 0:y.insights)??[]:[]}),p=R(()=>{var y;return((y=s.overview)==null?void 0:y.warnings)??[]});return(y,b)=>(S(),T("div",Jc,[l("div",Zc,[l("span",null,"Balance Overview ("+I(y.rangeLabel)+")",1)]),a.value?(S(),T("div",Yc,[l("span",null,I(a.value),1)])):z("",!0),o.value?(S(),T("div",Xc,I(o.value),1)):z("",!0),i.value?(S(),T("div",Qc,[b[0]||(b[0]=l("strong",null,"WoW-:",-1)),ce(" "+I(i.value),1)])):z("",!0),u.value.length?(S(),T("ul",ed,[(S(!0),T(re,null,qe(u.value,f=>(S(),T("li",{key:f}," "+I(f),1))),128))])):z("",!0),p.value.length?(S(),T("ul",td,[(S(!0),T(re,null,qe(p.value,f=>(S(),T("li",{key:f}," "+I(f),1))),128))])):z("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]);function nd(e){const t=e?yt(e):Tn(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(n=>({...s,id:n.id,label:n.label,targetHours:n.targetHours,remainingHours:n.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function va(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function Cn(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0}}const ba=24*60*60*1e3;function Tn(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:Cn(),balance:va(),includeZeroDaysInStats:!1}}function ad(e){const t=yt(e.config),s=ko(e.from),n=ko(e.to),a=hd(e.byDay),o=(e.byCal||[]).reduce((f,h)=>{const _=Number((h==null?void 0:h.total_hours)??(h==null?void 0:h.hours)??0);return Number.isFinite(_)?f+_:f},0),i=t.totalHours||0,u=xo({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a}),p=wo({id:"total",label:"Total",actual:o,target:i,pace:u,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),y=t.categories.map(f=>{const h=ld(f,e.byCal,e.groupsById),_=f.paceMode||t.pace.mode,M=xo({includeWeekend:f.includeWeekend,mode:_,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a});return wo({id:f.id,label:f.label,actual:h,target:f.targetHours,pace:M,thresholds:t.pace.thresholds,includeWeekend:f.includeWeekend,paceMode:_})}),b=dd({config:t,totalProgress:p,dailyHours:a,pace:u});return{total:p,categories:y,forecast:b}}function yt(e){var i,u,p,y,b,f,h,_,M,L,q,j,$,N,C,O,ue,V,oe,Ce,Pe,Ee,We,ve,at;if(typeof e=="string")try{const W=JSON.parse(e);return yt(W)}catch{return yt(void 0)}const t=Tn(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const n=s.categories.map(W=>{const fe=(W!=null&&W.id&&typeof W.id=="string"?W.id:"")||md(String((W==null?void 0:W.label)??"cat")),ne=typeof(W==null?void 0:W.label)=="string"&&W.label.trim()!==""?W.label.trim():rd(fe),te=Jt(W==null?void 0:W.targetHours,0,1e4),Z=!!(W!=null&&W.includeWeekend),we=(W==null?void 0:W.paceMode)==="time_aware"?"time_aware":"days_only",ke=Array.isArray(W==null?void 0:W.groupIds)?W.groupIds.map(he=>Number(he)).filter(he=>Number.isFinite(he)&&he>=0&&he<=9):[];return{id:fe,label:ne,targetHours:te,includeWeekend:Z,paceMode:we,groupIds:ke}}),a=n.length?n:t.categories;return{totalHours:Jt(s.totalHours,0,1e4),categories:a,pace:{includeWeekendTotal:!!(((i=s.pace)==null?void 0:i.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((u=s.pace)==null?void 0:u.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Jt(((y=(p=s.pace)==null?void 0:p.thresholds)==null?void 0:y.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Jt(((f=(b=s.pace)==null?void 0:b.thresholds)==null?void 0:f.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((h=s.forecast)==null?void 0:h.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var fe;const W=Math.round(((fe=s.forecast)==null?void 0:fe.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(W)?W:t.forecast.momentumLastNDays))})(),padding:Jt(((_=s.forecast)==null?void 0:_.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((M=s.ui)==null?void 0:M.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((L=s.ui)==null?void 0:L.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((q=s.ui)==null?void 0:q.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((j=s.ui)==null?void 0:j.badges)??t.ui.badges),includeWeekendToggle:!!((($=s.ui)==null?void 0:$.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((N=s.ui)==null?void 0:N.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((C=s.ui)==null?void 0:C.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},timeSummary:{showTotal:((O=s.timeSummary)==null?void 0:O.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((ue=s.timeSummary)==null?void 0:ue.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((V=s.timeSummary)==null?void 0:V.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((oe=s.timeSummary)==null?void 0:oe.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((Ce=s.timeSummary)==null?void 0:Ce.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((Pe=s.timeSummary)==null?void 0:Pe.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((Ee=s.timeSummary)==null?void 0:Ee.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((We=s.timeSummary)==null?void 0:We.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((ve=s.timeSummary)==null?void 0:ve.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((at=s.timeSummary)==null?void 0:at.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:od(s.activityCard,t.activityCard),balance:id(s.balance,a,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function rd(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Jt(e,t,s){const n=Number(e);return Number.isFinite(n)?Math.min(s,Math.max(t,Math.round(n*100)/100)):t}function ya(e,t,s){const n=Number(e);if(!Number.isFinite(n))return t;const a=Math.round(n);return a<t?t:a>s?s:a}function od(e,t){const s={...t};return!e||typeof e!="object"||Object.keys(t).forEach(n=>{Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=!!e[n])}),s}function id(e,t,s){var y,b,f,h;const n=t.map(_=>_.id),a=new Set([...n,"__uncategorized__"]),o=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,i=[];for(const _ of o){const M=typeof _=="string"?_.trim():String(_??"").trim();M&&(a.size&&!a.has(M)||i.includes(M)||i.push(M))}i.length||(n.length?i.push(...n.slice(0,s.categories.length)):i.push(...s.categories));const u=(e==null?void 0:e.thresholds)??{},p=(e==null?void 0:e.ui)??{};return{categories:i,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((y=e==null?void 0:e.index)==null?void 0:y.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Jt(u.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Jt(u.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Jt(u.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((b=e==null?void 0:e.relations)==null?void 0:b.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:ya(((f=e==null?void 0:e.trend)==null?void 0:f.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((h=e==null?void 0:e.dayparts)==null?void 0:h.enabled)??s.dayparts.enabled)},ui:{roundPercent:ya(p.roundPercent??s.ui.roundPercent,0,3),roundRatio:ya(p.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(p.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(p.showInsights??s.ui.showInsights)}}}function ld(e,t,s){if(!Array.isArray(t))return 0;const n=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let a=0;for(const o of t){const i=Number((o==null?void 0:o.total_hours)??(o==null?void 0:o.hours)??0);if(!isFinite(i)||i<=0)continue;const u=String((o==null?void 0:o.id)??(o==null?void 0:o.calendar)??""),p=Number((o==null?void 0:o.group)??(o==null?void 0:o.group_id)??(s==null?void 0:s[u])??0);n&&!n.has(p)||(a+=i)}return a}function wo(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),n=t>0?_a(s/t*100):0,a=t-s,o=s-t,i=e.pace.daysLeft>0?Math.max(0,a)/e.pace.daysLeft:0,u=n-e.pace.calendarPercent,p=ud({percent:n,target:t,gap:u,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:nt(s),targetHours:nt(t),percent:n,deltaHours:nt(o),remainingHours:nt(Math.max(0,a)),needPerDay:nt(i),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:_a(e.pace.calendarPercent),gap:nt(u),status:p,statusLabel:cd(p),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function ud(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function cd(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function xo(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const n=Mn(new Date),a=Zt(t),o=Zt(s),i=pd(t,s).filter(f=>e.includeWeekend||!gd(f)),u=i.length;if(u===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Zt(n)>o)return{totalEligible:u,elapsedEligible:u,daysLeft:0,calendarPercent:100};if(Zt(n)<a)return{totalEligible:u,elapsedEligible:0,daysLeft:u,calendarPercent:0};let p=0;for(const f of i){const h=Zt(f),_=e.dailyHours.get(h)??0;if(!(!e.includeZeroDays&&_<=0&&h!==Zt(n))){if(h<Zt(n))p+=1;else if(h===Zt(n))if(e.mode==="time_aware"){const L=Math.min(new Date().getTime(),f.getTime()+ba)-f.getTime(),q=Math.max(0,Math.min(1,L/ba));(e.includeZeroDays||_>0||q>0)&&(p+=q)}else(e.includeZeroDays||_>0)&&(p+=1)}}const y=_a(p/u*100),b=Math.max(0,u-p);return{totalEligible:u,elapsedEligible:p,daysLeft:b,calendarPercent:y}}function dd(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,n=Math.max(0,Math.ceil(e.pace.daysLeft)),a=fd(e.dailyHours,e.config.forecast.momentumLastNDays),o=e.totalProgress.actualHours+a*n,i=Math.max(0,Math.min(s,o)-e.config.forecast.padding),u=Math.max(s,o)+e.config.forecast.padding,p=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",y=p==="momentum"?o:s,b=Math.max(0,y-e.config.forecast.padding),f=Math.max(0,y+e.config.forecast.padding),h=p==="momentum"?"Momentum":"Linear";return{linear:nt(s),momentum:nt(o),low:nt(Math.max(0,i)),high:nt(Math.max(0,u)),text:`${h} ${wa(e.config.forecast.padding)}h  ${wa(b)}${wa(f)} h`,primaryMethod:p,primary:nt(y),bandLow:nt(b),bandHigh:nt(f)}}function fd(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((o,i)=>o[0].localeCompare(i[0]));const n=s.slice(-t),a=n.reduce((o,[,i])=>o+Math.max(0,i||0),0);return n.length?a/n.length:0}function hd(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const n=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!n)continue;const a=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(a)&&t.set(n,a)}return t}function pd(e,t){const s=[];let n=Mn(e);const a=Mn(t).getTime();for(;n.getTime()<=a;)s.push(new Date(n)),n=new Date(n.getTime()+ba);return s}function ko(e){if(!e)return null;const t=e.split("-").map(n=>Number(n));if(t.length!==3||t.some(n=>!Number.isInteger(n)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:Mn(s)}function Mn(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Zt(e){return e.toISOString().slice(0,10)}function gd(e){const t=e.getUTCDay();return t===0||t===6}function _a(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function nt(e){return isFinite(e)?Number(e.toFixed(2)):0}function wa(e){if(!isFinite(e))return"0";const t=nt(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function md(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const vd={class:"notes-section"},bd=["title"],yd=["value"],_d=["title"],wd=["value"],xd={class:"notes-actions"},kd=vs(Fe({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(S(),T("div",vd,[l("div",{class:"hint",title:t.prevTitle},I(t.prevLabel),9,bd),l("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,yd),l("div",{class:"hint",title:t.currTitle},I(t.currLabel),9,_d),l("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,wd),l("div",xd,[se(Ie(Bt),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=n=>t.$emit("save"))},{default:Ue(()=>[...s[2]||(s[2]=[ce("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),Sd={class:"rangebar",title:"Time range"},Cd={class:"range-actions"},Td={class:"range-toggle"},Md={class:"range-nav"},$d={class:"range-dates"},Ad={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},Dd=["aria-selected"],Id=["aria-selected"],Ed=["aria-selected"],Nd={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},Pd=["aria-selected"],Ld=["aria-selected"],Od=["aria-selected"],Hd={key:0,id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},Fd={class:"sb-actions"},Rd={class:"sb-list"},Wd=["onClick","aria-pressed"],Bd={class:"cal-name"},jd={class:"cal-fields"},Ud={class:"field"},Vd=["value","onChange"],zd=["value"],Kd={class:"field"},Gd=["value","onInput","title"],qd={key:1,id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},Jd={class:"target-config"},Zd={class:"field"},Yd=["value"],Xd={class:"preset-buttons"},Qd={class:"cat-header"},ef=["value","onInput"],tf=["onClick","disabled"],sf={class:"cat-fields"},nf={class:"field"},af=["value","onInput"],rf={class:"field"},of=["value","onChange"],lf={class:"field checkbox"},uf=["checked","onChange"],cf={class:"target-section"},df={class:"field checkbox"},ff=["checked"],hf={class:"field"},pf=["value"],gf={class:"field"},mf=["value"],vf={class:"field"},bf=["value"],yf={class:"target-section"},_f={class:"field"},wf=["value"],xf={class:"field"},kf=["value"],Sf={class:"field"},Cf=["value"],Tf={class:"target-section"},Mf={class:"field checkbox"},$f=["checked"],Af={class:"field checkbox"},Df=["checked"],If={class:"field checkbox"},Ef=["checked"],Nf={class:"field checkbox"},Pf=["checked"],Lf={class:"field checkbox"},Of=["checked"],Hf={class:"field checkbox"},Ff=["checked"],Rf={class:"field checkbox"},Wf=["checked"],Bf={class:"field checkbox"},jf=["checked"],Uf={key:2,id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},Vf={class:"target-config"},zf={class:"field"},Kf={class:"summary-mode-toggle"},Gf={class:"target-section"},qf={class:"field checkbox"},Jf=["checked"],Zf={class:"field checkbox"},Yf=["checked"],Xf={class:"field checkbox"},Qf=["checked"],eh={class:"field checkbox"},th=["checked"],sh={class:"field checkbox"},nh=["checked"],ah={class:"field checkbox"},rh=["checked"],oh={class:"field checkbox"},ih=["checked"],lh={class:"field checkbox"},uh=["checked"],ch={class:"field checkbox"},dh=["checked"],fh={class:"field checkbox"},hh=["checked"],ph={key:3,id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},gh={class:"section-title-row"},mh=["aria-expanded"],vh={key:0,class:"section-hint"},bh={class:"target-section toggle-grid"},yh=["checked","onChange"],_h={key:4,id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},wh={class:"section-title-row"},xh=["aria-expanded"],kh={class:"target-section"},Sh={class:"section-title-row"},Ch=["aria-expanded"],Th={key:0,class:"section-hint"},Mh={class:"field-grid"},$h={class:"field"},Ah=["value"],Dh={class:"field"},Ih=["value"],Eh={class:"field"},Nh=["value"],Ph={class:"target-section"},Lh={class:"section-title-row"},Oh=["aria-expanded"],Hh={key:0,class:"section-hint"},Fh={class:"field-grid"},Rh={class:"field"},Wh=["value"],Bh={class:"field"},jh=["value"],Uh={class:"target-section"},Vh={class:"section-title-row"},zh=["aria-expanded"],Kh={key:0,class:"section-hint"},Gh={class:"toggle-grid"},qh={class:"field checkbox toggle-field"},Jh=["checked"],Zh={class:"field checkbox toggle-field"},Yh=["checked"],Xh={class:"field-grid mt-8"},Qh={class:"field"},ep=["value"],tp=["value"],sp={class:"field"},np=["value"],ap=["value"],rp={key:5,id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},op=Fe({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode"],setup(e,{emit:t}){const s=e,n=t,a=ae("calendars"),o=R(()=>s.targetsConfig),i=R(()=>{var c;return((c=o.value)==null?void 0:c.categories)??[]}),u=R(()=>L()!==null),p=R(()=>{var c;return((c=o.value)==null?void 0:c.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),y=R(()=>{var c;return{...Cn(),...((c=o.value)==null?void 0:c.activityCard)??{}}}),b={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},f=R(()=>Object.entries(b)),h=R(()=>{var d;const c=va(),r=((d=o.value)==null?void 0:d.balance)??c;return{...c,...r,thresholds:{...c.thresholds,...r.thresholds??{}},relations:{...c.relations,...r.relations??{}},trend:{...c.trend,...r.trend??{}},dayparts:{...c.dayparts,...r.dayparts??{}},ui:{...c.ui,...r.ui??{}}}}),_=[0,1,2,3],M=Ms({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1});function L(){const c=new Set;for(const r of i.value)(r.groupIds||[]).forEach(d=>c.add(Number(d)));Object.values(s.groupsById||{}).forEach(r=>c.add(Number(r)));for(let r=1;r<=9;r++)if(!c.has(r))return r;return null}function q(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function j(c){const r=O(c),d=i.value.find(w=>Array.isArray(w.groupIds)&&w.groupIds.includes(r));return d?d.id:""}function $(c,r){if(!r){n("set-group",{id:c,n:0});return}const d=i.value.find(x=>x.id===r);if(!d){n("set-group",{id:c,n:0});return}const w=N(d.id);n("set-group",{id:c,n:w})}function N(c){const r=i.value.find(x=>x.id===c);if(!r)return 0;const d=Array.isArray(r.groupIds)&&r.groupIds.length?Number(r.groupIds[0]):null;if(d&&Number.isFinite(d))return d;const w=L()??0;return V(x=>{const P=x.categories.find(D=>D.id===c);P&&(P.groupIds=w?[w]:[])}),w}function C(c,r){V(d=>{const w=d.categories.find(x=>x.id===c);w&&r(w)})}function O(c){const r=Number((s.groupsById||{})[c]??0);return isFinite(r)?Math.max(0,Math.min(9,Math.trunc(r))):0}function ue(c){const r=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},d=Number(r[c]??"");return isFinite(d)?d:""}function V(c){const r=yt(JSON.parse(JSON.stringify(s.targetsConfig||{})));c(r),n("update:targets-config",r)}function oe(c){const r=g(c,0,1e3,.5);V(d=>{d.totalHours=r})}function Ce(c,r){const d=g(r,0,1e3,.5);C(c,w=>{w.targetHours=d})}function Pe(c,r){C(c,d=>{d.label=r.trim()||d.label})}function Ee(c,r){C(c,d=>{d.includeWeekend=r})}function We(c){s.activeDayMode!==c&&n("update:active-mode",c)}function ve(c,r){V(d=>{d.timeSummary||(d.timeSummary=JSON.parse(JSON.stringify(p.value))),d.timeSummary[c]=r})}function at(c,r){V(d=>{d.activityCard||(d.activityCard=Cn()),d.activityCard[c]=r})}function W(c,r){r!=="days_only"&&r!=="time_aware"||C(c,d=>{d.paceMode=r})}function fe(c){V(r=>{r.pace.includeWeekendTotal=c})}function ne(c){c!=="days_only"&&c!=="time_aware"||V(r=>{r.pace.mode=c})}function te(c,r){const d=g(r,-100,100,.1);V(w=>{w.pace.thresholds[c]=d})}function Z(c,r){const d=g(r,0,1,.01);V(w=>{w.balance.thresholds[c]=Number(d.toFixed(2))})}function we(c){const r=c==="factor"?"factor":"ratio";V(d=>{d.balance.relations.displayMode=r})}function ke(c){let r=Number(c);Number.isFinite(r)||(r=h.value.trend.lookbackWeeks),r=Math.round(r),r=Math.max(1,Math.min(12,r)),V(d=>{d.balance.trend.lookbackWeeks=r})}function he(c,r){V(d=>{d.balance.ui[c]=r})}function Ne(c,r){let d=Number(r);Number.isFinite(d)||(d=h.value.ui[c]),d=Math.max(0,Math.min(3,Math.round(d))),V(w=>{w.balance.ui[c]=d})}function rt(c){const r=c==="momentum"?"momentum":"linear";V(d=>{d.forecast.methodPrimary=r})}function Le(c){const r=Number(c),d=Number.isFinite(r)?Math.round(r):o.value.forecast.momentumLastNDays,w=Math.min(14,Math.max(1,d));V(x=>{x.forecast.momentumLastNDays=w})}function Ae(c){const r=g(c,0,100,.1);V(d=>{d.forecast.padding=r})}function Ve(c,r){V(d=>{d.ui[c]=r})}function jt(c){V(r=>{r.includeZeroDaysInStats=c})}function Ut(c){V(r=>{c==="work-week"?(r.totalHours=48,r.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],r.pace.includeWeekendTotal=!0,r.pace.mode="days_only",r.pace.thresholds={onTrack:-2,atRisk:-10},r.forecast.methodPrimary="linear",r.forecast.momentumLastNDays=2,r.forecast.padding=1.5,r.includeZeroDaysInStats=!1,r.ui.showCalendarCharts=!0,r.ui.showCategoryCharts=!0):c==="balanced-life"&&(r.totalHours=48,r.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],r.pace.includeWeekendTotal=!0,r.pace.mode="time_aware",r.pace.thresholds={onTrack:-2,atRisk:-10},r.forecast.methodPrimary="linear",r.forecast.momentumLastNDays=2,r.forecast.padding=1.5,r.includeZeroDaysInStats=!1,r.ui.showCalendarCharts=!0,r.ui.showCategoryCharts=!0)})}function ht(){var r;const c=L();if(c===null){(r=window.alert)==null||r.call(window,"All category slots are currently in use (max 9).");return}V(d=>{d.categories=[...d.categories,{id:q(),label:`Category ${d.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[c]}]})}function ot(c){if(i.value.length<=1)return;const r=i.value.find(w=>w.id===c);if(!r)return;const d=Array.isArray(r.groupIds)&&r.groupIds.length?Number(r.groupIds[0]):null;V(w=>{w.categories=w.categories.filter(x=>x.id!==c)}),d!==null&&Object.entries(s.groupsById||{}).forEach(([w,x])=>{Number(x)===d&&n("set-group",{id:w,n:0})})}function g(c,r,d,w){const x=Number(c);if(!isFinite(x))return r;const P=Math.min(d,Math.max(r,x)),D=Math.round(P/w)*w;return Number(D.toFixed(2))}return(c,r)=>(S(),bt(Ie(uu),null,{default:Ue(()=>[Ui(c.$slots,"actions"),r[136]||(r[136]=l("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),l("div",Sd,[l("div",Cd,[se(Ie(Bt),{class:"nav-btn",type:"primary",disabled:c.isLoading,onClick:r[0]||(r[0]=d=>c.$emit("load"))},{default:Ue(()=>[...r[59]||(r[59]=[ce("Load",-1)])]),_:1},8,["disabled"])]),l("div",Td,[se(Ie(Sn),{type:"radio",name:"range-week",checked:c.range==="week","onUpdate:checked":r[1]||(r[1]=d=>{d&&c.$emit("update:range","week")})},{default:Ue(()=>[...r[60]||(r[60]=[ce("Week",-1)])]),_:1},8,["checked"]),se(Ie(Sn),{type:"radio",name:"range-month",checked:c.range==="month","onUpdate:checked":r[2]||(r[2]=d=>{d&&c.$emit("update:range","month")})},{default:Ue(()=>[...r[61]||(r[61]=[ce("Month",-1)])]),_:1},8,["checked"])]),l("div",Md,[se(Ie(Bt),{class:"nav-btn",type:"tertiary",disabled:c.isLoading,onClick:r[3]||(r[3]=d=>c.$emit("update:offset",c.offset-1)),title:"Previous"},{default:Ue(()=>[...r[62]||(r[62]=[ce("",-1)])]),_:1},8,["disabled"]),l("span",$d,I(c.from)+"  "+I(c.to),1),se(Ie(Bt),{class:"nav-btn",type:"tertiary",disabled:c.isLoading,onClick:r[4]||(r[4]=d=>c.$emit("update:offset",c.offset+1)),title:"Next"},{default:Ue(()=>[...r[63]||(r[63]=[ce("",-1)])]),_:1},8,["disabled"])])]),l("div",Ad,[l("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:$e(["sb-tab",{active:a.value==="calendars"}]),role:"tab","aria-selected":a.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:r[5]||(r[5]=d=>a.value="calendars")}," Calendars ",10,Dd),l("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:$e(["sb-tab",{active:a.value==="targets"}]),role:"tab","aria-selected":a.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:r[6]||(r[6]=d=>a.value="targets")}," Targets ",10,Id),l("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:$e(["sb-tab",{active:a.value==="summary"}]),role:"tab","aria-selected":a.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:r[7]||(r[7]=d=>a.value="summary")}," Summary ",10,Ed)]),l("div",Nd,[l("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:$e(["sb-tab",{active:a.value==="activity"}]),role:"tab","aria-selected":a.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:r[8]||(r[8]=d=>a.value="activity")}," Activity & Schedule ",10,Pd),l("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:$e(["sb-tab",{active:a.value==="balance"}]),role:"tab","aria-selected":a.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:r[9]||(r[9]=d=>a.value="balance")}," Balance ",10,Ld),l("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:$e(["sb-tab",{active:a.value==="notes"}]),role:"tab","aria-selected":a.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:r[10]||(r[10]=d=>a.value="notes")}," Notes ",10,Od)]),a.value==="calendars"?(S(),T("div",Hd,[l("div",Fd,[se(Ie(Bt),{type:"tertiary",disabled:c.isLoading,onClick:r[11]||(r[11]=d=>c.$emit("select-all",!0))},{default:Ue(()=>[...r[64]||(r[64]=[ce("All",-1)])]),_:1},8,["disabled"]),se(Ie(Bt),{type:"tertiary",disabled:c.isLoading,onClick:r[12]||(r[12]=d=>c.$emit("select-all",!1))},{default:Ue(()=>[...r[65]||(r[65]=[ce("None",-1)])]),_:1},8,["disabled"])]),r[70]||(r[70]=l("div",{class:"sb-hints"},[l("div",{class:"sb-title",style:{margin:"0"}},"PerCalendar Settings"),l("div",{class:"sb-hintline",title:"Use categories to drive targets, balance, and summaries."},[l("strong",null,"Category"),ce(": choose how this calendar contributes to targets & balance.")]),l("div",{class:"sb-hintline",title:"Define weekly/monthly goals per calendar. Values sync between ranges."},[l("strong",null,"Target (h)"),ce(": goal hours for the active range (week  month converts automatically).")]),l("div",{class:"sb-hintline",title:"Only calendars marked Selected contribute to dashboards and KPIs."},"Toggle calendars to include or exclude them from stats.")],-1)),l("div",Rd,[(S(!0),T(re,null,qe(c.calendars,d=>(S(),T("div",{key:d.id,class:"cal-card"},[l("div",{class:"cal-card-head",onClick:w=>c.$emit("toggle-calendar",d.id),"aria-pressed":c.selected.includes(d.id),role:"button",tabindex:"0"},[l("span",{class:"color-dot",style:Pt({background:d.color||"var(--brand)"})},null,4),l("span",Bd,I(d.displayname||d.id),1),l("span",{class:$e(["cal-state",{on:c.selected.includes(d.id)}])},I(c.selected.includes(d.id)?"Selected":"Hidden"),3)],8,Wd),l("div",jd,[l("label",Ud,[r[67]||(r[67]=l("span",{class:"label"},"Category",-1)),l("select",{value:j(d.id),onChange:w=>{var x;return $(d.id,(x=w==null?void 0:w.target)==null?void 0:x.value)}},[r[66]||(r[66]=l("option",{value:""},"Unassigned",-1)),(S(!0),T(re,null,qe(i.value,w=>(S(),T("option",{key:w.id,value:w.id},I(w.label),9,zd))),128))],40,Vd)]),l("label",Kd,[r[68]||(r[68]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:ue(d.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",onInput:w=>{var x;return c.$emit("set-target",{id:d.id,h:(x=w==null?void 0:w.target)==null?void 0:x.value})},title:`Target (${c.range==="week"?"week":"month"}) in hours`,class:"target-input"},null,40,Gd)])])]))),128)),r[69]||(r[69]=l("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])])):a.value==="targets"?(S(),T("div",qd,[r[99]||(r[99]=l("div",{class:"sb-title"},"Target Settings",-1)),l("div",Jd,[l("div",Zd,[r[71]||(r[71]=l("span",{class:"label"},"Total target (h)",-1)),l("input",{type:"number",value:o.value.totalHours,min:"0",max:"1000",step:"0.5",onInput:r[13]||(r[13]=d=>oe(d.target.value))},null,40,Yd)]),l("div",Xd,[se(Ie(Bt),{type:"tertiary",onClick:r[14]||(r[14]=d=>Ut("work-week"))},{default:Ue(()=>[...r[72]||(r[72]=[ce("Preset: Work-Week",-1)])]),_:1}),se(Ie(Bt),{type:"tertiary",onClick:r[15]||(r[15]=d=>Ut("balanced-life"))},{default:Ue(()=>[...r[73]||(r[73]=[ce("Preset: Balanced-Life",-1)])]),_:1})]),(S(!0),T(re,null,qe(i.value,d=>(S(),T("div",{class:"target-category",key:d.id},[l("div",Qd,[l("input",{class:"cat-name",type:"text",value:d.label,onInput:w=>Pe(d.id,w.target.value),placeholder:"Category name"},null,40,ef),l("button",{class:"remove-cat",type:"button",onClick:w=>ot(d.id),disabled:i.value.length<=1,title:"Remove category"},"",8,tf)]),l("div",sf,[l("label",nf,[r[74]||(r[74]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:d.targetHours,min:"0",max:"1000",step:"0.5",onInput:w=>Ce(d.id,w.target.value)},null,40,af)]),l("label",rf,[r[76]||(r[76]=l("span",{class:"label"},"Pace mode",-1)),l("select",{value:d.paceMode||o.value.pace.mode,onChange:w=>W(d.id,w.target.value)},[...r[75]||(r[75]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,of)]),l("label",lf,[l("input",{type:"checkbox",checked:d.includeWeekend,onChange:w=>Ee(d.id,w.target.checked)},null,40,uf),r[77]||(r[77]=l("span",null,"Weekend",-1))])])]))),128)),se(Ie(Bt),{type:"tertiary",class:"add-category",disabled:!u.value,onClick:ht},{default:Ue(()=>[...r[78]||(r[78]=[ce("Add category",-1)])]),_:1},8,["disabled"]),l("div",cf,[r[84]||(r[84]=l("div",{class:"section-title"},"Pace",-1)),l("label",df,[l("input",{type:"checkbox",checked:o.value.pace.includeWeekendTotal,onChange:r[16]||(r[16]=d=>fe(d.target.checked))},null,40,ff),r[79]||(r[79]=l("span",null,"Count weekend in total pace",-1))]),l("label",hf,[r[81]||(r[81]=l("span",{class:"label"},"Mode",-1)),l("select",{value:o.value.pace.mode,onChange:r[17]||(r[17]=d=>ne(d.target.value))},[...r[80]||(r[80]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,pf)]),l("label",gf,[r[82]||(r[82]=l("span",{class:"label"},"On track  gap (%)",-1)),l("input",{type:"number",value:o.value.pace.thresholds.onTrack,step:"0.1",onInput:r[18]||(r[18]=d=>te("onTrack",d.target.value))},null,40,mf)]),l("label",vf,[r[83]||(r[83]=l("span",{class:"label"},"At risk  gap (%)",-1)),l("input",{type:"number",value:o.value.pace.thresholds.atRisk,step:"0.1",onInput:r[19]||(r[19]=d=>te("atRisk",d.target.value))},null,40,bf)])]),l("div",yf,[r[89]||(r[89]=l("div",{class:"section-title"},"Forecast",-1)),l("label",_f,[r[86]||(r[86]=l("span",{class:"label"},"Primary method",-1)),l("select",{value:o.value.forecast.methodPrimary,onChange:r[20]||(r[20]=d=>rt(d.target.value))},[...r[85]||(r[85]=[l("option",{value:"linear"},"Linear",-1),l("option",{value:"momentum"},"Momentum",-1)])],40,wf)]),l("label",xf,[r[87]||(r[87]=l("span",{class:"label"},"Momentum window (days)",-1)),l("input",{type:"number",value:o.value.forecast.momentumLastNDays,min:"1",max:"14",step:"1",onInput:r[21]||(r[21]=d=>Le(d.target.value))},null,40,kf)]),l("label",Sf,[r[88]||(r[88]=l("span",{class:"label"},"Padding (h)",-1)),l("input",{type:"number",value:o.value.forecast.padding,min:"0",step:"0.1",onInput:r[22]||(r[22]=d=>Ae(d.target.value))},null,40,Cf)])]),l("div",Tf,[r[98]||(r[98]=l("div",{class:"section-title"},"Display",-1)),l("label",Mf,[l("input",{type:"checkbox",checked:o.value.ui.showCalendarCharts,onChange:r[23]||(r[23]=d=>Ve("showCalendarCharts",d.target.checked))},null,40,$f),r[90]||(r[90]=l("span",null,"Show calendar charts",-1))]),l("label",Af,[l("input",{type:"checkbox",checked:o.value.ui.showCategoryCharts,onChange:r[24]||(r[24]=d=>Ve("showCategoryCharts",d.target.checked))},null,40,Df),r[91]||(r[91]=l("span",null,"Show category charts",-1))]),l("label",If,[l("input",{type:"checkbox",checked:o.value.ui.showTotalDelta,onChange:r[25]||(r[25]=d=>Ve("showTotalDelta",d.target.checked))},null,40,Ef),r[92]||(r[92]=l("span",null,"Show total delta",-1))]),l("label",Nf,[l("input",{type:"checkbox",checked:o.value.ui.showNeedPerDay,onChange:r[26]||(r[26]=d=>Ve("showNeedPerDay",d.target.checked))},null,40,Pf),r[93]||(r[93]=l("span",null,"Show need per day",-1))]),l("label",Lf,[l("input",{type:"checkbox",checked:o.value.ui.showCategoryBlocks,onChange:r[27]||(r[27]=d=>Ve("showCategoryBlocks",d.target.checked))},null,40,Of),r[94]||(r[94]=l("span",null,"Show categories",-1))]),l("label",Hf,[l("input",{type:"checkbox",checked:o.value.ui.badges,onChange:r[28]||(r[28]=d=>Ve("badges",d.target.checked))},null,40,Ff),r[95]||(r[95]=l("span",null,"Status badges",-1))]),l("label",Rf,[l("input",{type:"checkbox",checked:o.value.ui.includeWeekendToggle,onChange:r[29]||(r[29]=d=>Ve("includeWeekendToggle",d.target.checked))},null,40,Wf),r[96]||(r[96]=l("span",null,"Weekend toggle",-1))]),l("label",Bf,[l("input",{type:"checkbox",checked:o.value.includeZeroDaysInStats,onChange:r[30]||(r[30]=d=>jt(d.target.checked))},null,40,jf),r[97]||(r[97]=l("span",null,"Include zero days in pace",-1))])])])])):a.value==="summary"?(S(),T("div",Uf,[r[114]||(r[114]=l("div",{class:"sb-title"},"Time Summary",-1)),l("div",Vf,[l("div",zf,[r[102]||(r[102]=l("span",{class:"label"},"Average mode",-1)),l("div",Kf,[se(Ie(Sn),{type:"radio",name:"summary-mode-active",checked:c.activeDayMode==="active","onUpdate:checked":r[31]||(r[31]=d=>{d&&We("active")})},{default:Ue(()=>[...r[100]||(r[100]=[ce("Active days",-1)])]),_:1},8,["checked"]),se(Ie(Sn),{type:"radio",name:"summary-mode-all",checked:c.activeDayMode==="all","onUpdate:checked":r[32]||(r[32]=d=>{d&&We("all")})},{default:Ue(()=>[...r[101]||(r[101]=[ce("All days",-1)])]),_:1},8,["checked"])])]),l("div",Gf,[r[113]||(r[113]=l("div",{class:"section-title"},"Display",-1)),l("label",qf,[l("input",{type:"checkbox",checked:p.value.showTotal,onChange:r[33]||(r[33]=d=>ve("showTotal",d.target.checked))},null,40,Jf),r[103]||(r[103]=l("span",null,"Total hours",-1))]),l("label",Zf,[l("input",{type:"checkbox",checked:p.value.showAverage,onChange:r[34]||(r[34]=d=>ve("showAverage",d.target.checked))},null,40,Yf),r[104]||(r[104]=l("span",null,"Average per day",-1))]),l("label",Xf,[l("input",{type:"checkbox",checked:p.value.showMedian,onChange:r[35]||(r[35]=d=>ve("showMedian",d.target.checked))},null,40,Qf),r[105]||(r[105]=l("span",null,"Median per day",-1))]),l("label",eh,[l("input",{type:"checkbox",checked:p.value.showBusiest,onChange:r[36]||(r[36]=d=>ve("showBusiest",d.target.checked))},null,40,th),r[106]||(r[106]=l("span",null,"Busiest day",-1))]),l("label",sh,[l("input",{type:"checkbox",checked:p.value.showWorkday,onChange:r[37]||(r[37]=d=>ve("showWorkday",d.target.checked))},null,40,nh),r[107]||(r[107]=l("span",null,"Workdays row",-1))]),l("label",ah,[l("input",{type:"checkbox",checked:p.value.showWeekend,onChange:r[38]||(r[38]=d=>ve("showWeekend",d.target.checked))},null,40,rh),r[108]||(r[108]=l("span",null,"Weekend row",-1))]),l("label",oh,[l("input",{type:"checkbox",checked:p.value.showWeekendShare,onChange:r[39]||(r[39]=d=>ve("showWeekendShare",d.target.checked))},null,40,ih),r[109]||(r[109]=l("span",null,"Weekend share",-1))]),l("label",lh,[l("input",{type:"checkbox",checked:p.value.showCalendarSummary,onChange:r[40]||(r[40]=d=>ve("showCalendarSummary",d.target.checked))},null,40,uh),r[110]||(r[110]=l("span",null,"Top calendars",-1))]),l("label",ch,[l("input",{type:"checkbox",checked:p.value.showTopCategory,onChange:r[41]||(r[41]=d=>ve("showTopCategory",d.target.checked))},null,40,dh),r[111]||(r[111]=l("span",null,"Top category",-1))]),l("label",fh,[l("input",{type:"checkbox",checked:p.value.showBalance,onChange:r[42]||(r[42]=d=>ve("showBalance",d.target.checked))},null,40,hh),r[112]||(r[112]=l("span",null,"Balance index",-1))])])])])):a.value==="activity"?(S(),T("div",ph,[l("div",gh,[r[116]||(r[116]=l("div",{class:"section-title"},"Activity & Schedule",-1)),l("button",{type:"button",class:"info-button","aria-expanded":M.activity,"aria-label":"Activity & Schedule help",onClick:r[43]||(r[43]=d=>M.activity=!M.activity)},[...r[115]||(r[115]=[l("span",null,"?",-1)])],8,mh)]),M.activity?(S(),T("p",vh,"Choose which metrics appear on the Activity & Schedule card.")):z("",!0),l("div",bh,[(S(!0),T(re,null,qe(f.value,([d,w])=>(S(),T("label",{class:"field checkbox toggle-field",key:d},[l("input",{type:"checkbox",checked:y.value[d],onChange:x=>at(d,x.target.checked)},null,40,yh),l("span",null,I(w),1)]))),128))])])):a.value==="balance"?(S(),T("div",_h,[l("div",wh,[r[118]||(r[118]=l("div",{class:"section-title subtitle"},"Balance Overview",-1)),l("button",{type:"button",class:"info-button","aria-expanded":M.balanceThresholds||M.balanceTrend||M.balanceDisplay,"aria-label":"Balance Overview help",onClick:r[44]||(r[44]=d=>M.balanceThresholds=M.balanceTrend=M.balanceDisplay=!M.balanceThresholds)},[...r[117]||(r[117]=[l("span",null,"?",-1)])],8,xh)]),l("div",kh,[l("div",Sh,[r[120]||(r[120]=l("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),l("button",{type:"button",class:"info-button","aria-expanded":M.balanceThresholds,"aria-label":"Thresholds help",onClick:r[45]||(r[45]=d=>M.balanceThresholds=!M.balanceThresholds)},[...r[119]||(r[119]=[l("span",null,"?",-1)])],8,Ch)]),M.balanceThresholds?(S(),T("p",Th,"Set the share/index limits that trigger balance warnings.")):z("",!0),l("div",Mh,[l("label",$h,[r[121]||(r[121]=l("span",{class:"label"},"Notice max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:h.value.thresholds.noticeMaxShare,onInput:r[46]||(r[46]=d=>Z("noticeMaxShare",d.target.value))},null,40,Ah)]),l("label",Dh,[r[122]||(r[122]=l("span",{class:"label"},"Warn max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:h.value.thresholds.warnMaxShare,onInput:r[47]||(r[47]=d=>Z("warnMaxShare",d.target.value))},null,40,Ih)]),l("label",Eh,[r[123]||(r[123]=l("span",{class:"label"},"Warn index",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:h.value.thresholds.warnIndex,onInput:r[48]||(r[48]=d=>Z("warnIndex",d.target.value))},null,40,Nh)])])]),l("div",Ph,[l("div",Lh,[r[125]||(r[125]=l("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),l("button",{type:"button",class:"info-button","aria-expanded":M.balanceTrend,"aria-label":"Trend help",onClick:r[49]||(r[49]=d=>M.balanceTrend=!M.balanceTrend)},[...r[124]||(r[124]=[l("span",null,"?",-1)])],8,Oh)]),M.balanceTrend?(S(),T("p",Hh,"Control the comparison window and how ratios are expressed.")):z("",!0),l("div",Fh,[l("label",Rh,[r[127]||(r[127]=l("span",{class:"label"},"Relation display",-1)),l("select",{value:h.value.relations.displayMode,onChange:r[50]||(r[50]=d=>we(d.target.value))},[...r[126]||(r[126]=[l("option",{value:"ratio"},"Ratio (A : B)",-1),l("option",{value:"factor"},"Factor (A)",-1)])],40,Wh)]),l("label",Bh,[r[128]||(r[128]=l("span",{class:"label"},"Trend lookback (weeks)",-1)),l("input",{type:"number",min:"1",max:"12",step:"1",value:h.value.trend.lookbackWeeks,onInput:r[51]||(r[51]=d=>ke(d.target.value))},null,40,jh)])])]),l("div",Uh,[l("div",Vh,[r[130]||(r[130]=l("div",{class:"section-subtitle subtitle"},"Display",-1)),l("button",{type:"button",class:"info-button","aria-expanded":M.balanceDisplay,"aria-label":"Display help",onClick:r[52]||(r[52]=d=>M.balanceDisplay=!M.balanceDisplay)},[...r[129]||(r[129]=[l("span",null,"?",-1)])],8,zh)]),M.balanceDisplay?(S(),T("p",Kh,"Toggle optional insights and adjust rounding for the card values.")):z("",!0),l("div",Gh,[l("label",qh,[l("input",{type:"checkbox",checked:h.value.ui.showInsights,onChange:r[53]||(r[53]=d=>he("showInsights",d.target.checked))},null,40,Jh),r[131]||(r[131]=l("span",null,"Insights",-1))]),l("label",Zh,[l("input",{type:"checkbox",checked:h.value.ui.showDailyStacks,onChange:r[54]||(r[54]=d=>he("showDailyStacks",d.target.checked))},null,40,Yh),r[132]||(r[132]=l("span",null,"Daily mix (experimental)",-1))])]),l("div",Xh,[l("label",Qh,[r[133]||(r[133]=l("span",{class:"label"},"Percent precision",-1)),l("select",{value:h.value.ui.roundPercent,onChange:r[55]||(r[55]=d=>Ne("roundPercent",d.target.value))},[(S(),T(re,null,qe(_,d=>l("option",{key:`round-percent-${d}`,value:d},I(d),9,tp)),64))],40,ep)]),l("label",sp,[r[134]||(r[134]=l("span",{class:"label"},"Ratio precision",-1)),l("select",{value:h.value.ui.roundRatio,onChange:r[56]||(r[56]=d=>Ne("roundRatio",d.target.value))},[(S(),T(re,null,qe(_,d=>l("option",{key:`round-ratio-${d}`,value:d},I(d),9,ap)),64))],40,np)])])])])):a.value==="notes"?(S(),T("div",rp,[r[135]||(r[135]=l("div",{class:"sb-title"},"Notes",-1)),se(kd,{previous:c.notesPrev,"model-value":c.notesCurrDraft,"prev-label":c.notesLabelPrev,"curr-label":c.notesLabelCurr,"prev-title":c.notesLabelPrevTitle,"curr-title":c.notesLabelCurrTitle,saving:c.isSavingNote,"onUpdate:modelValue":r[57]||(r[57]=d=>c.$emit("update:notes",d)),onSave:r[58]||(r[58]=d=>c.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])])):z("",!0)]),_:3}))}}),ip={version:"0.4.2"},lp={class:"app-shell"},up=["aria-expanded","aria-label"],cp={key:0},dp={key:1},fp={class:"app-main"},hp={class:"app-container"},pp={class:"appbar"},gp={class:"title"},mp=["src"],vp=["textContent"],bp={class:"hint appbar-meta"},yp=["textContent"],_p={key:1,title:"Results truncated for performance"},wp=["title"],xp={class:"cards"},kp={class:"tabs"},Sp={class:"card full tab-panel"},Cp={key:0,class:"chart-section"},Tp={class:"grid2 mt-12"},Mp={class:"card chart-card"},$p={class:"card chart-card"},Ap={key:1,class:"chart-section"},Dp={key:0,class:"category-chart-block"},Ip={class:"category-chart-header"},Ep={class:"name"},Np={class:"grid2 mt-8"},Pp={class:"card chart-card"},Lp={class:"card chart-card"},Op={class:"card full tab-panel"},Hp={class:"card full tab-panel"},Fp={class:"card full tab-panel"},Rp={class:"hint footer"},Wp=["href"],So="opsdash.sidebarOpen",Dt="__uncategorized__",Co="Unassigned",Bp=Fe({__name:"App",setup(e){function t(m){var k,H;const v=window;(H=(k=v.OC)==null?void 0:k.Notification)!=null&&H.showTemporary?v.OC.Notification.showTemporary(m):console.log("SUCCESS:",m)}function s(m){var k,H;const v=window;(H=(k=v.OC)==null?void 0:k.Notification)!=null&&H.showTemporary?v.OC.Notification.showTemporary(m):(console.error("ERROR:",m),alert(m))}const n=ae((()=>{if(typeof window>"u")return!0;const m=window.localStorage.getItem(So);return m==null?!0:m==="1"})()),a=()=>{n.value=!n.value},o=R(()=>n.value?"Hide sidebar":"Show sidebar");vt(n,m=>{typeof window<"u"&&(window.localStorage.setItem(So,m?"1":"0"),ln(()=>{window.dispatchEvent(new Event("resize"))}))});const i=ae("cal"),u=ae("week"),p=ae(0),y=ae(""),b=ae(""),f=ae(""),h=ae(!1),_=ae(!1),M=ae(null),L=R(()=>{const m=M.value;if(!m)return"Partial data due to caps";const v=[];return m.maxPerCal!=null&&v.push(`cap per calendar: ${m.maxPerCal}`),m.maxTotal!=null&&v.push(`cap total: ${m.maxTotal}`),m.totalProcessed!=null&&v.push(`processed: ${m.totalProcessed}`),v.join("  ")}),q=R(()=>{var le;const m=(le=Z.value)==null?void 0:le.pie;if(!m||!Array.isArray(m.data)||!Array.isArray(m.labels))return[];const v=m.data.map(Y=>Number(Y)||0),k=m.labels.map(Y=>String(Y||"")),H=v.reduce((Y,Se)=>Y+Math.max(0,Se),0);if(H<=0)return[];const U=v.map((Y,Se)=>({name:k[Se]||"",value:Math.max(0,Y)}));return U.sort((Y,Se)=>Se.value-Y.value),U.slice(0,3).map(Y=>({name:Y.name,share:Y.value/H*100}))}),j=ae([]),$=ae({}),N=ae({}),C=ae({}),O=ae([]),ue=ae(!1),V=ae(!1);function oe(m){return O.value.includes(m)}function Ce(m,v){const k=new Set(O.value);v?k.add(m):k.delete(m),O.value=Array.from(k)}function Pe(m){Ce(m,!oe(m)),V.value=!0,In()}function Ee(m,v){const k=Math.max(0,Math.min(9,Math.trunc(Number(v)||0)));C.value||(C.value={}),C.value={...C.value,[m]:k},In(!1)}function We(m,v){const k=Number(v);if(!isFinite(k)||k<0)return;const H=Math.min(1e4,Math.round(k*100)/100);if(u.value==="month"){const U=Math.min(1e4,Math.round(H/4*100)/100);E.value={...E.value||{},[m]:H},D.value={...D.value||{},[m]:U}}else{const U=Math.min(1e4,Math.round(H*4*100)/100);D.value={...D.value||{},[m]:H},E.value={...E.value||{},[m]:U}}In(!1)}function ve(m){x.value=yt(m),In(!1)}function at(m){return JSON.parse(JSON.stringify(yt(m)))}const W=Ms({}),fe=ae([]),ne=ae([]),te=ae([]),Z=ae({}),we=ae("active"),ke=R(()=>u.value==="month"?"Month":"Week"),he=R(()=>(ne.value||[]).map(m=>Number(m.total_hours||0)));function Ne(m){const v=m.map(k=>Number(k)||0);return we.value==="active"?v.filter(k=>k>0):v}const rt=R(()=>Aa(Ne(he.value))),Le=R(()=>Da(Ne(he.value))),Ae=R(()=>(ne.value||[]).filter(m=>{const v=Do(String(m.date));return v>=1&&v<=5}).map(m=>Number(m.total_hours||0))),Ve=R(()=>(ne.value||[]).filter(m=>{const v=Do(String(m.date));return v===0||v===6}).map(m=>Number(m.total_hours||0))),jt=R(()=>Aa(Ne(Ae.value))),Ut=R(()=>Da(Ne(Ae.value))),ht=R(()=>Aa(Ne(Ve.value))),ot=R(()=>Da(Ne(Ve.value))),g=R(()=>{var m;return O.value.length||(((m=j.value)==null?void 0:m.length)??0)}),c=R(()=>{if(q.value.length)return q.value.map(v=>`${v.name} ${Ao(v.share)}%`).join(", ");const m=W==null?void 0:W.top_calendar;if(m&&m.calendar){const v=Number(m.share??0);return`${m.calendar} ${Ao(v)}%`}return""}),r=R(()=>{var k;const m=(W==null?void 0:W.balance_index)??(W==null?void 0:W.balanceIndex)??((k=W==null?void 0:W.balance_overview)==null?void 0:k.index),v=Number(m);return Number.isFinite(v)?v:null}),d=R(()=>({rangeLabel:ke.value,totalHours:Number(W.total_hours??0),avgDay:rt.value,avgEvent:Number(W.avg_per_event??0),medianDay:Le.value,busiest:(W==null?void 0:W.busiest_day)??null,workdayAvg:jt.value,workdayMedian:Ut.value,weekendAvg:ht.value,weekendMedian:ot.value,weekendShare:(W==null?void 0:W.weekend_share)??null,activeCalendars:g.value,calendarSummary:c.value,balanceIndex:r.value,topCategory:_t.value?{label:_t.value.label,actualHours:_t.value.summary.actualHours,targetHours:_t.value.summary.targetHours,percent:_t.value.summary.percent,statusLabel:_t.value.summary.statusLabel,status:_t.value.summary.status,color:_t.value.color}:null})),w=R(()=>{const m=W;return{rangeLabel:ke.value,events:tg(m.events),activeDays:lt(m.active_days),typicalStart:bs(m.typical_start),typicalEnd:bs(m.typical_end),weekendShare:lt(m.weekend_share),eveningShare:lt(m.evening_share),earliestStart:bs(m.earliest_start),latestEnd:bs(m.latest_end),overlapEvents:lt(m.overlap_events),longestSession:lt(m.longest_session),lastDayOff:bs(m.last_day_off),lastHalfDayOff:bs(m.last_half_day_off)}}),x=ae(yt(Tn())),P=R(()=>{try{return ad({config:x.value,stats:W,byDay:ne.value||[],byCal:fe.value||[],groupsById:C.value||{},range:u.value,from:b.value,to:f.value})}catch(m){return console.error("[opsdash] targets summary failed",m),nd(x.value)}}),D=ae({}),E=ae({}),A=R(()=>u.value==="month"?E.value:D.value),K=R(()=>{var m;return{...Cn(),...((m=x.value)==null?void 0:m.activityCard)??{}}}),F=R(()=>{var k;const m=va(),v=((k=x.value)==null?void 0:k.balance)??m;return{...m,...v,thresholds:{...m.thresholds,...v.thresholds??{}},relations:{...m.relations,...v.relations??{}},trend:{...m.trend,...v.trend??{}},dayparts:{...m.dayparts,...v.dayparts??{}},ui:{...m.ui,...v.ui??{}}}}),G=R(()=>({showInsights:!!F.value.ui.showInsights,showDailyStacks:!!F.value.ui.showDailyStacks})),X=R(()=>{const m=W==null?void 0:W.balance_overview;if(!m||typeof m!="object")return null;const v=Array.isArray(m.categories)?m.categories.map(B=>({id:String((B==null?void 0:B.id)??""),label:String((B==null?void 0:B.label)??""),hours:lt(B==null?void 0:B.hours)??0,share:lt(B==null?void 0:B.share)??0,prevShare:lt(B==null?void 0:B.prevShare)??0,delta:lt(B==null?void 0:B.delta)??0,color:typeof(B==null?void 0:B.color)=="string"?B.color:void 0})):[],k=Array.isArray(m.relations)?m.relations.filter(B=>B&&B.label&&B.value).map(B=>({label:String(B.label),value:String(B.value)})):[],H=m.trend&&typeof m.trend=="object"?m.trend:{},U={delta:Array.isArray(H.delta)?H.delta.map(B=>({id:String((B==null?void 0:B.id)??""),label:String((B==null?void 0:B.label)??""),delta:lt(B==null?void 0:B.delta)??0})):[],badge:String(H.badge??"")},le=Array.isArray(m.daily)?m.daily.map(B=>({date:String((B==null?void 0:B.date)??""),weekday:String((B==null?void 0:B.weekday)??""),total_hours:lt(B==null?void 0:B.total_hours)??0,categories:Array.isArray(B==null?void 0:B.categories)?B.categories.map(Me=>({id:String((Me==null?void 0:Me.id)??""),label:String((Me==null?void 0:Me.label)??""),hours:lt(Me==null?void 0:Me.hours)??0,share:lt(Me==null?void 0:Me.share)??0})):[]})):[],Y=Array.isArray(m.insights)?m.insights.map(B=>String(B)):[],Se=Array.isArray(m.warnings)?m.warnings.map(B=>String(B)):[],He=lt(m.index)??0,de=G.value.showInsights?Y:[];return{index:He,categories:v,relations:k,trend:U,daily:le,insights:de,warnings:Se}}),ie=R(()=>{var m;return Array.isArray((m=x.value)==null?void 0:m.categories)?x.value.categories:[]}),be=R(()=>{const m={};return ie.value.forEach(v=>{m[String(v.id)]=v.label||String(v.id)}),m}),ge=R(()=>{var k;const m=new Map;return(((k=P.value)==null?void 0:k.categories)||[]).forEach(H=>m.set(String(H.id),H)),m}),Je=R(()=>{const m=new Map;return ie.value.forEach(v=>{(Array.isArray(v.groupIds)?v.groupIds:[]).forEach(H=>{const U=Math.max(0,Math.min(9,Math.trunc(Number(H)||0)));m.set(U,String(v.id))})}),m}),Ze=R(()=>{const m=j.value;if(!Array.isArray(m))return{};const v={};return m.forEach(k=>{const H=String((k==null?void 0:k.id)??"");if(!H)return;const U=N.value&&N.value[H]||String((k==null?void 0:k.color)||"");v[H]={name:String((k==null?void 0:k.displayname)||(k==null?void 0:k.name)||(k==null?void 0:k.calendar)||H),color:U||void 0}}),v}),et=R(()=>{const m={},v=Je.value,k=C.value||{},H=le=>{const Y=k==null?void 0:k[le],Se=Math.max(0,Math.min(9,Math.trunc(Number(Y)||0))),He=v.get(Se);m[le]=He||Dt},U=j.value;return Array.isArray(U)&&(U.forEach(le=>{const Y=String((le==null?void 0:le.id)??"");Y&&H(Y)}),(O.value||[]).forEach(le=>{const Y=String(le??"");Y&&(m[Y]||H(Y))})),m}),it=R(()=>{const m=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],v={};let k=0;const H=U=>{if(v[U])return v[U];const le=Object.entries(et.value).filter(([,Se])=>Se===U).map(([Se])=>Se);for(const Se of le){const He=Ze.value[Se];if(He!=null&&He.color)return v[U]=He.color,He.color}const Y=m[k%m.length];return k+=1,v[U]=Y,Y};return ie.value.forEach(U=>H(String(U.id))),Object.values(et.value||{}).some(U=>U===Dt)&&H(Dt),v}),as=R(()=>{var H;if(!K.value.showHint)return"";const m=x.value,k=(Array.isArray((H=m==null?void 0:m.balance)==null?void 0:H.categories)?m.balance.categories:[]).map(U=>{const le=String(U??"").trim();if(!le)return"";const Y=be.value[le];return Y||le.toUpperCase()}).filter(U=>U);return k.length?`Mapping via Sidebar  ${k.join(" / ")}`:""});function An(){var B,Me,os,ut,It,pt,wt,ye;const m=[],v=et.value,k=ge.value,H=new Map,U=fe.value;if(!Array.isArray(U))return m;U.forEach(J=>{const Re=String((J==null?void 0:J.id)??(J==null?void 0:J.calendar_id)??(J==null?void 0:J.calendar)??"");if(!Re)return;const xt=v[Re]||Dt;H.has(xt)||H.set(xt,[]),H.get(xt).push({...J,calendarId:Re})});const le=((Me=(B=P.value)==null?void 0:B.total)==null?void 0:Me.daysLeft)??0,Y=((ut=(os=P.value)==null?void 0:os.total)==null?void 0:ut.calendarPercent)??0,Se=((pt=(It=P.value)==null?void 0:It.total)==null?void 0:pt.paceMode)??((ye=(wt=x.value)==null?void 0:wt.pace)==null?void 0:ye.mode)??"days_only",He=(J,Re,xt)=>{const Et=xt.reduce((Ks,Xt)=>{const Nn=A.value||{},Oo=Number(Nn[Xt.calendarId]??0);return Number.isFinite(Oo)?Ks+Math.max(0,Oo):Ks},0),_s=xt.reduce((Ks,Xt)=>{const Nn=Number((Xt==null?void 0:Xt.total_hours)??(Xt==null?void 0:Xt.hours)??0);return Number.isFinite(Nn)?Ks+Math.max(0,Nn):Ks},0),Na=Et>0?Math.max(0,Math.min(100,_s/Et*100)):0,Po=_s-Et,Lo=Math.max(0,Et-_s),En=Et<=0?"none":Na>=100?"done":Po>=0?"on_track":"behind",ig=En==="done"?"Done":En==="on_track"?"On Track":En==="behind"?"Behind":"",lg=le>0?Lo/le:0;return{id:J,label:Re,actualHours:Math.round(_s*100)/100,targetHours:Math.round(Et*100)/100,percent:Na,deltaHours:Math.round(Po*100)/100,remainingHours:Math.round(Lo*100)/100,needPerDay:Math.round(lg*100)/100,daysLeft:le,calendarPercent:Math.max(0,Math.min(100,Y)),gap:Math.round((Na-Y)*100)/100,status:En,statusLabel:ig,includeWeekend:!0,paceMode:Se}};if(ie.value.map(J=>String(J.id)).forEach(J=>{const Re=be.value[J]||J,xt=H.get(J)||[],Et=k.get(J)||He(J,Re,xt);m.push({id:J,label:Re,rows:xt,summary:Et,color:it.value[J]})}),H.has(Dt)){const J=H.get(Dt)||[];m.push({id:Dt,label:Co,rows:J,summary:He(Dt,Co,J),color:it.value[Dt]})}return m}const Oe=R(()=>An()),tt=R(()=>{var m,v;return{pie:((m=Z.value)==null?void 0:m.pie)||null,stacked:((v=Z.value)==null?void 0:v.perDaySeries)||null}}),rs=R(()=>{var Me,os;const m={},v=(Me=Z.value)==null?void 0:Me.pie,k=(os=Z.value)==null?void 0:os.perDaySeries,H=v&&Array.isArray(v.data)&&Array.isArray(v.ids),U=k&&Array.isArray(k.series)&&Array.isArray(k.labels),le=et.value,Y=H?(v.ids||[]).map(ut=>String(ut??"")):[],Se=H?(v.labels||[]).map(ut=>String(ut??"")):[],He=H?(v.data||[]).map(ut=>Number(ut)||0):[],de=H?v.colors||[]:[],B=U?k.series:[];return Oe.value.forEach(ut=>{const It=[];H&&Y.forEach((J,Re)=>{le[J]===ut.id&&It.push(Re)});const pt=It.length?{ids:It.map(J=>Y[J]),labels:It.map(J=>Se[J]),data:It.map(J=>He[J]),colors:It.map(J=>{var Re;return de[J]||((Re=N.value)==null?void 0:Re[Y[J]])||"#60a5fa"})}:null,wt=U?B.filter(J=>le[String((J==null?void 0:J.id)??"")]===ut.id):[],ye=wt.length?{labels:k.labels,series:wt}:null;m[ut.id]={pie:pt,stacked:ye}}),m}),_t=R(()=>{const m=Oe.value||[];return m.length&&[...m].sort((k,H)=>(H.summary.actualHours||0)-(k.summary.actualHours||0))[0]||null}),Sa=ae(null);function Kp(m){Sa.value=Sa.value===m?null:m}function Gp(m){const v=window;return v.OC&&typeof v.OC.generateUrl=="function"?v.OC.generateUrl("/apps/calendar/timeGridDay/"+m):Vs()+"/index.php/apps/calendar/timeGridDay/"+m}function Yt(){return!1}const Ca=ae(0),Ta=R(()=>{var H;const m=window,v=[];try{if((H=m.OC)!=null&&H.imagePath){const U=m.OC.imagePath("opsdash","app.svg");U&&v.push(U)}}catch{}const k=Vs();return v.push(k+"/apps/opsdash/img/app.svg"),v.push(k+"/apps-extra/opsdash/img/app.svg"),v.push(k+"/apps-writable/opsdash/img/app.svg"),v}),qp=R(()=>Ta.value[Math.min(Ca.value,Ta.value.length-1)]||"");function Jp(){Ca.value+1<Ta.value.length&&Ca.value++}function Mo(m){const v=document.getElementById("app");return(v&&v.dataset?v.dataset[m]:"")||""}const js=ae(Mo("opsdashVersion")||String(ip.version)),Us=ae(Mo("opsdashChangelog"));async function Zp(){if(!(js.value&&Us.value))try{const m=await Ia(zs("load").replace("/config_dashboard/load","/config_dashboard/ping"),{});!js.value&&typeof(m==null?void 0:m.version)=="string"&&(js.value=m.version),!Us.value&&typeof(m==null?void 0:m.changelog)=="string"&&(Us.value=m.changelog)}catch{}}Zp(),ae(null),ae(null),ae(null);const $o=ae(""),Dn=ae(""),Ma=ae(!1),Yp=R(()=>u.value==="month"?"Last month":"Last week"),Xp=R(()=>u.value==="month"?"This month":"This week"),Qp=R(()=>u.value==="month"?"Notes for previous month":"Notes for previous week"),eg=R(()=>u.value==="month"?"Notes for current month":"Notes for current week");function Ao(m){return Number(m??0).toFixed(1)}function $a(m){return Number(m??0).toFixed(2)}function lt(m){const v=Number(m);return Number.isFinite(v)?v:null}function tg(m){const v=Number(m);return Number.isFinite(v)?Math.round(v):0}function bs(m){if(m==null)return null;const v=String(m).trim();return v===""?null:v}function Aa(m){return m.length?m.reduce((v,k)=>v+k,0)/m.length:0}function Da(m){if(!m.length)return 0;const v=[...m].sort((H,U)=>H-U),k=Math.floor(v.length/2);return v.length%2?v[k]:(v[k-1]+v[k])/2}function Do(m){return new Date(m+"T00:00:00Z").getUTCDay()}function Vs(){var v,k;const m=window;return m.OC&&(m.OC.webroot||((k=(v=m.OC).getRootPath)==null?void 0:k.call(v)))||m._oc_webroot||""}function sg(m){const v=new URLSearchParams;return Object.entries(m).forEach(([k,H])=>{Array.isArray(H)?H.forEach(U=>v.append(k,String(U))):H!=null&&v.set(k,String(H))}),v.toString()}async function Ia(m,v){const k=sg(v||{}),H=k?m+(m.includes("?")?"&":"?")+k:m,U=await fetch(H,{method:"GET",credentials:"same-origin"});if(!U.ok)throw new Error("HTTP "+U.status);return await U.json()}async function Io(m,v){var Y;const k=window,H=((Y=k.OC)==null?void 0:Y.requestToken)||k.oc_requesttoken||"",U={"Content-Type":"application/json"};H&&(U.requesttoken=H);const le=await fetch(m,{method:"POST",credentials:"same-origin",headers:U,body:JSON.stringify(v||{})});if(!le.ok)throw new Error("HTTP "+le.status);return await le.json()}function zs(m){const v=window;if(v.OC&&typeof v.OC.generateUrl=="function")return m==="load"?v.OC.generateUrl("/apps/opsdash/config_dashboard/load"):m==="save"?v.OC.generateUrl("/apps/opsdash/config_dashboard/save"):m==="persist"?v.OC.generateUrl("/apps/opsdash/config_dashboard/persist"):m==="notes"||m==="notesSave"?v.OC.generateUrl("/apps/opsdash/config_dashboard/notes"):v.OC.generateUrl("/apps/opsdash/config_dashboard");const k=Vs()+"/apps/opsdash/config_dashboard";return m==="load"?k+"/load":m==="save"?k+"/save":m==="persist"?k+"/persist":m==="notes"||m==="notesSave"?k+"/notes":Vs()+"/apps/opsdash/config_dashboard"}function ng(m){O.value=m?j.value.map(v=>v.id):[]}function ag(m){we.value!==m&&(we.value=m)}let Eo=0;async function ys(){var v,k,H,U,le,Y,Se;const m=++Eo;h.value=!0;try{const He={range:u.value,offset:p.value|0,save:!1},de=await Ia(zs("load"),He);if(m!==Eo){Yt();return}y.value=((v=de.meta)==null?void 0:v.uid)||"",b.value=((k=de.meta)==null?void 0:k.from)||"",f.value=((H=de.meta)==null?void 0:H.to)||"",_.value=!!(de.meta&&de.meta.truncated),M.value=de.meta&&de.meta.limits||null,j.value=de.calendars||[],$.value=((U=de.colors)==null?void 0:U.byName)||{},N.value=((le=de.colors)==null?void 0:le.byId)||{};const B=de.groups&&(de.groups.byId||de.groups.byID||de.groups.ids)||{},Me={};for(const pt of j.value||[]){const wt=String(pt.id),ye=Number(B[wt]??0);Me[wt]=isFinite(ye)?Math.max(0,Math.min(9,Math.trunc(ye))):0}C.value=Me;const os=de.targets&&(de.targets.week||{})||{},ut=de.targets&&(de.targets.month||{})||{};if(D.value=os,E.value=ut,x.value=yt(de.targetsConfig??Tn()),Yt(),(j.value||[]).filter(pt=>!pt.color||pt.color_src==="fallback").length)try{const pt=await og(((Y=de.meta)==null?void 0:Y.uid)||"",j.value.map(ye=>ye.id));let wt=!1;if(j.value=j.value.map(ye=>{const J=pt[ye.id];return J&&J!==ye.color&&(ye.color_src="dav",ye.color_raw=J,ye.color=J,wt=!0),ye}),Object.entries(pt).forEach(([ye,J])=>{J&&(N.value[ye]=String(J))}),wt){Yt();try{const ye=((Se=Z.value)==null?void 0:Se.pie)||{},J=ye.ids||[],Re=ye.colors||[],xt=J.map((Et,_s)=>N.value[Et]||Re[_s]||"#60a5fa");Z.value={...Z.value||{},pie:{...ye,colors:xt}},Yt()}catch{Yt()}try{const ye=Z.value.perDaySeries;if(ye&&Array.isArray(ye.series)){const J=ye.series.map(Re=>({...Re,color:N.value[Re.id]||Re.color||"#60a5fa"}));Z.value={...Z.value||{},perDaySeries:{labels:ye.labels,series:J}}}}catch{}}}catch{Yt()}O.value=de.selected||[],console.info("[opsdash] selection",{selected:O.value.slice()}),V.value=!1,Object.assign(W,de.stats||{}),fe.value=de.byCal||[],ne.value=de.byDay||[],te.value=de.longest||[],Z.value=de.charts||{},await ln(),await No().catch(()=>{})}catch(He){console.error(He),s("Failed to load data")}finally{h.value=!1}}async function No(){var H,U;const m={range:u.value,offset:p.value|0},v=await Ia(zs("notes"),m);$o.value=String(((H=v==null?void 0:v.notes)==null?void 0:H.previous)||"");const k=String(((U=v==null?void 0:v.notes)==null?void 0:U.current)||"");Dn.value=k}async function rg(){try{Ma.value=!0,await Io(zs("notesSave"),{range:u.value,offset:p.value|0,content:Dn.value||""}),t("Notes saved"),await No()}catch(m){console.error(m),s("Failed to save notes")}finally{Ma.value=!1}}let Ea=null;function In(m=!0){Ea&&clearTimeout(Ea),Ea=setTimeout(async()=>{try{ue.value=!0;const v=await Io(zs("persist"),{cals:O.value,groups:C.value,targets_week:D.value,targets_month:E.value,targets_config:at(x.value)});O.value=Array.isArray(v.read)?v.read:Array.isArray(v.saved)?v.saved:[],v.targets_config_read?x.value=yt(v.targets_config_read):v.targets_config_saved&&(x.value=yt(v.targets_config_saved)),m&&await ys(),t("Selection saved")}catch(v){console.error(v),s("Failed to save selection")}finally{ue.value=!1}},250)}async function og(m,v){var le;const k={};if(!m)return k;const H=((le=window.OC)==null?void 0:le.requestToken)||window.oc_requesttoken||"",U=Vs();for(const Y of v)try{const Se=`${U}/remote.php/dav/calendars/${encodeURIComponent(m)}/${encodeURIComponent(Y)}/`,He=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;Yt();const de=await fetch(Se,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:H},body:He});if(!de.ok)continue;const B=await de.text();Yt();const Me=B.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);Me&&(k[Y]=Me[1])}catch{}return k}function yg(){}return Is(()=>{console.info("[opsdash] start"),ys().catch(m=>{console.error(m),alert("Initial load failed")})}),vt(u,()=>{p.value=0,ys().catch(console.error)}),(m,v)=>(S(),T("div",{id:"opsdash",class:$e(["opsdash",{"is-nav-collapsed":!n.value}])},[se(Ie(lu),{"app-name":"Operational Dashboard","show-navigation":n.value},{navigation:Ue(()=>[se(op,{id:"opsdash-sidebar",calendars:j.value,selected:O.value,"groups-by-id":C.value,"is-loading":h.value,range:u.value,offset:p.value,from:b.value,to:f.value,"targets-week":D.value,"targets-month":E.value,"targets-config":x.value,"notes-prev":$o.value,"notes-curr-draft":Dn.value,"notes-label-prev":Yp.value,"notes-label-curr":Xp.value,"notes-label-prev-title":Qp.value,"notes-label-curr-title":eg.value,"is-saving-note":Ma.value,"active-day-mode":we.value,onLoad:ys,"onUpdate:range":v[0]||(v[0]=k=>{u.value=k,p.value=0,ys()}),"onUpdate:offset":v[1]||(v[1]=k=>{p.value=k,ys()}),onSelectAll:v[2]||(v[2]=k=>ng(k)),onToggleCalendar:v[3]||(v[3]=k=>Pe(k)),onSetGroup:v[4]||(v[4]=k=>Ee(k.id,k.n)),onSetTarget:v[5]||(v[5]=k=>We(k.id,k.h)),"onUpdate:notes":v[6]||(v[6]=k=>Dn.value=k),onSaveNotes:rg,"onUpdate:targetsConfig":ve,"onUpdate:activeMode":ag},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode"])]),default:Ue(()=>[l("div",lp,[l("button",{class:"nav-toggle",type:"button",onClick:a,"aria-expanded":n.value,"aria-controls":"opsdash-sidebar","aria-label":o.value},[n.value?(S(),T("span",cp,"")):(S(),T("span",dp,""))],8,up),l("div",fp,[l("div",hp,[l("div",pp,[l("div",gp,[l("img",{src:qp.value,onError:Jp,class:"app-icon",alt:"","aria-hidden":"true"},null,40,mp),v[11]||(v[11]=l("span",null,"Operational Dashboard",-1)),l("span",{class:"chip",textContent:I(u.value.toUpperCase())},null,8,vp)]),l("div",bp,[h.value?(S(),bt(Ie(cu),{key:0,size:16})):z("",!0),l("span",{textContent:I(y.value)},null,8,yp),_.value?(S(),T("span",_p," Partial data")):z("",!0)])]),_.value?(S(),T("div",{key:0,class:"banner warn",title:L.value},[v[12]||(v[12]=ce(" Showing partial data to keep things fast. ",-1)),M.value&&M.value.totalProcessed!=null?(S(),T(re,{key:0},[ce(" Processed "+I(M.value.totalProcessed)+" items. ",1)],64)):z("",!0)],8,wp)):z("",!0),l("div",xp,[se(pc,{summary:d.value,mode:we.value,config:x.value.timeSummary},null,8,["summary","mode","config"]),se(Rc,{summary:P.value,config:x.value,groups:Oe.value},null,8,["summary","config","groups"]),se(qc,{summary:w.value,"range-label":ke.value,"category-hint":as.value,config:K.value},null,8,["summary","range-label","category-hint","config"]),se(sd,{overview:X.value,"range-label":ke.value,config:G.value},null,8,["overview","range-label","config"])]),l("div",kp,[l("a",{href:"#",class:$e({active:i.value==="cal"}),onClick:v[7]||(v[7]=xn(k=>i.value="cal",["prevent"]))},"By Calendar",2),l("a",{href:"#",class:$e({active:i.value==="day"}),onClick:v[8]||(v[8]=xn(k=>i.value="day",["prevent"]))},"By Day",2),l("a",{href:"#",class:$e({active:i.value==="top"}),onClick:v[9]||(v[9]=xn(k=>i.value="top",["prevent"]))},"Longest Tasks",2),l("a",{href:"#",class:$e({active:i.value==="heat"}),onClick:v[10]||(v[10]=xn(k=>i.value="heat",["prevent"]))},"Heatmap",2)]),cn(l("div",Sp,[fe.value.length===0?(S(),bt(Ie(kn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(S(),T(re,{key:1},[se(Pu,{rows:fe.value,n2:$a,targets:A.value,groups:Oe.value},null,8,["rows","targets","groups"]),x.value.ui.showCalendarCharts&&(tt.value.pie||tt.value.stacked)?(S(),T("div",Cp,[v[15]||(v[15]=l("h3",{class:"section-title"},"Calendars (all)",-1)),l("div",Tp,[l("div",Mp,[v[13]||(v[13]=l("div",{class:"chart-card__title"},"Distribution by calendar",-1)),se(yo,{data:tt.value.pie,"colors-by-id":N.value,"colors-by-name":$.value},null,8,["data","colors-by-id","colors-by-name"])]),l("div",$p,[v[14]||(v[14]=l("div",{class:"chart-card__title"},"Hours per day",-1)),se(_o,{stacked:tt.value.stacked,legacy:Z.value.perDay,"colors-by-id":N.value},null,8,["stacked","legacy","colors-by-id"])])])])):z("",!0),x.value.ui.showCategoryCharts&&Oe.value.length?(S(),T("div",Ap,[v[18]||(v[18]=l("h3",{class:"section-title"},"Categories",-1)),(S(!0),T(re,null,qe(Oe.value,k=>{var H,U,le,Y;return S(),T(re,{key:"cat-charts-"+k.id},[(H=rs.value[k.id])!=null&&H.pie||(U=rs.value[k.id])!=null&&U.stacked?(S(),T("div",Dp,[l("div",Ip,[l("span",{class:"dot",style:Pt({background:it.value[k.id]||"var(--brand)"})},null,4),l("span",Ep,I(k.label),1)]),l("div",Np,[l("div",Pp,[v[16]||(v[16]=l("div",{class:"chart-card__title"},"Calendar share",-1)),se(yo,{data:(le=rs.value[k.id])==null?void 0:le.pie,"colors-by-id":N.value,"colors-by-name":$.value},null,8,["data","colors-by-id","colors-by-name"])]),l("div",Lp,[v[17]||(v[17]=l("div",{class:"chart-card__title"},"Hours per day",-1)),se(_o,{stacked:(Y=rs.value[k.id])==null?void 0:Y.stacked,legacy:null,"colors-by-id":N.value},null,8,["stacked","colors-by-id"])])])])):z("",!0)],64)}),128))])):z("",!0)],64))],512),[[_n,i.value==="cal"]]),cn(l("div",Op,[ne.value.length===0?(S(),bt(Ie(kn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(S(),bt(Wu,{key:1,rows:ne.value,n2:$a,link:Gp},null,8,["rows"]))],512),[[_n,i.value==="day"]]),cn(l("div",Hp,[te.value.length===0?(S(),bt(Ie(kn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(S(),bt(Zu,{key:1,rows:te.value,n2:$a,"details-index":Sa.value,onToggle:Kp},null,8,["rows","details-index"]))],512),[[_n,i.value==="top"]]),cn(l("div",Fp,[!Z.value.hod||!Z.value.hod.matrix||Z.value.hod.matrix.length===0?(S(),bt(Ie(kn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(S(),T(re,{key:1},[se(fu,{hod:Z.value.hod},null,8,["hod"]),v[19]||(v[19]=l("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[_n,i.value==="heat"]]),l("div",Rp,[v[21]||(v[21]=ce(" Powered by ",-1)),v[22]||(v[22]=l("strong",null,"Gellert Innovation",-1)),v[23]||(v[23]=ce("  Built with ",-1)),v[24]||(v[24]=l("span",{class:"mono"},"opsdash",-1)),js.value?(S(),T(re,{key:0},[ce(" v"+I(js.value),1)],64)):z("",!0),Us.value?(S(),T(re,{key:1},[v[20]||(v[20]=ce("  ",-1)),l("a",{href:Us.value,target:"_blank",rel:"noreferrer noopener"},"Changelog",8,Wp)],64)):z("",!0)])])])])]),_:1},8,["show-navigation"])],2))}});function xa(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=ru(Bp);t.config.errorHandler=(a,o,i)=>{const u=o!=null&&o.type&&o.type.name?o.type.name:"",p={err:a,info:i,name:u,stack:a instanceof Error?a.stack:void 0},y=window;Array.isArray(y.__opsdashErrors)||(y.__opsdashErrors=[]),y.__opsdashErrors.push(p),console.error("[opsdash] Vue error",p)};const s=t.mount(e),n=window;n.__opsdashApp=t,n.__opsdashRoot=s,jp(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(xa,50):window.addEventListener("DOMContentLoaded",xa,{once:!0})}xa();let Bs=null,ka=null,To=!1;function jp(){if(!(typeof window>"u"))try{$n(),Up()}catch{}}function Up(){if(Bs||ka||To)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Bs=new MutationObserver(()=>$n()),e.forEach(s=>{Bs==null||Bs.observe(s,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const s=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>$n();typeof s.addEventListener=="function"?(s.addEventListener("change",n),ka=()=>s.removeEventListener("change",n)):typeof s.addListener=="function"&&(s.addListener(n),ka=()=>{s.removeListener(n)})}window.addEventListener("oc:theme:changed",$n),To=!0}function $n(){const e=Vp();if(!e)return;["icon","shortcut icon"].forEach(s=>{let n=document.querySelector(`link[rel="${s}"]`);n||(n=document.createElement("link"),n.rel=s,document.head.appendChild(n)),n.type="image/svg+xml",n.href=e})}function Vp(){const e=window,s=zp()==="dark",n=i=>{var u;return typeof((u=e.OC)==null?void 0:u.imagePath)=="function"?e.OC.imagePath("opsdash",i):""},a=n("favicon.svg");if(a)return a;if(s){const i=n("app-dark.svg");if(i)return i}const o=n(s?"app-dark.svg":"app.svg");return o||"/apps-extra/opsdash/img/favicon.svg"}function zp(){var n,a,o,i,u;const e=(n=document.documentElement)==null?void 0:n.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(a=document.body)==null?void 0:a.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((o=document.body)!=null&&o.classList.contains("theme--dark"))return"dark";if((i=document.body)!=null&&i.classList.contains("theme--light"))return"light";const s=(u=window.matchMedia)==null?void 0:u.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}})();
