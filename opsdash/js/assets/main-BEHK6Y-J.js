(function(){"use strict";var ka=document.createElement("style");ka.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-1ab0985e]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-1ab0985e]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-1ab0985e]{font-size:12px}.activity-card__meta[data-v-1ab0985e],.activity-card__extra[data-v-1ab0985e]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-1ab0985e],.activity-card__extra strong[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-1ab0985e]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-1ab0985e]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.sb-title[data-v-d602d23c]{font-weight:600;margin-bottom:6px}.sb-description[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.preset-form[data-v-d602d23c]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.preset-label[data-v-d602d23c]{font-size:12px;font-weight:600}.preset-form input[data-v-d602d23c]{width:100%;padding:6px 8px;border-radius:4px;border:1px solid var(--color-border);background:var(--color-main-background);color:var(--color-main-text)}.preset-save[data-v-d602d23c]{align-self:flex-start}.preset-error[data-v-d602d23c]{color:var(--color-error);font-size:12px}.preset-warnings[data-v-d602d23c]{border:1px solid var(--color-warning);background:color-mix(in srgb,var(--color-warning) 10%,transparent);border-radius:6px;padding:8px;margin-bottom:12px}.warnings-title[data-v-d602d23c]{font-weight:600;margin-bottom:4px}.preset-warnings ul[data-v-d602d23c]{padding-left:18px;margin:0 0 6px}.preset-clear[data-v-d602d23c]{padding:2px 6px}.preset-header[data-v-d602d23c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.preset-header h3[data-v-d602d23c]{margin:0;font-size:13px;font-weight:600}.preset-empty[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary)}.preset-list[data-v-d602d23c]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.preset-item[data-v-d602d23c]{border:1px solid var(--color-border);border-radius:6px;padding:8px;display:flex;flex-direction:column;gap:6px;background:var(--color-main-background)}.preset-meta[data-v-d602d23c]{display:flex;flex-direction:column;gap:2px}.preset-name[data-v-d602d23c]{font-weight:600}.preset-info[data-v-d602d23c]{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:var(--text-color-tertiary)}.preset-actions[data-v-d602d23c]{display:flex;gap:6px}.input-message[data-v-a219753c]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-a219753c]{color:var(--neg)}.input-message.warning[data-v-a219753c]{color:var(--warning)}
/*$vite$:1*/`,document.head.appendChild(ka);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Me={},Zt=[],bt=()=>{},xa=()=>!1,Os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),xn=e=>e.startsWith("onUpdate:"),Ze=Object.assign,Sn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Co=Object.prototype.hasOwnProperty,Ce=(e,t)=>Co.call(e,t),oe=Array.isArray,Yt=e=>Hs(e)==="[object Map]",Sa=e=>Hs(e)==="[object Set]",ce=e=>typeof e=="function",Fe=e=>typeof e=="string",Mt=e=>typeof e=="symbol",Ee=e=>e!==null&&typeof e=="object",Ca=e=>(Ee(e)||ce(e))&&ce(e.then)&&ce(e.catch),$a=Object.prototype.toString,Hs=e=>$a.call(e),$o=e=>Hs(e).slice(8,-1),Ta=e=>Hs(e)==="[object Object]",Cn=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ds=kn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},To=/-(\w)/g,pt=Rs(e=>e.replace(To,(t,s)=>s?s.toUpperCase():"")),Mo=/\B([A-Z])/g,Rt=Rs(e=>e.replace(Mo,"-$1").toLowerCase()),Fs=Rs(e=>e.charAt(0).toUpperCase()+e.slice(1)),$n=Rs(e=>e?`on${Fs(e)}`:""),Ft=(e,t)=>!Object.is(e,t),Ws=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ma=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Tn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Aa;const Bs=()=>Aa||(Aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function At(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=Fe(n)?Io(n):At(n);if(a)for(const r in a)t[r]=a[r]}return t}else if(Fe(e)||Ee(e))return e}const Ao=/;(?![^(]*\))/g,Do=/:([^]+)/,Po=/\/\*[^]*?\*\//g;function Io(e){const t={};return e.replace(Po,"").split(Ao).forEach(s=>{if(s){const n=s.split(Do);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function he(e){let t="";if(Fe(e))t=e;else if(oe(e))for(let s=0;s<e.length;s++){const n=he(e[s]);n&&(t+=n+" ")}else if(Ee(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Eo=kn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Da(e){return!!e||e===""}const Pa=e=>!!(e&&e.__v_isRef===!0),D=e=>Fe(e)?e:e==null?"":oe(e)||Ee(e)&&(e.toString===$a||!ce(e.toString))?Pa(e)?D(e.value):JSON.stringify(e,Ia,2):String(e),Ia=(e,t)=>Pa(t)?Ia(e,t.value):Yt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,a],r)=>(s[Mn(n,r)+" =>"]=a,s),{})}:Sa(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Mn(s))}:Mt(t)?Mn(t):Ee(t)&&!oe(t)&&!Ta(t)?String(t):t,Mn=(e,t="")=>{var s;return Mt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class No{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Lo(){return nt}let Ae;const An=new WeakSet;class Ea{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,An.has(this)&&(An.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||La(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wa(this),Oa(this);const t=Ae,s=vt;Ae=this,vt=!0;try{return this.fn()}finally{Ha(this),Ae=t,vt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)En(t);this.deps=this.depsTail=void 0,Wa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?An.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){In(this)&&this.run()}get dirty(){return In(this)}}let Na=0,fs,ps;function La(e,t=!1){if(e.flags|=8,t){e.next=ps,ps=e;return}e.next=fs,fs=e}function Dn(){Na++}function Pn(){if(--Na>0)return;if(ps){let t=ps;for(ps=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;fs;){let t=fs;for(fs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Oa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ha(e){let t,s=e.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),En(n),Oo(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=s}function In(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ra(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ra(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===gs)||(e.globalVersion=gs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!In(e))))return;e.flags|=2;const t=e.dep,s=Ae,n=vt;Ae=e,vt=!0;try{Oa(e);const a=e.fn(e._value);(t.version===0||Ft(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ae=s,vt=n,Ha(e),e.flags&=-3}}function En(e,t=!1){const{dep:s,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)En(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Oo(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let vt=!0;const Fa=[];function wt(){Fa.push(vt),vt=!1}function _t(){const e=Fa.pop();vt=e===void 0?!0:e}function Wa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ae;Ae=void 0;try{t()}finally{Ae=s}}}let gs=0;class Ho{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!vt||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new Ho(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,Ba(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=n)}return s}trigger(t){this.version++,gs++,this.notify(t)}notify(t){Dn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Pn()}}}function Ba(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ba(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const js=new WeakMap,zt=Symbol(""),Ln=Symbol(""),hs=Symbol("");function Ye(e,t,s){if(vt&&Ae){let n=js.get(e);n||js.set(e,n=new Map);let a=n.get(s);a||(n.set(s,a=new Nn),a.map=n,a.key=s),a.track()}}function Dt(e,t,s,n,a,r){const o=js.get(e);if(!o){gs++;return}const i=d=>{d&&d.trigger()};if(Dn(),t==="clear")o.forEach(i);else{const d=oe(e),p=d&&Cn(s);if(d&&s==="length"){const g=Number(n);o.forEach((c,f)=>{(f==="length"||f===hs||!Mt(f)&&f>=g)&&i(c)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),p&&i(o.get(hs)),t){case"add":d?p&&i(o.get("length")):(i(o.get(zt)),Yt(e)&&i(o.get(Ln)));break;case"delete":d||(i(o.get(zt)),Yt(e)&&i(o.get(Ln)));break;case"set":Yt(e)&&i(o.get(zt));break}}Pn()}function Ro(e,t){const s=js.get(e);return s&&s.get(t)}function Xt(e){const t=we(e);return t===e?t:(Ye(t,"iterate",hs),gt(e)?t:t.map(Ge))}function Us(e){return Ye(e=we(e),"iterate",hs),e}const Fo={__proto__:null,[Symbol.iterator](){return On(this,Symbol.iterator,Ge)},concat(...e){return Xt(this).concat(...e.map(t=>oe(t)?Xt(t):t))},entries(){return On(this,"entries",e=>(e[1]=Ge(e[1]),e))},every(e,t){return Pt(this,"every",e,t,void 0,arguments)},filter(e,t){return Pt(this,"filter",e,t,s=>s.map(Ge),arguments)},find(e,t){return Pt(this,"find",e,t,Ge,arguments)},findIndex(e,t){return Pt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pt(this,"findLast",e,t,Ge,arguments)},findLastIndex(e,t){return Pt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Hn(this,"includes",e)},indexOf(...e){return Hn(this,"indexOf",e)},join(e){return Xt(this).join(e)},lastIndexOf(...e){return Hn(this,"lastIndexOf",e)},map(e,t){return Pt(this,"map",e,t,void 0,arguments)},pop(){return ms(this,"pop")},push(...e){return ms(this,"push",e)},reduce(e,...t){return ja(this,"reduce",e,t)},reduceRight(e,...t){return ja(this,"reduceRight",e,t)},shift(){return ms(this,"shift")},some(e,t){return Pt(this,"some",e,t,void 0,arguments)},splice(...e){return ms(this,"splice",e)},toReversed(){return Xt(this).toReversed()},toSorted(e){return Xt(this).toSorted(e)},toSpliced(...e){return Xt(this).toSpliced(...e)},unshift(...e){return ms(this,"unshift",e)},values(){return On(this,"values",Ge)}};function On(e,t,s){const n=Us(e),a=n[t]();return n!==e&&!gt(e)&&(a._next=a.next,a.next=()=>{const r=a._next();return r.value&&(r.value=s(r.value)),r}),a}const Wo=Array.prototype;function Pt(e,t,s,n,a,r){const o=Us(e),i=o!==e&&!gt(e),d=o[t];if(d!==Wo[t]){const c=d.apply(e,r);return i?Ge(c):c}let p=s;o!==e&&(i?p=function(c,f){return s.call(this,Ge(c),f,e)}:s.length>2&&(p=function(c,f){return s.call(this,c,f,e)}));const g=d.call(o,p,n);return i&&a?a(g):g}function ja(e,t,s,n){const a=Us(e);let r=s;return a!==e&&(gt(e)?s.length>3&&(r=function(o,i,d){return s.call(this,o,i,d,e)}):r=function(o,i,d){return s.call(this,o,Ge(i),d,e)}),a[t](r,...n)}function Hn(e,t,s){const n=we(e);Ye(n,"iterate",hs);const a=n[t](...s);return(a===-1||a===!1)&&Fn(s[0])?(s[0]=we(s[0]),n[t](...s)):a}function ms(e,t,s=[]){wt(),Dn();const n=we(e)[t].apply(e,s);return Pn(),_t(),n}const Bo=kn("__proto__,__v_isRef,__isVue"),Ua=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mt));function jo(e){Mt(e)||(e=String(e));const t=we(this);return Ye(t,"has",e),t.hasOwnProperty(e)}class Va{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(a?r?Za:Ja:r?qa:Ga).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=oe(t);if(!a){let d;if(o&&(d=Fo[s]))return d;if(s==="hasOwnProperty")return jo}const i=Reflect.get(t,s,Ve(t)?t:n);return(Mt(s)?Ua.has(s):Bo(s))||(a||Ye(t,"get",s),r)?i:Ve(i)?o&&Cn(s)?i:i.value:Ee(i)?a?Ya(i):kt(i):i}}class za extends Va{constructor(t=!1){super(!1,t)}set(t,s,n,a){let r=t[s];if(!this._isShallow){const d=Wt(r);if(!gt(n)&&!Wt(n)&&(r=we(r),n=we(n)),!oe(t)&&Ve(r)&&!Ve(n))return d||(r.value=n),!0}const o=oe(t)&&Cn(s)?Number(s)<t.length:Ce(t,s),i=Reflect.set(t,s,n,Ve(t)?t:a);return t===we(a)&&(o?Ft(n,r)&&Dt(t,"set",s,n):Dt(t,"add",s,n)),i}deleteProperty(t,s){const n=Ce(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&n&&Dt(t,"delete",s,void 0),a}has(t,s){const n=Reflect.has(t,s);return(!Mt(s)||!Ua.has(s))&&Ye(t,"has",s),n}ownKeys(t){return Ye(t,"iterate",oe(t)?"length":zt),Reflect.ownKeys(t)}}class Ka extends Va{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Uo=new za,Vo=new Ka,zo=new za(!0),Ko=new Ka(!0),Rn=e=>e,Vs=e=>Reflect.getPrototypeOf(e);function Go(e,t,s){return function(...n){const a=this.__v_raw,r=we(a),o=Yt(r),i=e==="entries"||e===Symbol.iterator&&o,d=e==="keys"&&o,p=a[e](...n),g=s?Rn:t?qs:Ge;return!t&&Ye(r,"iterate",d?Ln:zt),{next(){const{value:c,done:f}=p.next();return f?{value:c,done:f}:{value:i?[g(c[0]),g(c[1])]:g(c),done:f}},[Symbol.iterator](){return this}}}}function zs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qo(e,t){const s={get(a){const r=this.__v_raw,o=we(r),i=we(a);e||(Ft(a,i)&&Ye(o,"get",a),Ye(o,"get",i));const{has:d}=Vs(o),p=t?Rn:e?qs:Ge;if(d.call(o,a))return p(r.get(a));if(d.call(o,i))return p(r.get(i));r!==o&&r.get(a)},get size(){const a=this.__v_raw;return!e&&Ye(we(a),"iterate",zt),a.size},has(a){const r=this.__v_raw,o=we(r),i=we(a);return e||(Ft(a,i)&&Ye(o,"has",a),Ye(o,"has",i)),a===i?r.has(a):r.has(a)||r.has(i)},forEach(a,r){const o=this,i=o.__v_raw,d=we(i),p=t?Rn:e?qs:Ge;return!e&&Ye(d,"iterate",zt),i.forEach((g,c)=>a.call(r,p(g),p(c),o))}};return Ze(s,e?{add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear")}:{add(a){!t&&!gt(a)&&!Wt(a)&&(a=we(a));const r=we(this);return Vs(r).has.call(r,a)||(r.add(a),Dt(r,"add",a,a)),this},set(a,r){!t&&!gt(r)&&!Wt(r)&&(r=we(r));const o=we(this),{has:i,get:d}=Vs(o);let p=i.call(o,a);p||(a=we(a),p=i.call(o,a));const g=d.call(o,a);return o.set(a,r),p?Ft(r,g)&&Dt(o,"set",a,r):Dt(o,"add",a,r),this},delete(a){const r=we(this),{has:o,get:i}=Vs(r);let d=o.call(r,a);d||(a=we(a),d=o.call(r,a)),i&&i.call(r,a);const p=r.delete(a);return d&&Dt(r,"delete",a,void 0),p},clear(){const a=we(this),r=a.size!==0,o=a.clear();return r&&Dt(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=Go(a,e,t)}),s}function Ks(e,t){const s=qo(e,t);return(n,a,r)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(Ce(s,a)&&a in n?s:n,a,r)}const Jo={get:Ks(!1,!1)},Zo={get:Ks(!1,!0)},Yo={get:Ks(!0,!1)},Xo={get:Ks(!0,!0)},Ga=new WeakMap,qa=new WeakMap,Ja=new WeakMap,Za=new WeakMap;function Qo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ei(e){return e.__v_skip||!Object.isExtensible(e)?0:Qo($o(e))}function kt(e){return Wt(e)?e:Gs(e,!1,Uo,Jo,Ga)}function ti(e){return Gs(e,!1,zo,Zo,qa)}function Ya(e){return Gs(e,!0,Vo,Yo,Ja)}function Fh(e){return Gs(e,!0,Ko,Xo,Za)}function Gs(e,t,s,n,a){if(!Ee(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=ei(e);if(r===0)return e;const o=a.get(e);if(o)return o;const i=new Proxy(e,r===2?n:s);return a.set(e,i),i}function Qt(e){return Wt(e)?Qt(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function gt(e){return!!(e&&e.__v_isShallow)}function Fn(e){return e?!!e.__v_raw:!1}function we(e){const t=e&&e.__v_raw;return t?we(t):e}function si(e){return!Ce(e,"__v_skip")&&Object.isExtensible(e)&&Ma(e,"__v_skip",!0),e}const Ge=e=>Ee(e)?kt(e):e,qs=e=>Ee(e)?Ya(e):e;function Ve(e){return e?e.__v_isRef===!0:!1}function ne(e){return ni(e,!1)}function ni(e,t){return Ve(e)?e:new ai(e,t)}class ai{constructor(t,s){this.dep=new Nn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:we(t),this._value=s?t:Ge(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||gt(t)||Wt(t);t=n?t:we(t),Ft(t,s)&&(this._rawValue=t,this._value=n?t:Ge(t),this.dep.trigger())}}function k(e){return Ve(e)?e.value:e}const ri={get:(e,t,s)=>t==="__v_raw"?e:k(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const a=e[t];return Ve(a)&&!Ve(s)?(a.value=s,!0):Reflect.set(e,t,s,n)}};function Xa(e){return Qt(e)?e:new Proxy(e,ri)}function Qa(e){const t=oe(e)?new Array(e.length):{};for(const s in e)t[s]=ii(e,s);return t}class oi{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ro(we(this._object),this._key)}}function ii(e,t,s){const n=e[t];return Ve(n)?n:new oi(e,t,s)}class li{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Nn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return La(this,!0),!0}get value(){const t=this.dep.track();return Ra(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ci(e,t,s=!1){let n,a;return ce(e)?n=e:(n=e.get,a=e.set),new li(n,a,s)}const Js={},Zs=new WeakMap;let Kt;function ui(e,t=!1,s=Kt){if(s){let n=Zs.get(s);n||Zs.set(s,n=[]),n.push(e)}}function di(e,t,s=Me){const{immediate:n,deep:a,once:r,scheduler:o,augmentJob:i,call:d}=s,p=M=>a?M:gt(M)||a===!1||a===0?It(M,1):It(M);let g,c,f,u,b=!1,v=!1;if(Ve(e)?(c=()=>e.value,b=gt(e)):Qt(e)?(c=()=>p(e),b=!0):oe(e)?(v=!0,b=e.some(M=>Qt(M)||gt(M)),c=()=>e.map(M=>{if(Ve(M))return M.value;if(Qt(M))return p(M);if(ce(M))return d?d(M,2):M()})):ce(e)?t?c=d?()=>d(e,2):e:c=()=>{if(f){wt();try{f()}finally{_t()}}const M=Kt;Kt=g;try{return d?d(e,3,[u]):e(u)}finally{Kt=M}}:c=bt,t&&a){const M=c,W=a===!0?1/0:a;c=()=>It(M(),W)}const A=Lo(),F=()=>{g.stop(),A&&A.active&&Sn(A.effects,g)};if(r&&t){const M=t;t=(...W)=>{M(...W),F()}}let $=v?new Array(e.length).fill(Js):Js;const L=M=>{if(!(!(g.flags&1)||!g.dirty&&!M))if(t){const W=g.run();if(a||b||(v?W.some((ee,re)=>Ft(ee,$[re])):Ft(W,$))){f&&f();const ee=Kt;Kt=g;try{const re=[W,$===Js?void 0:v&&$[0]===Js?[]:$,u];$=W,d?d(t,3,re):t(...re)}finally{Kt=ee}}}else g.run()};return i&&i(L),g=new Ea(c),g.scheduler=o?()=>o(L,!1):L,u=M=>ui(M,!1,g),f=g.onStop=()=>{const M=Zs.get(g);if(M){if(d)d(M,4);else for(const W of M)W();Zs.delete(g)}},t?n?L(!0):$=g.run():o?o(L.bind(null,!0),!0):g.run(),F.pause=g.pause.bind(g),F.resume=g.resume.bind(g),F.stop=F,F}function It(e,t=1/0,s){if(t<=0||!Ee(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ve(e))It(e.value,t,s);else if(oe(e))for(let n=0;n<e.length;n++)It(e[n],t,s);else if(Sa(e)||Yt(e))e.forEach(n=>{It(n,t,s)});else if(Ta(e)){for(const n in e)It(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&It(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vs=[];let Wn=!1;function Wh(e,...t){if(Wn)return;Wn=!0,wt();const s=vs.length?vs[vs.length-1].component:null,n=s&&s.appContext.config.warnHandler,a=fi();if(n)es(n,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,a.map(({vnode:r})=>`at <${Gr(s,r.type)}>`).join(`
`),a]);else{const r=[`[Vue warn]: ${e}`,...t];a.length&&r.push(`
`,...pi(a)),console.warn(...r)}_t(),Wn=!1}function fi(){let e=vs[vs.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function pi(e){const t=[];return e.forEach((s,n)=>{t.push(...n===0?[]:[`
`],...gi(s))}),t}function gi({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,a=` at <${Gr(e.component,e.type,n)}`,r=">"+s;return e.props?[a,...hi(e.props),r]:[a+r]}function hi(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(n=>{t.push(...er(n,e[n]))}),s.length>3&&t.push(" ..."),t}function er(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Ve(t)?(t=er(e,we(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ce(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=we(t),s?t:[`${e}=`,t])}function es(e,t,s,n){try{return n?e(...n):e()}catch(a){Ys(a,t,s)}}function xt(e,t,s,n){if(ce(e)){const a=es(e,t,s,n);return a&&Ca(a)&&a.catch(r=>{Ys(r,t,s)}),a}if(oe(e)){const a=[];for(let r=0;r<e.length;r++)a.push(xt(e[r],t,s,n));return a}}function Ys(e,t,s,n=!0){const a=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Me;if(t){let i=t.parent;const d=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const g=i.ec;if(g){for(let c=0;c<g.length;c++)if(g[c](e,d,p)===!1)return}i=i.parent}if(r){wt(),es(r,null,10,[e,d,p]),_t();return}}mi(e,s,a,n,o)}function mi(e,t,s,n=!0,a=!1){if(a)throw e;console.error(e)}const et=[];let St=-1;const ts=[];let Bt=null,ss=0;const tr=Promise.resolve();let Xs=null;function Qs(e){const t=Xs||tr;return e?t.then(this?e.bind(this):e):t}function vi(e){let t=St+1,s=et.length;for(;t<s;){const n=t+s>>>1,a=et[n],r=ys(a);r<e||r===e&&a.flags&2?t=n+1:s=n}return t}function Bn(e){if(!(e.flags&1)){const t=ys(e),s=et[et.length-1];!s||!(e.flags&2)&&t>=ys(s)?et.push(e):et.splice(vi(t),0,e),e.flags|=1,sr()}}function sr(){Xs||(Xs=tr.then(rr))}function yi(e){oe(e)?ts.push(...e):Bt&&e.id===-1?Bt.splice(ss+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),sr()}function nr(e,t,s=St+1){for(;s<et.length;s++){const n=et[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;et.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ar(e){if(ts.length){const t=[...new Set(ts)].sort((s,n)=>ys(s)-ys(n));if(ts.length=0,Bt){Bt.push(...t);return}for(Bt=t,ss=0;ss<Bt.length;ss++){const s=Bt[ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Bt=null,ss=0}}const ys=e=>e.id==null?e.flags&2?-1:1/0:e.id;function rr(e){try{for(St=0;St<et.length;St++){const t=et[St];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),es(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;St<et.length;St++){const t=et[St];t&&(t.flags&=-2)}St=-1,et.length=0,ar(),Xs=null,(et.length||ts.length)&&rr()}}let qe=null,or=null;function en(e){const t=qe;return qe=e,or=e&&e.type.__scopeId||null,t}function He(e,t=qe,s){if(!t||e._n)return e;const n=(...a)=>{n._d&&Fr(-1);const r=en(t);let o;try{o=e(...a)}finally{en(r),n._d&&Fr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function bs(e,t){if(qe===null)return e;const s=un(qe),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[r,o,i,d=Me]=t[a];r&&(ce(r)&&(r={mounted:r,updated:r}),r.deep&&It(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:d}))}return e}function Gt(e,t,s,n){const a=e.dirs,r=t&&t.dirs;for(let o=0;o<a.length;o++){const i=a[o];r&&(i.oldValue=r[o].value);let d=i.dir[n];d&&(wt(),xt(d,s,8,[e.el,i,e,t]),_t())}}const bi=Symbol("_vte"),wi=e=>e.__isTeleport,_i=Symbol("_leaveCb");function jn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,jn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function De(e,t){return ce(e)?Ze({name:e.name},t,{setup:e}):e}function ir(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ws(e,t,s,n,a=!1){if(oe(e)){e.forEach((b,v)=>ws(b,t&&(oe(t)?t[v]:t),s,n,a));return}if(ns(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ws(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?un(n.component):n.el,o=a?null:r,{i,r:d}=e,p=t&&t.r,g=i.refs===Me?i.refs={}:i.refs,c=i.setupState,f=we(c),u=c===Me?xa:b=>Ce(f,b);if(p!=null&&p!==d){if(Fe(p))g[p]=null,u(p)&&(c[p]=null);else if(Ve(p)){p.value=null;const b=t;b.k&&(g[b.k]=null)}}if(ce(d))es(d,i,12,[o,g]);else{const b=Fe(d),v=Ve(d);if(b||v){const A=()=>{if(e.f){const F=b?u(d)?c[d]:g[d]:d.value;if(a)oe(F)&&Sn(F,r);else if(oe(F))F.includes(r)||F.push(r);else if(b)g[d]=[r],u(d)&&(c[d]=g[d]);else{const $=[r];d.value=$,e.k&&(g[e.k]=$)}}else b?(g[d]=o,u(d)&&(c[d]=o)):v&&(d.value=o,e.k&&(g[e.k]=o))};o?(A.id=-1,lt(A,s)):A()}}}Bs().requestIdleCallback,Bs().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,lr=e=>e.type.__isKeepAlive;function ki(e,t){cr(e,"a",t)}function xi(e,t){cr(e,"da",t)}function cr(e,t,s=Xe){const n=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(tn(t,n,s),s){let a=s.parent;for(;a&&a.parent;)lr(a.parent.vnode)&&Si(n,t,s,a),a=a.parent}}function Si(e,t,s,n){const a=tn(t,e,n,!0);dr(()=>{Sn(n[t],a)},s)}function tn(e,t,s=Xe,n=!1){if(s){const a=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{wt();const i=Ts(s),d=xt(t,s,e,o);return i(),_t(),d});return n?a.unshift(r):a.push(r),r}}const Et=e=>(t,s=Xe)=>{(!Ms||e==="sp")&&tn(e,(...n)=>t(...n),s)},Ci=Et("bm"),as=Et("m"),$i=Et("bu"),Ti=Et("u"),ur=Et("bum"),dr=Et("um"),Mi=Et("sp"),Ai=Et("rtg"),Di=Et("rtc");function Pi(e,t=Xe){tn("ec",e,t)}const Ii="components";function Ei(e,t){return Li(Ii,e,!0,t)||e}const Ni=Symbol.for("v-ndc");function Li(e,t,s=!0,n=!1){const a=qe||Xe;if(a){const r=a.type;{const i=Kr(r,!1);if(i&&(i===t||i===pt(t)||i===Fs(pt(t))))return r}const o=fr(a[e]||r[e],t)||fr(a.appContext[e],t);return!o&&n?r:o}}function fr(e,t){return e&&(e[t]||e[pt(t)]||e[Fs(pt(t))])}function je(e,t,s,n){let a;const r=s,o=oe(e);if(o||Fe(e)){const i=o&&Qt(e);let d=!1,p=!1;i&&(d=!gt(e),p=Wt(e),e=Us(e)),a=new Array(e.length);for(let g=0,c=e.length;g<c;g++)a[g]=t(d?p?qs(Ge(e[g])):Ge(e[g]):e[g],g,void 0,r)}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,r)}else if(Ee(e))if(e[Symbol.iterator])a=Array.from(e,(i,d)=>t(i,d,void 0,r));else{const i=Object.keys(e);a=new Array(i.length);for(let d=0,p=i.length;d<p;d++){const g=i[d];a[d]=t(e[g],g,d,r)}}else a=[];return a}function Oi(e,t,s={},n,a){if(qe.ce||qe.parent&&ns(qe.parent)&&qe.parent.ce)return s.name=t,x(),ze(ue,null,[ie("slot",s,n)],64);let r=e[t];r&&r._c&&(r._d=!1),x();const o=r&&pr(r(s)),i=s.key||o&&o.key,d=ze(ue,{key:(i&&!Mt(i)?i:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),d}function pr(e){return e.some(t=>Cs(t)?!(t.type===Nt||t.type===ue&&!pr(t.children)):!0)?e:null}const Un=e=>e?Ur(e)?un(e):Un(e.parent):null,_s=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Un(e.parent),$root:e=>Un(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vr(e),$forceUpdate:e=>e.f||(e.f=()=>{Bn(e.update)}),$nextTick:e=>e.n||(e.n=Qs.bind(e.proxy)),$watch:e=>al.bind(e)}),Vn=(e,t)=>e!==Me&&!e.__isScriptSetup&&Ce(e,t),Hi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:r,accessCache:o,type:i,appContext:d}=e;let p;if(t[0]!=="$"){const u=o[t];if(u!==void 0)switch(u){case 1:return n[t];case 2:return a[t];case 4:return s[t];case 3:return r[t]}else{if(Vn(n,t))return o[t]=1,n[t];if(a!==Me&&Ce(a,t))return o[t]=2,a[t];if((p=e.propsOptions[0])&&Ce(p,t))return o[t]=3,r[t];if(s!==Me&&Ce(s,t))return o[t]=4,s[t];zn&&(o[t]=0)}}const g=_s[t];let c,f;if(g)return t==="$attrs"&&Ye(e.attrs,"get",""),g(e);if((c=i.__cssModules)&&(c=c[t]))return c;if(s!==Me&&Ce(s,t))return o[t]=4,s[t];if(f=d.config.globalProperties,Ce(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:a,ctx:r}=e;return Vn(a,t)?(a[t]=s,!0):n!==Me&&Ce(n,t)?(n[t]=s,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:a,propsOptions:r,type:o}},i){let d,p;return!!(s[i]||e!==Me&&i[0]!=="$"&&Ce(e,i)||Vn(t,i)||(d=r[0])&&Ce(d,i)||Ce(n,i)||Ce(_s,i)||Ce(a.config.globalProperties,i)||(p=o.__cssModules)&&p[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function gr(e){return oe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let zn=!0;function Ri(e){const t=vr(e),s=e.proxy,n=e.ctx;zn=!1,t.beforeCreate&&hr(t.beforeCreate,e,"bc");const{data:a,computed:r,methods:o,watch:i,provide:d,inject:p,created:g,beforeMount:c,mounted:f,beforeUpdate:u,updated:b,activated:v,deactivated:A,beforeDestroy:F,beforeUnmount:$,destroyed:L,unmounted:M,render:W,renderTracked:ee,renderTriggered:re,errorCaptured:te,serverPrefetch:me,expose:q,inheritAttrs:_e,components:Pe,directives:xe,filters:Be}=t;if(p&&Fi(p,n,null),o)for(const Q in o){const Y=o[Q];ce(Y)&&(n[Q]=Y.bind(s))}if(a){const Q=a.call(s,s);Ee(Q)&&(e.data=kt(Q))}if(zn=!0,r)for(const Q in r){const Y=r[Q],ae=ce(Y)?Y.bind(s,s):ce(Y.get)?Y.get.bind(s,s):bt,ye=!ce(Y)&&ce(Y.set)?Y.set.bind(s):bt,$e=K({get:ae,set:ye});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>$e.value,set:de=>$e.value=de})}if(i)for(const Q in i)mr(i[Q],n,s,Q);if(d){const Q=ce(d)?d.call(s):d;Reflect.ownKeys(Q).forEach(Y=>{zi(Y,Q[Y])})}g&&hr(g,e,"c");function le(Q,Y){oe(Y)?Y.forEach(ae=>Q(ae.bind(s))):Y&&Q(Y.bind(s))}if(le(Ci,c),le(as,f),le($i,u),le(Ti,b),le(ki,v),le(xi,A),le(Pi,te),le(Di,ee),le(Ai,re),le(ur,$),le(dr,M),le(Mi,me),oe(q))if(q.length){const Q=e.exposed||(e.exposed={});q.forEach(Y=>{Object.defineProperty(Q,Y,{get:()=>s[Y],set:ae=>s[Y]=ae,enumerable:!0})})}else e.exposed||(e.exposed={});W&&e.render===bt&&(e.render=W),_e!=null&&(e.inheritAttrs=_e),Pe&&(e.components=Pe),xe&&(e.directives=xe),me&&ir(e)}function Fi(e,t,s=bt){oe(e)&&(e=Kn(e));for(const n in e){const a=e[n];let r;Ee(a)?"default"in a?r=nn(a.from||n,a.default,!0):r=nn(a.from||n):r=nn(a),Ve(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function hr(e,t,s){xt(oe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function mr(e,t,s,n){let a=n.includes(".")?Nr(s,n):()=>s[n];if(Fe(e)){const r=t[e];ce(r)&&yt(a,r)}else if(ce(e))yt(a,e.bind(s));else if(Ee(e))if(oe(e))e.forEach(r=>mr(r,t,s,n));else{const r=ce(e.handler)?e.handler.bind(s):t[e.handler];ce(r)&&yt(a,r,e)}}function vr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:a,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let d;return i?d=i:!a.length&&!s&&!n?d=t:(d={},a.length&&a.forEach(p=>sn(d,p,o,!0)),sn(d,t,o)),Ee(t)&&r.set(t,d),d}function sn(e,t,s,n=!1){const{mixins:a,extends:r}=t;r&&sn(e,r,s,!0),a&&a.forEach(o=>sn(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const i=Wi[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Wi={data:yr,props:br,emits:br,methods:ks,computed:ks,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:ks,directives:ks,watch:ji,provide:yr,inject:Bi};function yr(e,t){return t?e?function(){return Ze(ce(e)?e.call(this,this):e,ce(t)?t.call(this,this):t)}:t:e}function Bi(e,t){return ks(Kn(e),Kn(t))}function Kn(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function tt(e,t){return e?[...new Set([].concat(e,t))]:t}function ks(e,t){return e?Ze(Object.create(null),e,t):t}function br(e,t){return e?oe(e)&&oe(t)?[...new Set([...e,...t])]:Ze(Object.create(null),gr(e),gr(t??{})):t}function ji(e,t){if(!e)return t;if(!t)return e;const s=Ze(Object.create(null),e);for(const n in t)s[n]=tt(e[n],t[n]);return s}function wr(){return{app:null,config:{isNativeTag:xa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ui=0;function Vi(e,t){return function(n,a=null){ce(n)||(n=Ze({},n)),a!=null&&!Ee(a)&&(a=null);const r=wr(),o=new WeakSet,i=[];let d=!1;const p=r.app={_uid:Ui++,_component:n,_props:a,_container:null,_context:r,_instance:null,version:Ml,get config(){return r.config},set config(g){},use(g,...c){return o.has(g)||(g&&ce(g.install)?(o.add(g),g.install(p,...c)):ce(g)&&(o.add(g),g(p,...c))),p},mixin(g){return r.mixins.includes(g)||r.mixins.push(g),p},component(g,c){return c?(r.components[g]=c,p):r.components[g]},directive(g,c){return c?(r.directives[g]=c,p):r.directives[g]},mount(g,c,f){if(!d){const u=p._ceVNode||ie(n,a);return u.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),e(u,g,f),d=!0,p._container=g,g.__vue_app__=p,un(u.component)}},onUnmount(g){i.push(g)},unmount(){d&&(xt(i,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(g,c){return r.provides[g]=c,p},runWithContext(g){const c=rs;rs=p;try{return g()}finally{rs=c}}};return p}}let rs=null;function zi(e,t){if(Xe){let s=Xe.provides;const n=Xe.parent&&Xe.parent.provides;n===s&&(s=Xe.provides=Object.create(n)),s[e]=t}}function nn(e,t,s=!1){const n=wl();if(n||rs){let a=rs?rs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&ce(t)?t.call(n&&n.proxy):t}}const _r={},kr=()=>Object.create(_r),xr=e=>Object.getPrototypeOf(e)===_r;function Ki(e,t,s,n=!1){const a={},r=kr();e.propsDefaults=Object.create(null),Sr(e,t,a,r);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);s?e.props=n?a:ti(a):e.type.props?e.props=a:e.props=r,e.attrs=r}function Gi(e,t,s,n){const{props:a,attrs:r,vnode:{patchFlag:o}}=e,i=we(a),[d]=e.propsOptions;let p=!1;if((n||o>0)&&!(o&16)){if(o&8){const g=e.vnode.dynamicProps;for(let c=0;c<g.length;c++){let f=g[c];if(an(e.emitsOptions,f))continue;const u=t[f];if(d)if(Ce(r,f))u!==r[f]&&(r[f]=u,p=!0);else{const b=pt(f);a[b]=Gn(d,i,b,u,e,!1)}else u!==r[f]&&(r[f]=u,p=!0)}}}else{Sr(e,t,a,r)&&(p=!0);let g;for(const c in i)(!t||!Ce(t,c)&&((g=Rt(c))===c||!Ce(t,g)))&&(d?s&&(s[c]!==void 0||s[g]!==void 0)&&(a[c]=Gn(d,i,c,void 0,e,!0)):delete a[c]);if(r!==i)for(const c in r)(!t||!Ce(t,c))&&(delete r[c],p=!0)}p&&Dt(e.attrs,"set","")}function Sr(e,t,s,n){const[a,r]=e.propsOptions;let o=!1,i;if(t)for(let d in t){if(ds(d))continue;const p=t[d];let g;a&&Ce(a,g=pt(d))?!r||!r.includes(g)?s[g]=p:(i||(i={}))[g]=p:an(e.emitsOptions,d)||(!(d in n)||p!==n[d])&&(n[d]=p,o=!0)}if(r){const d=we(s),p=i||Me;for(let g=0;g<r.length;g++){const c=r[g];s[c]=Gn(a,d,c,p[c],e,!Ce(p,c))}}return o}function Gn(e,t,s,n,a,r){const o=e[s];if(o!=null){const i=Ce(o,"default");if(i&&n===void 0){const d=o.default;if(o.type!==Function&&!o.skipFactory&&ce(d)){const{propsDefaults:p}=a;if(s in p)n=p[s];else{const g=Ts(a);n=p[s]=d.call(null,t),g()}}else n=d;a.ce&&a.ce._setProp(s,n)}o[0]&&(r&&!i?n=!1:o[1]&&(n===""||n===Rt(s))&&(n=!0))}return n}const qi=new WeakMap;function Cr(e,t,s=!1){const n=s?qi:t.propsCache,a=n.get(e);if(a)return a;const r=e.props,o={},i=[];let d=!1;if(!ce(e)){const g=c=>{d=!0;const[f,u]=Cr(c,t,!0);Ze(o,f),u&&i.push(...u)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!r&&!d)return Ee(e)&&n.set(e,Zt),Zt;if(oe(r))for(let g=0;g<r.length;g++){const c=pt(r[g]);$r(c)&&(o[c]=Me)}else if(r)for(const g in r){const c=pt(g);if($r(c)){const f=r[g],u=o[c]=oe(f)||ce(f)?{type:f}:Ze({},f),b=u.type;let v=!1,A=!0;if(oe(b))for(let F=0;F<b.length;++F){const $=b[F],L=ce($)&&$.name;if(L==="Boolean"){v=!0;break}else L==="String"&&(A=!1)}else v=ce(b)&&b.name==="Boolean";u[0]=v,u[1]=A,(v||Ce(u,"default"))&&i.push(c)}}const p=[o,i];return Ee(e)&&n.set(e,p),p}function $r(e){return e[0]!=="$"&&!ds(e)}const qn=e=>e==="_"||e==="_ctx"||e==="$stable",Jn=e=>oe(e)?e.map(Ct):[Ct(e)],Ji=(e,t,s)=>{if(t._n)return t;const n=He((...a)=>Jn(t(...a)),s);return n._c=!1,n},Tr=(e,t,s)=>{const n=e._ctx;for(const a in e){if(qn(a))continue;const r=e[a];if(ce(r))t[a]=Ji(a,r,n);else if(r!=null){const o=Jn(r);t[a]=()=>o}}},Mr=(e,t)=>{const s=Jn(t);e.slots.default=()=>s},Ar=(e,t,s)=>{for(const n in t)(s||!qn(n))&&(e[n]=t[n])},Zi=(e,t,s)=>{const n=e.slots=kr();if(e.vnode.shapeFlag&32){const a=t._;a?(Ar(n,t,s),s&&Ma(n,"_",a,!0)):Tr(t,n)}else t&&Mr(e,t)},Yi=(e,t,s)=>{const{vnode:n,slots:a}=e;let r=!0,o=Me;if(n.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:Ar(a,t,s):(r=!t.$stable,Tr(t,a)),o=t}else t&&(Mr(e,t),o={default:1});if(r)for(const i in a)!qn(i)&&o[i]==null&&delete a[i]},lt=dl;function Xi(e){return Qi(e)}function Qi(e,t){const s=Bs();s.__VUE__=!0;const{insert:n,remove:a,patchProp:r,createElement:o,createText:i,createComment:d,setText:p,setElementText:g,parentNode:c,nextSibling:f,setScopeId:u=bt,insertStaticContent:b}=e,v=(h,m,S,N=null,P=null,I=null,j=void 0,O=null,R=!!m.dynamicChildren)=>{if(h===m)return;h&&!$s(h,m)&&(N=Ie(h),de(h,P,I,!0),h=null),m.patchFlag===-2&&(R=!1,m.dynamicChildren=null);const{type:H,ref:J,shapeFlag:V}=m;switch(H){case rn:A(h,m,S,N);break;case Nt:F(h,m,S,N);break;case on:h==null&&$(m,S,N,j);break;case ue:Pe(h,m,S,N,P,I,j,O,R);break;default:V&1?W(h,m,S,N,P,I,j,O,R):V&6?xe(h,m,S,N,P,I,j,O,R):(V&64||V&128)&&H.process(h,m,S,N,P,I,j,O,R,Le)}J!=null&&P?ws(J,h&&h.ref,I,m||h,!m):J==null&&h&&h.ref!=null&&ws(h.ref,null,I,h,!0)},A=(h,m,S,N)=>{if(h==null)n(m.el=i(m.children),S,N);else{const P=m.el=h.el;m.children!==h.children&&p(P,m.children)}},F=(h,m,S,N)=>{h==null?n(m.el=d(m.children||""),S,N):m.el=h.el},$=(h,m,S,N)=>{[h.el,h.anchor]=b(h.children,m,S,N,h.el,h.anchor)},L=({el:h,anchor:m},S,N)=>{let P;for(;h&&h!==m;)P=f(h),n(h,S,N),h=P;n(m,S,N)},M=({el:h,anchor:m})=>{let S;for(;h&&h!==m;)S=f(h),a(h),h=S;a(m)},W=(h,m,S,N,P,I,j,O,R)=>{m.type==="svg"?j="svg":m.type==="math"&&(j="mathml"),h==null?ee(m,S,N,P,I,j,O,R):me(h,m,P,I,j,O,R)},ee=(h,m,S,N,P,I,j,O)=>{let R,H;const{props:J,shapeFlag:V,transition:Z,dirs:se}=h;if(R=h.el=o(h.type,I,J&&J.is,J),V&8?g(R,h.children):V&16&&te(h.children,R,null,N,P,Zn(h,I),j,O),se&&Gt(h,null,N,"created"),re(R,h,h.scopeId,j,N),J){for(const Se in J)Se!=="value"&&!ds(Se)&&r(R,Se,null,J[Se],I,N);"value"in J&&r(R,"value",null,J.value,I),(H=J.onVnodeBeforeMount)&&$t(H,N,h)}se&&Gt(h,null,N,"beforeMount");const pe=el(P,Z);pe&&Z.beforeEnter(R),n(R,m,S),((H=J&&J.onVnodeMounted)||pe||se)&&lt(()=>{H&&$t(H,N,h),pe&&Z.enter(R),se&&Gt(h,null,N,"mounted")},P)},re=(h,m,S,N,P)=>{if(S&&u(h,S),N)for(let I=0;I<N.length;I++)u(h,N[I]);if(P){let I=P.subTree;if(m===I||Rr(I.type)&&(I.ssContent===m||I.ssFallback===m)){const j=P.vnode;re(h,j,j.scopeId,j.slotScopeIds,P.parent)}}},te=(h,m,S,N,P,I,j,O,R=0)=>{for(let H=R;H<h.length;H++){const J=h[H]=O?jt(h[H]):Ct(h[H]);v(null,J,m,S,N,P,I,j,O)}},me=(h,m,S,N,P,I,j)=>{const O=m.el=h.el;let{patchFlag:R,dynamicChildren:H,dirs:J}=m;R|=h.patchFlag&16;const V=h.props||Me,Z=m.props||Me;let se;if(S&&qt(S,!1),(se=Z.onVnodeBeforeUpdate)&&$t(se,S,m,h),J&&Gt(m,h,S,"beforeUpdate"),S&&qt(S,!0),(V.innerHTML&&Z.innerHTML==null||V.textContent&&Z.textContent==null)&&g(O,""),H?q(h.dynamicChildren,H,O,S,N,Zn(m,P),I):j||Y(h,m,O,null,S,N,Zn(m,P),I,!1),R>0){if(R&16)_e(O,V,Z,S,P);else if(R&2&&V.class!==Z.class&&r(O,"class",null,Z.class,P),R&4&&r(O,"style",V.style,Z.style,P),R&8){const pe=m.dynamicProps;for(let Se=0;Se<pe.length;Se++){const be=pe[Se],Ue=V[be],Ke=Z[be];(Ke!==Ue||be==="value")&&r(O,be,Ue,Ke,P,S)}}R&1&&h.children!==m.children&&g(O,m.children)}else!j&&H==null&&_e(O,V,Z,S,P);((se=Z.onVnodeUpdated)||J)&&lt(()=>{se&&$t(se,S,m,h),J&&Gt(m,h,S,"updated")},N)},q=(h,m,S,N,P,I,j)=>{for(let O=0;O<m.length;O++){const R=h[O],H=m[O],J=R.el&&(R.type===ue||!$s(R,H)||R.shapeFlag&198)?c(R.el):S;v(R,H,J,null,N,P,I,j,!0)}},_e=(h,m,S,N,P)=>{if(m!==S){if(m!==Me)for(const I in m)!ds(I)&&!(I in S)&&r(h,I,m[I],null,P,N);for(const I in S){if(ds(I))continue;const j=S[I],O=m[I];j!==O&&I!=="value"&&r(h,I,O,j,P,N)}"value"in S&&r(h,"value",m.value,S.value,P)}},Pe=(h,m,S,N,P,I,j,O,R)=>{const H=m.el=h?h.el:i(""),J=m.anchor=h?h.anchor:i("");let{patchFlag:V,dynamicChildren:Z,slotScopeIds:se}=m;se&&(O=O?O.concat(se):se),h==null?(n(H,S,N),n(J,S,N),te(m.children||[],S,J,P,I,j,O,R)):V>0&&V&64&&Z&&h.dynamicChildren?(q(h.dynamicChildren,Z,S,P,I,j,O),(m.key!=null||P&&m===P.subTree)&&Dr(h,m,!0)):Y(h,m,S,J,P,I,j,O,R)},xe=(h,m,S,N,P,I,j,O,R)=>{m.slotScopeIds=O,h==null?m.shapeFlag&512?P.ctx.activate(m,S,N,j,R):Be(m,S,N,P,I,j,R):z(h,m,R)},Be=(h,m,S,N,P,I,j)=>{const O=h.component=bl(h,N,P);if(lr(h)&&(O.ctx.renderer=Le),_l(O,!1,j),O.asyncDep){if(P&&P.registerDep(O,le,j),!h.el){const R=O.subTree=ie(Nt);F(null,R,m,S),h.placeholder=R.el}}else le(O,h,m,S,P,I,j)},z=(h,m,S)=>{const N=m.component=h.component;if(cl(h,m,S))if(N.asyncDep&&!N.asyncResolved){Q(N,m,S);return}else N.next=m,N.update();else m.el=h.el,N.vnode=m},le=(h,m,S,N,P,I,j)=>{const O=()=>{if(h.isMounted){let{next:V,bu:Z,u:se,parent:pe,vnode:Se}=h;{const ot=Pr(h);if(ot){V&&(V.el=Se.el,Q(h,V,j)),ot.asyncDep.then(()=>{h.isUnmounted||O()});return}}let be=V,Ue;qt(h,!1),V?(V.el=Se.el,Q(h,V,j)):V=Se,Z&&Ws(Z),(Ue=V.props&&V.props.onVnodeBeforeUpdate)&&$t(Ue,pe,V,Se),qt(h,!0);const Ke=Or(h),st=h.subTree;h.subTree=Ke,v(st,Ke,c(st.el),Ie(st),h,P,I),V.el=Ke.el,be===null&&ul(h,Ke.el),se&&lt(se,P),(Ue=V.props&&V.props.onVnodeUpdated)&&lt(()=>$t(Ue,pe,V,Se),P)}else{let V;const{el:Z,props:se}=m,{bm:pe,m:Se,parent:be,root:Ue,type:Ke}=h,st=ns(m);qt(h,!1),pe&&Ws(pe),!st&&(V=se&&se.onVnodeBeforeMount)&&$t(V,be,m),qt(h,!0);{Ue.ce&&Ue.ce._def.shadowRoot!==!1&&Ue.ce._injectChildStyle(Ke);const ot=h.subTree=Or(h);v(null,ot,S,N,h,P,I),m.el=ot.el}if(Se&&lt(Se,P),!st&&(V=se&&se.onVnodeMounted)){const ot=m;lt(()=>$t(V,be,ot),P)}(m.shapeFlag&256||be&&ns(be.vnode)&&be.vnode.shapeFlag&256)&&h.a&&lt(h.a,P),h.isMounted=!0,m=S=N=null}};h.scope.on();const R=h.effect=new Ea(O);h.scope.off();const H=h.update=R.run.bind(R),J=h.job=R.runIfDirty.bind(R);J.i=h,J.id=h.uid,R.scheduler=()=>Bn(J),qt(h,!0),H()},Q=(h,m,S)=>{m.component=h;const N=h.vnode.props;h.vnode=m,h.next=null,Gi(h,m.props,N,S),Yi(h,m.children,S),wt(),nr(h),_t()},Y=(h,m,S,N,P,I,j,O,R=!1)=>{const H=h&&h.children,J=h?h.shapeFlag:0,V=m.children,{patchFlag:Z,shapeFlag:se}=m;if(Z>0){if(Z&128){ye(H,V,S,N,P,I,j,O,R);return}else if(Z&256){ae(H,V,S,N,P,I,j,O,R);return}}se&8?(J&16&&ke(H,P,I),V!==H&&g(S,V)):J&16?se&16?ye(H,V,S,N,P,I,j,O,R):ke(H,P,I,!0):(J&8&&g(S,""),se&16&&te(V,S,N,P,I,j,O,R))},ae=(h,m,S,N,P,I,j,O,R)=>{h=h||Zt,m=m||Zt;const H=h.length,J=m.length,V=Math.min(H,J);let Z;for(Z=0;Z<V;Z++){const se=m[Z]=R?jt(m[Z]):Ct(m[Z]);v(h[Z],se,S,null,P,I,j,O,R)}H>J?ke(h,P,I,!0,!1,V):te(m,S,N,P,I,j,O,R,V)},ye=(h,m,S,N,P,I,j,O,R)=>{let H=0;const J=m.length;let V=h.length-1,Z=J-1;for(;H<=V&&H<=Z;){const se=h[H],pe=m[H]=R?jt(m[H]):Ct(m[H]);if($s(se,pe))v(se,pe,S,null,P,I,j,O,R);else break;H++}for(;H<=V&&H<=Z;){const se=h[V],pe=m[Z]=R?jt(m[Z]):Ct(m[Z]);if($s(se,pe))v(se,pe,S,null,P,I,j,O,R);else break;V--,Z--}if(H>V){if(H<=Z){const se=Z+1,pe=se<J?m[se].el:N;for(;H<=Z;)v(null,m[H]=R?jt(m[H]):Ct(m[H]),S,pe,P,I,j,O,R),H++}}else if(H>Z)for(;H<=V;)de(h[H],P,I,!0),H++;else{const se=H,pe=H,Se=new Map;for(H=pe;H<=Z;H++){const Je=m[H]=R?jt(m[H]):Ct(m[H]);Je.key!=null&&Se.set(Je.key,H)}let be,Ue=0;const Ke=Z-pe+1;let st=!1,ot=0;const it=new Array(Ke);for(H=0;H<Ke;H++)it[H]=0;for(H=se;H<=V;H++){const Je=h[H];if(Ue>=Ke){de(Je,P,I,!0);continue}let w;if(Je.key!=null)w=Se.get(Je.key);else for(be=pe;be<=Z;be++)if(it[be-pe]===0&&$s(Je,m[be])){w=be;break}w===void 0?de(Je,P,I,!0):(it[w-pe]=H+1,w>=ot?ot=w:st=!0,v(Je,m[w],S,null,P,I,j,O,R),Ue++)}const cs=st?tl(it):Zt;for(be=cs.length-1,H=Ke-1;H>=0;H--){const Je=pe+H,w=m[Je],y=m[Je+1],E=Je+1<J?y.el||y.placeholder:N;it[H]===0?v(null,w,S,E,P,I,j,O,R):st&&(be<0||H!==cs[be]?$e(w,S,E,2):be--)}}},$e=(h,m,S,N,P=null)=>{const{el:I,type:j,transition:O,children:R,shapeFlag:H}=h;if(H&6){$e(h.component.subTree,m,S,N);return}if(H&128){h.suspense.move(m,S,N);return}if(H&64){j.move(h,m,S,Le);return}if(j===ue){n(I,m,S);for(let V=0;V<R.length;V++)$e(R[V],m,S,N);n(h.anchor,m,S);return}if(j===on){L(h,m,S);return}if(N!==2&&H&1&&O)if(N===0)O.beforeEnter(I),n(I,m,S),lt(()=>O.enter(I),P);else{const{leave:V,delayLeave:Z,afterLeave:se}=O,pe=()=>{h.ctx.isUnmounted?a(I):n(I,m,S)},Se=()=>{I._isLeaving&&I[_i](!0),V(I,()=>{pe(),se&&se()})};Z?Z(I,pe,Se):Se()}else n(I,m,S)},de=(h,m,S,N=!1,P=!1)=>{const{type:I,props:j,ref:O,children:R,dynamicChildren:H,shapeFlag:J,patchFlag:V,dirs:Z,cacheIndex:se}=h;if(V===-2&&(P=!1),O!=null&&(wt(),ws(O,null,S,h,!0),_t()),se!=null&&(m.renderCache[se]=void 0),J&256){m.ctx.deactivate(h);return}const pe=J&1&&Z,Se=!ns(h);let be;if(Se&&(be=j&&j.onVnodeBeforeUnmount)&&$t(be,m,h),J&6)Te(h.component,S,N);else{if(J&128){h.suspense.unmount(S,N);return}pe&&Gt(h,null,m,"beforeUnmount"),J&64?h.type.remove(h,m,S,Le,N):H&&!H.hasOnce&&(I!==ue||V>0&&V&64)?ke(H,m,S,!1,!0):(I===ue&&V&384||!P&&J&16)&&ke(R,m,S),N&&Ne(h)}(Se&&(be=j&&j.onVnodeUnmounted)||pe)&&lt(()=>{be&&$t(be,m,h),pe&&Gt(h,null,m,"unmounted")},S)},Ne=h=>{const{type:m,el:S,anchor:N,transition:P}=h;if(m===ue){Re(S,N);return}if(m===on){M(h);return}const I=()=>{a(S),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(h.shapeFlag&1&&P&&!P.persisted){const{leave:j,delayLeave:O}=P,R=()=>j(S,I);O?O(h.el,I,R):R()}else I()},Re=(h,m)=>{let S;for(;h!==m;)S=f(h),a(h),h=S;a(m)},Te=(h,m,S)=>{const{bum:N,scope:P,job:I,subTree:j,um:O,m:R,a:H}=h;Ir(R),Ir(H),N&&Ws(N),P.stop(),I&&(I.flags|=8,de(j,h,m,S)),O&&lt(O,m),lt(()=>{h.isUnmounted=!0},m)},ke=(h,m,S,N=!1,P=!1,I=0)=>{for(let j=I;j<h.length;j++)de(h[j],m,S,N,P)},Ie=h=>{if(h.shapeFlag&6)return Ie(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const m=f(h.anchor||h.el),S=m&&m[bi];return S?f(S):m};let We=!1;const mt=(h,m,S)=>{h==null?m._vnode&&de(m._vnode,null,null,!0):v(m._vnode||null,h,m,null,null,null,S),m._vnode=h,We||(We=!0,nr(),ar(),We=!1)},Le={p:v,um:de,m:$e,r:Ne,mt:Be,mc:te,pc:Y,pbc:q,n:Ie,o:e};return{render:mt,hydrate:void 0,createApp:Vi(mt)}}function Zn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function el(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Dr(e,t,s=!1){const n=e.children,a=t.children;if(oe(n)&&oe(a))for(let r=0;r<n.length;r++){const o=n[r];let i=a[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[r]=jt(a[r]),i.el=o.el),!s&&i.patchFlag!==-2&&Dr(o,i)),i.type===rn&&i.patchFlag!==-1&&(i.el=o.el),i.type===Nt&&!i.el&&(i.el=o.el)}}function tl(e){const t=e.slice(),s=[0];let n,a,r,o,i;const d=e.length;for(n=0;n<d;n++){const p=e[n];if(p!==0){if(a=s[s.length-1],e[a]<p){t[n]=a,s.push(n);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<p?r=i+1:o=i;p<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Pr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Pr(t)}function Ir(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const sl=Symbol.for("v-scx"),nl=()=>nn(sl);function yt(e,t,s){return Er(e,t,s)}function Er(e,t,s=Me){const{immediate:n,deep:a,flush:r,once:o}=s,i=Ze({},s),d=t&&n||!t&&r!=="post";let p;if(Ms){if(r==="sync"){const u=nl();p=u.__watcherHandles||(u.__watcherHandles=[])}else if(!d){const u=()=>{};return u.stop=bt,u.resume=bt,u.pause=bt,u}}const g=Xe;i.call=(u,b,v)=>xt(u,g,b,v);let c=!1;r==="post"?i.scheduler=u=>{lt(u,g&&g.suspense)}:r!=="sync"&&(c=!0,i.scheduler=(u,b)=>{b?u():Bn(u)}),i.augmentJob=u=>{t&&(u.flags|=4),c&&(u.flags|=2,g&&(u.id=g.uid,u.i=g))};const f=di(e,t,i);return Ms&&(p?p.push(f):d&&f()),f}function al(e,t,s){const n=this.proxy,a=Fe(e)?e.includes(".")?Nr(n,e):()=>n[e]:e.bind(n,n);let r;ce(t)?r=t:(r=t.handler,s=t);const o=Ts(this),i=Er(a,r.bind(n),s);return o(),i}function Nr(e,t){const s=t.split(".");return()=>{let n=e;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const rl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${pt(t)}Modifiers`]||e[`${Rt(t)}Modifiers`];function ol(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Me;let a=s;const r=t.startsWith("update:"),o=r&&rl(n,t.slice(7));o&&(o.trim&&(a=s.map(g=>Fe(g)?g.trim():g)),o.number&&(a=s.map(Tn)));let i,d=n[i=$n(t)]||n[i=$n(pt(t))];!d&&r&&(d=n[i=$n(Rt(t))]),d&&xt(d,e,6,a);const p=n[i+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,xt(p,e,6,a)}}function Lr(e,t,s=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const r=e.emits;let o={},i=!1;if(!ce(e)){const d=p=>{const g=Lr(p,t,!0);g&&(i=!0,Ze(o,g))};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!r&&!i?(Ee(e)&&n.set(e,null),null):(oe(r)?r.forEach(d=>o[d]=null):Ze(o,r),Ee(e)&&n.set(e,o),o)}function an(e,t){return!e||!Os(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Rt(t))||Ce(e,t))}function Bh(){}function Or(e){const{type:t,vnode:s,proxy:n,withProxy:a,propsOptions:[r],slots:o,attrs:i,emit:d,render:p,renderCache:g,props:c,data:f,setupState:u,ctx:b,inheritAttrs:v}=e,A=en(e);let F,$;try{if(s.shapeFlag&4){const M=a||n,W=M;F=Ct(p.call(W,M,g,c,u,f,b)),$=i}else{const M=t;F=Ct(M.length>1?M(c,{attrs:i,slots:o,emit:d}):M(c,null)),$=t.props?i:il(i)}}catch(M){xs.length=0,Ys(M,e,1),F=ie(Nt)}let L=F;if($&&v!==!1){const M=Object.keys($),{shapeFlag:W}=L;M.length&&W&7&&(r&&M.some(xn)&&($=ll($,r)),L=os(L,$,!1,!0))}return s.dirs&&(L=os(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&jn(L,s.transition),F=L,en(A),F}const il=e=>{let t;for(const s in e)(s==="class"||s==="style"||Os(s))&&((t||(t={}))[s]=e[s]);return t},ll=(e,t)=>{const s={};for(const n in e)(!xn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function cl(e,t,s){const{props:n,children:a,component:r}=e,{props:o,children:i,patchFlag:d}=t,p=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return n?Hr(n,o,p):!!o;if(d&8){const g=t.dynamicProps;for(let c=0;c<g.length;c++){const f=g[c];if(o[f]!==n[f]&&!an(p,f))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:n===o?!1:n?o?Hr(n,o,p):!0:!!o;return!1}function Hr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const r=n[a];if(t[r]!==e[r]&&!an(s,r))return!0}return!1}function ul({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Rr=e=>e.__isSuspense;function dl(e,t){t&&t.pendingBranch?oe(e)?t.effects.push(...e):t.effects.push(e):yi(e)}const ue=Symbol.for("v-fgt"),rn=Symbol.for("v-txt"),Nt=Symbol.for("v-cmt"),on=Symbol.for("v-stc"),xs=[];let ct=null;function x(e=!1){xs.push(ct=e?null:[])}function fl(){xs.pop(),ct=xs[xs.length-1]||null}let Ss=1;function Fr(e,t=!1){Ss+=e,e<0&&ct&&t&&(ct.hasOnce=!0)}function Wr(e){return e.dynamicChildren=Ss>0?ct||Zt:null,fl(),Ss>0&&ct&&ct.push(e),e}function T(e,t,s,n,a,r){return Wr(l(e,t,s,n,a,r,!0))}function ze(e,t,s,n,a){return Wr(ie(e,t,s,n,a,!0))}function Cs(e){return e?e.__v_isVNode===!0:!1}function $s(e,t){return e.type===t.type&&e.key===t.key}const Br=({key:e})=>e??null,ln=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||Ve(e)||ce(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function l(e,t=null,s=null,n=0,a=null,r=e===ue?0:1,o=!1,i=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Br(t),ref:t&&ln(t),scopeId:or,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:qe};return i?(Yn(d,s),r&128&&e.normalize(d)):s&&(d.shapeFlag|=Fe(s)?8:16),Ss>0&&!o&&ct&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&ct.push(d),d}const ie=pl;function pl(e,t=null,s=null,n=0,a=null,r=!1){if((!e||e===Ni)&&(e=Nt),Cs(e)){const i=os(e,t,!0);return s&&Yn(i,s),Ss>0&&!r&&ct&&(i.shapeFlag&6?ct[ct.indexOf(e)]=i:ct.push(i)),i.patchFlag=-2,i}if(Tl(e)&&(e=e.__vccOpts),t){t=gl(t);let{class:i,style:d}=t;i&&!Fe(i)&&(t.class=he(i)),Ee(d)&&(Fn(d)&&!oe(d)&&(d=Ze({},d)),t.style=At(d))}const o=Fe(e)?1:Rr(e)?128:wi(e)?64:Ee(e)?4:ce(e)?2:0;return l(e,t,s,n,a,o,r,!0)}function gl(e){return e?Fn(e)||xr(e)?Ze({},e):e:null}function os(e,t,s=!1,n=!1){const{props:a,ref:r,patchFlag:o,children:i,transition:d}=e,p=t?ml(a||{},t):a,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Br(p),ref:t&&t.ref?s&&r?oe(r)?r.concat(ln(t)):[r,ln(t)]:ln(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ue?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&os(e.ssContent),ssFallback:e.ssFallback&&os(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&n&&jn(g,d.clone(g)),g}function ve(e=" ",t=0){return ie(rn,null,e,t)}function hl(e,t){const s=ie(on,null,e);return s.staticCount=t,s}function G(e="",t=!1){return t?(x(),ze(Nt,null,e)):ie(Nt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?ie(Nt):oe(e)?ie(ue,null,e.slice()):Cs(e)?jt(e):ie(rn,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:os(e)}function Yn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(oe(t))s=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),Yn(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!xr(t)?t._ctx=qe:a===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ce(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),n&64?(s=16,t=[ve(t)]):s=8);e.children=t,e.shapeFlag|=s}function ml(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=he([t.class,n.class]));else if(a==="style")t.style=At([t.style,n.style]);else if(Os(a)){const r=t[a],o=n[a];o&&r!==o&&!(oe(r)&&r.includes(o))&&(t[a]=r?[].concat(r,o):o)}else a!==""&&(t[a]=n[a])}return t}function $t(e,t,s,n=null){xt(e,t,7,[s,n])}const vl=wr();let yl=0;function bl(e,t,s){const n=e.type,a=(t?t.appContext:e.appContext)||vl,r={uid:yl++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new No(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cr(n,a),emitsOptions:Lr(n,a),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:n.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=ol.bind(null,r),e.ce&&e.ce(r),r}let Xe=null;const wl=()=>Xe||qe;let cn,Xn;{const e=Bs(),t=(s,n)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(n),r=>{a.length>1?a.forEach(o=>o(r)):a[0](r)}};cn=t("__VUE_INSTANCE_SETTERS__",s=>Xe=s),Xn=t("__VUE_SSR_SETTERS__",s=>Ms=s)}const Ts=e=>{const t=Xe;return cn(e),e.scope.on(),()=>{e.scope.off(),cn(t)}},jr=()=>{Xe&&Xe.scope.off(),cn(null)};function Ur(e){return e.vnode.shapeFlag&4}let Ms=!1;function _l(e,t=!1,s=!1){t&&Xn(t);const{props:n,children:a}=e.vnode,r=Ur(e);Ki(e,n,r,t),Zi(e,a,s||t);const o=r?kl(e,t):void 0;return t&&Xn(!1),o}function kl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Hi);const{setup:n}=s;if(n){wt();const a=e.setupContext=n.length>1?Sl(e):null,r=Ts(e),o=es(n,e,0,[e.props,a]),i=Ca(o);if(_t(),r(),(i||e.sp)&&!ns(e)&&ir(e),i){if(o.then(jr,jr),t)return o.then(d=>{Vr(e,d)}).catch(d=>{Ys(d,e,0)});e.asyncDep=o}else Vr(e,o)}else zr(e)}function Vr(e,t,s){ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ee(t)&&(e.setupState=Xa(t)),zr(e)}function zr(e,t,s){const n=e.type;e.render||(e.render=n.render||bt);{const a=Ts(e);wt();try{Ri(e)}finally{_t(),a()}}}const xl={get(e,t){return Ye(e,"get",""),e[t]}};function Sl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,xl),slots:e.slots,emit:e.emit,expose:t}}function un(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xa(si(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in _s)return _s[s](e)},has(t,s){return s in t||s in _s}})):e.proxy}const Cl=/(?:^|[-_])(\w)/g,$l=e=>e.replace(Cl,t=>t.toUpperCase()).replace(/[-_]/g,"");function Kr(e,t=!0){return ce(e)?e.displayName||e.name:e.name||t&&e.__name}function Gr(e,t,s=!1){let n=Kr(t);if(!n&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(n=a[1])}if(!n&&e&&e.parent){const a=r=>{for(const o in r)if(r[o]===t)return o};n=a(e.components||e.parent.type.components)||a(e.appContext.components)}return n?$l(n):s?"App":"Anonymous"}function Tl(e){return ce(e)&&"__vccOpts"in e}const K=(e,t)=>ci(e,t,Ms);function ut(e,t,s){const n=arguments.length;return n===2?Ee(t)&&!oe(t)?Cs(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Cs(s)&&(s=[s]),ie(e,t,s))}const Ml="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qn;const qr=typeof window<"u"&&window.trustedTypes;if(qr)try{Qn=qr.createPolicy("vue",{createHTML:e=>e})}catch{}const Jr=Qn?e=>Qn.createHTML(e):e=>e,Al="http://www.w3.org/2000/svg",Dl="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,Zr=Lt&&Lt.createElement("template"),Pl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const a=t==="svg"?Lt.createElementNS(Al,e):t==="mathml"?Lt.createElementNS(Dl,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,a,r){const o=s?s.previousSibling:t.lastChild;if(a&&(a===r||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===r||!(a=a.nextSibling)););else{Zr.innerHTML=Jr(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=Zr.content;if(n==="svg"||n==="mathml"){const d=i.firstChild;for(;d.firstChild;)i.appendChild(d.firstChild);i.removeChild(d)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Il=Symbol("_vtc");function El(e,t,s){const n=e[Il];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const dn=Symbol("_vod"),Yr=Symbol("_vsh"),fn={name:"show",beforeMount(e,{value:t},{transition:s}){e[dn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):As(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),As(e,!0),n.enter(e)):n.leave(e,()=>{As(e,!1)}):As(e,t))},beforeUnmount(e,{value:t}){As(e,t)}};function As(e,t){e.style.display=t?e[dn]:"none",e[Yr]=!t}const Nl=Symbol(""),Ll=/(^|;)\s*display\s*:/;function Ol(e,t,s){const n=e.style,a=Fe(s);let r=!1;if(s&&!a){if(t)if(Fe(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&pn(n,i,"")}else for(const o in t)s[o]==null&&pn(n,o,"");for(const o in s)o==="display"&&(r=!0),pn(n,o,s[o])}else if(a){if(t!==s){const o=n[Nl];o&&(s+=";"+o),n.cssText=s,r=Ll.test(s)}}else t&&e.removeAttribute("style");dn in e&&(e[dn]=r?n.display:"",e[Yr]&&(n.display="none"))}const Xr=/\s*!important$/;function pn(e,t,s){if(oe(s))s.forEach(n=>pn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Hl(e,t);Xr.test(s)?e.setProperty(Rt(n),s.replace(Xr,""),"important"):e[n]=s}}const Qr=["Webkit","Moz","ms"],ea={};function Hl(e,t){const s=ea[t];if(s)return s;let n=pt(t);if(n!=="filter"&&n in e)return ea[t]=n;n=Fs(n);for(let a=0;a<Qr.length;a++){const r=Qr[a]+n;if(r in e)return ea[t]=r}return t}const eo="http://www.w3.org/1999/xlink";function to(e,t,s,n,a,r=Eo(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(eo,t.slice(6,t.length)):e.setAttributeNS(eo,t,s):s==null||r&&!Da(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Mt(s)?String(s):s)}function so(e,t,s,n,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Jr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(i!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Da(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(a||t)}function is(e,t,s,n){e.addEventListener(t,s,n)}function Rl(e,t,s,n){e.removeEventListener(t,s,n)}const no=Symbol("_vei");function Fl(e,t,s,n,a=null){const r=e[no]||(e[no]={}),o=r[t];if(n&&o)o.value=n;else{const[i,d]=Wl(t);if(n){const p=r[t]=Ul(n,a);is(e,i,p,d)}else o&&(Rl(e,i,o,d),r[t]=void 0)}}const ao=/(?:Once|Passive|Capture)$/;function Wl(e){let t;if(ao.test(e)){t={};let n;for(;n=e.match(ao);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rt(e.slice(2)),t]}let ta=0;const Bl=Promise.resolve(),jl=()=>ta||(Bl.then(()=>ta=0),ta=Date.now());function Ul(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;xt(Vl(n,s.value),t,5,[n])};return s.value=e,s.attached=jl(),s}function Vl(e,t){if(oe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const ro=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zl=(e,t,s,n,a,r)=>{const o=a==="svg";t==="class"?El(e,n,o):t==="style"?Ol(e,s,n):Os(t)?xn(t)||Fl(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kl(e,t,n,o))?(so(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&to(e,t,n,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(n))?so(e,pt(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),to(e,t,n,o))};function Kl(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ro(t)&&ce(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return ro(t)&&Fe(s)?!1:t in e}const oo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return oe(t)?s=>Ws(t,s):t};function Gl(e){e.target.composing=!0}function io(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sa=Symbol("_assign"),ql={created(e,{modifiers:{lazy:t,trim:s,number:n}},a){e[sa]=oo(a);const r=n||a.props&&a.props.type==="number";is(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;s&&(i=i.trim()),r&&(i=Tn(i)),e[sa](i)}),s&&is(e,"change",()=>{e.value=e.value.trim()}),t||(is(e,"compositionstart",Gl),is(e,"compositionend",io),is(e,"change",io))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:a,number:r}},o){if(e[sa]=oo(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?Tn(e.value):e.value,d=t??"";i!==d&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||a&&e.value.trim()===d)||(e.value=d))}},Jl=["ctrl","shift","alt","meta"],Zl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Jl.some(s=>e[`${s}Key`]&&!t.includes(s))},gn=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(a,...r)=>{for(let o=0;o<t.length;o++){const i=Zl[t[o]];if(i&&i(a,t))return}return e(a,...r)})},Yl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xl=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=a=>{if(!("key"in a))return;const r=Rt(a.key);if(t.some(o=>o===r||Yl[o]===r))return e(a)})},Ql=Ze({patchProp:zl},Pl);let lo;function ec(){return lo||(lo=Xi(Ql))}const tc=(...e)=>{const t=ec().createApp(...e),{mount:s}=t;return t.mount=n=>{const a=nc(n);if(!a)return;const r=t._component;!ce(r)&&!r.render&&!r.template&&(r.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=s(a,!1,sc(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function sc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nc(e){return Fe(e)?document.querySelector(e):e}const ac=De({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const n=e.showNavigation!==!1,a={...s,class:[s.class,"app-content",n?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":n?"false":"true"};return ut("div",a,[ut("aside",r,t.navigation?t.navigation():[]),ut("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),rc=De({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const n={...s,class:[s.class,"app-navigation"]};"role"in n||(n.role="navigation");const a=[];return t.actions&&a.push(ut("div",{class:"app-navigation__actions"},t.actions())),t.default&&a.push(...t.default()),ut("nav",n,a)}}}),dt=De({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:n}){return()=>{const a={...n,class:[n.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in a||(a.type="button"),ut("button",a,s.default?s.default():[])}}}),hn=De({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>ut("div",{...t,class:[t.class,"card empty"]},[ut("div",{class:"value"},e.name),ut("div",{class:"hint"},e.description)])}}),mn=De({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:n}){const a=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...n,class:[n.class,"nc-checkbox-radio-switch"]};return()=>ut("label",r,[ut("input",{type:e.type,name:e.name,checked:e.checked,onInput:a}),ut("span",{},s.default?s.default():[])])}}),oc=De({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>ut("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function na(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const n=Math.floor(s.width*t),a=Math.floor(s.height*t);e.width!==n&&(e.width=n),e.height!==a&&(e.height=a);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function co(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function ic(e){const s=Math.pow((p=>p<0?0:p>1?1:p)(e),.6),n=co("#e0f2fe"),a=co("#7c3aed");if(!n||!a)return"#7c3aed";const r=(p,g,c)=>Math.round(p+(g-p)*c),o=r(n.r,a.r,s),i=r(n.g,a.g,s),d=r(n.b,a.b,s);return`rgb(${o}, ${i}, ${d})`}const uo=De({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=ne(null);function n(){const a=t.data,r=s.value;if(!r||!a)return;const o=na(r);if(!o)return;const i=r.clientWidth,d=r.clientHeight,p=i/2,g=d/2,c=Math.min(i,d)*.35,f=a.data||[],u=a.labels||[],b=a.ids||[],v=a.colors||[],A=[];for(let te=0;te<f.length;te++)(Number(f[te])||0)>0&&A.push(te);if(o.clearRect(0,0,i,d),A.length===0)return;const F=A.map(te=>Number(f[te])||0),$=A.map(te=>String(u[te]||"")),L=A.map(te=>String(b[te]||"")),M=A.map(te=>v[te]),W=F.reduce((te,me)=>te+Math.max(0,me),0)||1;let ee=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const re=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];F.forEach((te,me)=>{var Ne,Re;const q=Math.max(0,te)/W,_e=ee+q*2*Math.PI,Pe=String(($==null?void 0:$[me])||""),xe=String((L==null?void 0:L[me])||""),Be=M[me],z=(Ne=t.colorsById)==null?void 0:Ne[xe],le=(Re=t.colorsByName)==null?void 0:Re[Pe];let Q=z||le||Be||re[me%re.length];o.beginPath(),o.moveTo(p,g),o.arc(p,g,c,ee,_e),o.closePath(),o.fillStyle=Q,o.fill(),o.stroke();const Y=(ee+_e)/2,ae=p+Math.cos(Y)*(c+12),ye=g+Math.sin(Y)*(c+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const $e=Math.max(0,Number(te)||0)/W*100,de=`${$!=null&&$[me]?$[me]+" ":""}${Number(te).toFixed(2)}h  ${$e.toFixed(1)}%`;o.strokeText(de,ae,ye),o.fillText(de,ae,ye),o.restore(),ee=_e})}return as(()=>{n(),window.addEventListener("resize",n)}),yt(()=>t.data,()=>n(),{deep:!0}),yt(()=>t.colorsById,()=>n(),{deep:!0}),(a,r)=>(x(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),fo=De({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=ne(null);function n(c,f,u,b,v){c.save(),v!=null&&v.font&&(c.font=v.font),v!=null&&v.align&&(c.textAlign=v.align),v!=null&&v.baseline&&(c.textBaseline=v.baseline),c.lineWidth=3,c.strokeStyle="rgba(0,0,0,0.55)",c.strokeText(f,u,b),c.fillStyle="#ffffff",c.fillText(f,u,b),c.restore()}function a(c){const f=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(c||"");return f?{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16)}:null}function r(c,f){const u=a(c);return u&&(.2126*u.r+.7152*u.g+.0722*u.b)/255<.55?"#ffffff":f}function o(){var Q,Y;const c=s.value;if(!c)return;const f=na(c);if(!f)return;const u=c.clientWidth,b=c.clientHeight,v=28,A=v*1.4,F=b-v,$=u-v,L=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",M=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";f.clearRect(0,0,u,b),f.strokeStyle=L,f.lineWidth=1,f.beginPath(),f.moveTo(A,F),f.lineTo($,F),f.moveTo(A,F),f.lineTo(A,v),f.stroke();const W=t.stacked;if(W&&W.labels&&W.series){let ae=W.labels||[],ye=W.series||[];const $e=d(ae,ye);ae=$e.labels,ye=$e.series;const de=ae.map((Le,X)=>ye.reduce((h,m)=>{var S;return h+Math.max(0,Number(((S=m.data)==null?void 0:S[X])||0))},0)),Ne=Math.max(1,...de),Re=ae.length||1,Te=8,ke=Math.max(6,($-A-Te*(Re+1))/Re),Ie=(F-v)/Ne;ae.forEach((Le,X)=>{let h=F,m=0;ye.forEach(N=>{var R;const P=Math.max(0,Number(((R=N.data)==null?void 0:R[X])||0)),I=P*Ie,j=A+Te+X*(ke+Te);h=h-I;const O=t.colorsById[N.id]||N.color||"#93c5fd";if(f.fillStyle=O,I>.5&&(f.fillRect(j,h,ke,I),I>14&&ke>22&&P>.01)){const H=String((Math.round(P*100)/100).toFixed(1));f.fillStyle=r(O,M),f.font="11px ui-sans-serif,system-ui";const J=f.measureText(H).width;f.fillText(H,j+ke/2-J/2,h+I/2+4)}m+=P}),f.fillStyle=M,f.font="12px ui-sans-serif,system-ui";const S=i(String(ae[X]||""));if(ke>26){const N=f.measureText(S).width;f.fillText(S,A+Te+X*(ke+Te)+ke/2-N/2,F+14)}if(m>.01){const N=A+Te+X*(ke+Te),P=`${(Math.round(m*100)/100).toFixed(1)}h`;n(f,P,N+ke/2,Math.max(v+4,h-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const We=de.reduce((Le,X)=>Le+X,0),mt=`${(Math.round(We*100)/100).toFixed(1)}h total`;n(f,mt,$-4,v+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const ee=t.legacy;if(!ee)return;let re=ee.data||[],te=ee.labels||[];const me=d(te,[{id:"__legacy__",data:re}]);te=me.labels,re=((Y=(Q=me.series)==null?void 0:Q[0])==null?void 0:Y.data)||re;const q=Math.max(1,...re.map(ae=>Math.max(0,ae))),_e=re.length||1,Pe=8,xe=Math.max(6,($-A-Pe*(_e+1))/_e),Be=(F-v)/q;f.fillStyle="#93c5fd",re.forEach((ae,ye)=>{const $e=Math.max(0,ae*Be),de=A+Pe+ye*(xe+Pe),Ne=F-$e;if(f.fillRect(de,Ne,xe,$e),$e>14&&xe>22&&ae>.01){const Te=String((Math.round(ae*100)/100).toFixed(1));f.fillStyle=r("#93c5fd",M),f.font="11px ui-sans-serif,system-ui";const ke=f.measureText(Te).width;f.fillText(Te,de+xe/2-ke/2,Ne+$e/2+4)}f.fillStyle=M,f.font="12px ui-sans-serif,system-ui";const Re=i(String(te[ye]||""));if(xe>26){const Te=f.measureText(Re).width;f.fillText(Re,de+xe/2-Te/2,F+14)}if(ae>.01){const Te=`${(Math.round(ae*100)/100).toFixed(1)}h`;n(f,Te,de+xe/2,Math.max(v+4,Ne-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const z=re.reduce((ae,ye)=>ae+Math.max(0,Number(ye)||0),0),le=`${(Math.round(z*100)/100).toFixed(1)}h total`;n(f,le,$-4,v+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}as(()=>{o(),window.addEventListener("resize",o)}),yt(()=>t.stacked,()=>o(),{deep:!0}),yt(()=>t.legacy,()=>o(),{deep:!0}),yt(()=>t.colorsById,()=>o(),{deep:!0});function i(c){const f=/^(\d{4})-(\d{2})-(\d{2})$/.exec(c);if(!f)return c;const u=new Date(`${f[1]}-${f[2]}-${f[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][u.getDay()]||c}function d(c,f){if(!Array.isArray(c)||c.length!==7)return{labels:c,series:f};const u=c.map(M=>p(M));if(u.some(M=>!M))return{labels:c,series:f};const b=u.map(M=>g(M)),v=[1,2,3,4,5,6,7];if(b.join(",")===v.join(","))return{labels:c,series:f};const A={};if(b.forEach((M,W)=>{A[M]=W}),!v.every(M=>M in A))return{labels:c,series:f};const F=v.map(M=>A[M]),$=F.map(M=>c[M]),L=(f||[]).map(M=>({...M,data:(M.data||[]).map((W,ee)=>(M.data||[])[F[ee]])}));return{labels:$,series:L}}function p(c){const f=/^(\d{4})-(\d{2})-(\d{2})$/.exec(c);if(!f)return null;const u=new Date(`${f[1]}-${f[2]}-${f[3]}T00:00:00`);return isNaN(u.getTime())?null:u}function g(c){const f=c.getDay();return f===0?7:f}return(c,f)=>(x(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),lc=De({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=ne(null);let n=null;function a(){var W;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=na(r);if(!i)return;const d=r.clientWidth,p=r.clientHeight,g=o.dows||[],c=o.hours||[],f=o.matrix||[];i.clearRect(0,0,d,p);const u=36,b=u,v=u,A=d-u,F=p-u,$=(A-b)/Math.max(1,c.length),L=(F-v)/Math.max(1,g.length),M=Math.max(0,...f.flat())||1;g.length&&c.length&&console.info("[opsdash] heatmap draw",{rows:g.length,cols:c.length,vmax:M});for(let ee=0;ee<g.length;ee++)for(let re=0;re<c.length;re++){const me=(((W=f[ee])==null?void 0:W[re])||0)/M,q=b+re*$,_e=v+ee*L;i.fillStyle=ic(me),i.fillRect(q,_e,$-1,L-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",g.forEach((ee,re)=>i.fillText(ee,8,v+re*L+12)),c.forEach((ee,re)=>{re%2===0&&i.fillText(String(ee),b+re*$+2,v-6)})}return as(async()=>{await Qs(),a();try{n=new ResizeObserver(()=>a()),s.value&&n.observe(s.value)}catch{}window.addEventListener("resize",a)}),ur(()=>{try{window.removeEventListener("resize",a)}catch{}try{n&&s.value&&n.unobserve(s.value)}catch{}n=null}),yt(()=>t.hod,()=>a(),{deep:!0}),(r,o)=>(x(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),cc={class:"group-row"},uc={colspan:"5"},dc={class:"group-header"},fc={class:"group-label"},pc={class:"name"},gc={key:0,class:"group-meta"},hc={class:"summary"},mc={key:0,class:"summary-percent"},vc={key:1,class:"group-meta"},yc={class:"summary"},bc={key:0},wc=["title"],_c={class:"row-name"},kc={key:0,class:"progress"},xc={class:"num"},Sc={class:"num"},Cc={class:"num"},$c={class:"num"},Tc={key:0,class:"hint"},Mc={key:0,class:"empty-row"},Ac=De({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=K(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map($=>({id:$.id,label:$.label,summary:$.summary??null,color:$.color,rows:($.rows||[]).map(n)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(n)}]);function n($){const L=a($);return{...$,calendarId:L}}function a($){return $?$.calendarId?String($.calendarId):$.id?String($.id):$.calendar_id?String($.calendar_id):$.calendar?String($.calendar):"":""}function r($){return String($.calendar||$.displayname||$.name||$.calendarId||"")}function o($){return a($)||r($)}function i($){const L=b($);if(!L)return!1;const M=t.targets||{},W=Number(M[L]);return isFinite(W)&&W>0}function d($){const L=b($);if(!L)return 0;const M=t.targets||{},W=Number(M[L]);return isFinite(W)?W:0}function p($){const L=d($);return L>0?(Math.round(L*100)/100).toFixed(2):""}function g($,L){return $-L>=0?"delta pos":"delta neg"}function c($,L){const M=$-L,W=Math.abs(Math.round(M*100)/100).toFixed(2);return(M>=0?"+":"-")+W+"h"}function f($,L){return Math.max(0,Math.min(100,L>0?$/L*100:0)).toFixed(0)+"%"}function u($,L){return Math.max(0,Math.min(100,L>0?$/L*100:0))}function b($){return $==null?"":String($)}function v($){const L=$.summary;if(!L)return`${$.rows.length} calendar${$.rows.length===1?"":"s"}`;const M=t.n2(L.actualHours);return L.targetHours>0?`${M} h / ${t.n2(L.targetHours)} h`:`${M} h`}function A($){const L=$.summary;return!L||L.targetHours<=0?"":`${Math.round(L.percent)}%`}function F($){switch($){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return($,L)=>(x(),T("table",null,[L[1]||(L[1]=l("colgroup",null,[l("col",{class:"col-w-42"}),l("col",{class:"col-w-12"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-18"})],-1)),L[2]||(L[2]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Calendar"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours"),l("th",{class:"num"},"Target"),l("th",{class:"num"}," / %")])],-1)),l("tbody",null,[(x(!0),T(ue,null,je(s.value,M=>(x(),T(ue,{key:M.id},[l("tr",cc,[l("td",uc,[l("div",dc,[l("div",fc,[l("span",{class:"dot",style:At({background:M.color||"var(--brand)"})},null,4),l("span",pc,D(M.label),1)]),M.summary?(x(),T("div",gc,[l("span",hc,D(v(M)),1),A(M)?(x(),T("span",mc,D(A(M)),1)):G("",!0),M.summary.statusLabel?(x(),T("span",{key:1,class:he(["badge",F(M.summary.status)])},D(M.summary.statusLabel),3)):G("",!0)])):(x(),T("div",vc,[l("span",yc,[ve(D(M.rows.length)+" calendar",1),M.rows.length!==1?(x(),T("span",bc,"s")):G("",!0)])]))])])]),(x(!0),T(ue,null,je(M.rows,W=>(x(),T("tr",{key:o(W)},[l("td",null,[l("div",{class:"cell",title:r(W)},[l("div",_c,D(r(W)),1),i(a(W))&&d(a(W))>0?(x(),T("div",kc,[l("div",{class:"progress-bar",style:At({width:u(W.total_hours,d(a(W)))+"%",background:M.color||void 0})},null,4)])):G("",!0)],8,wc)]),l("td",xc,D(W.events_count),1),l("td",Sc,D($.n2(W.total_hours)),1),l("td",Cc,D(p(a(W))),1),l("td",$c,[i(a(W))?(x(),T(ue,{key:0},[l("span",{class:he(g(W.total_hours,d(a(W))))},D(c(W.total_hours,d(a(W)))),3),d(a(W))>0?(x(),T("span",Tc," ("+D(f(W.total_hours,d(a(W))))+")",1)):G("",!0)],64)):(x(),T(ue,{key:1},[ve("")],64))])]))),128)),M.rows.length?G("",!0):(x(),T("tr",Mc,[...L[0]||(L[0]=[l("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),Ut=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},Dc=Ut(Ac,[["__scopeId","data-v-69f095b4"]]),Pc={class:"mono nowrap"},Ic=["href"],Ec={class:"hint"},Nc={class:"num"},Lc={class:"num"},Oc=De({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!n)return"";const a=new Date(`${n[1]}-${n[2]}-${n[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getUTCDay()]||""}return(s,n)=>(x(),T("table",null,[n[0]||(n[0]=l("colgroup",null,[l("col",{class:"col-w-40"}),l("col",{class:"col-w-30"}),l("col",{class:"col-w-30"})],-1)),n[1]||(n[1]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Date"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours")])],-1)),l("tbody",null,[(x(!0),T(ue,null,je(s.rows,a=>(x(),T("tr",{key:a.date},[l("td",Pc,[l("a",{href:s.link(a.date),target:"_blank"},D(a.date),9,Ic),l("span",Ec," ("+D(t(a.date))+")",1)]),l("td",Nc,D(a.events_count),1),l("td",Lc,D(s.n2(a.total_hours)),1)]))),128))])]))}}),Hc=["onClick"],Rc=["title"],Fc={class:"num"},Wc={class:"mono nowrap"},Bc={class:"mono nowrap"},jc={key:0},Uc={colspan:"5",class:"mono cell-details"},Vc={key:0},zc={key:1,class:"hint"},Kc=De({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(x(),T("table",null,[s[1]||(s[1]=l("colgroup",null,[l("col",{class:"col-w-22"}),l("col"),l("col",{class:"col-w-12"}),l("col",{class:"col-w-18"}),l("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=l("thead",null,[l("tr",null,[l("th",null,"Calendar"),l("th",null,"Summary"),l("th",{class:"num"},"Hours"),l("th",{class:"nowrap"},"Start date"),l("th",{class:"nowrap"},"Start time")])],-1)),l("tbody",null,[(x(!0),T(ue,null,je(t.rows,(n,a)=>{var r;return x(),T(ue,{key:a},[l("tr",{onClick:o=>t.$emit("toggle",a),class:"cursor-pointer"},[l("td",null,D(n.calendar),1),l("td",null,[l("span",{class:"cell",title:n.summary},D(n.summary),9,Rc)]),l("td",Fc,D(t.n2(n.duration_h)),1),l("td",Wc,D((n.start||"").split(" ")[0]),1),l("td",Bc,D((r=(n.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,Hc),t.detailsIndex===a?(x(),T("tr",jc,[l("td",Uc,[s[0]||(s[0]=l("div",null,[l("strong",null,"Details")],-1)),n.desc?(x(),T("div",Vc,D(n.desc),1)):(x(),T("div",zc,"No description"))])])):G("",!0)],64)}),128))])]))}}),Gc={class:"card time-summary compact"},qc={class:"time-summary-firstline"},Jc={class:"time-summary-metrics"},Zc={key:0},Yc={key:1},Xc={key:2},Qc={key:3},eu={key:4},tu={key:0,class:"time-summary-row"},su={key:1,class:"time-summary-row"},nu={key:0,class:"share"},au={key:2,class:"time-summary-row calendars"},ru={class:"label"},ou={class:"text"},iu={key:3,class:"time-summary-row top-category"},lu={class:"text"},cu={key:4,class:"time-summary-row"},uu=Ut(De({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,n=K(()=>Object.assign({},t,s.config??{})),a=K(()=>s.mode==="active"?"active days":"all days"),r=K(()=>{if(!n.value.showWeekendShare)return"";const c=s.summary.weekendShare;return c==null?"":`${d(c)}%`}),o=K(()=>{if(!n.value.showTopCategory)return null;const c=s.summary.topCategory;if(!c)return null;const f=p(c.actualHours),u=Number(c.percent??0).toFixed(0),b=c.targetHours>0?` (${u}% of ${p(c.targetHours)} h)`:"";return{text:`${c.label}  ${f} h${b}`,badge:c.statusLabel||"",badgeClass:g(c.status)}}),i=K(()=>{if(!n.value.showBusiest)return"";const c=s.summary.busiest;if(!c||!c.date)return"";const f=Number(c.hours??0);return`Busiest ${c.date}  ${p(f)} h`});function d(c){return Number(c??0).toFixed(1)}function p(c){return Number(c??0).toFixed(2)}function g(c){switch(c){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(c,f)=>(x(),T("div",Gc,[l("div",qc,[l("em",null,"Time Summary  "+D(c.summary.rangeLabel),1)]),l("ul",Jc,[n.value.showTotal?(x(),T("li",Zc,[l("strong",null,D(p(c.summary.totalHours))+" h",1),f[0]||(f[0]=ve(" total",-1))])):G("",!0),n.value.showAverage?(x(),T("li",Yc,D(p(c.summary.avgDay))+" h/day ("+D(a.value)+")",1)):G("",!0),n.value.showAverage?(x(),T("li",Xc,D(p(c.summary.avgEvent))+" h/event",1)):G("",!0),n.value.showMedian?(x(),T("li",Qc,D(p(c.summary.medianDay))+" h median/day",1)):G("",!0),n.value.showBusiest&&i.value?(x(),T("li",eu,D(i.value),1)):G("",!0)]),n.value.showWorkday?(x(),T("div",tu,[f[1]||(f[1]=l("span",{class:"label"},"Workdays",-1)),ve(" "+D(p(c.summary.workdayAvg))+" h avg  "+D(p(c.summary.workdayMedian))+" h median ",1)])):G("",!0),n.value.showWeekend?(x(),T("div",su,[f[2]||(f[2]=l("span",{class:"label"},"Weekend",-1)),ve(" "+D(p(c.summary.weekendAvg))+" h avg  "+D(p(c.summary.weekendMedian))+" h median ",1),n.value.showWeekendShare&&r.value?(x(),T("span",nu,"("+D(r.value)+")",1)):G("",!0)])):G("",!0),n.value.showCalendarSummary?(x(),T("div",au,[l("span",ru,D(c.summary.activeCalendars)+" calendars",1),c.summary.calendarSummary?(x(),T(ue,{key:0},[f[3]||(f[3]=l("span",{class:"sep"},"",-1)),l("span",ou,D(c.summary.calendarSummary),1)],64)):G("",!0)])):G("",!0),n.value.showTopCategory&&o.value?(x(),T("div",iu,[f[4]||(f[4]=l("span",{class:"label"},"Top category",-1)),l("span",lu,D(o.value.text),1),o.value.badge?(x(),T("span",{key:0,class:he(["summary-badge",o.value.badgeClass])},D(o.value.badge),3)):G("",!0)])):G("",!0),n.value.showBalance&&c.summary.balanceIndex!=null?(x(),T("div",cu,[f[5]||(f[5]=l("span",{class:"label"},"Balance",-1)),ve(" "+D(p(c.summary.balanceIndex))+" ",1),f[6]||(f[6]=l("span",{class:"hint"},"(1 = perfekt)",-1))])):G("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),du={class:"card targets-card"},fu={class:"targets-header"},pu={key:0,class:"hint"},gu={class:"targets-main"},hu={class:"line total-line"},mu={class:"value"},vu={key:0,class:"line"},yu={key:1,class:"line"},bu={class:"line forecast"},wu={class:"hint"},_u={key:0,class:"targets-badges"},ku={key:1,class:"targets-categories"},xu={class:"cat-top"},Su={class:"cat-label"},Cu={class:"name"},$u={class:"cat-meta"},Tu={class:"percent"},Mu={class:"cat-progress"},Au={class:"bar"},Du={class:"cat-metrics"},Pu={class:"hint"},Iu={key:1,class:"hint"},Eu={key:0,class:"cat-footer"},Nu={class:"hint"},Lu=Ut(De({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=K(()=>{var c;return((c=t.summary)==null?void 0:c.total)??d("total","Total")}),n=K(()=>{var f;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(u=>({id:u.id,label:u.label,summary:u.summary??d(u.id,u.label),color:u.color,rows:u.rows})):(((f=t.summary)==null?void 0:f.categories)??[]).map(u=>({id:u.id,label:u.label,summary:u,color:void 0,rows:[]}))}),a=K(()=>n.value.map(c=>{const f=c.summary??d(c.id,c.label);return{id:c.id,label:c.label||f.label,actualHours:f.actualHours,targetHours:f.targetHours,percent:f.percent,deltaHours:f.deltaHours,needPerDay:f.needPerDay,daysLeft:f.daysLeft,calendarPercent:f.calendarPercent,gap:f.gap,status:f.status,statusLabel:f.statusLabel,color:c.color,calendarCount:Array.isArray(c.rows)?c.rows.length:0,progress:p(f.percent,0,140),calendarLabel:Array.isArray(c.rows)&&c.rows.length===1?"calendar":"calendars"}}).filter(c=>c.targetHours>0||c.actualHours>0||c.calendarCount>0));function r(c){if(!isFinite(c))return"0";const f=Math.round(c*10)/10;return Math.abs(f-Math.round(f))<.05?String(Math.round(f)):f.toFixed(1)}function o(c){return!isFinite(c)||Math.abs(c)<.005?"0.0":(c>=0?"+":"")+r(Math.abs(c))}function i(c){switch(c){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function d(c,f){return{id:c,label:f,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function p(c,f,u){return!isFinite(c)||c<f?f:c>u?u:c}function g(c){return c==="momentum"?"Momentum":"Linear"}return(c,f)=>(x(),T("div",du,[l("div",fu,[f[0]||(f[0]=l("strong",null,"Targets",-1)),s.value.targetHours>0?(x(),T("span",pu,D(s.value.percent.toFixed(0))+"%",1)):G("",!0)]),l("div",gu,[l("div",hu,[l("span",mu,[l("strong",null,D(r(s.value.actualHours)),1),ve(" / "+D(r(s.value.targetHours))+" h",1)]),c.config.ui.showTotalDelta&&s.value.targetHours>0?(x(),T("span",{key:0,class:he(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+D(o(s.value.deltaHours))+"h ",3)):G("",!0)]),c.config.ui.showNeedPerDay&&s.value.targetHours>0?(x(),T("div",vu," Days left "+D(s.value.daysLeft)+"  Need "+D(r(s.value.needPerDay))+" h/day ",1)):G("",!0),s.value.targetHours>0?(x(),T("div",yu,[ve(" Pace: "+D(s.value.percent.toFixed(0))+"% vs "+D(s.value.calendarPercent.toFixed(0))+"%  ",1),l("span",{class:he(["status-label",i(s.value.status)])},D(s.value.statusLabel),3)])):G("",!0),l("div",bu,[ve(" Forecast: "+D(c.summary.forecast.text)+" ",1),l("span",wu," Linear "+D(r(c.summary.forecast.linear))+"h  Momentum "+D(r(c.summary.forecast.momentum))+"h  Primary: "+D(g(c.summary.forecast.primaryMethod)),1)])]),c.config.ui.badges&&s.value.targetHours>0?(x(),T("div",_u,[l("span",{class:he(["badge",i(s.value.status)])},D(s.value.statusLabel),3)])):G("",!0),c.config.ui.showCategoryBlocks&&a.value.length?(x(),T("div",ku,[(x(!0),T(ue,null,je(a.value,u=>(x(),T("div",{class:"category",key:u.id},[l("div",xu,[l("div",Su,[l("span",{class:"dot",style:At({background:u.color||"var(--brand)"})},null,4),l("span",Cu,D(u.label),1)]),l("div",$u,[l("span",Tu,D(u.percent.toFixed(0))+"%",1),c.config.ui.badges&&u.targetHours>0?(x(),T("span",{key:0,class:he(["badge",i(u.status)])},D(u.statusLabel),3)):G("",!0)])]),l("div",Mu,[l("div",Au,[l("div",{class:"fill",style:At({width:u.progress+"%",background:u.color||"var(--brand)"})},null,4)])]),l("div",Du,[l("strong",null,D(r(u.actualHours))+"h",1),l("span",Pu,"/ "+D(r(u.targetHours))+"h",1),u.targetHours>0?(x(),T("span",{key:0,class:he(["delta",u.deltaHours>=0?"pos":"neg"])},"  "+D(o(u.deltaHours))+"h ",3)):G("",!0),c.config.ui.showNeedPerDay&&u.targetHours>0?(x(),T("span",Iu," Need "+D(r(u.needPerDay))+"h/day  "+D(u.daysLeft)+" days left ",1)):G("",!0)]),u.calendarCount>0?(x(),T("div",Eu,[l("span",Nu,D(u.calendarCount)+" "+D(u.calendarLabel),1)])):G("",!0)]))),128))])):G("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]),Ou={class:"card activity-card"},Hu={class:"activity-card__header"},Ru={key:0,class:"pill"},Fu={key:0,class:"activity-card__hero"},Wu={key:1,class:"activity-card__subline"},Bu={key:2,class:"activity-card__meta"},ju={key:3,class:"activity-card__extra"},Uu={key:4,class:"activity-card__hint"},Vu=Ut(De({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t={showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0},s=e,n=K(()=>Object.assign({},t,s.config??{})),a=K(()=>{const f=[];f.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&f.push(`Active Days ${s.summary.activeDays}`);const u=d(s.summary.typicalStart,s.summary.typicalEnd);return u&&f.push(`Typical ${u}`),f.join("  ")}),r=K(()=>{const f=[];return n.value.showWeekendShare&&s.summary.weekendShare!=null&&f.push(`Weekend ${p(s.summary.weekendShare)}`),n.value.showEveningShare&&s.summary.eveningShare!=null&&f.push(`Evening ${p(s.summary.eveningShare)}`),f.join("  ")}),o=K(()=>{const f=[];if(n.value.showEarliestLatest){const u=g(s.summary.earliestStart),b=g(s.summary.latestEnd);(u||b)&&f.push({label:"Earliest/Late",value:`${u||""} / ${b||""}`})}return n.value.showOverlaps&&s.summary.overlapEvents!=null&&f.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),f}),i=K(()=>{const f=[];return n.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&f.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),n.value.showLastDayOff&&s.summary.lastDayOff&&f.push({label:"Last day off",value:c(s.summary.lastDayOff)}),n.value.showLastDayOff&&s.summary.lastHalfDayOff&&f.push({label:"Last half day",value:c(s.summary.lastHalfDayOff)}),f});function d(f,u){return f&&u?`${f}${u}`:f?`${f}`:u?`${u}`:""}function p(f){return`${Number(f||0).toFixed(1)}%`}function g(f){return f?f.length>=16?f.slice(11,16):f.length>=5?f.slice(0,5):null:null}function c(f){const u=f.trim();if(!u)return"";if(u.split("-").length>=2){const v=new Date(u.length===10?`${u}T00:00:00`:u);if(!Number.isNaN(v.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(v)}return u}return(f,u)=>(x(),T("div",Ou,[l("div",Hu,[l("span",null,"Activity & Schedule ("+D(f.rangeLabel)+")",1),f.summary.rangeLabel?(x(),T("span",Ru,D(f.summary.rangeLabel),1)):G("",!0)]),a.value?(x(),T("div",Fu,[l("span",null,D(a.value),1)])):G("",!0),r.value?(x(),T("div",Wu,[l("span",null,D(r.value),1)])):G("",!0),o.value.length?(x(),T("div",Bu,[(x(!0),T(ue,null,je(o.value,b=>(x(),T("span",{key:b.label},[l("strong",null,D(b.label),1),ve(" "+D(b.value),1)]))),128))])):G("",!0),i.value.length?(x(),T("div",ju,[(x(!0),T(ue,null,je(i.value,b=>(x(),T("span",{key:b.label},[l("strong",null,D(b.label),1),ve(" "+D(b.value),1)]))),128))])):G("",!0),n.value.showHint&&f.categoryHint?(x(),T("div",Uu,D(f.categoryHint),1)):G("",!0)]))}}),[["__scopeId","data-v-1ab0985e"]]),zu={class:"card balance-card"},Ku={class:"balance-card__header"},Gu={key:0,class:"balance-card__hero"},qu={key:1,class:"balance-card__relations"},Ju={key:2,class:"balance-card__trend"},Zu={key:3,class:"balance-card__insights"},Yu={key:4,class:"balance-card__warnings"},Xu=Ut(De({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,n=K(()=>Object.assign({},t,s.config??{})),a=K(()=>{if(!s.overview)return"";const p=s.overview.index??0,g=s.overview.categories.filter(f=>f.share>.1).slice(0,4).map(f=>`${f.label} ${f.share.toFixed(0)}%`),c=g.length?`  ${g.join(" | ")}`:"";return`Balance Index ${p.toFixed(2)}${c}`}),r=K(()=>{var p;return!s.overview||!((p=s.overview.relations)!=null&&p.length)?"":s.overview.relations.map(g=>`${g.label} ${g.value}`).join("  ")}),o=K(()=>{var g;if(!s.overview)return"";const p=((g=s.overview.trend)==null?void 0:g.delta)??[];return p.length?p.map(c=>{const f=c.delta>0?"+":c.delta<0?"":"";return`${c.label} ${f}${Math.abs(c.delta).toFixed(1)} pp`}).join(", "):""}),i=K(()=>{var p;return n.value.showInsights?((p=s.overview)==null?void 0:p.insights)??[]:[]}),d=K(()=>{var p;return((p=s.overview)==null?void 0:p.warnings)??[]});return(p,g)=>(x(),T("div",zu,[l("div",Ku,[l("span",null,"Balance Overview ("+D(p.rangeLabel)+")",1)]),a.value?(x(),T("div",Gu,[l("span",null,D(a.value),1)])):G("",!0),r.value?(x(),T("div",qu,D(r.value),1)):G("",!0),o.value?(x(),T("div",Ju,[g[0]||(g[0]=l("strong",null,"WoW-:",-1)),ve(" "+D(o.value),1)])):G("",!0),i.value.length?(x(),T("ul",Zu,[(x(!0),T(ue,null,je(i.value,c=>(x(),T("li",{key:c}," "+D(c),1))),128))])):G("",!0),d.value.length?(x(),T("ul",Yu,[(x(!0),T(ue,null,je(d.value,c=>(x(),T("li",{key:c}," "+D(c),1))),128))])):G("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]);function Qu(e){const t=e?ht(e):yn(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(n=>({...s,id:n.id,label:n.label,targetHours:n.targetHours,remainingHours:n.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function aa(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function vn(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0}}const ra=24*60*60*1e3;function ed(e){const t=Number(e);if(!Number.isFinite(t))return 0;const s=Math.min(1e4,Math.max(0,t));return Number(s.toFixed(2))}function oa(e){return ed(Number(e)*4)}function yn(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:vn(),balance:aa(),includeZeroDaysInStats:!1}}function ia(e){return JSON.parse(JSON.stringify(ht(e)))}function td(e){const t=ht(e.config),s=ho(e.from),n=ho(e.to),a=ud(e.byDay),r=(e.byCal||[]).reduce((c,f)=>{const u=Number((f==null?void 0:f.total_hours)??(f==null?void 0:f.hours)??0);return Number.isFinite(u)?c+u:c},0),o=t.totalHours||0,i=go({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a}),d=po({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),p=t.categories.map(c=>{const f=rd(c,e.byCal,e.groupsById),u=c.paceMode||t.pace.mode,b=go({includeWeekend:c.includeWeekend,mode:u,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a});return po({id:c.id,label:c.label,actual:f,target:c.targetHours,pace:b,thresholds:t.pace.thresholds,includeWeekend:c.includeWeekend,paceMode:u})}),g=ld({config:t,totalProgress:d,dailyHours:a,pace:i});return{total:d,categories:p,forecast:g}}function ht(e){var o,i,d,p,g,c,f,u,b,v,A,F,$,L,M,W,ee,re,te,me,q,_e,Pe,xe,Be;if(typeof e=="string")try{const z=JSON.parse(e);return ht(z)}catch{return ht(void 0)}const t=yn(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const n=s.categories.map(z=>{const le=(z!=null&&z.id&&typeof z.id=="string"?z.id:"")||pd(String((z==null?void 0:z.label)??"cat")),Q=typeof(z==null?void 0:z.label)=="string"&&z.label.trim()!==""?z.label.trim():sd(le),Y=Ot(z==null?void 0:z.targetHours,0,1e4),ae=!!(z!=null&&z.includeWeekend),ye=(z==null?void 0:z.paceMode)==="time_aware"?"time_aware":"days_only",$e=Array.isArray(z==null?void 0:z.groupIds)?z.groupIds.map(de=>Number(de)).filter(de=>Number.isFinite(de)&&de>=0&&de<=9):[];return{id:le,label:Q,targetHours:Y,includeWeekend:ae,paceMode:ye,groupIds:$e}}),a=n.length?n:t.categories;return{totalHours:Ot(s.totalHours,0,1e4),categories:a,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Ot(((p=(d=s.pace)==null?void 0:d.thresholds)==null?void 0:p.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Ot(((c=(g=s.pace)==null?void 0:g.thresholds)==null?void 0:c.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((f=s.forecast)==null?void 0:f.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var le;const z=Math.round(((le=s.forecast)==null?void 0:le.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(z)?z:t.forecast.momentumLastNDays))})(),padding:Ot(((u=s.forecast)==null?void 0:u.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((b=s.ui)==null?void 0:b.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((v=s.ui)==null?void 0:v.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((A=s.ui)==null?void 0:A.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((F=s.ui)==null?void 0:F.badges)??t.ui.badges),includeWeekendToggle:!!((($=s.ui)==null?void 0:$.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((L=s.ui)==null?void 0:L.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((M=s.ui)==null?void 0:M.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Ot(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((W=s.timeSummary)==null?void 0:W.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((ee=s.timeSummary)==null?void 0:ee.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((re=s.timeSummary)==null?void 0:re.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((te=s.timeSummary)==null?void 0:te.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((me=s.timeSummary)==null?void 0:me.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((q=s.timeSummary)==null?void 0:q.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((_e=s.timeSummary)==null?void 0:_e.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((Pe=s.timeSummary)==null?void 0:Pe.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((xe=s.timeSummary)==null?void 0:xe.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((Be=s.timeSummary)==null?void 0:Be.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:nd(s.activityCard,t.activityCard),balance:ad(s.balance,a,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function sd(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Ot(e,t,s){const n=Number(e);return Number.isFinite(n)?Math.min(s,Math.max(t,Math.round(n*100)/100)):t}function la(e,t,s){const n=Number(e);if(!Number.isFinite(n))return t;const a=Math.round(n);return a<t?t:a>s?s:a}function nd(e,t){const s={...t};return!e||typeof e!="object"||Object.keys(t).forEach(n=>{Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=!!e[n])}),s}function ad(e,t,s){var p,g,c,f;const n=t.map(u=>u.id),a=new Set([...n,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const u of r){const b=typeof u=="string"?u.trim():String(u??"").trim();b&&(a.size&&!a.has(b)||o.includes(b)||o.push(b))}o.length||(n.length?o.push(...n.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},d=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((p=e==null?void 0:e.index)==null?void 0:p.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Ot(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Ot(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Ot(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((g=e==null?void 0:e.relations)==null?void 0:g.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:la(((c=e==null?void 0:e.trend)==null?void 0:c.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((f=e==null?void 0:e.dayparts)==null?void 0:f.enabled)??s.dayparts.enabled)},ui:{roundPercent:la(d.roundPercent??s.ui.roundPercent,0,3),roundRatio:la(d.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(d.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(d.showInsights??s.ui.showInsights)}}}function rd(e,t,s){if(!Array.isArray(t))return 0;const n=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let a=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),d=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);n&&!n.has(d)||(a+=o)}return a}function po(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),n=t>0?ca(s/t*100):0,a=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,a)/e.pace.daysLeft:0,i=n-e.pace.calendarPercent,d=od({percent:n,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:at(s),targetHours:at(t),percent:n,deltaHours:at(r),remainingHours:at(Math.max(0,a)),needPerDay:at(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:ca(e.pace.calendarPercent),gap:at(i),status:d,statusLabel:id(d),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function od(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function id(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function go(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const n=bn(new Date),a=Vt(t),r=Vt(s),o=dd(t,s).filter(c=>e.includeWeekend||!fd(c)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Vt(n)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Vt(n)<a)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let d=0;for(const c of o){const f=Vt(c),u=e.dailyHours.get(f)??0;if(!(!e.includeZeroDays&&u<=0&&f!==Vt(n))){if(f<Vt(n))d+=1;else if(f===Vt(n))if(e.mode==="time_aware"){const v=Math.min(new Date().getTime(),c.getTime()+ra)-c.getTime(),A=Math.max(0,Math.min(1,v/ra));(e.includeZeroDays||u>0||A>0)&&(d+=A)}else(e.includeZeroDays||u>0)&&(d+=1)}}const p=ca(d/i*100),g=Math.max(0,i-d);return{totalEligible:i,elapsedEligible:d,daysLeft:g,calendarPercent:p}}function ld(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,n=Math.max(0,Math.ceil(e.pace.daysLeft)),a=cd(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+a*n,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,d=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",p=d==="momentum"?r:s,g=Math.max(0,p-e.config.forecast.padding),c=Math.max(0,p+e.config.forecast.padding),f=d==="momentum"?"Momentum":"Linear";return{linear:at(s),momentum:at(r),low:at(Math.max(0,o)),high:at(Math.max(0,i)),text:`${f} ${ua(e.config.forecast.padding)}h  ${ua(g)}${ua(c)} h`,primaryMethod:d,primary:at(p),bandLow:at(g),bandHigh:at(c)}}function cd(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const n=s.slice(-t),a=n.reduce((r,[,o])=>r+Math.max(0,o||0),0);return n.length?a/n.length:0}function ud(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const n=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!n)continue;const a=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(a)&&t.set(n,a)}return t}function dd(e,t){const s=[];let n=bn(e);const a=bn(t).getTime();for(;n.getTime()<=a;)s.push(new Date(n)),n=new Date(n.getTime()+ra);return s}function ho(e){if(!e)return null;const t=e.split("-").map(n=>Number(n));if(t.length!==3||t.some(n=>!Number.isInteger(n)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:bn(s)}function bn(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Vt(e){return e.toISOString().slice(0,10)}function fd(e){const t=e.getUTCDay();return t===0||t===6}function ca(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function at(e){return isFinite(e)?Number(e.toFixed(2)):0}function ua(e){if(!isFinite(e))return"0";const t=at(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function pd(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const gd={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},hd={class:"sb-actions"},md={class:"sb-list"},vd=["aria-pressed","onClick"],yd={class:"cal-name"},bd={class:"cal-fields"},wd={class:"field"},_d=["value","onChange"],kd=["value"],xd={class:"field"},Sd=["value","title","aria-invalid","onInput"],Cd=De({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:n,range:a,isLoading:r,categoryOptions:o,calendarTargetMessages:i,calendarCategoryId:d,getTarget:p}=t;return(g,c)=>(x(),T("div",gd,[l("div",hd,[ie(k(dt),{type:"tertiary",disabled:k(r),onClick:c[0]||(c[0]=f=>g.$emit("select-all",!0))},{default:He(()=>[...c[2]||(c[2]=[ve("All",-1)])]),_:1},8,["disabled"]),ie(k(dt),{type:"tertiary",disabled:k(r),onClick:c[1]||(c[1]=f=>g.$emit("select-all",!1))},{default:He(()=>[...c[3]||(c[3]=[ve("None",-1)])]),_:1},8,["disabled"])]),c[8]||(c[8]=hl('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),l("div",md,[(x(!0),T(ue,null,je(k(s),f=>{var u,b;return x(),T("div",{key:f.id,class:"cal-card"},[l("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":k(n).includes(f.id),onClick:v=>g.$emit("toggle-calendar",f.id)},[l("span",{class:"color-dot",style:At({background:f.color||"var(--brand)"})},null,4),l("span",yd,D(f.displayname||f.id),1),l("span",{class:he(["cal-state",{on:k(n).includes(f.id)}])},D(k(n).includes(f.id)?"Selected":"Hidden"),3)],8,vd),l("div",bd,[l("label",wd,[c[5]||(c[5]=l("span",{class:"label"},"Category",-1)),l("select",{value:k(d)(f.id),onChange:v=>g.$emit("set-category",{id:f.id,category:v.target.value})},[c[4]||(c[4]=l("option",{value:""},"Unassigned",-1)),(x(!0),T(ue,null,je(k(o),v=>(x(),T("option",{key:v.id,value:v.id},D(v.label),9,kd))),128))],40,_d)]),l("label",xd,[c[6]||(c[6]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:k(p)(f.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${k(a)==="week"?"week":"month"}) in hours`,"aria-invalid":!!k(i)[f.id],class:"target-input",onInput:v=>g.$emit("target-input",{id:f.id,value:v.target.value})},null,40,Sd),k(i)[f.id]?(x(),T("div",{key:0,class:he(["input-message",(u=k(i)[f.id])==null?void 0:u.tone])},D((b=k(i)[f.id])==null?void 0:b.text),3)):G("",!0)])])])}),128)),c[7]||(c[7]=l("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),$d={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},Td={class:"target-config"},Md={class:"field"},Ad=["value","aria-invalid"],Dd={class:"field"},Pd=["value","aria-invalid"],Id={class:"preset-buttons"},Ed={class:"cat-header"},Nd=["value","onInput"],Ld=["disabled","onClick"],Od={class:"cat-fields"},Hd={class:"field"},Rd=["value","aria-invalid","onInput"],Fd={class:"field"},Wd=["value","onChange"],Bd={class:"field checkbox"},jd=["checked","onChange"],Ud={class:"target-section"},Vd={class:"field checkbox"},zd=["checked"],Kd={class:"field"},Gd=["value"],qd={class:"field"},Jd=["value","aria-invalid"],Zd={class:"field"},Yd=["value","aria-invalid"],Xd={class:"target-section"},Qd={class:"field"},ef=["value"],tf={class:"field"},sf=["value","aria-invalid"],nf={class:"field"},af=["value","aria-invalid"],rf={class:"target-section"},of={class:"field checkbox"},lf=["checked"],cf={class:"field checkbox"},uf=["checked"],df={class:"field checkbox"},ff=["checked"],pf={class:"field checkbox"},gf=["checked"],hf={class:"field checkbox"},mf=["checked"],vf={class:"field checkbox"},yf=["checked"],bf={class:"field checkbox"},wf=["checked"],_f={class:"field checkbox"},kf=["checked"],xf=De({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days"],setup(e){return(t,s)=>{var n,a,r,o,i,d,p,g,c,f,u,b;return x(),T("div",$d,[s[49]||(s[49]=l("div",{class:"sb-title"},"Target Settings",-1)),l("div",Td,[l("div",Md,[s[20]||(s[20]=l("span",{class:"label"},"Total target (h)",-1)),l("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[0]||(s[0]=v=>t.$emit("total-target-input",v.target.value))},null,40,Ad),t.totalTargetMessage?(x(),T("div",{key:0,class:he(["input-message",(n=t.totalTargetMessage)==null?void 0:n.tone])},D((a=t.totalTargetMessage)==null?void 0:a.text),3)):G("",!0)]),l("div",Dd,[s[21]||(s[21]=l("span",{class:"label"},"All-day event (h per day)",-1)),l("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[1]||(s[1]=v=>t.$emit("set-all-day-hours",v.target.value))},null,40,Pd),t.allDayHoursMessage?(x(),T("div",{key:0,class:he(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},D((o=t.allDayHoursMessage)==null?void 0:o.text),3)):G("",!0)]),l("div",Id,[ie(k(dt),{type:"tertiary",onClick:s[2]||(s[2]=v=>t.$emit("apply-preset","work-week"))},{default:He(()=>[...s[22]||(s[22]=[ve("Preset: Work-Week",-1)])]),_:1}),ie(k(dt),{type:"tertiary",onClick:s[3]||(s[3]=v=>t.$emit("apply-preset","balanced-life"))},{default:He(()=>[...s[23]||(s[23]=[ve("Preset: Balanced-Life",-1)])]),_:1})]),(x(!0),T(ue,null,je(t.categoryOptions,v=>{var A,F;return x(),T("div",{class:"target-category",key:v.id},[l("div",Ed,[l("input",{class:"cat-name",type:"text",value:v.label,placeholder:"Category name",onInput:$=>t.$emit("set-category-label",{id:v.id,label:$.target.value})},null,40,Nd),l("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:$=>t.$emit("remove-category",v.id)},"  ",8,Ld)]),l("div",Od,[l("label",Hd,[s[24]||(s[24]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:v.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[v.id],onInput:$=>t.$emit("set-category-target",{id:v.id,value:$.target.value})},null,40,Rd),t.categoryTargetMessages[v.id]?(x(),T("div",{key:0,class:he(["input-message",(A=t.categoryTargetMessages[v.id])==null?void 0:A.tone])},D((F=t.categoryTargetMessages[v.id])==null?void 0:F.text),3)):G("",!0)]),l("label",Fd,[s[26]||(s[26]=l("span",{class:"label"},"Pace mode",-1)),l("select",{value:v.paceMode||t.targets.pace.mode,onChange:$=>t.$emit("set-category-pace",{id:v.id,mode:$.target.value})},[...s[25]||(s[25]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,Wd)]),l("label",Bd,[l("input",{type:"checkbox",checked:v.includeWeekend,onChange:$=>t.$emit("set-category-weekend",{id:v.id,value:$.target.checked})},null,40,jd),s[27]||(s[27]=l("span",null,"Weekend",-1))])])])}),128)),ie(k(dt),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[4]||(s[4]=v=>t.$emit("add-category"))},{default:He(()=>[...s[28]||(s[28]=[ve(" Add category ",-1)])]),_:1},8,["disabled"]),l("div",Ud,[s[34]||(s[34]=l("div",{class:"section-title"},"Pace",-1)),l("label",Vd,[l("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[5]||(s[5]=v=>t.$emit("set-include-weekend-total",v.target.checked))},null,40,zd),s[29]||(s[29]=l("span",null,"Count weekend in total pace",-1))]),l("label",Kd,[s[31]||(s[31]=l("span",{class:"label"},"Mode",-1)),l("select",{value:t.targets.pace.mode,onChange:s[6]||(s[6]=v=>t.$emit("set-pace-mode",v.target.value))},[...s[30]||(s[30]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,Gd)]),l("label",qd,[s[32]||(s[32]=l("span",{class:"label"},"On track  gap (%)",-1)),l("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[7]||(s[7]=v=>t.$emit("set-threshold",{key:"onTrack",value:v.target.value}))},null,40,Jd),t.paceThresholdMessages.onTrack?(x(),T("div",{key:0,class:he(["input-message",(i=t.paceThresholdMessages.onTrack)==null?void 0:i.tone])},D((d=t.paceThresholdMessages.onTrack)==null?void 0:d.text),3)):G("",!0)]),l("label",Zd,[s[33]||(s[33]=l("span",{class:"label"},"At risk  gap (%)",-1)),l("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[8]||(s[8]=v=>t.$emit("set-threshold",{key:"atRisk",value:v.target.value}))},null,40,Yd),t.paceThresholdMessages.atRisk?(x(),T("div",{key:0,class:he(["input-message",(p=t.paceThresholdMessages.atRisk)==null?void 0:p.tone])},D((g=t.paceThresholdMessages.atRisk)==null?void 0:g.text),3)):G("",!0)])]),l("div",Xd,[s[39]||(s[39]=l("div",{class:"section-title"},"Forecast",-1)),l("label",Qd,[s[36]||(s[36]=l("span",{class:"label"},"Primary method",-1)),l("select",{value:t.targets.forecast.methodPrimary,onChange:s[9]||(s[9]=v=>t.$emit("set-forecast-method",v.target.value))},[...s[35]||(s[35]=[l("option",{value:"linear"},"Linear",-1),l("option",{value:"momentum"},"Momentum",-1)])],40,ef)]),l("label",tf,[s[37]||(s[37]=l("span",{class:"label"},"Momentum window (days)",-1)),l("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[10]||(s[10]=v=>t.$emit("set-forecast-momentum",v.target.value))},null,40,sf),t.forecastMomentumMessage?(x(),T("div",{key:0,class:he(["input-message",(c=t.forecastMomentumMessage)==null?void 0:c.tone])},D((f=t.forecastMomentumMessage)==null?void 0:f.text),3)):G("",!0)]),l("label",nf,[s[38]||(s[38]=l("span",{class:"label"},"Padding (h)",-1)),l("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[11]||(s[11]=v=>t.$emit("set-forecast-padding",v.target.value))},null,40,af),t.forecastPaddingMessage?(x(),T("div",{key:0,class:he(["input-message",(u=t.forecastPaddingMessage)==null?void 0:u.tone])},D((b=t.forecastPaddingMessage)==null?void 0:b.text),3)):G("",!0)])]),l("div",rf,[s[48]||(s[48]=l("div",{class:"section-title"},"Display",-1)),l("label",of,[l("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[12]||(s[12]=v=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:v.target.checked}))},null,40,lf),s[40]||(s[40]=l("span",null,"Show calendar charts",-1))]),l("label",cf,[l("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[13]||(s[13]=v=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:v.target.checked}))},null,40,uf),s[41]||(s[41]=l("span",null,"Show category charts",-1))]),l("label",df,[l("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[14]||(s[14]=v=>t.$emit("set-ui-option",{key:"showTotalDelta",value:v.target.checked}))},null,40,ff),s[42]||(s[42]=l("span",null,"Show total delta",-1))]),l("label",pf,[l("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[15]||(s[15]=v=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:v.target.checked}))},null,40,gf),s[43]||(s[43]=l("span",null,"Show need per day",-1))]),l("label",hf,[l("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[16]||(s[16]=v=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:v.target.checked}))},null,40,mf),s[44]||(s[44]=l("span",null,"Show categories",-1))]),l("label",vf,[l("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[17]||(s[17]=v=>t.$emit("set-ui-option",{key:"badges",value:v.target.checked}))},null,40,yf),s[45]||(s[45]=l("span",null,"Status badges",-1))]),l("label",bf,[l("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[18]||(s[18]=v=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:v.target.checked}))},null,40,wf),s[46]||(s[46]=l("span",null,"Weekend toggle",-1))]),l("label",_f,[l("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[19]||(s[19]=v=>t.$emit("set-include-zero-days",v.target.checked))},null,40,kf),s[47]||(s[47]=l("span",null,"Include zero days in pace",-1))])])])])}}}),Sf={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},Cf={class:"target-config"},$f={class:"field"},Tf={class:"summary-mode-toggle"},Mf={class:"target-section"},Af=["checked","onChange"],Df=De({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,n=t,a={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=K(()=>({...a,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,d)=>(x(),T("div",Sf,[d[6]||(d[6]=l("div",{class:"sb-title"},"Time Summary",-1)),l("div",Cf,[l("div",$f,[d[4]||(d[4]=l("span",{class:"label"},"Average mode",-1)),l("div",Tf,[ie(k(mn),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":d[0]||(d[0]=p=>{p&&n("update:activeMode","active")})},{default:He(()=>[...d[2]||(d[2]=[ve(" Active days ",-1)])]),_:1},8,["checked"]),ie(k(mn),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":d[1]||(d[1]=p=>{p&&n("update:activeMode","all")})},{default:He(()=>[...d[3]||(d[3]=[ve(" All days ",-1)])]),_:1},8,["checked"])])]),l("div",Mf,[d[5]||(d[5]=l("div",{class:"section-title"},"Display",-1)),(x(),T(ue,null,je(o,p=>l("label",{key:p.key,class:"field checkbox"},[l("input",{type:"checkbox",checked:r.value[p.key],onChange:g=>n("toggle-option",{key:p.key,value:g.target.checked})},null,40,Af),l("span",null,D(p.label),1)])),64))])])]))}}),Pf={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},If={class:"section-title-row"},Ef=["aria-expanded"],Nf={key:0,class:"section-hint"},Lf={class:"target-section toggle-grid"},Of=["checked","onChange"],Hf=De({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option"],setup(e,{emit:t}){const s=e,n=t,{activitySettings:a,activityToggles:r,helpOpen:o}=Qa(s);return(i,d)=>(x(),T("div",Pf,[l("div",If,[d[2]||(d[2]=l("div",{class:"section-title"},"Activity & Schedule",-1)),l("button",{type:"button",class:"info-button","aria-expanded":k(o),"aria-label":"Activity & Schedule help",onClick:d[0]||(d[0]=p=>n("toggle-help"))},[...d[1]||(d[1]=[l("span",null,"?",-1)])],8,Ef)]),k(o)?(x(),T("p",Nf,"Choose which metrics appear on the Activity & Schedule card.")):G("",!0),l("div",Lf,[(x(!0),T(ue,null,je(k(r),([p,g])=>(x(),T("label",{key:p,class:"field checkbox toggle-field"},[l("input",{type:"checkbox",checked:k(a)[p],onChange:c=>n("toggle-option",{key:p,value:c.target.checked})},null,40,Of),l("span",null,D(g),1)]))),128))])]))}}),Rf={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},Ff={class:"section-title-row"},Wf=["aria-expanded"],Bf={class:"target-section"},jf={class:"section-title-row"},Uf=["aria-expanded"],Vf={key:0,class:"section-hint"},zf={class:"field-grid"},Kf={class:"field"},Gf=["value","aria-invalid"],qf={class:"field"},Jf=["value","aria-invalid"],Zf={class:"field"},Yf=["value","aria-invalid"],Xf={class:"target-section"},Qf={class:"section-title-row"},ep=["aria-expanded"],tp={key:0,class:"section-hint"},sp={class:"field-grid"},np={class:"field"},ap=["value"],rp={class:"field"},op=["value","aria-invalid"],ip={class:"target-section"},lp={class:"section-title-row"},cp=["aria-expanded"],up={key:0,class:"section-hint"},dp={class:"toggle-grid"},fp={class:"field checkbox toggle-field"},pp=["checked"],gp={class:"field checkbox toggle-field"},hp=["checked"],mp={class:"field checkbox toggle-field"},vp=["checked"],yp={class:"field-grid mt-8"},bp={class:"field"},wp=["value","aria-invalid"],_p=["value"],kp={class:"field"},xp=["value","aria-invalid"],Sp=["value"],Cp=De({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,n=t,{balanceSettings:a,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:d,helpThresholds:p,helpTrend:g,helpDisplay:c}=Qa(s);return(f,u)=>{var b,v,A,F,$,L,M,W,ee,re,te,me;return x(),T("div",Rf,[l("div",Ff,[u[15]||(u[15]=l("div",{class:"section-title subtitle"},"Balance Overview",-1)),l("button",{type:"button",class:"info-button","aria-expanded":k(p)||k(g)||k(c),"aria-label":"Balance Overview help",onClick:u[0]||(u[0]=q=>n("toggle-help","all"))},[...u[14]||(u[14]=[l("span",null,"?",-1)])],8,Wf)]),l("div",Bf,[l("div",jf,[u[17]||(u[17]=l("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),l("button",{type:"button",class:"info-button","aria-expanded":k(p),"aria-label":"Thresholds help",onClick:u[1]||(u[1]=q=>n("toggle-help","thresholds"))},[...u[16]||(u[16]=[l("span",null,"?",-1)])],8,Uf)]),k(p)?(x(),T("p",Vf,"Set the share/index limits that trigger balance warnings.")):G("",!0),l("div",zf,[l("label",Kf,[u[18]||(u[18]=l("span",{class:"label"},"Notice max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(a).thresholds.noticeMaxShare,"aria-invalid":!!k(r).noticeMaxShare,onInput:u[2]||(u[2]=q=>n("set-threshold",{key:"noticeMaxShare",value:q.target.value}))},null,40,Gf),k(r).noticeMaxShare?(x(),T("div",{key:0,class:he(["input-message",(b=k(r).noticeMaxShare)==null?void 0:b.tone])},D((v=k(r).noticeMaxShare)==null?void 0:v.text),3)):G("",!0)]),l("label",qf,[u[19]||(u[19]=l("span",{class:"label"},"Warn max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(a).thresholds.warnMaxShare,"aria-invalid":!!k(r).warnMaxShare,onInput:u[3]||(u[3]=q=>n("set-threshold",{key:"warnMaxShare",value:q.target.value}))},null,40,Jf),k(r).warnMaxShare?(x(),T("div",{key:0,class:he(["input-message",(A=k(r).warnMaxShare)==null?void 0:A.tone])},D((F=k(r).warnMaxShare)==null?void 0:F.text),3)):G("",!0)]),l("label",Zf,[u[20]||(u[20]=l("span",{class:"label"},"Warn index",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(a).thresholds.warnIndex,"aria-invalid":!!k(r).warnIndex,onInput:u[4]||(u[4]=q=>n("set-threshold",{key:"warnIndex",value:q.target.value}))},null,40,Yf),k(r).warnIndex?(x(),T("div",{key:0,class:he(["input-message",($=k(r).warnIndex)==null?void 0:$.tone])},D((L=k(r).warnIndex)==null?void 0:L.text),3)):G("",!0)])])]),l("div",Xf,[l("div",Qf,[u[22]||(u[22]=l("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),l("button",{type:"button",class:"info-button","aria-expanded":k(g),"aria-label":"Trend help",onClick:u[5]||(u[5]=q=>n("toggle-help","trend"))},[...u[21]||(u[21]=[l("span",null,"?",-1)])],8,ep)]),k(g)?(x(),T("p",tp,"Control the comparison window and how ratios are expressed.")):G("",!0),l("div",sp,[l("label",np,[u[24]||(u[24]=l("span",{class:"label"},"Relation display",-1)),l("select",{value:k(a).relations.displayMode,onChange:u[6]||(u[6]=q=>n("set-relation",q.target.value))},[...u[23]||(u[23]=[l("option",{value:"ratio"},"Ratio (A : B)",-1),l("option",{value:"factor"},"Factor (A)",-1)])],40,ap)]),l("label",rp,[u[25]||(u[25]=l("span",{class:"label"},"Trend lookback (weeks)",-1)),l("input",{type:"number",min:"1",max:"12",step:"1",value:k(a).trend.lookbackWeeks,"aria-invalid":!!k(o),onInput:u[7]||(u[7]=q=>n("set-lookback",q.target.value))},null,40,op),k(o)?(x(),T("div",{key:0,class:he(["input-message",(M=k(o))==null?void 0:M.tone])},D((W=k(o))==null?void 0:W.text),3)):G("",!0)])])]),l("div",ip,[l("div",lp,[u[27]||(u[27]=l("div",{class:"section-subtitle subtitle"},"Display",-1)),l("button",{type:"button",class:"info-button","aria-expanded":k(c),"aria-label":"Display help",onClick:u[8]||(u[8]=q=>n("toggle-help","display"))},[...u[26]||(u[26]=[l("span",null,"?",-1)])],8,cp)]),k(c)?(x(),T("p",up,"Toggle optional insights and adjust rounding for the card values.")):G("",!0),l("div",dp,[l("label",fp,[l("input",{type:"checkbox",checked:k(a).ui.showInsights,onChange:u[9]||(u[9]=q=>n("set-ui-toggle",{key:"showInsights",value:q.target.checked}))},null,40,pp),u[28]||(u[28]=l("span",null,"Insights",-1))]),l("label",gp,[l("input",{type:"checkbox",checked:k(a).ui.showDailyStacks,onChange:u[10]||(u[10]=q=>n("set-ui-toggle",{key:"showDailyStacks",value:q.target.checked}))},null,40,hp),u[29]||(u[29]=l("span",null,"Daily mix (experimental)",-1))]),l("label",mp,[l("input",{type:"checkbox",checked:k(a).dayparts.enabled,onChange:u[11]||(u[11]=q=>n("set-ui-toggle",{key:"dayparts",value:q.target.checked}))},null,40,vp),u[30]||(u[30]=l("span",null,"Dayparts",-1))])]),l("div",yp,[l("label",bp,[u[31]||(u[31]=l("span",{class:"label"},"Percent precision",-1)),l("select",{value:k(a).ui.roundPercent,"aria-invalid":!!k(i).roundPercent,onChange:u[12]||(u[12]=q=>n("set-ui-precision",{key:"roundPercent",value:q.target.value}))},[(x(!0),T(ue,null,je(k(d),q=>(x(),T("option",{key:`round-percent-${q}`,value:q},D(q),9,_p))),128))],40,wp),k(i).roundPercent?(x(),T("div",{key:0,class:he(["input-message",(ee=k(i).roundPercent)==null?void 0:ee.tone])},D((re=k(i).roundPercent)==null?void 0:re.text),3)):G("",!0)]),l("label",kp,[u[32]||(u[32]=l("span",{class:"label"},"Ratio precision",-1)),l("select",{value:k(a).ui.roundRatio,"aria-invalid":!!k(i).roundRatio,onChange:u[13]||(u[13]=q=>n("set-ui-precision",{key:"roundRatio",value:q.target.value}))},[(x(!0),T(ue,null,je(k(d),q=>(x(),T("option",{key:`round-ratio-${q}`,value:q},D(q),9,Sp))),128))],40,xp),k(i).roundRatio?(x(),T("div",{key:0,class:he(["input-message",(te=k(i).roundRatio)==null?void 0:te.tone])},D((me=k(i).roundRatio)==null?void 0:me.text),3)):G("",!0)])])])])}}}),$p={class:"notes-section"},Tp=["title"],Mp=["value"],Ap=["title"],Dp=["value"],Pp={class:"notes-actions"},Ip=Ut(De({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(x(),T("div",$p,[l("div",{class:"hint",title:t.prevTitle},D(t.prevLabel),9,Tp),l("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,Mp),l("div",{class:"hint",title:t.currTitle},D(t.currLabel),9,Ap),l("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,Dp),l("div",Pp,[ie(k(dt),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=n=>t.$emit("save"))},{default:He(()=>[...s[2]||(s[2]=[ve("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),Ep={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},Np=De({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,n=t,{previous:a,modelValue:r,prevLabel:o,currLabel:i,prevTitle:d,currTitle:p,saving:g}=s;return(c,f)=>(x(),T("div",Ep,[f[2]||(f[2]=l("div",{class:"sb-title"},"Notes",-1)),ie(Ip,{previous:k(a),"model-value":k(r),"prev-label":k(o),"curr-label":k(i),"prev-title":k(d),"curr-title":k(p),saving:k(g),"onUpdate:modelValue":f[0]||(f[0]=u=>n("update:modelValue",u)),onSave:f[1]||(f[1]=u=>n("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}}),Lp={id:"opsdash-sidebar-pane-config",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-config"},Op={class:"preset-form"},Hp=["disabled"],Rp={key:0,class:"preset-error"},Fp={key:0,class:"preset-warnings"},Wp={class:"preset-header"},Bp={key:1,class:"preset-empty"},jp={key:2,class:"preset-list"},Up={class:"preset-meta"},Vp={class:"preset-name"},zp={class:"preset-info"},Kp={key:0},Gp={class:"preset-actions"},qp=Ut(De({__name:"SidebarConfigPane",props:{presets:{},isLoading:{type:Boolean},isSaving:{type:Boolean},isApplying:{type:Boolean},warnings:{}},emits:["save","load","delete","refresh","clear-warnings"],setup(e,{emit:t}){const s=t,n=ne(""),a=ne(null);function r(){const p=n.value.trim();if(!p){a.value="Enter a profile name";return}a.value=null,s("save",p),n.value=""}function o(p){s("load",p)}function i(p){window.confirm(`Delete profile "${p}"?`)&&s("delete",p)}function d(p){if(!p)return"";const g=new Date(p);if(Number.isNaN(g.getTime()))return p;const f=new Date().getTime()-g.getTime(),u=Math.round(f/6e4);if(u<1)return"just now";if(u<60)return`${u} min ago`;const b=Math.round(u/60);if(b<24)return`${b} h ago`;const v=Math.round(b/24);return v<7?`${v} d ago`:g.toLocaleDateString()}return as(()=>{s("refresh")}),(p,g)=>(x(),T("div",Lp,[g[8]||(g[8]=l("div",{class:"sb-title"},"Configuration Profiles",-1)),g[9]||(g[9]=l("p",{class:"sb-description"}," Save and restore complete sidebar configurations (calendars, groups, targets, settings). ",-1)),l("div",Op,[g[3]||(g[3]=l("label",{class:"preset-label",for:"preset-name"},"Profile name",-1)),bs(l("input",{id:"preset-name","onUpdate:modelValue":g[0]||(g[0]=c=>n.value=c),type:"text",placeholder:"e.g. Focus week",disabled:p.isSaving,onKeyup:Xl(r,["enter"])},null,40,Hp),[[ql,n.value]]),a.value?(x(),T("div",Rp,D(a.value),1)):G("",!0),ie(k(dt),{class:"preset-save",type:"primary",disabled:p.isSaving||!n.value.trim(),onClick:r},{default:He(()=>[ve(D(p.isSaving?"Saving":"Save current configuration"),1)]),_:1},8,["disabled"])]),p.warnings.length?(x(),T("div",Fp,[g[5]||(g[5]=l("div",{class:"warnings-title"},"Warnings",-1)),l("ul",null,[(x(!0),T(ue,null,je(p.warnings,(c,f)=>(x(),T("li",{key:f},D(c),1))),128))]),ie(k(dt),{type:"tertiary",class:"preset-clear",onClick:g[1]||(g[1]=c=>s("clear-warnings"))},{default:He(()=>[...g[4]||(g[4]=[ve(" Clear warnings ",-1)])]),_:1})])):G("",!0),l("div",Wp,[g[6]||(g[6]=l("h3",null,"Saved profiles",-1)),ie(k(dt),{type:"tertiary",disabled:p.isLoading,onClick:g[2]||(g[2]=c=>s("refresh"))},{default:He(()=>[ve(D(p.isLoading?"Refreshing":"Refresh list"),1)]),_:1},8,["disabled"])]),!p.presets.length&&!p.isLoading?(x(),T("div",Bp," No profiles yet. Save one above to get started. ")):(x(),T("ul",jp,[(x(!0),T(ue,null,je(p.presets,c=>(x(),T("li",{key:c.name,class:"preset-item"},[l("div",Up,[l("div",Vp,D(c.name),1),l("div",zp,[l("span",null,D(c.selectedCount)+" calendars",1),l("span",null,D(c.calendarCount)+" groups",1),c.updatedAt?(x(),T("span",Kp,"Updated "+D(d(c.updatedAt)),1)):G("",!0)])]),l("div",Gp,[ie(k(dt),{type:"primary",disabled:p.isApplying,onClick:f=>o(c.name)},{default:He(()=>[ve(D(p.isApplying?"Applying":"Load"),1)]),_:2},1032,["disabled","onClick"]),ie(k(dt),{type:"tertiary",disabled:p.isApplying,onClick:f=>i(c.name)},{default:He(()=>[...g[7]||(g[7]=[ve(" Delete ",-1)])]),_:2},1032,["disabled","onClick"])])]))),128))]))]))}}),[["__scopeId","data-v-d602d23c"]]);function Jp(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const n=Number(e);if(!Number.isFinite(n))return{value:null,error:"Enter a valid number"};let a=n,r;if(typeof t.min=="number"&&a<t.min&&(a=t.min,r=da(t)),typeof t.max=="number"&&a>t.max&&(a=t.max,r=da(t)),typeof t.step=="number"&&t.step>0){const i=Yp(a,t.step);i!==a&&(a=i,r=da(t))}const o=mo(t);return typeof o=="number"&&(a=Number(a.toFixed(o))),{value:a,warning:r}}function Zp(e,t){const s=Jp(e,t),n=[];return s.error&&n.push({severity:"error",message:s.error}),s.warning&&n.push({severity:"warning",message:s.warning}),{value:s.value,issues:n}}function Yp(e,t){const s=mo({step:t}),n=Math.round(e/t)*t;return typeof s=="number"?Number(n.toFixed(s)):n}function mo(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return Xp(e.step)}function Xp(e){const t=e.toString();if(t.includes("e-")){const[,n]=t.split("e-");return Number(n)}const[,s=""]=t.split(".");return s.length}function da(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function Qp(e,t,s="Enter a valid number"){const n=Zp(e,t),a=n.issues.find(i=>i.severity==="error"),r=n.issues.find(i=>i.severity==="warning");let o=null;return a||n.value===null?o={text:(a==null?void 0:a.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!a&&n.value!==null,value:n.value,message:o}}function Tt(e,t,s,n,a){const{ok:r,value:o,message:i}=Qp(e,t,a);return s(i),!r||o===null?!1:(n(o),!0)}const eg={class:"rangebar",title:"Time range"},tg={class:"range-actions"},sg=["disabled"],ng=["aria-label"],ag={class:"range-toggle"},rg={class:"range-nav"},og={class:"range-dates"},ig={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},lg=["aria-selected"],cg=["aria-selected"],ug=["aria-selected"],dg={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},fg=["aria-selected"],pg=["aria-selected"],gg=["aria-selected"],hg={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Advanced configuration"},mg=["aria-selected"],vg=Ut(De({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{},presets:{},presetsLoading:{type:Boolean},presetSaving:{type:Boolean},presetApplying:{type:Boolean},presetWarnings:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav","save-preset","load-preset","delete-preset","refresh-presets","clear-preset-warnings"],setup(e,{emit:t}){const s=e,n=t,a=ne("calendars"),r=K(()=>s.targetsConfig),o=K(()=>{var w;return((w=r.value)==null?void 0:w.categories)??[]}),i=K(()=>s.presets??[]);function d(w){const y=ht(JSON.parse(JSON.stringify(s.targetsConfig||{})));w(y),n("update:targets-config",y)}const p=K(()=>_e()!==null),g=K(()=>{var w;return((w=r.value)==null?void 0:w.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),c=K(()=>{var w;return{...vn(),...((w=r.value)==null?void 0:w.activityCard)??{}}}),f={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},u=K(()=>Object.entries(f)),b=K(()=>{var E;const w=aa(),y=((E=r.value)==null?void 0:E.balance)??w;return{...w,...y,thresholds:{...w.thresholds,...y.thresholds??{}},relations:{...w.relations,...y.relations??{}},trend:{...w.trend,...y.trend??{}},dayparts:{...w.dayparts,...y.dayparts??{}},ui:{...w.ui,...y.ui??{}}}}),v=[0,1,2,3],A=kt({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),F=kt({}),$=kt({}),L=ne(null),M=ne(null),W=kt({onTrack:null,atRisk:null}),ee=kt({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),re=ne(null),te=ne(null),me=ne(null),q=kt({roundPercent:null,roundRatio:null});function _e(){const w=new Set;for(const y of o.value)(y.groupIds||[]).forEach(E=>w.add(Number(E)));Object.values(s.groupsById||{}).forEach(y=>w.add(Number(y)));for(let y=1;y<=9;y++)if(!w.has(y))return y;return null}function Pe(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function xe(w){const y=Q(w),E=o.value.find(fe=>Array.isArray(fe.groupIds)&&fe.groupIds.includes(y));return E?E.id:""}function Be(w,y){if(!y){n("set-group",{id:w,n:0});return}const E=o.value.find(ft=>ft.id===y);if(!E){n("set-group",{id:w,n:0});return}const fe=z(E.id);n("set-group",{id:w,n:fe})}function z(w){const y=o.value.find(ft=>ft.id===w);if(!y)return 0;const E=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;if(E&&Number.isFinite(E))return E;const fe=_e()??0;return d(ft=>{const us=ft.categories.find(ma=>ma.id===w);us&&(us.groupIds=fe?[fe]:[])}),fe}function le(w,y){d(E=>{const fe=E.categories.find(ft=>ft.id===w);fe&&y(fe)})}function Q(w){const y=Number((s.groupsById||{})[w]??0);return isFinite(y)?Math.max(0,Math.min(9,Math.trunc(y))):0}function Y(w){const y=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},E=Number(y[w]??"");return isFinite(E)?E:""}function ae(w){n("select-all",w)}function ye(w){n("toggle-calendar",w)}function $e(w){Be(w.id,w.category)}function de(w){Le(w.id,w.value)}function Ne(w){I(w.key,w.value)}function Re(w){j(w.key,w.value)}function Te(){A.activity=!A.activity}function ke(w){if(w==="all"){const y=!(A.balanceThresholds&&A.balanceTrend&&A.balanceDisplay);A.balanceThresholds=y,A.balanceTrend=y,A.balanceDisplay=y;return}w==="thresholds"?A.balanceThresholds=!A.balanceThresholds:w==="trend"?A.balanceTrend=!A.balanceTrend:w==="display"&&(A.balanceDisplay=!A.balanceDisplay)}function Ie(w){V(w.key,w.value)}function We(w){if(w.key==="dayparts"){d(y=>{y.balance.dayparts.enabled=w.value});return}pe(w.key,w.value)}function mt(w){Se(w.key,w.value)}function Le(w,y){Tt(y,{min:0,max:1e4,step:.25,decimals:2},E=>{F[w]=E},E=>n("set-target",{id:w,h:E}))}function X(w){Tt(w,{min:0,max:1e3,step:.5,decimals:2},y=>{L.value=y},y=>d(E=>{E.totalHours=y}))}function h(w){Tt(w,{min:0,max:24,step:.25,decimals:2},y=>{M.value=y},y=>d(E=>{E.allDayHours=y}),"024 hours per day")}function m(w,y){Tt(y,{min:0,max:1e3,step:.5,decimals:2},E=>{$[w]=E},E=>le(w,fe=>{fe.targetHours=E}))}function S(w,y){le(w,E=>{E.label=y.trim()||E.label})}function N(w,y){le(w,E=>{E.includeWeekend=y})}function P(w){s.activeDayMode!==w&&n("update:active-mode",w)}function I(w,y){d(E=>{E.timeSummary||(E.timeSummary=JSON.parse(JSON.stringify(g.value))),E.timeSummary[w]=y})}function j(w,y){d(E=>{E.activityCard||(E.activityCard=vn()),E.activityCard[w]=y})}function O(w,y){y!=="days_only"&&y!=="time_aware"||le(w,E=>{E.paceMode=y})}function R(w){d(y=>{y.pace.includeWeekendTotal=w})}function H(w){w!=="days_only"&&w!=="time_aware"||d(y=>{y.pace.mode=w})}function J(w,y){Tt(y,{min:-100,max:100,step:.1,decimals:1},E=>{W[w]=E},E=>d(fe=>{fe.pace.thresholds[w]=E}))}function V(w,y){Tt(y,{min:0,max:1,step:.01,decimals:2},E=>{ee[w]=E},E=>d(fe=>{fe.balance.thresholds[w]=Number(E.toFixed(2))}))}function Z(w){const y=w==="factor"?"factor":"ratio";d(E=>{E.balance.relations.displayMode=y})}function se(w){Tt(w,{min:1,max:12,step:1,decimals:0},y=>{me.value=y},y=>d(E=>{E.balance.trend.lookbackWeeks=y}))}function pe(w,y){d(E=>{E.balance.ui[w]=y})}function Se(w,y){Tt(y,{min:0,max:3,step:1,decimals:0},E=>{q[w]=E},E=>d(fe=>{fe.balance.ui[w]=E}))}function be(w){const y=w==="momentum"?"momentum":"linear";d(E=>{E.forecast.methodPrimary=y})}function Ue(w){Tt(w,{min:1,max:14,step:1,decimals:0},y=>{re.value=y},y=>d(E=>{E.forecast.momentumLastNDays=y}))}function Ke(w){Tt(w,{min:0,max:100,step:.1,decimals:1},y=>{te.value=y},y=>d(E=>{E.forecast.padding=y}))}function st(w,y){d(E=>{E.ui[w]=y})}function ot(w){d(y=>{y.includeZeroDaysInStats=w})}function it(w){d(y=>{w==="work-week"?(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],y.allDayHours=8,y.pace.includeWeekendTotal=!0,y.pace.mode="days_only",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0):w==="balanced-life"&&(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],y.allDayHours=8,y.pace.includeWeekendTotal=!0,y.pace.mode="time_aware",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0)})}function cs(){var y;const w=_e();if(w===null){(y=window.alert)==null||y.call(window,"All category slots are currently in use (max 9).");return}d(E=>{E.categories=[...E.categories,{id:Pe(),label:`Category ${E.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[w]}]})}function Je(w){if(o.value.length<=1)return;const y=o.value.find(fe=>fe.id===w);if(!y)return;const E=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;d(fe=>{fe.categories=fe.categories.filter(ft=>ft.id!==w)}),E!==null&&Object.entries(s.groupsById||{}).forEach(([fe,ft])=>{Number(ft)===E&&n("set-group",{id:fe,n:0})})}return(w,y)=>(x(),ze(k(rc),null,{default:He(()=>[Oi(w.$slots,"actions",{},void 0,!0),y[30]||(y[30]=l("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),l("div",eg,[l("div",tg,[l("button",{class:"sidebar-action-btn",type:"button",disabled:w.isLoading,onClick:y[0]||(y[0]=E=>w.$emit("load"))}," Refresh ",8,sg),l("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:y[1]||(y[1]=E=>w.$emit("toggle-nav")),"aria-label":w.navToggleLabel},D(w.navToggleIcon),9,ng)]),l("div",ag,[ie(k(mn),{type:"radio",name:"range-week",checked:w.range==="week","onUpdate:checked":y[2]||(y[2]=E=>{E&&w.$emit("update:range","week")})},{default:He(()=>[...y[26]||(y[26]=[ve("Week",-1)])]),_:1},8,["checked"]),ie(k(mn),{type:"radio",name:"range-month",checked:w.range==="month","onUpdate:checked":y[3]||(y[3]=E=>{E&&w.$emit("update:range","month")})},{default:He(()=>[...y[27]||(y[27]=[ve("Month",-1)])]),_:1},8,["checked"])]),l("div",rg,[ie(k(dt),{class:"nav-btn",type:"tertiary",disabled:w.isLoading,onClick:y[4]||(y[4]=E=>w.$emit("update:offset",w.offset-1)),title:"Previous"},{default:He(()=>[...y[28]||(y[28]=[ve("",-1)])]),_:1},8,["disabled"]),l("span",og,D(w.from)+"  "+D(w.to),1),ie(k(dt),{class:"nav-btn",type:"tertiary",disabled:w.isLoading,onClick:y[5]||(y[5]=E=>w.$emit("update:offset",w.offset+1)),title:"Next"},{default:He(()=>[...y[29]||(y[29]=[ve("",-1)])]),_:1},8,["disabled"])])]),l("div",ig,[l("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:he(["sb-tab",{active:a.value==="calendars"}]),role:"tab","aria-selected":a.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:y[6]||(y[6]=E=>a.value="calendars")}," Calendars ",10,lg),l("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:he(["sb-tab",{active:a.value==="targets"}]),role:"tab","aria-selected":a.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:y[7]||(y[7]=E=>a.value="targets")}," Targets ",10,cg),l("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:he(["sb-tab",{active:a.value==="summary"}]),role:"tab","aria-selected":a.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:y[8]||(y[8]=E=>a.value="summary")}," Summary ",10,ug)]),l("div",dg,[l("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:he(["sb-tab",{active:a.value==="activity"}]),role:"tab","aria-selected":a.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:y[9]||(y[9]=E=>a.value="activity")}," Activity & Schedule ",10,fg),l("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:he(["sb-tab",{active:a.value==="balance"}]),role:"tab","aria-selected":a.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:y[10]||(y[10]=E=>a.value="balance")}," Balance ",10,pg),l("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:he(["sb-tab",{active:a.value==="notes"}]),role:"tab","aria-selected":a.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:y[11]||(y[11]=E=>a.value="notes")}," Notes ",10,gg)]),l("div",hg,[l("button",{id:"opsdash-sidebar-tab-config",type:"button",class:he(["sb-tab",{active:a.value==="config"}]),role:"tab","aria-selected":a.value==="config","aria-controls":"opsdash-sidebar-pane-config",onClick:y[12]||(y[12]=E=>a.value="config")}," Config ",10,mg)]),a.value==="calendars"?(x(),ze(Cd,{key:0,calendars:w.calendars,selected:w.selected,range:w.range,"is-loading":w.isLoading,"category-options":o.value,"calendar-target-messages":F,"calendar-category-id":xe,"get-target":Y,onSelectAll:ae,onToggleCalendar:ye,onSetCategory:$e,onTargetInput:de},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):a.value==="targets"?(x(),ze(xf,{key:1,targets:r.value,"category-options":o.value,"total-target-message":L.value,"all-day-hours-message":M.value,"category-target-messages":$,"pace-threshold-messages":W,"forecast-momentum-message":re.value,"forecast-padding-message":te.value,"can-add-category":p.value,onTotalTargetInput:X,onApplyPreset:it,onSetAllDayHours:h,onSetCategoryLabel:y[13]||(y[13]=({id:E,label:fe})=>S(E,fe)),onRemoveCategory:Je,onSetCategoryTarget:y[14]||(y[14]=({id:E,value:fe})=>m(E,fe)),onSetCategoryPace:y[15]||(y[15]=({id:E,mode:fe})=>O(E,fe)),onSetCategoryWeekend:y[16]||(y[16]=({id:E,value:fe})=>N(E,fe)),onAddCategory:cs,onSetIncludeWeekendTotal:R,onSetPaceMode:H,onSetThreshold:y[17]||(y[17]=({key:E,value:fe})=>J(E,fe)),onSetForecastMethod:be,onSetForecastMomentum:Ue,onSetForecastPadding:Ke,onSetUiOption:y[18]||(y[18]=({key:E,value:fe})=>st(E,fe)),onSetIncludeZeroDays:ot},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):a.value==="summary"?(x(),ze(Df,{key:2,"summary-options":g.value,"active-day-mode":w.activeDayMode,"onUpdate:activeMode":P,onToggleOption:Ne},null,8,["summary-options","active-day-mode"])):a.value==="config"?(x(),ze(qp,{key:3,presets:i.value,"is-loading":s.presetsLoading,"is-saving":s.presetSaving,"is-applying":s.presetApplying,warnings:s.presetWarnings,onSave:y[19]||(y[19]=E=>n("save-preset",E)),onLoad:y[20]||(y[20]=E=>n("load-preset",E)),onDelete:y[21]||(y[21]=E=>n("delete-preset",E)),onRefresh:y[22]||(y[22]=()=>n("refresh-presets")),onClearWarnings:y[23]||(y[23]=()=>n("clear-preset-warnings"))},null,8,["presets","is-loading","is-saving","is-applying","warnings"])):a.value==="activity"?(x(),ze(Hf,{key:4,"activity-settings":c.value,"activity-toggles":u.value,"help-open":A.activity,onToggleHelp:Te,onToggleOption:Re},null,8,["activity-settings","activity-toggles","help-open"])):a.value==="balance"?(x(),ze(Cp,{key:5,"balance-settings":b.value,"balance-threshold-messages":ee,"balance-lookback-message":me.value,"balance-ui-precision-messages":q,"rounding-options":v,"help-thresholds":A.balanceThresholds,"help-trend":A.balanceTrend,"help-display":A.balanceDisplay,onToggleHelp:ke,onSetThreshold:Ie,onSetRelation:Z,onSetLookback:se,onSetUiToggle:We,onSetUiPrecision:mt},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):a.value==="notes"?(x(),ze(Np,{key:6,previous:w.notesPrev,"model-value":w.notesCurrDraft,"prev-label":w.notesLabelPrev,"curr-label":w.notesLabelCurr,"prev-title":w.notesLabelPrevTitle,"curr-title":w.notesLabelCurrTitle,saving:w.isSavingNote,"onUpdate:modelValue":y[24]||(y[24]=E=>w.$emit("update:notes",E)),onSave:y[25]||(y[25]=E=>w.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):G("",!0)]),_:3}))}}),[["__scopeId","data-v-a219753c"]]);function yg(e){const t=ne(""),s=ne(""),n=ne(!1);async function a(){var i,d;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((d=o==null?void 0:o.notes)==null?void 0:d.current)??"")}async function r(){try{n.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await a()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{n.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:n,fetchNotes:a,saveNotes:r}}function bg(e){const t=ne([]),s=ne({}),n=ne({}),a=ne({}),r=ne([]),o=ne(!1),i=ne(!1),d=ne(null),p=ne(""),g=ne(""),c=ne(""),f=kt({}),u=ne([]),b=ne([]),v=ne([]),A=ne({}),F=ne({}),$=ne({}),L=ne(ht(yn()));let M=0,W=null;const ee=ne(!1);async function re(){var q,_e,Pe,xe,Be,z,le,Q,Y,ae,ye,$e,de,Ne,Re,Te,ke,Ie,We,mt;const me=++M;o.value=!0;try{const Le={range:e.range.value,offset:e.offset.value|0,save:!1},X=await e.getJson(e.route("load"),Le);if(me!==M){(q=e.isDebug)!=null&&q.call(e)&&console.warn("discarding stale load response",{currentSeq:me,loadSeq:M});return}p.value=String(((_e=X.meta)==null?void 0:_e.uid)??""),g.value=String(((Pe=X.meta)==null?void 0:Pe.from)??""),c.value=String(((xe=X.meta)==null?void 0:xe.to)??""),i.value=!!((Be=X.meta)!=null&&Be.truncated),d.value=((z=X.meta)==null?void 0:z.limits)??null,t.value=Array.isArray(X.calendars)?X.calendars:[],s.value=((le=X.colors)==null?void 0:le.byName)??{},n.value=((Q=X.colors)==null?void 0:Q.byId)??{};const h=((Y=X.groups)==null?void 0:Y.byId)??((ae=X.groups)==null?void 0:ae.byID)??((ye=X.groups)==null?void 0:ye.ids)??{},m={};t.value.forEach(P=>{const I=String((P==null?void 0:P.id)??""),j=Number((h==null?void 0:h[I])??0);m[I]=Number.isFinite(j)?Math.max(0,Math.min(9,Math.trunc(j))):0}),a.value=m;const S=(($e=X.targets)==null?void 0:$e.week)??{},N=((de=X.targets)==null?void 0:de.month)??{};if(F.value=S&&typeof S=="object"?S:{},$.value=N&&typeof N=="object"?N:{},L.value=ht(X.targetsConfig??yn()),(Ne=e.isDebug)!=null&&Ne.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(P=>({id:P.id,name:P.displayname,color:P.color,raw:P.color_raw,src:P.color_src}))),console.log("colors.byId",n.value),console.log("colors.byName",s.value),X.calDebug&&console.log("server calDebug",X.calDebug),X.debug&&(console.group("[opsdash] server query debug"),console.log(X.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(I=>!I.color||I.color_src==="fallback").length)try{const I=await e.fetchDavColors(p.value,t.value.map(O=>String(O.id)));let j=!1;if(t.value=t.value.map(O=>{const R=I[O.id];return R&&R!==O.color&&(O.color_src="dav"(O).color_raw=R,O.color=R,j=!0),O}),Object.entries(I).forEach(([O,R])=>{R&&(n.value[O]=String(R))}),j){(Re=e.isDebug)!=null&&Re.call(e)&&console.log("[opsdash] dav colors applied",I);try{const O=((Te=A.value)==null?void 0:Te.pie)||{},R=O.ids||[],H=O.colors||[],J=R.map((V,Z)=>n.value[V]||H[Z]||"#60a5fa");A.value={...A.value||{},pie:{...O,colors:J}},(ke=e.isDebug)!=null&&ke.call(e)&&console.log("[opsdash] recomputed pie colors",J)}catch(O){(Ie=e.isDebug)!=null&&Ie.call(e)&&console.warn("recompute pie colors failed",O)}try{const O=(We=A.value)==null?void 0:We.perDaySeries;if(O&&Array.isArray(O.series)){const R=O.series.map(H=>({...H,color:n.value[H.id]||H.color||"#60a5fa"}));A.value={...A.value||{},perDaySeries:{labels:O.labels,series:R}}}}catch{}e.scheduleDraw()}}catch(I){(mt=e.isDebug)!=null&&mt.call(e)&&console.warn("dav colors failed",I)}r.value=Array.isArray(X.selected)?X.selected:Array.isArray(X.saved)?X.saved:[],e.userChangedSelection.value=!1,Object.assign(f,X.stats??{}),u.value=Array.isArray(X.byCal)?X.byCal:[],b.value=Array.isArray(X.byDay)?X.byDay:[],v.value=Array.isArray(X.longest)?X.longest:[],A.value=X.charts??{},await Qs(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(Le){console.error(Le),e.notifyError("Failed to load data")}finally{o.value=!1}}function te(me=!0){W&&clearTimeout(W),W=setTimeout(async()=>{try{ee.value=!0;const q=await e.postJson(e.route("persist"),{cals:r.value,groups:a.value,targets_week:F.value,targets_month:$.value,targets_config:ia(L.value)});Array.isArray(q.read)?r.value=q.read.map(xe=>String(xe)):Array.isArray(q.saved)&&(r.value=q.saved.map(xe=>String(xe)));const _e=q.targets_config_read,Pe=q.targets_config_saved;_e?L.value=ht(_e):Pe&&(L.value=ht(Pe)),me&&await re(),e.notifySuccess("Selection saved")}catch(q){console.error(q),e.notifyError("Failed to save selection")}finally{ee.value=!1}},250)}return{calendars:t,colorsByName:s,colorsById:n,groupsById:a,selected:r,isLoading:o,isTruncated:i,truncLimits:d,uid:p,from:g,to:c,stats:f,byCal:u,byDay:b,longest:v,charts:A,targetsWeek:F,targetsMonth:$,targetsConfig:L,load:re,queueSave:te,isSaving:ee}}function wg(e){const t=K(()=>{var n,a;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:((a=e.charts.value)==null?void 0:a.perDaySeries)||null}}),s=K(()=>{var b,v;const n={},a=(b=e.charts.value)==null?void 0:b.pie,r=(v=e.charts.value)==null?void 0:v.perDaySeries,o=a&&Array.isArray(a.data)&&Array.isArray(a.ids),i=r&&Array.isArray(r.series)&&Array.isArray(r.labels),d=e.calendarCategoryMap.value,p=o?(a.ids||[]).map(A=>String(A??"")):[],g=o?(a.labels||[]).map(A=>String(A??"")):[],c=o?(a.data||[]).map(A=>Number(A)||0):[],f=o?a.colors||[]:[],u=i?r.series:[];return e.calendarGroups.value.forEach(A=>{const F=[];o&&p.forEach((W,ee)=>{d[W]===A.id&&F.push(ee)});const $=F.length?{ids:F.map(W=>p[W]),labels:F.map(W=>g[W]),data:F.map(W=>c[W]),colors:F.map(W=>{var ee;return f[W]||((ee=e.colorsById.value)==null?void 0:ee[p[W]])||"#60a5fa"})}:null,L=i?u.filter(W=>d[String((W==null?void 0:W.id)??"")]===A.id):[],M=L.length?{labels:r.labels,series:L}:null;n[A.id]={pie:$,stacked:M}}),n});return{calendarChartData:t,categoryChartsById:s}}const Ht="__uncategorized__",vo="Unassigned";function _g(e){const t=K(()=>{var g;const p=(g=e.targetsConfig.value)==null?void 0:g.categories;return Array.isArray(p)?p:[]}),s=K(()=>{const p={};return t.value.forEach(g=>{p[String(g.id)]=g.label||String(g.id)}),p}),n=K(()=>{var c;const p=new Map;return(((c=e.targetsSummary.value)==null?void 0:c.categories)||[]).forEach(f=>p.set(String(f.id),f)),p}),a=K(()=>{const p=new Map;return t.value.forEach(g=>{(Array.isArray(g.groupIds)?g.groupIds:[]).forEach(f=>{const u=Math.max(0,Math.min(9,Math.trunc(Number(f)||0)));p.set(u,String(g.id))})}),p}),r=K(()=>{var c;const p=e.calendars.value;if(!Array.isArray(p))return(c=e.isDebug)!=null&&c.call(e)&&console.warn("[opsdash] calendars not array",p),{};const g={};return p.forEach(f=>{var v;const u=String((f==null?void 0:f.id)??"");if(!u)return;const b=((v=e.colorsById.value)==null?void 0:v[u])||String((f==null?void 0:f.color)||"");g[u]={name:String((f==null?void 0:f.displayname)||(f==null?void 0:f.name)||(f==null?void 0:f.calendar)||u),color:b||void 0}}),g}),o=K(()=>{var b;const p={},g=a.value,c=e.groupsById.value||{},f=v=>{const A=c==null?void 0:c[v],F=Math.max(0,Math.min(9,Math.trunc(Number(A)||0))),$=g.get(F);p[v]=$||Ht},u=e.calendars.value;return Array.isArray(u)?(u.forEach(v=>{const A=String((v==null?void 0:v.id)??"");A&&f(A)}),(e.selected.value||[]).forEach(v=>{const A=String(v??"");A&&(p[A]||f(A))}),p):((b=e.isDebug)!=null&&b.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",u),p)}),i=K(()=>{const p=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],g={};let c=0;const f=u=>{if(g[u])return g[u];const b=Object.entries(o.value).filter(([,A])=>A===u).map(([A])=>A);for(const A of b){const F=r.value[A];if(F!=null&&F.color)return g[u]=F.color,F.color}const v=p[c%p.length];return c+=1,g[u]=v,v};return t.value.forEach(u=>f(String(u.id))),Object.values(o.value||{}).some(u=>u===Ht)&&f(Ht),g}),d=K(()=>{var W,ee,re,te,me,q,_e,Pe,xe,Be;const p=[],g=o.value,c=n.value,f=e.byCal.value;if(!Array.isArray(f))return(W=e.isDebug)!=null&&W.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",f),p;const u=new Map;f.forEach(z=>{const le=String((z==null?void 0:z.id)??(z==null?void 0:z.calendar_id)??(z==null?void 0:z.calendar)??"");if(!le)return;const Q=g[le]||Ht;u.has(Q)||u.set(Q,[]),u.get(Q).push({...z,calendarId:le})}),(ee=e.isDebug)!=null&&ee.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(f),rowsSourceLength:f.length,byCat:u,assignments:g});const b=((te=(re=e.targetsSummary.value)==null?void 0:re.total)==null?void 0:te.daysLeft)??0,v=((q=(me=e.targetsSummary.value)==null?void 0:me.total)==null?void 0:q.calendarPercent)??0,A=((Pe=(_e=e.targetsSummary.value)==null?void 0:_e.total)==null?void 0:Pe.paceMode)??((Be=(xe=e.targetsConfig.value)==null?void 0:xe.pace)==null?void 0:Be.mode)??"days_only",F=z=>Math.round(z*100)/100,$=e.currentTargets.value||{},L=(z,le,Q)=>{const Y=Q.reduce((ke,Ie)=>{const We=Number($[Ie.calendarId]??0);return Number.isFinite(We)?ke+Math.max(0,We):ke},0),ae=Q.reduce((ke,Ie)=>{const We=Number((Ie==null?void 0:Ie.total_hours)??(Ie==null?void 0:Ie.hours)??0);return Number.isFinite(We)?ke+Math.max(0,We):ke},0),ye=Y>0?Math.max(0,Math.min(100,ae/Y*100)):0,$e=ae-Y,de=Math.max(0,Y-ae),Ne=Y<=0?"none":ye>=100?"done":$e>=0?"on_track":"behind",Re=Ne==="done"?"Done":Ne==="on_track"?"On Track":Ne==="behind"?"Behind":"",Te=b>0?de/b:0;return{id:z,label:le,actualHours:F(ae),targetHours:F(Y),percent:ye,deltaHours:F($e),remainingHours:F(de),needPerDay:F(Te),daysLeft:b,calendarPercent:Math.max(0,Math.min(100,v)),gap:F(ye-v),status:Ne,statusLabel:Re,includeWeekend:!0,paceMode:A}};if(t.value.map(z=>String(z.id)).forEach(z=>{const le=s.value[z]||z,Q=u.get(z)||[],Y=c.get(z)||L(z,le,Q);p.push({id:z,label:le,rows:Q,summary:Y,color:i.value[z]})}),u.has(Ht)){const z=u.get(Ht)||[];p.push({id:Ht,label:vo,rows:z,summary:L(Ht,vo,z),color:i.value[Ht]})}return p});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:d}}function kg(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function rt(e){const t=Number(e);return Number.isFinite(t)?t:null}function ls(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function xg(e){const t=K(()=>{var $;const u=($=e.charts.value)==null?void 0:$.pie;if(!u||!Array.isArray(u.data)||!Array.isArray(u.labels))return[];const b=u.data.map(L=>Number(L)||0),v=u.labels.map(L=>String(L||"")),A=b.reduce((L,M)=>L+Math.max(0,M),0);if(A<=0)return[];const F=b.map((L,M)=>({name:v[M]||"",value:Math.max(0,L)}));return F.sort((L,M)=>M.value-L.value),F.slice(0,3).map(L=>({name:L.name,share:L.value/A*100}))}),s=K(()=>{var b;if(t.value.length)return t.value.map(v=>`${v.name} ${bo(v.share)}`).join(", ");const u=(b=e.stats)==null?void 0:b.top_calendar;if(u&&u.calendar){const v=Number(u.share??0);return`${u.calendar} ${bo(v)}`}return""}),n=K(()=>{var u;return e.selected.value.length||(((u=e.calendars.value)==null?void 0:u.length)??0)}),a=K(()=>(e.byDay.value||[]).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),r=K(()=>{const u=a.value.map(b=>Number(b)||0);return e.activeDayMode.value==="active"?u.filter(b=>b>0):u}),o=K(()=>(e.byDay.value||[]).filter(u=>{const b=yo(String(u==null?void 0:u.date));return b>=1&&b<=5}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),i=K(()=>(e.byDay.value||[]).filter(u=>{const b=yo(String(u==null?void 0:u.date));return b===0||b===6}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),d=K(()=>e.activeDayMode.value==="active"?o.value.filter(u=>u>0):o.value),p=K(()=>e.activeDayMode.value==="active"?i.value.filter(u=>u>0):i.value),g=K(()=>{var v,A,F,$;const u=((v=e.stats)==null?void 0:v.balance_index)??((A=e.stats)==null?void 0:A.balanceIndex)??(($=(F=e.stats)==null?void 0:F.balance_overview)==null?void 0:$.index),b=Number(u);return Number.isFinite(b)?b:null}),c=K(()=>{var u,b,v,A;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((u=e.stats)==null?void 0:u.total_hours)??0),avgDay:fa(r.value),avgEvent:Number(((b=e.stats)==null?void 0:b.avg_per_event)??0),medianDay:pa(r.value),busiest:((v=e.stats)==null?void 0:v.busiest_day)??null,workdayAvg:fa(d.value),workdayMedian:pa(d.value),weekendAvg:fa(p.value),weekendMedian:pa(p.value),weekendShare:((A=e.stats)==null?void 0:A.weekend_share)??null,activeCalendars:n.value,calendarSummary:s.value,balanceIndex:g.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),f=K(()=>{const u=e.stats;return{rangeLabel:e.rangeLabel.value,events:kg(u.events),activeDays:rt(u.active_days),typicalStart:ls(u.typical_start),typicalEnd:ls(u.typical_end),weekendShare:rt(u.weekend_share),eveningShare:rt(u.evening_share),earliestStart:ls(u.earliest_start),latestEnd:ls(u.latest_end),overlapEvents:rt(u.overlap_events),longestSession:rt(u.longest_session),lastDayOff:ls(u.last_day_off),lastHalfDayOff:ls(u.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:c,activitySummary:f}}function fa(e){return e.length?e.reduce((s,n)=>s+n,0)/e.length:0}function pa(e){if(!e.length)return 0;const t=[...e].sort((n,a)=>n-a),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function yo(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function bo(e){return`${Number(e||0).toFixed(1)}%`}function Sg(e){return{balanceOverview:K(()=>{var c,f,u;const s=(c=e.stats)==null?void 0:c.balance_overview;if(!s||typeof s!="object")return null;const n=Array.isArray(s.categories)?s.categories.map(b=>({id:String((b==null?void 0:b.id)??""),label:String((b==null?void 0:b.label)??""),hours:rt(b==null?void 0:b.hours)??0,share:rt(b==null?void 0:b.share)??0,prevShare:rt(b==null?void 0:b.prev_share)??0,delta:rt(b==null?void 0:b.delta)??0,color:e.categoryColorMap.value[String((b==null?void 0:b.id)??"")]})):[],a=Array.isArray(s.relations)?s.relations.map(b=>({label:String((b==null?void 0:b.label)??""),value:String((b==null?void 0:b.value)??"")})):[],r={delta:Array.isArray((f=s.trend)==null?void 0:f.delta)?s.trend.delta.map(b=>({id:String((b==null?void 0:b.id)??""),label:String((b==null?void 0:b.label)??""),delta:rt(b==null?void 0:b.delta)??0})):[],badge:String(((u=s.trend)==null?void 0:u.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(b=>({date:String((b==null?void 0:b.date)??""),weekday:String((b==null?void 0:b.weekday)??""),total_hours:rt(b==null?void 0:b.total_hours)??0,categories:Array.isArray(b==null?void 0:b.categories)?b.categories.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),hours:rt(v==null?void 0:v.hours)??0,share:rt(v==null?void 0:v.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(b=>String(b)):[],d=Array.isArray(s.warnings)?s.warnings.map(b=>String(b)):[],p=rt(s.index)??0,g=e.balanceCardConfig.value.showInsights?i:[];return{index:p,categories:n,relations:a,trend:r,daily:o,insights:g,warnings:d}})}}const Cg={version:"0.4.3"},$g={class:"app-shell"},Tg={class:"app-main"},Mg={class:"app-container"},Ag={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},Dg=["aria-expanded","aria-label"],Pg=["disabled"],Ig=["disabled","aria-pressed"],Eg={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},Ng=["disabled"],Lg=["title"],Og=["disabled"],Hg={class:"appbar"},Rg={class:"title"},Fg=["src"],Wg=["textContent"],Bg={class:"hint appbar-meta"},jg=["textContent"],Ug={key:1,title:"Results truncated for performance"},Vg=["title"],zg={class:"cards"},Kg={class:"tabs"},Gg={class:"card full tab-panel"},qg={key:0,class:"chart-section"},Jg={class:"grid2 mt-12"},Zg={class:"card chart-card"},Yg={class:"card chart-card"},Xg={key:1,class:"chart-section"},Qg={key:0,class:"category-chart-block"},eh={class:"category-chart-header"},th={class:"name"},sh={class:"grid2 mt-8"},nh={class:"card chart-card"},ah={class:"card chart-card"},rh={class:"card full tab-panel"},oh={class:"card full tab-panel"},ih={class:"card full tab-panel"},lh={class:"hint footer"},ch=["href"],wo="opsdash.sidebarOpen",uh=De({__name:"App",setup(e){function t(_){var U,B;const C=window;(B=(U=C.OC)==null?void 0:U.Notification)!=null&&B.showTemporary?C.OC.Notification.showTemporary(_):console.log("SUCCESS:",_)}function s(_){var U,B;const C=window;(B=(U=C.OC)==null?void 0:U.Notification)!=null&&B.showTemporary?C.OC.Notification.showTemporary(_):(console.error("ERROR:",_),alert(_))}const n=ne((()=>{if(typeof window>"u")return!0;const _=window.localStorage.getItem(wo);return _==null?!0:_==="1"})()),a=()=>{n.value=!n.value},r=K(()=>n.value?"Hide sidebar":"Show sidebar"),o=K(()=>n.value?"":"");yt(n,_=>{typeof window<"u"&&(window.localStorage.setItem(wo,_?"1":"0"),Qs(()=>{window.dispatchEvent(new Event("resize"))}))});const i=ne("cal"),d=ne("week"),p=ne(0),g=K(()=>!n.value),c=K(()=>d.value==="week"?"Switch to month":"Switch to week"),f=K(()=>!Re.value||!Te.value?"":`${Re.value}  ${Te.value}`),u=ne([]),b=ne(!1),v=ne(!1),A=ne(!1),F=ne([]),$=ne(null);function L(){S().catch(console.error)}function M(){d.value=d.value==="week"?"month":"week",p.value=0,S().catch(console.error)}function W(){p.value=(p.value||0)-1,S().catch(console.error)}function ee(){p.value=(p.value||0)+1,S().catch(console.error)}const re=K(()=>{const _=de.value;if(!_)return"Partial data due to caps";const C=[];return _.maxPerCal!=null&&C.push(`cap per calendar: ${_.maxPerCal}`),_.maxTotal!=null&&C.push(`cap total: ${_.maxTotal}`),_.totalProcessed!=null&&C.push(`processed: ${_.totalProcessed}`),C.join("  ")}),te=ne(!1),me=yg({range:d,offset:p,route:_=>Jt(_),getJson:Ns,postJson:wa,notifySuccess:t,notifyError:s}),{notesPrev:q,notesCurrDraft:_e,isSavingNote:Pe,fetchNotes:xe,saveNotes:Be}=me,{calendars:z,colorsByName:le,colorsById:Q,groupsById:Y,selected:ae,isLoading:ye,isTruncated:$e,truncLimits:de,uid:Ne,from:Re,to:Te,stats:ke,byCal:Ie,byDay:We,longest:mt,charts:Le,targetsWeek:X,targetsMonth:h,targetsConfig:m,load:S,queueSave:N}=bg({range:d,offset:p,userChangedSelection:te,route:_=>Jt(_),getJson:Ns,postJson:wa,notifyError:s,notifySuccess:t,scheduleDraw:Lh,fetchNotes:xe,isDebug:_n,fetchDavColors:Nh});function P(_){return ae.value.includes(_)}function I(_,C){const U=new Set(ae.value);C?U.add(_):U.delete(_),ae.value=Array.from(U)}function j(_){I(_,!P(_)),te.value=!0,N()}function O(_,C){const U=Math.max(0,Math.min(9,Math.trunc(Number(C)||0)));Y.value||(Y.value={}),Y.value={...Y.value,[_]:U},N(!1)}function R(_,C){const U=Number(C);if(!isFinite(U)||U<0)return;const B=Math.min(1e4,Math.round(U*100)/100);if(d.value==="month"){const ge=Math.min(1e4,Math.round(B/4*100)/100);h.value={...h.value||{},[_]:B},X.value={...X.value||{},[_]:ge}}else{const ge=Math.min(1e4,Math.round(B*4*100)/100);X.value={...X.value||{},[_]:B},h.value={...h.value||{},[_]:ge}}N(!1)}function H(_){m.value=ht(_),N(!1)}const J=ne("active"),V=K(()=>d.value==="month"?"Month":"Week"),Z=K(()=>{const _=ia(m.value);return d.value==="month"&&(_.totalHours=oa(_.totalHours),_.categories=_.categories.map(C=>({...C,targetHours:oa(C.targetHours)}))),_}),se=K(()=>{const _=Z.value;try{return td({config:_,stats:ke,byDay:We.value||[],byCal:Ie.value||[],groupsById:Y.value||{},range:d.value,from:Re.value,to:Te.value})}catch(C){return console.error("[opsdash] targets summary failed",C),Qu(_)}}),pe=K(()=>{if(d.value==="month"){const _=h.value||{};if(_&&Object.keys(_).length>0)return _;const C=X.value||{},U={};return Object.entries(C).forEach(([B,ge])=>{const Oe=Number(ge);Number.isFinite(Oe)&&(U[B]=oa(Oe))}),U}return X.value||{}}),Se=K(()=>{var _;return{...vn(),...((_=m.value)==null?void 0:_.activityCard)??{}}}),be=K(()=>{var U;const _=aa(),C=((U=m.value)==null?void 0:U.balance)??_;return{..._,...C,thresholds:{..._.thresholds,...C.thresholds??{}},relations:{..._.relations,...C.relations??{}},trend:{..._.trend,...C.trend??{}},dayparts:{..._.dayparts,...C.dayparts??{}},ui:{..._.ui,...C.ui??{}}}}),Ue=K(()=>({showInsights:!!be.value.ui.showInsights,showDailyStacks:!!be.value.ui.showDailyStacks})),{categoryLabelById:Ke,categoryColorMap:st,calendarCategoryMap:ot,calendarGroups:it}=_g({calendars:z,selected:ae,groupsById:Y,colorsById:Q,targetsConfig:Z,targetsSummary:se,byCal:Ie,currentTargets:pe,isDebug:_n}),{balanceOverview:cs}=Sg({stats:ke,categoryColorMap:st,balanceCardConfig:Ue}),Je=K(()=>{var U,B;if(!Se.value.showHint)return"";const C=(Array.isArray((B=(U=m.value)==null?void 0:U.balance)==null?void 0:B.categories)?m.value.balance.categories:[]).map(ge=>{const Oe=String(ge??"").trim();if(!Oe)return"";const Qe=Ke.value[Oe];return Qe||Oe.toUpperCase()}).filter(ge=>ge);return C.length?`Mapping via Sidebar  ${C.join(" / ")}`:""}),{calendarChartData:w,categoryChartsById:y}=wg({charts:Le,colorsById:Q,calendarGroups:it,calendarCategoryMap:ot}),E=K(()=>{const _=it.value||[];return _.length&&[..._].sort((U,B)=>(B.summary.actualHours||0)-(U.summary.actualHours||0))[0]||null}),{timeSummary:fe,activitySummary:ft}=xg({stats:ke,byDay:We,charts:Le,calendars:z,selected:ae,rangeLabel:V,activeDayMode:J,topCategory:E}),us=ne(null);function ma(_){us.value=us.value===_?null:_}function vh(_){const C=window;return C.OC&&typeof C.OC.generateUrl=="function"?C.OC.generateUrl("/apps/calendar/timeGridDay/"+_):Es()+"/index.php/apps/calendar/timeGridDay/"+_}function _n(){return!1}const va=ne(0),ya=K(()=>{var B;const _=window,C=[];try{if((B=_.OC)!=null&&B.imagePath){const ge=_.OC.imagePath("opsdash","app.svg");ge&&C.push(ge)}}catch{}const U=Es();return C.push(U+"/apps/opsdash/img/app.svg"),C.push(U+"/apps-extra/opsdash/img/app.svg"),C.push(U+"/apps-writable/opsdash/img/app.svg"),C}),yh=K(()=>ya.value[Math.min(va.value,ya.value.length-1)]||"");function bh(){va.value+1<ya.value.length&&va.value++}function ko(_){const C=document.getElementById("app");return(C&&C.dataset?C.dataset[_]:"")||""}const Ps=ne(ko("opsdashVersion")||String(Cg.version)),Is=ne(ko("opsdashChangelog"));async function wh(){if(!(Ps.value&&Is.value))try{const _=await Ns(Jt("load").replace("/config_dashboard/load","/config_dashboard/ping"),{});!Ps.value&&typeof(_==null?void 0:_.version)=="string"&&(Ps.value=_.version),!Is.value&&typeof(_==null?void 0:_.changelog)=="string"&&(Is.value=_.changelog)}catch{}}wh();const _h=K(()=>d.value==="month"?"Last month":"Last week"),kh=K(()=>d.value==="month"?"This month":"This week"),xh=K(()=>d.value==="month"?"Notes for previous month":"Notes for previous week"),Sh=K(()=>d.value==="month"?"Notes for current month":"Notes for current week");function ba(_){return Number(_??0).toFixed(2)}function Es(){var C,U;const _=window;return _.OC&&(_.OC.webroot||((U=(C=_.OC).getRootPath)==null?void 0:U.call(C)))||_._oc_webroot||""}function Ch(_){const C=new URLSearchParams;return Object.entries(_).forEach(([U,B])=>{Array.isArray(B)?B.forEach(ge=>C.append(U,String(ge))):B!=null&&C.set(U,String(B))}),C.toString()}async function Ns(_,C){const U=Ch(C||{}),B=U?_+(_.includes("?")?"&":"?")+U:_,ge=await fetch(B,{method:"GET",credentials:"same-origin"});if(!ge.ok)throw new Error("HTTP "+ge.status);return await ge.json()}async function wa(_,C){var Qe;const U=window,B=((Qe=U.OC)==null?void 0:Qe.requestToken)||U.oc_requesttoken||"",ge={"Content-Type":"application/json"};B&&(ge.requesttoken=B);const Oe=await fetch(_,{method:"POST",credentials:"same-origin",headers:ge,body:JSON.stringify(C||{})});if(!Oe.ok)throw new Error("HTTP "+Oe.status);return await Oe.json()}async function $h(_){var Qe;const C=window,U=((Qe=C.OC)==null?void 0:Qe.requestToken)||C.oc_requesttoken||"",B={};U&&(B.requesttoken=U);const ge=await fetch(_,{method:"DELETE",credentials:"same-origin",headers:B});if(!ge.ok)throw new Error("HTTP "+ge.status);const Oe=await ge.text();return Oe?JSON.parse(Oe):{}}function Jt(_,C){const U=window;if(U.OC&&typeof U.OC.generateUrl=="function")return _==="load"?U.OC.generateUrl("/apps/opsdash/config_dashboard/load"):_==="persist"?U.OC.generateUrl("/apps/opsdash/config_dashboard/persist"):_==="notes"||_==="notesSave"?U.OC.generateUrl("/apps/opsdash/config_dashboard/notes"):_==="presetsList"||_==="presetsSave"?U.OC.generateUrl("/apps/opsdash/config_dashboard/presets"):_==="presetsLoad"||_==="presetsDelete"?U.OC.generateUrl("/apps/opsdash/config_dashboard/presets/"+encodeURIComponent(String(C??""))):U.OC.generateUrl("/apps/opsdash/config_dashboard");const B=Es()+"/apps/opsdash/config_dashboard";return _==="load"?B+"/load":_==="persist"?B+"/persist":_==="notes"||_==="notesSave"?B+"/notes":_==="presetsList"||_==="presetsSave"?B+"/presets":_==="presetsLoad"||_==="presetsDelete"?B+"/presets/"+encodeURIComponent(C??""):Es()+"/apps/opsdash/config_dashboard"}async function _a(){b.value=!0;try{const _=await Ns(Jt("presetsList"),{});u.value=Array.isArray(_==null?void 0:_.presets)?_.presets:[]}catch(_){console.error(_),s("Failed to load presets")}finally{b.value=!1}}async function Th(_){const C=_.trim();if(C===""){s("Enter a preset name.");return}v.value=!0;try{const U={name:C,selected:ae.value,groups:Y.value,targets_week:X.value,targets_month:h.value,targets_config:m.value},B=await wa(Jt("presetsSave"),U);u.value=Array.isArray(B==null?void 0:B.presets)?B.presets:u.value;const ge=Array.isArray(B==null?void 0:B.warnings)?B.warnings:[];F.value=ge,$.value=C,t(`Profile "${C}" saved`)}catch(U){console.error(U),s("Failed to save preset")}finally{v.value=!1}}function Mh(_){const C=Array.isArray(_==null?void 0:_.selected)?_.selected.map(ge=>String(ge)):[];ae.value=C;const U=_!=null&&_.groups&&typeof _.groups=="object"?_.groups:{};Y.value={...U},X.value=_!=null&&_.targets_week&&typeof _.targets_week=="object"?_.targets_week:{},h.value=_!=null&&_.targets_month&&typeof _.targets_month=="object"?_.targets_month:{};const B=_!=null&&_.targets_config&&typeof _.targets_config=="object"?ht(_.targets_config):ia(m.value);m.value=B,te.value=!1}async function Ah(_){const C=_.trim();if(C!==""){A.value=!0;try{const U=await Ns(Jt("presetsLoad",C),{}),B=(U==null?void 0:U.preset)??{},ge=Array.isArray(B==null?void 0:B.warnings)?B.warnings:Array.isArray(U==null?void 0:U.warnings)?U.warnings:[];if(ge.length){const Oe=`Some items in the saved profile are no longer available:

${ge.map(Qe=>` ${Qe}`).join(`
`)}

Apply the remaining values?`;if(!window.confirm(Oe)){F.value=ge,A.value=!1;return}}Mh(B),F.value=ge,$.value=C,t(`Profile "${C}" applied`),N(!0),_a().catch(Oe=>console.warn("[opsdash] refresh presets after load failed",Oe))}catch(U){console.error(U),s("Failed to load preset")}finally{A.value=!1}}}async function Dh(_){const C=_.trim();if(C!=="")try{const U=await $h(Jt("presetsDelete",C));u.value=Array.isArray(U==null?void 0:U.presets)?U.presets:u.value,t(`Profile "${C}" deleted`),$.value===C&&($.value=null)}catch(U){console.error(U),s("Failed to delete preset")}}function Ph(){F.value=[]}function Ih(_){ae.value=_?z.value.map(C=>C.id):[]}function Eh(_){J.value!==_&&(J.value=_)}async function Nh(_,C){var Oe;const U={};if(!_)return U;const B=((Oe=window.OC)==null?void 0:Oe.requestToken)||window.oc_requesttoken||"",ge=Es();for(const Qe of C)try{const Ls=`${ge}/remote.php/dav/calendars/${encodeURIComponent(_)}/${encodeURIComponent(Qe)}/`,Oh=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;_n();const xo=await fetch(Ls,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:B},body:Oh});if(!xo.ok)continue;const Hh=await xo.text();_n();const So=Hh.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);So&&(U[Qe]=So[1])}catch{}return U}function Lh(){}return as(()=>{console.info("[opsdash] start"),S().catch(_=>{console.error(_),alert("Initial load failed")}),_a().catch(_=>console.warn("[opsdash] presets fetch failed",_))}),yt(d,()=>{p.value=0,S().catch(console.error)}),(_,C)=>{const U=Ei("NcAppSidebarToggle");return x(),T("div",{id:"opsdash",class:he(["opsdash",{"is-nav-collapsed":!n.value}])},[ie(k(ac),{"app-name":"Operational Dashboard","show-navigation":n.value},{navigation:He(()=>[ie(vg,{id:"opsdash-sidebar",calendars:k(z),selected:k(ae),"groups-by-id":k(Y),"is-loading":k(ye),range:d.value,offset:p.value,from:k(Re),to:k(Te),"targets-week":k(X),"targets-month":k(h),"targets-config":k(m),"notes-prev":k(q),"notes-curr-draft":k(_e),"notes-label-prev":_h.value,"notes-label-curr":kh.value,"notes-label-prev-title":xh.value,"notes-label-curr-title":Sh.value,"is-saving-note":k(Pe),"active-day-mode":J.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,presets:u.value,"presets-loading":b.value,"preset-saving":v.value,"preset-applying":A.value,"preset-warnings":F.value,onLoad:k(S),"onUpdate:range":C[0]||(C[0]=B=>{d.value=B,p.value=0,k(S)()}),"onUpdate:offset":C[1]||(C[1]=B=>{p.value=B,k(S)()}),onSelectAll:C[2]||(C[2]=B=>Ih(B)),onToggleCalendar:C[3]||(C[3]=B=>j(B)),onSetGroup:C[4]||(C[4]=B=>O(B.id,B.n)),onSetTarget:C[5]||(C[5]=B=>R(B.id,B.h)),"onUpdate:notes":C[6]||(C[6]=B=>_e.value=B),onSaveNotes:k(Be),"onUpdate:targetsConfig":H,"onUpdate:activeMode":Eh,onToggleNav:a,onSavePreset:Th,onLoadPreset:Ah,onDeletePreset:Dh,onRefreshPresets:_a,onClearPresetWarnings:Ph},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","presets","presets-loading","preset-saving","preset-applying","preset-warnings","onLoad","onSaveNotes"])]),"sidebar-toggle":He(()=>[ie(U,{open:n.value,onToggle:a},null,8,["open"])]),default:He(()=>[l("div",$g,[l("div",Tg,[l("div",Mg,[g.value?(x(),T("div",Ag,[l("button",{class:"range-toolbar__btn",type:"button",onClick:a,"aria-expanded":n.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},D(o.value),9,Dg),l("button",{class:"range-toolbar__btn",type:"button",disabled:k(ye),onClick:L}," Refresh ",8,Pg),C[11]||(C[11]=l("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),l("button",{class:"range-toolbar__btn",type:"button",disabled:k(ye),onClick:M,"aria-pressed":d.value==="month"},D(c.value),9,Ig),l("div",Eg,[l("button",{class:"range-toolbar__btn",type:"button",disabled:k(ye),onClick:W},"  ",8,Ng),l("span",{class:"range-toolbar__label",title:f.value},D(f.value),9,Lg),l("button",{class:"range-toolbar__btn",type:"button",disabled:k(ye),onClick:ee},"  ",8,Og)])])):G("",!0),l("div",Hg,[l("div",Rg,[l("img",{src:yh.value,onError:bh,class:"app-icon",alt:"","aria-hidden":"true"},null,40,Fg),C[12]||(C[12]=l("span",null,"Operational Dashboard",-1)),l("span",{class:"chip",textContent:D(d.value.toUpperCase())},null,8,Wg)]),l("div",Bg,[k(ye)?(x(),ze(k(oc),{key:0,size:16})):G("",!0),l("span",{textContent:D(k(Ne))},null,8,jg),k($e)?(x(),T("span",Ug," Partial data")):G("",!0)])]),k($e)?(x(),T("div",{key:1,class:"banner warn",title:re.value},[C[13]||(C[13]=ve(" Showing partial data to keep things fast. ",-1)),k(de)&&k(de).totalProcessed!=null?(x(),T(ue,{key:0},[ve(" Processed "+D(k(de).totalProcessed)+" items. ",1)],64)):G("",!0)],8,Vg)):G("",!0),l("div",zg,[ie(uu,{summary:k(fe),mode:J.value,config:k(m).timeSummary},null,8,["summary","mode","config"]),ie(Lu,{summary:se.value,config:k(m),groups:k(it)},null,8,["summary","config","groups"]),ie(Vu,{summary:k(ft),"range-label":V.value,"category-hint":Je.value,config:Se.value},null,8,["summary","range-label","category-hint","config"]),ie(Xu,{overview:k(cs),"range-label":V.value,config:Ue.value},null,8,["overview","range-label","config"])]),l("div",Kg,[l("a",{href:"#",class:he({active:i.value==="cal"}),onClick:C[7]||(C[7]=gn(B=>i.value="cal",["prevent"]))},"By Calendar",2),l("a",{href:"#",class:he({active:i.value==="day"}),onClick:C[8]||(C[8]=gn(B=>i.value="day",["prevent"]))},"By Day",2),l("a",{href:"#",class:he({active:i.value==="top"}),onClick:C[9]||(C[9]=gn(B=>i.value="top",["prevent"]))},"Longest Tasks",2),l("a",{href:"#",class:he({active:i.value==="heat"}),onClick:C[10]||(C[10]=gn(B=>i.value="heat",["prevent"]))},"Heatmap",2)]),bs(l("div",Gg,[k(Ie).length===0?(x(),ze(k(hn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),T(ue,{key:1},[ie(Dc,{rows:k(Ie),n2:ba,targets:pe.value,groups:k(it)},null,8,["rows","targets","groups"]),k(m).ui.showCalendarCharts&&(k(w).pie||k(w).stacked)?(x(),T("div",qg,[C[16]||(C[16]=l("h3",{class:"section-title"},"Calendars (all)",-1)),l("div",Jg,[l("div",Zg,[C[14]||(C[14]=l("div",{class:"chart-card__title"},"Distribution by calendar",-1)),ie(uo,{data:k(w).pie,"colors-by-id":k(Q),"colors-by-name":k(le)},null,8,["data","colors-by-id","colors-by-name"])]),l("div",Yg,[C[15]||(C[15]=l("div",{class:"chart-card__title"},"Hours per day",-1)),ie(fo,{stacked:k(w).stacked,legacy:k(Le).perDay,"colors-by-id":k(Q)},null,8,["stacked","legacy","colors-by-id"])])])])):G("",!0),k(m).ui.showCategoryCharts&&k(it).length?(x(),T("div",Xg,[C[19]||(C[19]=l("h3",{class:"section-title"},"Categories",-1)),(x(!0),T(ue,null,je(k(it),B=>{var ge,Oe,Qe,Ls;return x(),T(ue,{key:"cat-charts-"+B.id},[(ge=k(y)[B.id])!=null&&ge.pie||(Oe=k(y)[B.id])!=null&&Oe.stacked?(x(),T("div",Qg,[l("div",eh,[l("span",{class:"dot",style:At({background:k(st)[B.id]||"var(--brand)"})},null,4),l("span",th,D(B.label),1)]),l("div",sh,[l("div",nh,[C[17]||(C[17]=l("div",{class:"chart-card__title"},"Calendar share",-1)),ie(uo,{data:(Qe=k(y)[B.id])==null?void 0:Qe.pie,"colors-by-id":k(Q),"colors-by-name":k(le)},null,8,["data","colors-by-id","colors-by-name"])]),l("div",ah,[C[18]||(C[18]=l("div",{class:"chart-card__title"},"Hours per day",-1)),ie(fo,{stacked:(Ls=k(y)[B.id])==null?void 0:Ls.stacked,legacy:null,"colors-by-id":k(Q)},null,8,["stacked","colors-by-id"])])])])):G("",!0)],64)}),128))])):G("",!0)],64))],512),[[fn,i.value==="cal"]]),bs(l("div",rh,[k(We).length===0?(x(),ze(k(hn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),ze(Oc,{key:1,rows:k(We),n2:ba,link:vh},null,8,["rows"]))],512),[[fn,i.value==="day"]]),bs(l("div",oh,[k(mt).length===0?(x(),ze(k(hn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),ze(Kc,{key:1,rows:k(mt),n2:ba,"details-index":us.value,onToggle:ma},null,8,["rows","details-index"]))],512),[[fn,i.value==="top"]]),bs(l("div",ih,[!k(Le).hod||!k(Le).hod.matrix||k(Le).hod.matrix.length===0?(x(),ze(k(hn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),T(ue,{key:1},[ie(lc,{hod:k(Le).hod},null,8,["hod"]),C[20]||(C[20]=l("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[fn,i.value==="heat"]]),l("div",lh,[C[22]||(C[22]=ve(" Powered by ",-1)),C[23]||(C[23]=l("strong",null,"Gellert Innovation",-1)),C[24]||(C[24]=ve("  Built with ",-1)),C[25]||(C[25]=l("span",{class:"mono"},"opsdash",-1)),Ps.value?(x(),T(ue,{key:0},[ve(" v"+D(Ps.value),1)],64)):G("",!0),Is.value?(x(),T(ue,{key:1},[C[21]||(C[21]=ve("  ",-1)),l("a",{href:Is.value,target:"_blank",rel:"noreferrer noopener"},"Changelog",8,ch)],64)):G("",!0)])])])])]),_:1},8,["show-navigation"])],2)}}});let Ds=null,ga=null,_o=!1;function dh(){if(!(typeof window>"u"))try{wn(),fh()}catch(e){mh()&&console.warn("[opsdash] theme boot install failed",e)}}function fh(){if(Ds||ga||_o)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Ds=new MutationObserver(()=>wn()),e.forEach(t=>{Ds==null||Ds.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>wn();typeof t.addEventListener=="function"?(t.addEventListener("change",s),ga=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),ga=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",wn),_o=!0}function wn(){const e=ph();if(!e)return;["icon","shortcut icon"].forEach(s=>{let n=document.querySelector(`link[rel="${s}"]`);n||(n=document.createElement("link"),n.rel=s,document.head.appendChild(n)),n.type="image/svg+xml",n.href=e})}function ph(){const e=gh()==="dark",t=hh(),s=t("favicon.svg");if(s)return s;if(e){const a=t("app-dark.svg");if(a)return a}const n=t(e?"app-dark.svg":"app.svg");return n||"/apps-extra/opsdash/img/favicon.svg"}function gh(){var n,a,r,o,i;const e=(n=document.documentElement)==null?void 0:n.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(a=document.body)==null?void 0:a.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function hh(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function mh(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function ha(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=tc(uh);t.config.errorHandler=(a,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",d={err:a,info:o,name:i,stack:a instanceof Error?a.stack:void 0},p=window;Array.isArray(p.__opsdashErrors)||(p.__opsdashErrors=[]),p.__opsdashErrors.push(d),console.error("[opsdash] Vue error",d)};const s=t.mount(e),n=window;n.__opsdashApp=t,n.__opsdashRoot=s,dh(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(ha,50):window.addEventListener("DOMContentLoaded",ha,{once:!0})}ha()})();
