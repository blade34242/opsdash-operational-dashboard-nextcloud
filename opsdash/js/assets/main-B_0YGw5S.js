(function(){"use strict";var Ba=document.createElement("style");Ba.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-054cbd84]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-054cbd84]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-054cbd84]{font-size:12px}.activity-card__meta[data-v-054cbd84],.activity-card__extra[data-v-054cbd84]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-054cbd84],.activity-card__extra strong[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-054cbd84]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-054cbd84]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.onboarding-action[data-v-b1f9b14e]{display:flex;justify-content:flex-end;margin-bottom:8px}.onboarding-btn[data-v-b1f9b14e]{font-size:.85rem}.forecast-block[data-v-4d86aa83]{margin-top:16px;display:flex;flex-direction:column;gap:8px}.forecast-block .field[data-v-4d86aa83]{max-width:100%}.forecast-block select[data-v-4d86aa83]{width:100%}.forecast-hint[data-v-4d86aa83]{margin:0}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.sb-title[data-v-d602d23c]{font-weight:600;margin-bottom:6px}.sb-description[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.preset-form[data-v-d602d23c]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.preset-label[data-v-d602d23c]{font-size:12px;font-weight:600}.preset-form input[data-v-d602d23c]{width:100%;padding:6px 8px;border-radius:4px;border:1px solid var(--color-border);background:var(--color-main-background);color:var(--color-main-text)}.preset-save[data-v-d602d23c]{align-self:flex-start}.preset-error[data-v-d602d23c]{color:var(--color-error);font-size:12px}.preset-warnings[data-v-d602d23c]{border:1px solid var(--color-warning);background:color-mix(in srgb,var(--color-warning) 10%,transparent);border-radius:6px;padding:8px;margin-bottom:12px}.warnings-title[data-v-d602d23c]{font-weight:600;margin-bottom:4px}.preset-warnings ul[data-v-d602d23c]{padding-left:18px;margin:0 0 6px}.preset-clear[data-v-d602d23c]{padding:2px 6px}.preset-header[data-v-d602d23c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.preset-header h3[data-v-d602d23c]{margin:0;font-size:13px;font-weight:600}.preset-empty[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary)}.preset-list[data-v-d602d23c]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.preset-item[data-v-d602d23c]{border:1px solid var(--color-border);border-radius:6px;padding:8px;display:flex;flex-direction:column;gap:6px;background:var(--color-main-background)}.preset-meta[data-v-d602d23c]{display:flex;flex-direction:column;gap:2px}.preset-name[data-v-d602d23c]{font-weight:600}.preset-info[data-v-d602d23c]{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:var(--text-color-tertiary)}.preset-actions[data-v-d602d23c]{display:flex;gap:6px}.input-message[data-v-25908492]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-25908492]{color:var(--neg)}.input-message.warning[data-v-25908492]{color:var(--warning)}.onboarding-fade-enter-active[data-v-e0936581],.onboarding-fade-leave-active[data-v-e0936581]{transition:opacity .2s ease}.onboarding-fade-enter-from[data-v-e0936581],.onboarding-fade-leave-to[data-v-e0936581]{opacity:0}.onboarding-overlay[data-v-e0936581]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2000;display:flex;align-items:center;justify-content:center;padding:24px}.onboarding-backdrop[data-v-e0936581]{position:absolute;top:0;right:0;bottom:0;left:0;background:#0f172a73}.onboarding-panel[data-v-e0936581]{position:relative;z-index:1;width:min(960px,100%);max-height:calc(100vh - 48px);background:var(--color-main-background, #fff);border-radius:12px;box-shadow:0 18px 48px #0f172a59;display:flex;flex-direction:column;padding:24px 28px}.onboarding-header[data-v-e0936581]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:16px}.onboarding-actions[data-v-e0936581]{display:flex;align-items:center;gap:12px}.onboarding-title h2[data-v-e0936581]{margin:0;font-size:1.6rem}.onboarding-title .subtitle[data-v-e0936581]{margin:4px 0 0;color:var(--color-text-light)}.skip-link[data-v-e0936581]{background:none;border:none;color:var(--color-primary);cursor:pointer;font-size:.95rem}.close-btn[data-v-e0936581]{background:none;border:none;font-size:1.4rem;line-height:1;cursor:pointer;color:var(--color-text-light)}.close-btn[data-v-e0936581]:hover{color:var(--color-primary)}.onboarding-body[data-v-e0936581]{flex:1;overflow-y:auto;padding-right:8px;margin-right:-8px}.onboarding-step h3[data-v-e0936581]{margin-top:0}.highlights[data-v-e0936581]{padding-left:18px}.hint[data-v-e0936581]{color:var(--color-text-light);margin-top:12px}.strategy-grid[data-v-e0936581]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.strategy-card[data-v-e0936581]{border:1px solid var(--color-border);border-radius:8px;padding:16px;cursor:pointer;display:flex;flex-direction:column;gap:8px;transition:border-color .15s ease,box-shadow .15s ease}.strategy-card.active[data-v-e0936581]{border-color:var(--color-primary);box-shadow:0 0 0 2px #3b82f633}.strategy-card h4[data-v-e0936581]{margin:0}.strategy-card .subtitle[data-v-e0936581]{color:var(--color-text-light);margin:0}.strategy-card footer[data-v-e0936581]{margin-top:auto;font-size:.85rem;color:var(--color-text-light)}.calendar-list[data-v-e0936581]{display:grid;gap:8px;margin-top:8px}.calendar-item[data-v-e0936581]{display:grid;grid-template-columns:auto auto 1fr;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--color-border);border-radius:6px}.calendar-item.checked[data-v-e0936581]{border-color:var(--color-primary)}.calendar-item input[data-v-e0936581]{margin:0}.calendar-item .dot[data-v-e0936581]{width:12px;height:12px;border-radius:50%}.warning[data-v-e0936581]{color:var(--color-error);margin-top:12px}.review-grid[data-v-e0936581]{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.review-grid h5[data-v-e0936581]{margin:0 0 8px;font-size:.95rem;color:var(--color-text-light)}.onboarding-footer[data-v-e0936581]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}body.opsdash-onboarding-lock{overflow:hidden}
/*$vite$:1*/`,document.head.appendChild(Ba);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function On(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ee={},as=[],_t=()=>{},ja=()=>!1,Ks=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Hn=e=>e.startsWith("onUpdate:"),Ve=Object.assign,Fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},li=Object.prototype.hasOwnProperty,$e=(e,t)=>li.call(e,t),ue=Array.isArray,rs=e=>qs(e)==="[object Map]",Ua=e=>qs(e)==="[object Set]",me=e=>typeof e=="function",Fe=e=>typeof e=="string",Dt=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",Va=e=>(Oe(e)||me(e))&&me(e.then)&&me(e.catch),za=Object.prototype.toString,qs=e=>za.call(e),ci=e=>qs(e).slice(8,-1),Ka=e=>qs(e)==="[object Object]",Rn=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ws=On(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ui=/-(\w)/g,pt=Gs(e=>e.replace(ui,(t,s)=>s?s.toUpperCase():"")),di=/\B([A-Z])/g,Bt=Gs(e=>e.replace(di,"-$1").toLowerCase()),Js=Gs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wn=Gs(e=>e?`on${Js(e)}`:""),jt=(e,t)=>!Object.is(e,t),Zs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},qa=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Bn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},fi=e=>{const t=Fe(e)?Number(e):NaN;return isNaN(t)?e:t};let Ga;const Ys=()=>Ga||(Ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kt(e){if(ue(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=Fe(n)?mi(n):kt(n);if(a)for(const r in a)t[r]=a[r]}return t}else if(Fe(e)||Oe(e))return e}const gi=/;(?![^(]*\))/g,pi=/:([^]+)/,hi=/\/\*[^]*?\*\//g;function mi(e){const t={};return e.replace(hi,"").split(gi).forEach(s=>{if(s){const n=s.split(pi);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function be(e){let t="";if(Fe(e))t=e;else if(ue(e))for(let s=0;s<e.length;s++){const n=be(e[s]);n&&(t+=n+" ")}else if(Oe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const vi=On("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ja(e){return!!e||e===""}const Za=e=>!!(e&&e.__v_isRef===!0),D=e=>Fe(e)?e:e==null?"":ue(e)||Oe(e)&&(e.toString===za||!me(e.toString))?Za(e)?D(e.value):JSON.stringify(e,Ya,2):String(e),Ya=(e,t)=>Za(t)?Ya(e,t.value):rs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,a],r)=>(s[jn(n,r)+" =>"]=a,s),{})}:Ua(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>jn(s))}:Dt(t)?jn(t):Oe(t)&&!ue(t)&&!Ka(t)?String(t):t,jn=(e,t="")=>{var s;return Dt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let at;class yi{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=at,!t&&at&&(this.index=(at.scopes||(at.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=at;try{return at=this,t()}finally{at=s}}}on(){++this._on===1&&(this.prevScope=at,at=this)}off(){this._on>0&&--this._on===0&&(at=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function bi(){return at}let Le;const Un=new WeakSet;class Xa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,at&&at.active&&at.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Un.has(this)&&(Un.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||er(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rr(this),tr(this);const t=Le,s=vt;Le=this,vt=!0;try{return this.fn()}finally{sr(this),Le=t,vt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qn(t);this.deps=this.depsTail=void 0,rr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Un.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kn(this)&&this.run()}get dirty(){return Kn(this)}}let Qa=0,_s,ks;function er(e,t=!1){if(e.flags|=8,t){e.next=ks,ks=e;return}e.next=_s,_s=e}function Vn(){Qa++}function zn(){if(--Qa>0)return;if(ks){let t=ks;for(ks=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;_s;){let t=_s;for(_s=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function tr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sr(e){let t,s=e.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),qn(n),wi(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=s}function Kn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(nr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function nr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===xs)||(e.globalVersion=xs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Kn(e))))return;e.flags|=2;const t=e.dep,s=Le,n=vt;Le=e,vt=!0;try{tr(e);const a=e.fn(e._value);(t.version===0||jt(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Le=s,vt=n,sr(e),e.flags&=-3}}function qn(e,t=!1){const{dep:s,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)qn(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function wi(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let vt=!0;const ar=[];function xt(){ar.push(vt),vt=!1}function St(){const e=ar.pop();vt=e===void 0?!0:e}function rr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Le;Le=void 0;try{t()}finally{Le=s}}}let xs=0;class _i{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Le||!vt||Le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Le)s=this.activeLink=new _i(Le,this),Le.deps?(s.prevDep=Le.depsTail,Le.depsTail.nextDep=s,Le.depsTail=s):Le.deps=Le.depsTail=s,or(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Le.depsTail,s.nextDep=void 0,Le.depsTail.nextDep=s,Le.depsTail=s,Le.deps===s&&(Le.deps=n)}return s}trigger(t){this.version++,xs++,this.notify(t)}notify(t){Vn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{zn()}}}function or(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)or(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Xs=new WeakMap,Zt=Symbol(""),Jn=Symbol(""),Ss=Symbol("");function Xe(e,t,s){if(vt&&Le){let n=Xs.get(e);n||Xs.set(e,n=new Map);let a=n.get(s);a||(n.set(s,a=new Gn),a.map=n,a.key=s),a.track()}}function Et(e,t,s,n,a,r){const o=Xs.get(e);if(!o){xs++;return}const i=l=>{l&&l.trigger()};if(Vn(),t==="clear")o.forEach(i);else{const l=ue(e),g=l&&Rn(s);if(l&&s==="length"){const f=Number(n);o.forEach((d,p)=>{(p==="length"||p===Ss||!Dt(p)&&p>=f)&&i(d)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),g&&i(o.get(Ss)),t){case"add":l?g&&i(o.get("length")):(i(o.get(Zt)),rs(e)&&i(o.get(Jn)));break;case"delete":l||(i(o.get(Zt)),rs(e)&&i(o.get(Jn)));break;case"set":rs(e)&&i(o.get(Zt));break}}zn()}function ki(e,t){const s=Xs.get(e);return s&&s.get(t)}function os(e){const t=Se(e);return t===e?t:(Xe(t,"iterate",Ss),ht(e)?t:t.map(qe))}function Qs(e){return Xe(e=Se(e),"iterate",Ss),e}const xi={__proto__:null,[Symbol.iterator](){return Zn(this,Symbol.iterator,qe)},concat(...e){return os(this).concat(...e.map(t=>ue(t)?os(t):t))},entries(){return Zn(this,"entries",e=>(e[1]=qe(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(qe),arguments)},find(e,t){return It(this,"find",e,t,qe,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,qe,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return Yn(this,"includes",e)},indexOf(...e){return Yn(this,"indexOf",e)},join(e){return os(this).join(e)},lastIndexOf(...e){return Yn(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return Cs(this,"pop")},push(...e){return Cs(this,"push",e)},reduce(e,...t){return ir(this,"reduce",e,t)},reduceRight(e,...t){return ir(this,"reduceRight",e,t)},shift(){return Cs(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return Cs(this,"splice",e)},toReversed(){return os(this).toReversed()},toSorted(e){return os(this).toSorted(e)},toSpliced(...e){return os(this).toSpliced(...e)},unshift(...e){return Cs(this,"unshift",e)},values(){return Zn(this,"values",qe)}};function Zn(e,t,s){const n=Qs(e),a=n[t]();return n!==e&&!ht(e)&&(a._next=a.next,a.next=()=>{const r=a._next();return r.value&&(r.value=s(r.value)),r}),a}const Si=Array.prototype;function It(e,t,s,n,a,r){const o=Qs(e),i=o!==e&&!ht(e),l=o[t];if(l!==Si[t]){const d=l.apply(e,r);return i?qe(d):d}let g=s;o!==e&&(i?g=function(d,p){return s.call(this,qe(d),p,e)}:s.length>2&&(g=function(d,p){return s.call(this,d,p,e)}));const f=l.call(o,g,n);return i&&a?a(f):f}function ir(e,t,s,n){const a=Qs(e);let r=s;return a!==e&&(ht(e)?s.length>3&&(r=function(o,i,l){return s.call(this,o,i,l,e)}):r=function(o,i,l){return s.call(this,o,qe(i),l,e)}),a[t](r,...n)}function Yn(e,t,s){const n=Se(e);Xe(n,"iterate",Ss);const a=n[t](...s);return(a===-1||a===!1)&&Qn(s[0])?(s[0]=Se(s[0]),n[t](...s)):a}function Cs(e,t,s=[]){xt(),Vn();const n=Se(e)[t].apply(e,s);return zn(),St(),n}const Ci=On("__proto__,__v_isRef,__isVue"),lr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Dt));function $i(e){Dt(e)||(e=String(e));const t=Se(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class cr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(a?r?hr:pr:r?gr:fr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=ue(t);if(!a){let l;if(o&&(l=xi[s]))return l;if(s==="hasOwnProperty")return $i}const i=Reflect.get(t,s,ze(t)?t:n);return(Dt(s)?lr.has(s):Ci(s))||(a||Xe(t,"get",s),r)?i:ze(i)?o&&Rn(s)?i:i.value:Oe(i)?a?mr(i):Ct(i):i}}class ur extends cr{constructor(t=!1){super(!1,t)}set(t,s,n,a){let r=t[s];if(!this._isShallow){const l=Ut(r);if(!ht(n)&&!Ut(n)&&(r=Se(r),n=Se(n)),!ue(t)&&ze(r)&&!ze(n))return l||(r.value=n),!0}const o=ue(t)&&Rn(s)?Number(s)<t.length:$e(t,s),i=Reflect.set(t,s,n,ze(t)?t:a);return t===Se(a)&&(o?jt(n,r)&&Et(t,"set",s,n):Et(t,"add",s,n)),i}deleteProperty(t,s){const n=$e(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&n&&Et(t,"delete",s,void 0),a}has(t,s){const n=Reflect.has(t,s);return(!Dt(s)||!lr.has(s))&&Xe(t,"has",s),n}ownKeys(t){return Xe(t,"iterate",ue(t)?"length":Zt),Reflect.ownKeys(t)}}class dr extends cr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ti=new ur,Mi=new dr,Ai=new ur(!0),Di=new dr(!0),Xn=e=>e,en=e=>Reflect.getPrototypeOf(e);function Ei(e,t,s){return function(...n){const a=this.__v_raw,r=Se(a),o=rs(r),i=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,g=a[e](...n),f=s?Xn:t?an:qe;return!t&&Xe(r,"iterate",l?Jn:Zt),{next(){const{value:d,done:p}=g.next();return p?{value:d,done:p}:{value:i?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function tn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ii(e,t){const s={get(a){const r=this.__v_raw,o=Se(r),i=Se(a);e||(jt(a,i)&&Xe(o,"get",a),Xe(o,"get",i));const{has:l}=en(o),g=t?Xn:e?an:qe;if(l.call(o,a))return g(r.get(a));if(l.call(o,i))return g(r.get(i));r!==o&&r.get(a)},get size(){const a=this.__v_raw;return!e&&Xe(Se(a),"iterate",Zt),a.size},has(a){const r=this.__v_raw,o=Se(r),i=Se(a);return e||(jt(a,i)&&Xe(o,"has",a),Xe(o,"has",i)),a===i?r.has(a):r.has(a)||r.has(i)},forEach(a,r){const o=this,i=o.__v_raw,l=Se(i),g=t?Xn:e?an:qe;return!e&&Xe(l,"iterate",Zt),i.forEach((f,d)=>a.call(r,g(f),g(d),o))}};return Ve(s,e?{add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear")}:{add(a){!t&&!ht(a)&&!Ut(a)&&(a=Se(a));const r=Se(this);return en(r).has.call(r,a)||(r.add(a),Et(r,"add",a,a)),this},set(a,r){!t&&!ht(r)&&!Ut(r)&&(r=Se(r));const o=Se(this),{has:i,get:l}=en(o);let g=i.call(o,a);g||(a=Se(a),g=i.call(o,a));const f=l.call(o,a);return o.set(a,r),g?jt(r,f)&&Et(o,"set",a,r):Et(o,"add",a,r),this},delete(a){const r=Se(this),{has:o,get:i}=en(r);let l=o.call(r,a);l||(a=Se(a),l=o.call(r,a)),i&&i.call(r,a);const g=r.delete(a);return l&&Et(r,"delete",a,void 0),g},clear(){const a=Se(this),r=a.size!==0,o=a.clear();return r&&Et(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=Ei(a,e,t)}),s}function sn(e,t){const s=Ii(e,t);return(n,a,r)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get($e(s,a)&&a in n?s:n,a,r)}const Pi={get:sn(!1,!1)},Ni={get:sn(!1,!0)},Li={get:sn(!0,!1)},Oi={get:sn(!0,!0)},fr=new WeakMap,gr=new WeakMap,pr=new WeakMap,hr=new WeakMap;function Hi(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fi(e){return e.__v_skip||!Object.isExtensible(e)?0:Hi(ci(e))}function Ct(e){return Ut(e)?e:nn(e,!1,Ti,Pi,fr)}function Ri(e){return nn(e,!1,Ai,Ni,gr)}function mr(e){return nn(e,!0,Mi,Li,pr)}function xv(e){return nn(e,!0,Di,Oi,hr)}function nn(e,t,s,n,a){if(!Oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Fi(e);if(r===0)return e;const o=a.get(e);if(o)return o;const i=new Proxy(e,r===2?n:s);return a.set(e,i),i}function is(e){return Ut(e)?is(e.__v_raw):!!(e&&e.__v_isReactive)}function Ut(e){return!!(e&&e.__v_isReadonly)}function ht(e){return!!(e&&e.__v_isShallow)}function Qn(e){return e?!!e.__v_raw:!1}function Se(e){const t=e&&e.__v_raw;return t?Se(t):e}function Wi(e){return!$e(e,"__v_skip")&&Object.isExtensible(e)&&qa(e,"__v_skip",!0),e}const qe=e=>Oe(e)?Ct(e):e,an=e=>Oe(e)?mr(e):e;function ze(e){return e?e.__v_isRef===!0:!1}function re(e){return Bi(e,!1)}function Bi(e,t){return ze(e)?e:new ji(e,t)}class ji{constructor(t,s){this.dep=new Gn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Se(t),this._value=s?t:qe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||ht(t)||Ut(t);t=n?t:Se(t),jt(t,s)&&(this._rawValue=t,this._value=n?t:qe(t),this.dep.trigger())}}function k(e){return ze(e)?e.value:e}const Ui={get:(e,t,s)=>t==="__v_raw"?e:k(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const a=e[t];return ze(a)&&!ze(s)?(a.value=s,!0):Reflect.set(e,t,s,n)}};function vr(e){return is(e)?e:new Proxy(e,Ui)}function ea(e){const t=ue(e)?new Array(e.length):{};for(const s in e)t[s]=zi(e,s);return t}class Vi{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ki(Se(this._object),this._key)}}function zi(e,t,s){const n=e[t];return ze(n)?n:new Vi(e,t,s)}class Ki{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Gn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return er(this,!0),!0}get value(){const t=this.dep.track();return nr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qi(e,t,s=!1){let n,a;return me(e)?n=e:(n=e.get,a=e.set),new Ki(n,a,s)}const rn={},on=new WeakMap;let Yt;function Gi(e,t=!1,s=Yt){if(s){let n=on.get(s);n||on.set(s,n=[]),n.push(e)}}function Ji(e,t,s=Ee){const{immediate:n,deep:a,once:r,scheduler:o,augmentJob:i,call:l}=s,g=M=>a?M:ht(M)||a===!1||a===0?Pt(M,1):Pt(M);let f,d,p,c,m=!1,h=!1;if(ze(e)?(d=()=>e.value,m=ht(e)):is(e)?(d=()=>g(e),m=!0):ue(e)?(h=!0,m=e.some(M=>is(M)||ht(M)),d=()=>e.map(M=>{if(ze(M))return M.value;if(is(M))return g(M);if(me(M))return l?l(M,2):M()})):me(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){xt();try{p()}finally{St()}}const M=Yt;Yt=f;try{return l?l(e,3,[c]):e(c)}finally{Yt=M}}:d=_t,t&&a){const M=d,N=a===!0?1/0:a;d=()=>Pt(M(),N)}const y=bi(),$=()=>{f.stop(),y&&y.active&&Fn(y.effects,f)};if(r&&t){const M=t;t=(...N)=>{M(...N),$()}}let _=h?new Array(e.length).fill(rn):rn;const S=M=>{if(!(!(f.flags&1)||!f.dirty&&!M))if(t){const N=f.run();if(a||m||(h?N.some((ee,Y)=>jt(ee,_[Y])):jt(N,_))){p&&p();const ee=Yt;Yt=f;try{const Y=[N,_===rn?void 0:h&&_[0]===rn?[]:_,c];_=N,l?l(t,3,Y):t(...Y)}finally{Yt=ee}}}else f.run()};return i&&i(S),f=new Xa(d),f.scheduler=o?()=>o(S,!1):S,c=M=>Gi(M,!1,f),p=f.onStop=()=>{const M=on.get(f);if(M){if(l)l(M,4);else for(const N of M)N();on.delete(f)}},t?n?S(!0):_=f.run():o?o(S.bind(null,!0),!0):f.run(),$.pause=f.pause.bind(f),$.resume=f.resume.bind(f),$.stop=$,$}function Pt(e,t=1/0,s){if(t<=0||!Oe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ze(e))Pt(e.value,t,s);else if(ue(e))for(let n=0;n<e.length;n++)Pt(e[n],t,s);else if(Ua(e)||rs(e))e.forEach(n=>{Pt(n,t,s)});else if(Ka(e)){for(const n in e)Pt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Pt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $s=[];let ta=!1;function Sv(e,...t){if(ta)return;ta=!0,xt();const s=$s.length?$s[$s.length-1].component:null,n=s&&s.appContext.config.warnHandler,a=Zi();if(n)ls(n,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,a.map(({vnode:r})=>`at <${vo(s,r.type)}>`).join(`
`),a]);else{const r=[`[Vue warn]: ${e}`,...t];a.length&&r.push(`
`,...Yi(a)),console.warn(...r)}St(),ta=!1}function Zi(){let e=$s[$s.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function Yi(e){const t=[];return e.forEach((s,n)=>{t.push(...n===0?[]:[`
`],...Xi(s))}),t}function Xi({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,a=` at <${vo(e.component,e.type,n)}`,r=">"+s;return e.props?[a,...Qi(e.props),r]:[a+r]}function Qi(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(n=>{t.push(...yr(n,e[n]))}),s.length>3&&t.push(" ..."),t}function yr(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:ze(t)?(t=yr(e,Se(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):me(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Se(t),s?t:[`${e}=`,t])}function ls(e,t,s,n){try{return n?e(...n):e()}catch(a){ln(a,t,s)}}function yt(e,t,s,n){if(me(e)){const a=ls(e,t,s,n);return a&&Va(a)&&a.catch(r=>{ln(r,t,s)}),a}if(ue(e)){const a=[];for(let r=0;r<e.length;r++)a.push(yt(e[r],t,s,n));return a}}function ln(e,t,s,n=!0){const a=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Ee;if(t){let i=t.parent;const l=t.proxy,g=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const f=i.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,g)===!1)return}i=i.parent}if(r){xt(),ls(r,null,10,[e,l,g]),St();return}}el(e,s,a,n,o)}function el(e,t,s,n=!0,a=!1){if(a)throw e;console.error(e)}const tt=[];let $t=-1;const cs=[];let Vt=null,us=0;const br=Promise.resolve();let cn=null;function un(e){const t=cn||br;return e?t.then(this?e.bind(this):e):t}function tl(e){let t=$t+1,s=tt.length;for(;t<s;){const n=t+s>>>1,a=tt[n],r=Ts(a);r<e||r===e&&a.flags&2?t=n+1:s=n}return t}function sa(e){if(!(e.flags&1)){const t=Ts(e),s=tt[tt.length-1];!s||!(e.flags&2)&&t>=Ts(s)?tt.push(e):tt.splice(tl(t),0,e),e.flags|=1,wr()}}function wr(){cn||(cn=br.then(xr))}function sl(e){ue(e)?cs.push(...e):Vt&&e.id===-1?Vt.splice(us+1,0,e):e.flags&1||(cs.push(e),e.flags|=1),wr()}function _r(e,t,s=$t+1){for(;s<tt.length;s++){const n=tt[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;tt.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function kr(e){if(cs.length){const t=[...new Set(cs)].sort((s,n)=>Ts(s)-Ts(n));if(cs.length=0,Vt){Vt.push(...t);return}for(Vt=t,us=0;us<Vt.length;us++){const s=Vt[us];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Vt=null,us=0}}const Ts=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xr(e){try{for($t=0;$t<tt.length;$t++){const t=tt[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ls(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<tt.length;$t++){const t=tt[$t];t&&(t.flags&=-2)}$t=-1,tt.length=0,kr(),cn=null,(tt.length||cs.length)&&xr()}}let Ge=null,Sr=null;function dn(e){const t=Ge;return Ge=e,Sr=e&&e.type.__scopeId||null,t}function Ie(e,t=Ge,s){if(!t||e._n)return e;const n=(...a)=>{n._d&&io(-1);const r=dn(t);let o;try{o=e(...a)}finally{dn(r),n._d&&io(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ms(e,t){if(Ge===null)return e;const s=xn(Ge),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[r,o,i,l=Ee]=t[a];r&&(me(r)&&(r={mounted:r,updated:r}),r.deep&&Pt(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:l}))}return e}function Xt(e,t,s,n){const a=e.dirs,r=t&&t.dirs;for(let o=0;o<a.length;o++){const i=a[o];r&&(i.oldValue=r[o].value);let l=i.dir[n];l&&(xt(),yt(l,s,8,[e.el,i,e,t]),St())}}const nl=Symbol("_vte"),Cr=e=>e.__isTeleport,Nt=Symbol("_leaveCb"),fn=Symbol("_enterCb");function al(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qt(()=>{e.isMounted=!0}),hn(()=>{e.isUnmounting=!0}),e}const mt=[Function,Array],$r={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mt,onEnter:mt,onAfterEnter:mt,onEnterCancelled:mt,onBeforeLeave:mt,onLeave:mt,onAfterLeave:mt,onLeaveCancelled:mt,onBeforeAppear:mt,onAppear:mt,onAfterAppear:mt,onAppearCancelled:mt},Tr=e=>{const t=e.subTree;return t.component?Tr(t.component):t},rl={name:"BaseTransition",props:$r,setup(e,{slots:t}){const s=uo(),n=al();return()=>{const a=t.default&&Er(t.default(),!0);if(!a||!a.length)return;const r=Mr(a),o=Se(e),{mode:i}=o;if(n.isLeaving)return aa(r);const l=Dr(r);if(!l)return aa(r);let g=na(l,o,n,s,d=>g=d);l.type!==Qe&&As(l,g);let f=s.subTree&&Dr(s.subTree);if(f&&f.type!==Qe&&!ts(l,f)&&Tr(s).type!==Qe){let d=na(f,o,n,s);if(As(f,d),i==="out-in"&&l.type!==Qe)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,f=void 0},aa(r);i==="in-out"&&l.type!==Qe?d.delayLeave=(p,c,m)=>{const h=Ar(n,f);h[String(f.key)]=f,p[Nt]=()=>{c(),p[Nt]=void 0,delete g.delayedLeave,f=void 0},g.delayedLeave=()=>{m(),delete g.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return r}}};function Mr(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==Qe){t=s;break}}return t}const ol=rl;function Ar(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function na(e,t,s,n,a){const{appear:r,mode:o,persisted:i=!1,onBeforeEnter:l,onEnter:g,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:c,onAfterLeave:m,onLeaveCancelled:h,onBeforeAppear:y,onAppear:$,onAfterAppear:_,onAppearCancelled:S}=t,M=String(e.key),N=Ar(s,e),ee=(J,B)=>{J&&yt(J,n,9,B)},Y=(J,B)=>{const se=B[1];ee(J,B),ue(J)?J.every(F=>F.length<=1)&&se():J.length<=1&&se()},V={mode:o,persisted:i,beforeEnter(J){let B=l;if(!s.isMounted)if(r)B=y||l;else return;J[Nt]&&J[Nt](!0);const se=N[M];se&&ts(e,se)&&se.el[Nt]&&se.el[Nt](),ee(B,[J])},enter(J){let B=g,se=f,F=d;if(!s.isMounted)if(r)B=$||g,se=_||f,F=S||d;else return;let z=!1;const te=J[fn]=K=>{z||(z=!0,K?ee(F,[J]):ee(se,[J]),V.delayedLeave&&V.delayedLeave(),J[fn]=void 0)};B?Y(B,[J,te]):te()},leave(J,B){const se=String(e.key);if(J[fn]&&J[fn](!0),s.isUnmounting)return B();ee(p,[J]);let F=!1;const z=J[Nt]=te=>{F||(F=!0,B(),te?ee(h,[J]):ee(m,[J]),J[Nt]=void 0,N[se]===e&&delete N[se])};N[se]=e,c?Y(c,[J,z]):z()},clone(J){const B=na(J,t,s,n,a);return a&&a(B),B}};return V}function aa(e){if(gn(e))return e=zt(e),e.children=null,e}function Dr(e){if(!gn(e))return Cr(e.type)&&e.children?Mr(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&me(s.default))return s.default()}}function As(e,t){e.shapeFlag&6&&e.component?(e.transition=t,As(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Er(e,t=!1,s){let n=[],a=0;for(let r=0;r<e.length;r++){let o=e[r];const i=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===de?(o.patchFlag&128&&a++,n=n.concat(Er(o.children,t,i))):(t||o.type!==Qe)&&n.push(i!=null?zt(o,{key:i}):o)}if(a>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Pe(e,t){return me(e)?Ve({name:e.name},t,{setup:e}):e}function Ir(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ds(e,t,s,n,a=!1){if(ue(e)){e.forEach((m,h)=>Ds(m,t&&(ue(t)?t[h]:t),s,n,a));return}if(ds(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ds(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?xn(n.component):n.el,o=a?null:r,{i,r:l}=e,g=t&&t.r,f=i.refs===Ee?i.refs={}:i.refs,d=i.setupState,p=Se(d),c=d===Ee?ja:m=>$e(p,m);if(g!=null&&g!==l){if(Fe(g))f[g]=null,c(g)&&(d[g]=null);else if(ze(g)){g.value=null;const m=t;m.k&&(f[m.k]=null)}}if(me(l))ls(l,i,12,[o,f]);else{const m=Fe(l),h=ze(l);if(m||h){const y=()=>{if(e.f){const $=m?c(l)?d[l]:f[l]:l.value;if(a)ue($)&&Fn($,r);else if(ue($))$.includes(r)||$.push(r);else if(m)f[l]=[r],c(l)&&(d[l]=f[l]);else{const _=[r];l.value=_,e.k&&(f[e.k]=_)}}else m?(f[l]=o,c(l)&&(d[l]=o)):h&&(l.value=o,e.k&&(f[e.k]=o))};o?(y.id=-1,ct(y,s)):y()}}}Ys().requestIdleCallback,Ys().cancelIdleCallback;const ds=e=>!!e.type.__asyncLoader,gn=e=>e.type.__isKeepAlive;function il(e,t){Pr(e,"a",t)}function ll(e,t){Pr(e,"da",t)}function Pr(e,t,s=et){const n=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(pn(t,n,s),s){let a=s.parent;for(;a&&a.parent;)gn(a.parent.vnode)&&cl(n,t,s,a),a=a.parent}}function cl(e,t,s,n){const a=pn(t,e,n,!0);ra(()=>{Fn(n[t],a)},s)}function pn(e,t,s=et,n=!1){if(s){const a=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{xt();const i=Os(s),l=yt(t,s,e,o);return i(),St(),l});return n?a.unshift(r):a.push(r),r}}const Lt=e=>(t,s=et)=>{(!Hs||e==="sp")&&pn(e,(...n)=>t(...n),s)},ul=Lt("bm"),Qt=Lt("m"),dl=Lt("bu"),fl=Lt("u"),hn=Lt("bum"),ra=Lt("um"),gl=Lt("sp"),pl=Lt("rtg"),hl=Lt("rtc");function ml(e,t=et){pn("ec",e,t)}const vl="components";function yl(e,t){return wl(vl,e,!0,t)||e}const bl=Symbol.for("v-ndc");function wl(e,t,s=!0,n=!1){const a=Ge||et;if(a){const r=a.type;{const i=mo(r,!1);if(i&&(i===t||i===pt(t)||i===Js(pt(t))))return r}const o=Nr(a[e]||r[e],t)||Nr(a.appContext[e],t);return!o&&n?r:o}}function Nr(e,t){return e&&(e[t]||e[pt(t)]||e[Js(pt(t))])}function He(e,t,s,n){let a;const r=s,o=ue(e);if(o||Fe(e)){const i=o&&is(e);let l=!1,g=!1;i&&(l=!ht(e),g=Ut(e),e=Qs(e)),a=new Array(e.length);for(let f=0,d=e.length;f<d;f++)a[f]=t(l?g?an(qe(e[f])):qe(e[f]):e[f],f,void 0,r)}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,r)}else if(Oe(e))if(e[Symbol.iterator])a=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);a=new Array(i.length);for(let l=0,g=i.length;l<g;l++){const f=i[l];a[l]=t(e[f],f,l,r)}}else a=[];return a}function _l(e,t,s={},n,a){if(Ge.ce||Ge.parent&&ds(Ge.parent)&&Ge.parent.ce)return s.name=t,x(),Re(de,null,[fe("slot",s,n)],64);let r=e[t];r&&r._c&&(r._d=!1),x();const o=r&&Lr(r(s)),i=s.key||o&&o.key,l=Re(de,{key:(i&&!Dt(i)?i:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function Lr(e){return e.some(t=>Ls(t)?!(t.type===Qe||t.type===de&&!Lr(t.children)):!0)?e:null}const oa=e=>e?go(e)?xn(e):oa(e.parent):null,Es=Ve(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oa(e.parent),$root:e=>oa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Rr(e),$forceUpdate:e=>e.f||(e.f=()=>{sa(e.update)}),$nextTick:e=>e.n||(e.n=un.bind(e.proxy)),$watch:e=>Ul.bind(e)}),ia=(e,t)=>e!==Ee&&!e.__isScriptSetup&&$e(e,t),kl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:r,accessCache:o,type:i,appContext:l}=e;let g;if(t[0]!=="$"){const c=o[t];if(c!==void 0)switch(c){case 1:return n[t];case 2:return a[t];case 4:return s[t];case 3:return r[t]}else{if(ia(n,t))return o[t]=1,n[t];if(a!==Ee&&$e(a,t))return o[t]=2,a[t];if((g=e.propsOptions[0])&&$e(g,t))return o[t]=3,r[t];if(s!==Ee&&$e(s,t))return o[t]=4,s[t];la&&(o[t]=0)}}const f=Es[t];let d,p;if(f)return t==="$attrs"&&Xe(e.attrs,"get",""),f(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(s!==Ee&&$e(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,$e(p,t))return p[t]},set({_:e},t,s){const{data:n,setupState:a,ctx:r}=e;return ia(a,t)?(a[t]=s,!0):n!==Ee&&$e(n,t)?(n[t]=s,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:a,propsOptions:r,type:o}},i){let l,g;return!!(s[i]||e!==Ee&&i[0]!=="$"&&$e(e,i)||ia(t,i)||(l=r[0])&&$e(l,i)||$e(n,i)||$e(Es,i)||$e(a.config.globalProperties,i)||(g=o.__cssModules)&&g[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:$e(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Or(e){return ue(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let la=!0;function xl(e){const t=Rr(e),s=e.proxy,n=e.ctx;la=!1,t.beforeCreate&&Hr(t.beforeCreate,e,"bc");const{data:a,computed:r,methods:o,watch:i,provide:l,inject:g,created:f,beforeMount:d,mounted:p,beforeUpdate:c,updated:m,activated:h,deactivated:y,beforeDestroy:$,beforeUnmount:_,destroyed:S,unmounted:M,render:N,renderTracked:ee,renderTriggered:Y,errorCaptured:V,serverPrefetch:J,expose:B,inheritAttrs:se,components:F,directives:z,filters:te}=t;if(g&&Sl(g,n,null),o)for(const ae in o){const le=o[ae];me(le)&&(n[ae]=le.bind(s))}if(a){const ae=a.call(s,s);Oe(ae)&&(e.data=Ct(ae))}if(la=!0,r)for(const ae in r){const le=r[ae],Ce=me(le)?le.bind(s,s):me(le.get)?le.get.bind(s,s):_t,Ne=!me(le)&&me(le.set)?le.set.bind(s):_t,Te=U({get:Ce,set:Ne});Object.defineProperty(n,ae,{enumerable:!0,configurable:!0,get:()=>Te.value,set:ke=>Te.value=ke})}if(i)for(const ae in i)Fr(i[ae],n,s,ae);if(l){const ae=me(l)?l.call(s):l;Reflect.ownKeys(ae).forEach(le=>{Dl(le,ae[le])})}f&&Hr(f,e,"c");function pe(ae,le){ue(le)?le.forEach(Ce=>ae(Ce.bind(s))):le&&ae(le.bind(s))}if(pe(ul,d),pe(Qt,p),pe(dl,c),pe(fl,m),pe(il,h),pe(ll,y),pe(ml,V),pe(hl,ee),pe(pl,Y),pe(hn,_),pe(ra,M),pe(gl,J),ue(B))if(B.length){const ae=e.exposed||(e.exposed={});B.forEach(le=>{Object.defineProperty(ae,le,{get:()=>s[le],set:Ce=>s[le]=Ce,enumerable:!0})})}else e.exposed||(e.exposed={});N&&e.render===_t&&(e.render=N),se!=null&&(e.inheritAttrs=se),F&&(e.components=F),z&&(e.directives=z),J&&Ir(e)}function Sl(e,t,s=_t){ue(e)&&(e=ca(e));for(const n in e){const a=e[n];let r;Oe(a)?"default"in a?r=vn(a.from||n,a.default,!0):r=vn(a.from||n):r=vn(a),ze(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function Hr(e,t,s){yt(ue(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Fr(e,t,s,n){let a=n.includes(".")?so(s,n):()=>s[n];if(Fe(e)){const r=t[e];me(r)&&ut(a,r)}else if(me(e))ut(a,e.bind(s));else if(Oe(e))if(ue(e))e.forEach(r=>Fr(r,t,s,n));else{const r=me(e.handler)?e.handler.bind(s):t[e.handler];me(r)&&ut(a,r,e)}}function Rr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:a,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let l;return i?l=i:!a.length&&!s&&!n?l=t:(l={},a.length&&a.forEach(g=>mn(l,g,o,!0)),mn(l,t,o)),Oe(t)&&r.set(t,l),l}function mn(e,t,s,n=!1){const{mixins:a,extends:r}=t;r&&mn(e,r,s,!0),a&&a.forEach(o=>mn(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const i=Cl[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Cl={data:Wr,props:Br,emits:Br,methods:Is,computed:Is,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:Is,directives:Is,watch:Tl,provide:Wr,inject:$l};function Wr(e,t){return t?e?function(){return Ve(me(e)?e.call(this,this):e,me(t)?t.call(this,this):t)}:t:e}function $l(e,t){return Is(ca(e),ca(t))}function ca(e){if(ue(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function Is(e,t){return e?Ve(Object.create(null),e,t):t}function Br(e,t){return e?ue(e)&&ue(t)?[...new Set([...e,...t])]:Ve(Object.create(null),Or(e),Or(t??{})):t}function Tl(e,t){if(!e)return t;if(!t)return e;const s=Ve(Object.create(null),e);for(const n in t)s[n]=st(e[n],t[n]);return s}function jr(){return{app:null,config:{isNativeTag:ja,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ml=0;function Al(e,t){return function(n,a=null){me(n)||(n=Ve({},n)),a!=null&&!Oe(a)&&(a=null);const r=jr(),o=new WeakSet,i=[];let l=!1;const g=r.app={_uid:Ml++,_component:n,_props:a,_container:null,_context:r,_instance:null,version:fc,get config(){return r.config},set config(f){},use(f,...d){return o.has(f)||(f&&me(f.install)?(o.add(f),f.install(g,...d)):me(f)&&(o.add(f),f(g,...d))),g},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),g},component(f,d){return d?(r.components[f]=d,g):r.components[f]},directive(f,d){return d?(r.directives[f]=d,g):r.directives[f]},mount(f,d,p){if(!l){const c=g._ceVNode||fe(n,a);return c.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),e(c,f,p),l=!0,g._container=f,f.__vue_app__=g,xn(c.component)}},onUnmount(f){i.push(f)},unmount(){l&&(yt(i,g._instance,16),e(null,g._container),delete g._container.__vue_app__)},provide(f,d){return r.provides[f]=d,g},runWithContext(f){const d=fs;fs=g;try{return f()}finally{fs=d}}};return g}}let fs=null;function Dl(e,t){if(et){let s=et.provides;const n=et.parent&&et.parent.provides;n===s&&(s=et.provides=Object.create(n)),s[e]=t}}function vn(e,t,s=!1){const n=uo();if(n||fs){let a=fs?fs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&me(t)?t.call(n&&n.proxy):t}}const Ur={},Vr=()=>Object.create(Ur),zr=e=>Object.getPrototypeOf(e)===Ur;function El(e,t,s,n=!1){const a={},r=Vr();e.propsDefaults=Object.create(null),Kr(e,t,a,r);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);s?e.props=n?a:Ri(a):e.type.props?e.props=a:e.props=r,e.attrs=r}function Il(e,t,s,n){const{props:a,attrs:r,vnode:{patchFlag:o}}=e,i=Se(a),[l]=e.propsOptions;let g=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(yn(e.emitsOptions,p))continue;const c=t[p];if(l)if($e(r,p))c!==r[p]&&(r[p]=c,g=!0);else{const m=pt(p);a[m]=ua(l,i,m,c,e,!1)}else c!==r[p]&&(r[p]=c,g=!0)}}}else{Kr(e,t,a,r)&&(g=!0);let f;for(const d in i)(!t||!$e(t,d)&&((f=Bt(d))===d||!$e(t,f)))&&(l?s&&(s[d]!==void 0||s[f]!==void 0)&&(a[d]=ua(l,i,d,void 0,e,!0)):delete a[d]);if(r!==i)for(const d in r)(!t||!$e(t,d))&&(delete r[d],g=!0)}g&&Et(e.attrs,"set","")}function Kr(e,t,s,n){const[a,r]=e.propsOptions;let o=!1,i;if(t)for(let l in t){if(ws(l))continue;const g=t[l];let f;a&&$e(a,f=pt(l))?!r||!r.includes(f)?s[f]=g:(i||(i={}))[f]=g:yn(e.emitsOptions,l)||(!(l in n)||g!==n[l])&&(n[l]=g,o=!0)}if(r){const l=Se(s),g=i||Ee;for(let f=0;f<r.length;f++){const d=r[f];s[d]=ua(a,l,d,g[d],e,!$e(g,d))}}return o}function ua(e,t,s,n,a,r){const o=e[s];if(o!=null){const i=$e(o,"default");if(i&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&me(l)){const{propsDefaults:g}=a;if(s in g)n=g[s];else{const f=Os(a);n=g[s]=l.call(null,t),f()}}else n=l;a.ce&&a.ce._setProp(s,n)}o[0]&&(r&&!i?n=!1:o[1]&&(n===""||n===Bt(s))&&(n=!0))}return n}const Pl=new WeakMap;function qr(e,t,s=!1){const n=s?Pl:t.propsCache,a=n.get(e);if(a)return a;const r=e.props,o={},i=[];let l=!1;if(!me(e)){const f=d=>{l=!0;const[p,c]=qr(d,t,!0);Ve(o,p),c&&i.push(...c)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!l)return Oe(e)&&n.set(e,as),as;if(ue(r))for(let f=0;f<r.length;f++){const d=pt(r[f]);Gr(d)&&(o[d]=Ee)}else if(r)for(const f in r){const d=pt(f);if(Gr(d)){const p=r[f],c=o[d]=ue(p)||me(p)?{type:p}:Ve({},p),m=c.type;let h=!1,y=!0;if(ue(m))for(let $=0;$<m.length;++$){const _=m[$],S=me(_)&&_.name;if(S==="Boolean"){h=!0;break}else S==="String"&&(y=!1)}else h=me(m)&&m.name==="Boolean";c[0]=h,c[1]=y,(h||$e(c,"default"))&&i.push(d)}}const g=[o,i];return Oe(e)&&n.set(e,g),g}function Gr(e){return e[0]!=="$"&&!ws(e)}const da=e=>e==="_"||e==="_ctx"||e==="$stable",fa=e=>ue(e)?e.map(Tt):[Tt(e)],Nl=(e,t,s)=>{if(t._n)return t;const n=Ie((...a)=>fa(t(...a)),s);return n._c=!1,n},Jr=(e,t,s)=>{const n=e._ctx;for(const a in e){if(da(a))continue;const r=e[a];if(me(r))t[a]=Nl(a,r,n);else if(r!=null){const o=fa(r);t[a]=()=>o}}},Zr=(e,t)=>{const s=fa(t);e.slots.default=()=>s},Yr=(e,t,s)=>{for(const n in t)(s||!da(n))&&(e[n]=t[n])},Ll=(e,t,s)=>{const n=e.slots=Vr();if(e.vnode.shapeFlag&32){const a=t._;a?(Yr(n,t,s),s&&qa(n,"_",a,!0)):Jr(t,n)}else t&&Zr(e,t)},Ol=(e,t,s)=>{const{vnode:n,slots:a}=e;let r=!0,o=Ee;if(n.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:Yr(a,t,s):(r=!t.$stable,Jr(t,a)),o=t}else t&&(Zr(e,t),o={default:1});if(r)for(const i in a)!da(i)&&o[i]==null&&delete a[i]},ct=Zl;function Hl(e){return Fl(e)}function Fl(e,t){const s=Ys();s.__VUE__=!0;const{insert:n,remove:a,patchProp:r,createElement:o,createText:i,createComment:l,setText:g,setElementText:f,parentNode:d,nextSibling:p,setScopeId:c=_t,insertStaticContent:m}=e,h=(v,w,A,O=null,W=null,H=null,j=void 0,P=null,I=!!w.dynamicChildren)=>{if(v===w)return;v&&!ts(v,w)&&(O=Me(v),ke(v,W,H,!0),v=null),w.patchFlag===-2&&(I=!1,w.dynamicChildren=null);const{type:E,ref:Z,shapeFlag:q}=w;switch(E){case bn:y(v,w,A,O);break;case Qe:$(v,w,A,O);break;case wn:v==null&&_(w,A,O,j);break;case de:F(v,w,A,O,W,H,j,P,I);break;default:q&1?N(v,w,A,O,W,H,j,P,I):q&6?z(v,w,A,O,W,H,j,P,I):(q&64||q&128)&&E.process(v,w,A,O,W,H,j,P,I,Ue)}Z!=null&&W?Ds(Z,v&&v.ref,H,w||v,!w):Z==null&&v&&v.ref!=null&&Ds(v.ref,null,H,v,!0)},y=(v,w,A,O)=>{if(v==null)n(w.el=i(w.children),A,O);else{const W=w.el=v.el;w.children!==v.children&&g(W,w.children)}},$=(v,w,A,O)=>{v==null?n(w.el=l(w.children||""),A,O):w.el=v.el},_=(v,w,A,O)=>{[v.el,v.anchor]=m(v.children,w,A,O,v.el,v.anchor)},S=({el:v,anchor:w},A,O)=>{let W;for(;v&&v!==w;)W=p(v),n(v,A,O),v=W;n(w,A,O)},M=({el:v,anchor:w})=>{let A;for(;v&&v!==w;)A=p(v),a(v),v=A;a(w)},N=(v,w,A,O,W,H,j,P,I)=>{w.type==="svg"?j="svg":w.type==="math"&&(j="mathml"),v==null?ee(w,A,O,W,H,j,P,I):J(v,w,W,H,j,P,I)},ee=(v,w,A,O,W,H,j,P)=>{let I,E;const{props:Z,shapeFlag:q,transition:X,dirs:ne}=v;if(I=v.el=o(v.type,H,Z&&Z.is,Z),q&8?f(I,v.children):q&16&&V(v.children,I,null,O,W,ga(v,H),j,P),ne&&Xt(v,null,O,"created"),Y(I,v,v.scopeId,j,O),Z){for(const ce in Z)ce!=="value"&&!ws(ce)&&r(I,ce,null,Z[ce],H,O);"value"in Z&&r(I,"value",null,Z.value,H),(E=Z.onVnodeBeforeMount)&&Mt(E,O,v)}ne&&Xt(v,null,O,"beforeMount");const oe=Rl(W,X);oe&&X.beforeEnter(I),n(I,w,A),((E=Z&&Z.onVnodeMounted)||oe||ne)&&ct(()=>{E&&Mt(E,O,v),oe&&X.enter(I),ne&&Xt(v,null,O,"mounted")},W)},Y=(v,w,A,O,W)=>{if(A&&c(v,A),O)for(let H=0;H<O.length;H++)c(v,O[H]);if(W){let H=W.subTree;if(w===H||oo(H.type)&&(H.ssContent===w||H.ssFallback===w)){const j=W.vnode;Y(v,j,j.scopeId,j.slotScopeIds,W.parent)}}},V=(v,w,A,O,W,H,j,P,I=0)=>{for(let E=I;E<v.length;E++){const Z=v[E]=P?Kt(v[E]):Tt(v[E]);h(null,Z,w,A,O,W,H,j,P)}},J=(v,w,A,O,W,H,j)=>{const P=w.el=v.el;let{patchFlag:I,dynamicChildren:E,dirs:Z}=w;I|=v.patchFlag&16;const q=v.props||Ee,X=w.props||Ee;let ne;if(A&&es(A,!1),(ne=X.onVnodeBeforeUpdate)&&Mt(ne,A,w,v),Z&&Xt(w,v,A,"beforeUpdate"),A&&es(A,!0),(q.innerHTML&&X.innerHTML==null||q.textContent&&X.textContent==null)&&f(P,""),E?B(v.dynamicChildren,E,P,A,O,ga(w,W),H):j||le(v,w,P,null,A,O,ga(w,W),H,!1),I>0){if(I&16)se(P,q,X,A,W);else if(I&2&&q.class!==X.class&&r(P,"class",null,X.class,W),I&4&&r(P,"style",q.style,X.style,W),I&8){const oe=w.dynamicProps;for(let ce=0;ce<oe.length;ce++){const ge=oe[ce],he=q[ge],_e=X[ge];(_e!==he||ge==="value")&&r(P,ge,he,_e,W,A)}}I&1&&v.children!==w.children&&f(P,w.children)}else!j&&E==null&&se(P,q,X,A,W);((ne=X.onVnodeUpdated)||Z)&&ct(()=>{ne&&Mt(ne,A,w,v),Z&&Xt(w,v,A,"updated")},O)},B=(v,w,A,O,W,H,j)=>{for(let P=0;P<w.length;P++){const I=v[P],E=w[P],Z=I.el&&(I.type===de||!ts(I,E)||I.shapeFlag&198)?d(I.el):A;h(I,E,Z,null,O,W,H,j,!0)}},se=(v,w,A,O,W)=>{if(w!==A){if(w!==Ee)for(const H in w)!ws(H)&&!(H in A)&&r(v,H,w[H],null,W,O);for(const H in A){if(ws(H))continue;const j=A[H],P=w[H];j!==P&&H!=="value"&&r(v,H,P,j,W,O)}"value"in A&&r(v,"value",w.value,A.value,W)}},F=(v,w,A,O,W,H,j,P,I)=>{const E=w.el=v?v.el:i(""),Z=w.anchor=v?v.anchor:i("");let{patchFlag:q,dynamicChildren:X,slotScopeIds:ne}=w;ne&&(P=P?P.concat(ne):ne),v==null?(n(E,A,O),n(Z,A,O),V(w.children||[],A,Z,W,H,j,P,I)):q>0&&q&64&&X&&v.dynamicChildren?(B(v.dynamicChildren,X,A,W,H,j,P),(w.key!=null||W&&w===W.subTree)&&Xr(v,w,!0)):le(v,w,A,Z,W,H,j,P,I)},z=(v,w,A,O,W,H,j,P,I)=>{w.slotScopeIds=P,v==null?w.shapeFlag&512?W.ctx.activate(w,A,O,j,I):te(w,A,O,W,H,j,I):K(v,w,I)},te=(v,w,A,O,W,H,j)=>{const P=v.component=ac(v,O,W);if(gn(v)&&(P.ctx.renderer=Ue),rc(P,!1,j),P.asyncDep){if(W&&W.registerDep(P,pe,j),!v.el){const I=P.subTree=fe(Qe);$(null,I,w,A),v.placeholder=I.el}}else pe(P,v,w,A,W,H,j)},K=(v,w,A)=>{const O=w.component=v.component;if(Gl(v,w,A))if(O.asyncDep&&!O.asyncResolved){ae(O,w,A);return}else O.next=w,O.update();else w.el=v.el,O.vnode=w},pe=(v,w,A,O,W,H,j)=>{const P=()=>{if(v.isMounted){let{next:q,bu:X,u:ne,parent:oe,vnode:ce}=v;{const Ze=Qr(v);if(Ze){q&&(q.el=ce.el,ae(v,q,j)),Ze.asyncDep.then(()=>{v.isUnmounted||P()});return}}let ge=q,he;es(v,!1),q?(q.el=ce.el,ae(v,q,j)):q=ce,X&&Zs(X),(he=q.props&&q.props.onVnodeBeforeUpdate)&&Mt(he,oe,q,ce),es(v,!0);const _e=ao(v),Be=v.subTree;v.subTree=_e,h(Be,_e,d(Be.el),Me(Be),v,W,H),q.el=_e.el,ge===null&&Jl(v,_e.el),ne&&ct(ne,W),(he=q.props&&q.props.onVnodeUpdated)&&ct(()=>Mt(he,oe,q,ce),W)}else{let q;const{el:X,props:ne}=w,{bm:oe,m:ce,parent:ge,root:he,type:_e}=v,Be=ds(w);es(v,!1),oe&&Zs(oe),!Be&&(q=ne&&ne.onVnodeBeforeMount)&&Mt(q,ge,w),es(v,!0);{he.ce&&he.ce._def.shadowRoot!==!1&&he.ce._injectChildStyle(_e);const Ze=v.subTree=ao(v);h(null,Ze,A,O,v,W,H),w.el=Ze.el}if(ce&&ct(ce,W),!Be&&(q=ne&&ne.onVnodeMounted)){const Ze=w;ct(()=>Mt(q,ge,Ze),W)}(w.shapeFlag&256||ge&&ds(ge.vnode)&&ge.vnode.shapeFlag&256)&&v.a&&ct(v.a,W),v.isMounted=!0,w=A=O=null}};v.scope.on();const I=v.effect=new Xa(P);v.scope.off();const E=v.update=I.run.bind(I),Z=v.job=I.runIfDirty.bind(I);Z.i=v,Z.id=v.uid,I.scheduler=()=>sa(Z),es(v,!0),E()},ae=(v,w,A)=>{w.component=v;const O=v.vnode.props;v.vnode=w,v.next=null,Il(v,w.props,O,A),Ol(v,w.children,A),xt(),_r(v),St()},le=(v,w,A,O,W,H,j,P,I=!1)=>{const E=v&&v.children,Z=v?v.shapeFlag:0,q=w.children,{patchFlag:X,shapeFlag:ne}=w;if(X>0){if(X&128){Ne(E,q,A,O,W,H,j,P,I);return}else if(X&256){Ce(E,q,A,O,W,H,j,P,I);return}}ne&8?(Z&16&&De(E,W,H),q!==E&&f(A,q)):Z&16?ne&16?Ne(E,q,A,O,W,H,j,P,I):De(E,W,H,!0):(Z&8&&f(A,""),ne&16&&V(q,A,O,W,H,j,P,I))},Ce=(v,w,A,O,W,H,j,P,I)=>{v=v||as,w=w||as;const E=v.length,Z=w.length,q=Math.min(E,Z);let X;for(X=0;X<q;X++){const ne=w[X]=I?Kt(w[X]):Tt(w[X]);h(v[X],ne,A,null,W,H,j,P,I)}E>Z?De(v,W,H,!0,!1,q):V(w,A,O,W,H,j,P,I,q)},Ne=(v,w,A,O,W,H,j,P,I)=>{let E=0;const Z=w.length;let q=v.length-1,X=Z-1;for(;E<=q&&E<=X;){const ne=v[E],oe=w[E]=I?Kt(w[E]):Tt(w[E]);if(ts(ne,oe))h(ne,oe,A,null,W,H,j,P,I);else break;E++}for(;E<=q&&E<=X;){const ne=v[q],oe=w[X]=I?Kt(w[X]):Tt(w[X]);if(ts(ne,oe))h(ne,oe,A,null,W,H,j,P,I);else break;q--,X--}if(E>q){if(E<=X){const ne=X+1,oe=ne<Z?w[ne].el:O;for(;E<=X;)h(null,w[E]=I?Kt(w[E]):Tt(w[E]),A,oe,W,H,j,P,I),E++}}else if(E>X)for(;E<=q;)ke(v[E],W,H,!0),E++;else{const ne=E,oe=E,ce=new Map;for(E=oe;E<=X;E++){const Ye=w[E]=I?Kt(w[E]):Tt(w[E]);Ye.key!=null&&ce.set(Ye.key,E)}let ge,he=0;const _e=X-oe+1;let Be=!1,Ze=0;const wt=new Array(_e);for(E=0;E<_e;E++)wt[E]=0;for(E=ne;E<=q;E++){const Ye=v[E];if(he>=_e){ke(Ye,W,H,!0);continue}let lt;if(Ye.key!=null)lt=ce.get(Ye.key);else for(ge=oe;ge<=X;ge++)if(wt[ge-oe]===0&&ts(Ye,w[ge])){lt=ge;break}lt===void 0?ke(Ye,W,H,!0):(wt[lt-oe]=E+1,lt>=Ze?Ze=lt:Be=!0,h(Ye,w[lt],A,null,W,H,j,P,I),he++)}const vs=Be?Wl(wt):as;for(ge=vs.length-1,E=_e-1;E>=0;E--){const Ye=oe+E,lt=w[Ye],ys=w[Ye+1],C=Ye+1<Z?ys.el||ys.placeholder:O;wt[E]===0?h(null,lt,A,C,W,H,j,P,I):Be&&(ge<0||E!==vs[ge]?Te(lt,A,C,2):ge--)}}},Te=(v,w,A,O,W=null)=>{const{el:H,type:j,transition:P,children:I,shapeFlag:E}=v;if(E&6){Te(v.component.subTree,w,A,O);return}if(E&128){v.suspense.move(w,A,O);return}if(E&64){j.move(v,w,A,Ue);return}if(j===de){n(H,w,A);for(let q=0;q<I.length;q++)Te(I[q],w,A,O);n(v.anchor,w,A);return}if(j===wn){S(v,w,A);return}if(O!==2&&E&1&&P)if(O===0)P.beforeEnter(H),n(H,w,A),ct(()=>P.enter(H),W);else{const{leave:q,delayLeave:X,afterLeave:ne}=P,oe=()=>{v.ctx.isUnmounted?a(H):n(H,w,A)},ce=()=>{H._isLeaving&&H[Nt](!0),q(H,()=>{oe(),ne&&ne()})};X?X(H,oe,ce):ce()}else n(H,w,A)},ke=(v,w,A,O=!1,W=!1)=>{const{type:H,props:j,ref:P,children:I,dynamicChildren:E,shapeFlag:Z,patchFlag:q,dirs:X,cacheIndex:ne}=v;if(q===-2&&(W=!1),P!=null&&(xt(),Ds(P,null,A,v,!0),St()),ne!=null&&(w.renderCache[ne]=void 0),Z&256){w.ctx.deactivate(v);return}const oe=Z&1&&X,ce=!ds(v);let ge;if(ce&&(ge=j&&j.onVnodeBeforeUnmount)&&Mt(ge,w,v),Z&6)Ke(v.component,A,O);else{if(Z&128){v.suspense.unmount(A,O);return}oe&&Xt(v,null,w,"beforeUnmount"),Z&64?v.type.remove(v,w,A,Ue,O):E&&!E.hasOnce&&(H!==de||q>0&&q&64)?De(E,w,A,!1,!0):(H===de&&q&384||!W&&Z&16)&&De(I,w,A),O&&xe(v)}(ce&&(ge=j&&j.onVnodeUnmounted)||oe)&&ct(()=>{ge&&Mt(ge,w,v),oe&&Xt(v,null,w,"unmounted")},A)},xe=v=>{const{type:w,el:A,anchor:O,transition:W}=v;if(w===de){Ae(A,O);return}if(w===wn){M(v);return}const H=()=>{a(A),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(v.shapeFlag&1&&W&&!W.persisted){const{leave:j,delayLeave:P}=W,I=()=>j(A,H);P?P(v.el,H,I):I()}else H()},Ae=(v,w)=>{let A;for(;v!==w;)A=p(v),a(v),v=A;a(w)},Ke=(v,w,A)=>{const{bum:O,scope:W,job:H,subTree:j,um:P,m:I,a:E}=v;eo(I),eo(E),O&&Zs(O),W.stop(),H&&(H.flags|=8,ke(j,v,w,A)),P&&ct(P,w),ct(()=>{v.isUnmounted=!0},w)},De=(v,w,A,O=!1,W=!1,H=0)=>{for(let j=H;j<v.length;j++)ke(v[j],w,A,O,W)},Me=v=>{if(v.shapeFlag&6)return Me(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const w=p(v.anchor||v.el),A=w&&w[nl];return A?p(A):w};let ie=!1;const We=(v,w,A)=>{v==null?w._vnode&&ke(w._vnode,null,null,!0):h(w._vnode||null,v,w,null,null,null,A),w._vnode=v,ie||(ie=!0,_r(),kr(),ie=!1)},Ue={p:h,um:ke,m:Te,r:xe,mt:te,mc:V,pc:le,pbc:B,n:Me,o:e};return{render:We,hydrate:void 0,createApp:Al(We)}}function ga({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function es({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Rl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xr(e,t,s=!1){const n=e.children,a=t.children;if(ue(n)&&ue(a))for(let r=0;r<n.length;r++){const o=n[r];let i=a[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[r]=Kt(a[r]),i.el=o.el),!s&&i.patchFlag!==-2&&Xr(o,i)),i.type===bn&&i.patchFlag!==-1&&(i.el=o.el),i.type===Qe&&!i.el&&(i.el=o.el)}}function Wl(e){const t=e.slice(),s=[0];let n,a,r,o,i;const l=e.length;for(n=0;n<l;n++){const g=e[n];if(g!==0){if(a=s[s.length-1],e[a]<g){t[n]=a,s.push(n);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<g?r=i+1:o=i;g<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Qr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qr(t)}function eo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Bl=Symbol.for("v-scx"),jl=()=>vn(Bl);function ut(e,t,s){return to(e,t,s)}function to(e,t,s=Ee){const{immediate:n,deep:a,flush:r,once:o}=s,i=Ve({},s),l=t&&n||!t&&r!=="post";let g;if(Hs){if(r==="sync"){const c=jl();g=c.__watcherHandles||(c.__watcherHandles=[])}else if(!l){const c=()=>{};return c.stop=_t,c.resume=_t,c.pause=_t,c}}const f=et;i.call=(c,m,h)=>yt(c,f,m,h);let d=!1;r==="post"?i.scheduler=c=>{ct(c,f&&f.suspense)}:r!=="sync"&&(d=!0,i.scheduler=(c,m)=>{m?c():sa(c)}),i.augmentJob=c=>{t&&(c.flags|=4),d&&(c.flags|=2,f&&(c.id=f.uid,c.i=f))};const p=Ji(e,t,i);return Hs&&(g?g.push(p):l&&p()),p}function Ul(e,t,s){const n=this.proxy,a=Fe(e)?e.includes(".")?so(n,e):()=>n[e]:e.bind(n,n);let r;me(t)?r=t:(r=t.handler,s=t);const o=Os(this),i=to(a,r.bind(n),s);return o(),i}function so(e,t){const s=t.split(".");return()=>{let n=e;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const Vl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${pt(t)}Modifiers`]||e[`${Bt(t)}Modifiers`];function zl(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Ee;let a=s;const r=t.startsWith("update:"),o=r&&Vl(n,t.slice(7));o&&(o.trim&&(a=s.map(f=>Fe(f)?f.trim():f)),o.number&&(a=s.map(Bn)));let i,l=n[i=Wn(t)]||n[i=Wn(pt(t))];!l&&r&&(l=n[i=Wn(Bt(t))]),l&&yt(l,e,6,a);const g=n[i+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,yt(g,e,6,a)}}function no(e,t,s=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const r=e.emits;let o={},i=!1;if(!me(e)){const l=g=>{const f=no(g,t,!0);f&&(i=!0,Ve(o,f))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!i?(Oe(e)&&n.set(e,null),null):(ue(r)?r.forEach(l=>o[l]=null):Ve(o,r),Oe(e)&&n.set(e,o),o)}function yn(e,t){return!e||!Ks(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,Bt(t))||$e(e,t))}function Cv(){}function ao(e){const{type:t,vnode:s,proxy:n,withProxy:a,propsOptions:[r],slots:o,attrs:i,emit:l,render:g,renderCache:f,props:d,data:p,setupState:c,ctx:m,inheritAttrs:h}=e,y=dn(e);let $,_;try{if(s.shapeFlag&4){const M=a||n,N=M;$=Tt(g.call(N,M,f,d,c,p,m)),_=i}else{const M=t;$=Tt(M.length>1?M(d,{attrs:i,slots:o,emit:l}):M(d,null)),_=t.props?i:Kl(i)}}catch(M){Ps.length=0,ln(M,e,1),$=fe(Qe)}let S=$;if(_&&h!==!1){const M=Object.keys(_),{shapeFlag:N}=S;M.length&&N&7&&(r&&M.some(Hn)&&(_=ql(_,r)),S=zt(S,_,!1,!0))}return s.dirs&&(S=zt(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&As(S,s.transition),$=S,dn(y),$}const Kl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ks(s))&&((t||(t={}))[s]=e[s]);return t},ql=(e,t)=>{const s={};for(const n in e)(!Hn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Gl(e,t,s){const{props:n,children:a,component:r}=e,{props:o,children:i,patchFlag:l}=t,g=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?ro(n,o,g):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==n[p]&&!yn(g,p))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:n===o?!1:n?o?ro(n,o,g):!0:!!o;return!1}function ro(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const r=n[a];if(t[r]!==e[r]&&!yn(s,r))return!0}return!1}function Jl({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const oo=e=>e.__isSuspense;function Zl(e,t){t&&t.pendingBranch?ue(e)?t.effects.push(...e):t.effects.push(e):sl(e)}const de=Symbol.for("v-fgt"),bn=Symbol.for("v-txt"),Qe=Symbol.for("v-cmt"),wn=Symbol.for("v-stc"),Ps=[];let dt=null;function x(e=!1){Ps.push(dt=e?null:[])}function Yl(){Ps.pop(),dt=Ps[Ps.length-1]||null}let Ns=1;function io(e,t=!1){Ns+=e,e<0&&dt&&t&&(dt.hasOnce=!0)}function lo(e){return e.dynamicChildren=Ns>0?dt||as:null,Yl(),Ns>0&&dt&&dt.push(e),e}function T(e,t,s,n,a,r){return lo(u(e,t,s,n,a,r,!0))}function Re(e,t,s,n,a){return lo(fe(e,t,s,n,a,!0))}function Ls(e){return e?e.__v_isVNode===!0:!1}function ts(e,t){return e.type===t.type&&e.key===t.key}const co=({key:e})=>e??null,_n=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||ze(e)||me(e)?{i:Ge,r:e,k:t,f:!!s}:e:null);function u(e,t=null,s=null,n=0,a=null,r=e===de?0:1,o=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&co(t),ref:t&&_n(t),scopeId:Sr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ge};return i?(pa(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=Fe(s)?8:16),Ns>0&&!o&&dt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&dt.push(l),l}const fe=Xl;function Xl(e,t=null,s=null,n=0,a=null,r=!1){if((!e||e===bl)&&(e=Qe),Ls(e)){const i=zt(e,t,!0);return s&&pa(i,s),Ns>0&&!r&&dt&&(i.shapeFlag&6?dt[dt.indexOf(e)]=i:dt.push(i)),i.patchFlag=-2,i}if(dc(e)&&(e=e.__vccOpts),t){t=Ql(t);let{class:i,style:l}=t;i&&!Fe(i)&&(t.class=be(i)),Oe(l)&&(Qn(l)&&!ue(l)&&(l=Ve({},l)),t.style=kt(l))}const o=Fe(e)?1:oo(e)?128:Cr(e)?64:Oe(e)?4:me(e)?2:0;return u(e,t,s,n,a,o,r,!0)}function Ql(e){return e?Qn(e)||zr(e)?Ve({},e):e:null}function zt(e,t,s=!1,n=!1){const{props:a,ref:r,patchFlag:o,children:i,transition:l}=e,g=t?tc(a||{},t):a,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:g,key:g&&co(g),ref:t&&t.ref?s&&r?ue(r)?r.concat(_n(t)):[r,_n(t)]:_n(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zt(e.ssContent),ssFallback:e.ssFallback&&zt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&As(f,l.clone(f)),f}function we(e=" ",t=0){return fe(bn,null,e,t)}function ec(e,t){const s=fe(wn,null,e);return s.staticCount=t,s}function Q(e="",t=!1){return t?(x(),Re(Qe,null,e)):fe(Qe,null,e)}function Tt(e){return e==null||typeof e=="boolean"?fe(Qe):ue(e)?fe(de,null,e.slice()):Ls(e)?Kt(e):fe(bn,null,String(e))}function Kt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zt(e)}function pa(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ue(t))s=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),pa(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!zr(t)?t._ctx=Ge:a===3&&Ge&&(Ge.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else me(t)?(t={default:t,_ctx:Ge},s=32):(t=String(t),n&64?(s=16,t=[we(t)]):s=8);e.children=t,e.shapeFlag|=s}function tc(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=be([t.class,n.class]));else if(a==="style")t.style=kt([t.style,n.style]);else if(Ks(a)){const r=t[a],o=n[a];o&&r!==o&&!(ue(r)&&r.includes(o))&&(t[a]=r?[].concat(r,o):o)}else a!==""&&(t[a]=n[a])}return t}function Mt(e,t,s,n=null){yt(e,t,7,[s,n])}const sc=jr();let nc=0;function ac(e,t,s){const n=e.type,a=(t?t.appContext:e.appContext)||sc,r={uid:nc++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qr(n,a),emitsOptions:no(n,a),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:n.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=zl.bind(null,r),e.ce&&e.ce(r),r}let et=null;const uo=()=>et||Ge;let kn,ha;{const e=Ys(),t=(s,n)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(n),r=>{a.length>1?a.forEach(o=>o(r)):a[0](r)}};kn=t("__VUE_INSTANCE_SETTERS__",s=>et=s),ha=t("__VUE_SSR_SETTERS__",s=>Hs=s)}const Os=e=>{const t=et;return kn(e),e.scope.on(),()=>{e.scope.off(),kn(t)}},fo=()=>{et&&et.scope.off(),kn(null)};function go(e){return e.vnode.shapeFlag&4}let Hs=!1;function rc(e,t=!1,s=!1){t&&ha(t);const{props:n,children:a}=e.vnode,r=go(e);El(e,n,r,t),Ll(e,a,s||t);const o=r?oc(e,t):void 0;return t&&ha(!1),o}function oc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,kl);const{setup:n}=s;if(n){xt();const a=e.setupContext=n.length>1?lc(e):null,r=Os(e),o=ls(n,e,0,[e.props,a]),i=Va(o);if(St(),r(),(i||e.sp)&&!ds(e)&&Ir(e),i){if(o.then(fo,fo),t)return o.then(l=>{po(e,l)}).catch(l=>{ln(l,e,0)});e.asyncDep=o}else po(e,o)}else ho(e)}function po(e,t,s){me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=vr(t)),ho(e)}function ho(e,t,s){const n=e.type;e.render||(e.render=n.render||_t);{const a=Os(e);xt();try{xl(e)}finally{St(),a()}}}const ic={get(e,t){return Xe(e,"get",""),e[t]}};function lc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ic),slots:e.slots,emit:e.emit,expose:t}}function xn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(vr(Wi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Es)return Es[s](e)},has(t,s){return s in t||s in Es}})):e.proxy}const cc=/(?:^|[-_])(\w)/g,uc=e=>e.replace(cc,t=>t.toUpperCase()).replace(/[-_]/g,"");function mo(e,t=!0){return me(e)?e.displayName||e.name:e.name||t&&e.__name}function vo(e,t,s=!1){let n=mo(t);if(!n&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(n=a[1])}if(!n&&e&&e.parent){const a=r=>{for(const o in r)if(r[o]===t)return o};n=a(e.components||e.parent.type.components)||a(e.appContext.components)}return n?uc(n):s?"App":"Anonymous"}function dc(e){return me(e)&&"__vccOpts"in e}const U=(e,t)=>qi(e,t,Hs);function rt(e,t,s){const n=arguments.length;return n===2?Oe(t)&&!ue(t)?Ls(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Ls(s)&&(s=[s]),fe(e,t,s))}const fc="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ma;const yo=typeof window<"u"&&window.trustedTypes;if(yo)try{ma=yo.createPolicy("vue",{createHTML:e=>e})}catch{}const bo=ma?e=>ma.createHTML(e):e=>e,gc="http://www.w3.org/2000/svg",pc="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,wo=Ot&&Ot.createElement("template"),hc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const a=t==="svg"?Ot.createElementNS(gc,e):t==="mathml"?Ot.createElementNS(pc,e):s?Ot.createElement(e,{is:s}):Ot.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,a,r){const o=s?s.previousSibling:t.lastChild;if(a&&(a===r||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===r||!(a=a.nextSibling)););else{wo.innerHTML=bo(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=wo.content;if(n==="svg"||n==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},qt="transition",Fs="animation",Rs=Symbol("_vtc"),_o={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mc=Ve({},$r,_o),vc=(e=>(e.displayName="Transition",e.props=mc,e))((e,{slots:t})=>rt(ol,yc(e),t)),ss=(e,t=[])=>{ue(e)?e.forEach(s=>s(...t)):e&&e(...t)},ko=e=>e?ue(e)?e.some(t=>t.length>1):e.length>1:!1;function yc(e){const t={};for(const F in e)F in _o||(t[F]=e[F]);if(e.css===!1)return t;const{name:s="v",type:n,duration:a,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:i=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:g=o,appearToClass:f=i,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:c=`${s}-leave-to`}=e,m=bc(a),h=m&&m[0],y=m&&m[1],{onBeforeEnter:$,onEnter:_,onEnterCancelled:S,onLeave:M,onLeaveCancelled:N,onBeforeAppear:ee=$,onAppear:Y=_,onAppearCancelled:V=S}=t,J=(F,z,te,K)=>{F._enterCancelled=K,ns(F,z?f:i),ns(F,z?g:o),te&&te()},B=(F,z)=>{F._isLeaving=!1,ns(F,d),ns(F,c),ns(F,p),z&&z()},se=F=>(z,te)=>{const K=F?Y:_,pe=()=>J(z,F,te);ss(K,[z,pe]),xo(()=>{ns(z,F?l:r),Ht(z,F?f:i),ko(K)||So(z,n,h,pe)})};return Ve(t,{onBeforeEnter(F){ss($,[F]),Ht(F,r),Ht(F,o)},onBeforeAppear(F){ss(ee,[F]),Ht(F,l),Ht(F,g)},onEnter:se(!1),onAppear:se(!0),onLeave(F,z){F._isLeaving=!0;const te=()=>B(F,z);Ht(F,d),F._enterCancelled?(Ht(F,p),To()):(To(),Ht(F,p)),xo(()=>{F._isLeaving&&(ns(F,d),Ht(F,c),ko(M)||So(F,n,y,te))}),ss(M,[F,te])},onEnterCancelled(F){J(F,!1,void 0,!0),ss(S,[F])},onAppearCancelled(F){J(F,!0,void 0,!0),ss(V,[F])},onLeaveCancelled(F){B(F),ss(N,[F])}})}function bc(e){if(e==null)return null;if(Oe(e))return[va(e.enter),va(e.leave)];{const t=va(e);return[t,t]}}function va(e){return fi(e)}function Ht(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Rs]||(e[Rs]=new Set)).add(t)}function ns(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[Rs];s&&(s.delete(t),s.size||(e[Rs]=void 0))}function xo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let wc=0;function So(e,t,s,n){const a=e._endId=++wc,r=()=>{a===e._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:o,timeout:i,propCount:l}=_c(e,t);if(!o)return n();const g=o+"end";let f=0;const d=()=>{e.removeEventListener(g,p),r()},p=c=>{c.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},i+1),e.addEventListener(g,p)}function _c(e,t){const s=window.getComputedStyle(e),n=m=>(s[m]||"").split(", "),a=n(`${qt}Delay`),r=n(`${qt}Duration`),o=Co(a,r),i=n(`${Fs}Delay`),l=n(`${Fs}Duration`),g=Co(i,l);let f=null,d=0,p=0;t===qt?o>0&&(f=qt,d=o,p=r.length):t===Fs?g>0&&(f=Fs,d=g,p=l.length):(d=Math.max(o,g),f=d>0?o>g?qt:Fs:null,p=f?f===qt?r.length:l.length:0);const c=f===qt&&/\b(transform|all)(,|$)/.test(n(`${qt}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:c}}function Co(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>$o(s)+$o(e[n])))}function $o(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function To(){return document.body.offsetHeight}function kc(e,t,s){const n=e[Rs];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Sn=Symbol("_vod"),Mo=Symbol("_vsh"),Cn={name:"show",beforeMount(e,{value:t},{transition:s}){e[Sn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ws(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Ws(e,!0),n.enter(e)):n.leave(e,()=>{Ws(e,!1)}):Ws(e,t))},beforeUnmount(e,{value:t}){Ws(e,t)}};function Ws(e,t){e.style.display=t?e[Sn]:"none",e[Mo]=!t}const xc=Symbol(""),Sc=/(^|;)\s*display\s*:/;function Cc(e,t,s){const n=e.style,a=Fe(s);let r=!1;if(s&&!a){if(t)if(Fe(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&$n(n,i,"")}else for(const o in t)s[o]==null&&$n(n,o,"");for(const o in s)o==="display"&&(r=!0),$n(n,o,s[o])}else if(a){if(t!==s){const o=n[xc];o&&(s+=";"+o),n.cssText=s,r=Sc.test(s)}}else t&&e.removeAttribute("style");Sn in e&&(e[Sn]=r?n.display:"",e[Mo]&&(n.display="none"))}const Ao=/\s*!important$/;function $n(e,t,s){if(ue(s))s.forEach(n=>$n(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=$c(e,t);Ao.test(s)?e.setProperty(Bt(n),s.replace(Ao,""),"important"):e[n]=s}}const Do=["Webkit","Moz","ms"],ya={};function $c(e,t){const s=ya[t];if(s)return s;let n=pt(t);if(n!=="filter"&&n in e)return ya[t]=n;n=Js(n);for(let a=0;a<Do.length;a++){const r=Do[a]+n;if(r in e)return ya[t]=r}return t}const Eo="http://www.w3.org/1999/xlink";function Io(e,t,s,n,a,r=vi(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Eo,t.slice(6,t.length)):e.setAttributeNS(Eo,t,s):s==null||r&&!Ja(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Dt(s)?String(s):s)}function Po(e,t,s,n,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?bo(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(i!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Ja(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(a||t)}function gs(e,t,s,n){e.addEventListener(t,s,n)}function Tc(e,t,s,n){e.removeEventListener(t,s,n)}const No=Symbol("_vei");function Mc(e,t,s,n,a=null){const r=e[No]||(e[No]={}),o=r[t];if(n&&o)o.value=n;else{const[i,l]=Ac(t);if(n){const g=r[t]=Ic(n,a);gs(e,i,g,l)}else o&&(Tc(e,i,o,l),r[t]=void 0)}}const Lo=/(?:Once|Passive|Capture)$/;function Ac(e){let t;if(Lo.test(e)){t={};let n;for(;n=e.match(Lo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bt(e.slice(2)),t]}let ba=0;const Dc=Promise.resolve(),Ec=()=>ba||(Dc.then(()=>ba=0),ba=Date.now());function Ic(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;yt(Pc(n,s.value),t,5,[n])};return s.value=e,s.attached=Ec(),s}function Pc(e,t){if(ue(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const Oo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Nc=(e,t,s,n,a,r)=>{const o=a==="svg";t==="class"?kc(e,n,o):t==="style"?Cc(e,s,n):Ks(t)?Hn(t)||Mc(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lc(e,t,n,o))?(Po(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Io(e,t,n,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(n))?Po(e,pt(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Io(e,t,n,o))};function Lc(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Oo(t)&&me(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Oo(t)&&Fe(s)?!1:t in e}const Ho=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ue(t)?s=>Zs(t,s):t};function Oc(e){e.target.composing=!0}function Fo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wa=Symbol("_assign"),Hc={created(e,{modifiers:{lazy:t,trim:s,number:n}},a){e[wa]=Ho(a);const r=n||a.props&&a.props.type==="number";gs(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;s&&(i=i.trim()),r&&(i=Bn(i)),e[wa](i)}),s&&gs(e,"change",()=>{e.value=e.value.trim()}),t||(gs(e,"compositionstart",Oc),gs(e,"compositionend",Fo),gs(e,"change",Fo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:a,number:r}},o){if(e[wa]=Ho(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?Bn(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||a&&e.value.trim()===l)||(e.value=l))}},Fc=["ctrl","shift","alt","meta"],Rc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Fc.some(s=>e[`${s}Key`]&&!t.includes(s))},Bs=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(a,...r)=>{for(let o=0;o<t.length;o++){const i=Rc[t[o]];if(i&&i(a,t))return}return e(a,...r)})},Wc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bc=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=a=>{if(!("key"in a))return;const r=Bt(a.key);if(t.some(o=>o===r||Wc[o]===r))return e(a)})},jc=Ve({patchProp:Nc},hc);let Ro;function Uc(){return Ro||(Ro=Hl(jc))}const Vc=(...e)=>{const t=Uc().createApp(...e),{mount:s}=t;return t.mount=n=>{const a=Kc(n);if(!a)return;const r=t._component;!me(r)&&!r.render&&!r.template&&(r.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=s(a,!1,zc(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function zc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Kc(e){return Fe(e)?document.querySelector(e):e}const qc=Pe({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const n=e.showNavigation!==!1,a={...s,class:[s.class,"app-content",n?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":n?"false":"true"};return rt("div",a,[rt("aside",r,t.navigation?t.navigation():[]),rt("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),Gc=Pe({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const n={...s,class:[s.class,"app-navigation"]};"role"in n||(n.role="navigation");const a=[];return t.actions&&a.push(rt("div",{class:"app-navigation__actions"},t.actions())),t.default&&a.push(...t.default()),rt("nav",n,a)}}}),Je=Pe({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:n}){return()=>{const a={...n,class:[n.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in a||(a.type="button"),rt("button",a,s.default?s.default():[])}}}),Tn=Pe({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>rt("div",{...t,class:[t.class,"card empty"]},[rt("div",{class:"value"},e.name),rt("div",{class:"hint"},e.description)])}}),Mn=Pe({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:n}){const a=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...n,class:[n.class,"nc-checkbox-radio-switch"]};return()=>rt("label",r,[rt("input",{type:e.type,name:e.name,checked:e.checked,onInput:a}),rt("span",{},s.default?s.default():[])])}}),Jc=Pe({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>rt("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function _a(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const n=Math.floor(s.width*t),a=Math.floor(s.height*t);e.width!==n&&(e.width=n),e.height!==a&&(e.height=a);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function Wo(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Zc(e){const s=Math.pow((g=>g<0?0:g>1?1:g)(e),.6),n=Wo("#e0f2fe"),a=Wo("#7c3aed");if(!n||!a)return"#7c3aed";const r=(g,f,d)=>Math.round(g+(f-g)*d),o=r(n.r,a.r,s),i=r(n.g,a.g,s),l=r(n.b,a.b,s);return`rgb(${o}, ${i}, ${l})`}const Bo=Pe({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=re(null);function n(){const a=t.data,r=s.value;if(!r||!a)return;const o=_a(r);if(!o)return;const i=r.clientWidth,l=r.clientHeight,g=i/2,f=l/2,d=Math.min(i,l)*.35,p=a.data||[],c=a.labels||[],m=a.ids||[],h=a.colors||[],y=[];for(let V=0;V<p.length;V++)(Number(p[V])||0)>0&&y.push(V);if(o.clearRect(0,0,i,l),y.length===0)return;const $=y.map(V=>Number(p[V])||0),_=y.map(V=>String(c[V]||"")),S=y.map(V=>String(m[V]||"")),M=y.map(V=>h[V]),N=$.reduce((V,J)=>V+Math.max(0,J),0)||1;let ee=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const Y=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];$.forEach((V,J)=>{var xe,Ae;const B=Math.max(0,V)/N,se=ee+B*2*Math.PI,F=String((_==null?void 0:_[J])||""),z=String((S==null?void 0:S[J])||""),te=M[J],K=(xe=t.colorsById)==null?void 0:xe[z],pe=(Ae=t.colorsByName)==null?void 0:Ae[F];let ae=K||pe||te||Y[J%Y.length];o.beginPath(),o.moveTo(g,f),o.arc(g,f,d,ee,se),o.closePath(),o.fillStyle=ae,o.fill(),o.stroke();const le=(ee+se)/2,Ce=g+Math.cos(le)*(d+12),Ne=f+Math.sin(le)*(d+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const Te=Math.max(0,Number(V)||0)/N*100,ke=`${_!=null&&_[J]?_[J]+" ":""}${Number(V).toFixed(2)}h  ${Te.toFixed(1)}%`;o.strokeText(ke,Ce,Ne),o.fillText(ke,Ce,Ne),o.restore(),ee=se})}return Qt(()=>{n(),window.addEventListener("resize",n)}),ut(()=>t.data,()=>n(),{deep:!0}),ut(()=>t.colorsById,()=>n(),{deep:!0}),(a,r)=>(x(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),jo=Pe({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=re(null);function n(h,y,$,_,S){h.save(),S!=null&&S.font&&(h.font=S.font),S!=null&&S.align&&(h.textAlign=S.align),S!=null&&S.baseline&&(h.textBaseline=S.baseline),h.lineWidth=3,h.strokeStyle="rgba(0,0,0,0.55)",h.strokeText(y,$,_),h.fillStyle="#ffffff",h.fillText(y,$,_),h.restore()}function a(h){const y=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(h||"");return y?{r:parseInt(y[1],16),g:parseInt(y[2],16),b:parseInt(y[3],16)}:null}function r(h,y){const $=a(h);return $&&(.2126*$.r+.7152*$.g+.0722*$.b)/255<.55?"#ffffff":y}function o(h){const y=Math.max(0,Number(h)||0);return(Math.round(y*10)/10).toFixed(1)}function i(h,y=.5){const $=a(h);if(!$)return h;const _=Math.max(0,Math.min(1,y)),S=Math.round($.r+(255-$.r)*_),M=Math.round($.g+(255-$.g)*_),N=Math.round($.b+(255-$.b)*_);return`rgb(${S},${M},${N})`}function l(h,y=.5){const $=a(h);if(!$)return h;const _=Math.max(0,Math.min(1,y)),S=Math.round($.r*(1-_)),M=Math.round($.g*(1-_)),N=Math.round($.b*(1-_));return`rgb(${S},${M},${N})`}function g(h,y){const{x:$,y:_,width:S,height:M,baseColor:N,variant:ee}=y,Y=ee==="mixed",V=Math.min(S*(Y?.35:.22),6),J=Math.max(2,Y?S*.45:S-V*2),B=Y?$+S-J-V:$+(S-J)/2,se=i(N,Y?.6:.45),F=l(N,Y?.4:.35);h.save(),h.fillStyle=se,h.globalAlpha=Y?.12:.16,h.fillRect(B,_,J,M),h.restore(),h.save(),h.strokeStyle=F,h.lineWidth=Y?1.25:1.5,h.globalAlpha=Y?.6:.75,h.setLineDash([4,4]),h.strokeRect(B,_,J,M),h.restore(),h.save(),h.strokeStyle=F,h.globalAlpha=Y?.35:.45,h.lineWidth=1,h.beginPath(),h.moveTo(B,_),h.lineTo(B+J,_),h.stroke(),h.restore()}function f(){var Te,ke;const h=s.value;if(!h)return;const y=_a(h);if(!y)return;const $=h.clientWidth,_=h.clientHeight,S=28,M=S*1.4,N=_-S,ee=$-S,Y=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",V=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";y.clearRect(0,0,$,_),y.strokeStyle=Y,y.lineWidth=1,y.beginPath(),y.moveTo(M,N),y.lineTo(ee,N),y.moveTo(M,N),y.lineTo(M,S),y.stroke();const J=t.stacked;if(J&&J.labels&&J.series){let xe=J.labels||[],Ae=J.series||[];const Ke=p(xe,Ae);xe=Ke.labels,Ae=Ke.series;const De=xe.map((H,j)=>Ae.reduce((P,I)=>{var E;return P+Math.max(0,Number(((E=I.data)==null?void 0:E[j])||0))},0)),Me=xe.map((H,j)=>Ae.reduce((P,I)=>{var E;return P+Math.max(0,Number(((E=I.forecast)==null?void 0:E[j])||0))},0)),ie=De.map((H,j)=>H+Me[j]),We=Math.max(1,...ie),Ue=xe.length||1,ft=8,v=Math.max(6,(ee-M-ft*(Ue+1))/Ue),w=(N-S)/We;let A=0,O=0;xe.forEach((H,j)=>{const P=M+ft+j*(v+ft);let I=N,E=0;Ae.forEach(ce=>{var Be;const ge=Math.max(0,Number(((Be=ce.data)==null?void 0:Be[j])||0)),he=ge*w;I-=he;const _e=t.colorsById[ce.id]||ce.color||"#93c5fd";if(he>.5&&(y.fillStyle=_e,y.fillRect(P,I,v,he),he>14&&v>22&&ge>.01)){const Ze=o(ge);y.fillStyle=r(_e,V),y.font="11px ui-sans-serif,system-ui";const wt=y.measureText(Ze).width;y.fillText(Ze,P+v/2-wt/2,I+he/2+4)}E+=ge});let q=I,X=0;Ae.forEach(ce=>{var Be;const ge=Math.max(0,Number(((Be=ce.forecast)==null?void 0:Be[j])||0));if(ge<=0)return;const he=ge*w;if(q-=he,X+=ge,he<=.5)return;const _e=t.colorsById[ce.id]||ce.color||"#93c5fd";g(y,{x:P,y:q,width:v,height:he,baseColor:_e,variant:E>.01?"mixed":"future"})}),A+=E,O+=X,y.fillStyle=V,y.font="12px ui-sans-serif,system-ui";const ne=d(String(xe[j]||""));if(v>26){const ce=y.measureText(ne).width;y.fillText(ne,P+v/2-ce/2,N+14)}const oe=X>.01?`~${o(E+X)}h`:E>.01?`${o(E)}h`:"";oe&&n(y,oe,P+v/2,Math.max(S+4,q-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})});const W=O>.01?`~${o(A+O)}h expected`:`${o(A)}h total`;n(y,W,ee-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const B=t.legacy;if(!B)return;let se=B.data||[],F=B.labels||[];const z=p(F,[{id:"__legacy__",data:se}]);F=z.labels,se=((ke=(Te=z.series)==null?void 0:Te[0])==null?void 0:ke.data)||se;const te=Math.max(1,...se.map(xe=>Math.max(0,xe))),K=se.length||1,pe=8,ae=Math.max(6,(ee-M-pe*(K+1))/K),le=(N-S)/te;y.fillStyle="#93c5fd",se.forEach((xe,Ae)=>{const Ke=Math.max(0,xe*le),De=M+pe+Ae*(ae+pe),Me=N-Ke;if(y.fillRect(De,Me,ae,Ke),Ke>14&&ae>22&&xe>.01){const We=String((Math.round(xe*100)/100).toFixed(1));y.fillStyle=r("#93c5fd",V),y.font="11px ui-sans-serif,system-ui";const Ue=y.measureText(We).width;y.fillText(We,De+ae/2-Ue/2,Me+Ke/2+4)}y.fillStyle=V,y.font="12px ui-sans-serif,system-ui";const ie=d(String(F[Ae]||""));if(ae>26){const We=y.measureText(ie).width;y.fillText(ie,De+ae/2-We/2,N+14)}if(xe>.01){const We=`${(Math.round(xe*100)/100).toFixed(1)}h`;n(y,We,De+ae/2,Math.max(S+4,Me-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const Ce=se.reduce((xe,Ae)=>xe+Math.max(0,Number(Ae)||0),0),Ne=`${(Math.round(Ce*100)/100).toFixed(1)}h total`;n(y,Ne,ee-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}Qt(()=>{f(),window.addEventListener("resize",f)}),ut(()=>t.stacked,()=>f(),{deep:!0}),ut(()=>t.legacy,()=>f(),{deep:!0}),ut(()=>t.colorsById,()=>f(),{deep:!0});function d(h){const y=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!y)return h;const $=new Date(`${y[1]}-${y[2]}-${y[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][$.getDay()]||h}function p(h,y){if(!Array.isArray(h)||h.length!==7)return{labels:h,series:y};const $=h.map(V=>c(V));if($.some(V=>!V))return{labels:h,series:y};const _=$.map(V=>m(V)),S=[1,2,3,4,5,6,7];if(_.join(",")===S.join(","))return{labels:h,series:y};const M={};if(_.forEach((V,J)=>{M[V]=J}),!S.every(V=>V in M))return{labels:h,series:y};const N=S.map(V=>M[V]),ee=N.map(V=>h[V]),Y=(y||[]).map(V=>{const J=Array.isArray(V.data)?V.data:[],B=Array.isArray(V.forecast)?V.forecast:null,se=N.map(te=>J[te]??0),F=B?N.map(te=>B[te]??0):void 0,z={...V,data:se};return F&&(z.forecast=F),z});return{labels:ee,series:Y}}function c(h){const y=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!y)return null;const $=new Date(`${y[1]}-${y[2]}-${y[3]}T00:00:00`);return isNaN($.getTime())?null:$}function m(h){const y=h.getDay();return y===0?7:y}return(h,y)=>(x(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Yc=Pe({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=re(null);let n=null;function a(){var N;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=_a(r);if(!i)return;const l=r.clientWidth,g=r.clientHeight,f=o.dows||[],d=o.hours||[],p=o.matrix||[];i.clearRect(0,0,l,g);const c=36,m=c,h=c,y=l-c,$=g-c,_=(y-m)/Math.max(1,d.length),S=($-h)/Math.max(1,f.length),M=Math.max(0,...p.flat())||1;f.length&&d.length&&console.info("[opsdash] heatmap draw",{rows:f.length,cols:d.length,vmax:M});for(let ee=0;ee<f.length;ee++)for(let Y=0;Y<d.length;Y++){const J=(((N=p[ee])==null?void 0:N[Y])||0)/M,B=m+Y*_,se=h+ee*S;i.fillStyle=Zc(J),i.fillRect(B,se,_-1,S-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",f.forEach((ee,Y)=>i.fillText(ee,8,h+Y*S+12)),d.forEach((ee,Y)=>{Y%2===0&&i.fillText(String(ee),m+Y*_+2,h-6)})}return Qt(async()=>{await un(),a();try{n=new ResizeObserver(()=>a()),s.value&&n.observe(s.value)}catch{}window.addEventListener("resize",a)}),hn(()=>{try{window.removeEventListener("resize",a)}catch{}try{n&&s.value&&n.unobserve(s.value)}catch{}n=null}),ut(()=>t.hod,()=>a(),{deep:!0}),(r,o)=>(x(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Xc={class:"group-row"},Qc={colspan:"5"},eu={class:"group-header"},tu={class:"group-label"},su={class:"name"},nu={key:0,class:"group-meta"},au={class:"summary"},ru={key:0,class:"summary-percent"},ou={key:1,class:"group-meta"},iu={class:"summary"},lu={key:0},cu=["title"],uu={class:"row-name"},du={key:0,class:"progress"},fu={class:"num"},gu={class:"num"},pu={class:"num"},hu={class:"num"},mu={key:0,class:"hint"},vu={key:0,class:"empty-row"},yu=Pe({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=U(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(_=>({id:_.id,label:_.label,summary:_.summary??null,color:_.color,rows:(_.rows||[]).map(n)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(n)}]);function n(_){const S=a(_);return{..._,calendarId:S}}function a(_){return _?_.calendarId?String(_.calendarId):_.id?String(_.id):_.calendar_id?String(_.calendar_id):_.calendar?String(_.calendar):"":""}function r(_){return String(_.calendar||_.displayname||_.name||_.calendarId||"")}function o(_){return a(_)||r(_)}function i(_){const S=m(_);if(!S)return!1;const M=t.targets||{},N=Number(M[S]);return isFinite(N)&&N>0}function l(_){const S=m(_);if(!S)return 0;const M=t.targets||{},N=Number(M[S]);return isFinite(N)?N:0}function g(_){const S=l(_);return S>0?(Math.round(S*100)/100).toFixed(2):""}function f(_,S){return _-S>=0?"delta pos":"delta neg"}function d(_,S){const M=_-S,N=Math.abs(Math.round(M*100)/100).toFixed(2);return(M>=0?"+":"-")+N+"h"}function p(_,S){return Math.max(0,Math.min(100,S>0?_/S*100:0)).toFixed(0)+"%"}function c(_,S){return Math.max(0,Math.min(100,S>0?_/S*100:0))}function m(_){return _==null?"":String(_)}function h(_){const S=_.summary;if(!S)return`${_.rows.length} calendar${_.rows.length===1?"":"s"}`;const M=t.n2(S.actualHours);return S.targetHours>0?`${M} h / ${t.n2(S.targetHours)} h`:`${M} h`}function y(_){const S=_.summary;return!S||S.targetHours<=0?"":`${Math.round(S.percent)}%`}function $(_){switch(_){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(_,S)=>(x(),T("table",null,[S[1]||(S[1]=u("colgroup",null,[u("col",{class:"col-w-42"}),u("col",{class:"col-w-12"}),u("col",{class:"col-w-14"}),u("col",{class:"col-w-14"}),u("col",{class:"col-w-18"})],-1)),S[2]||(S[2]=u("thead",null,[u("tr",null,[u("th",{class:"nowrap"},"Calendar"),u("th",{class:"num"},"Events"),u("th",{class:"num"},"Hours"),u("th",{class:"num"},"Target"),u("th",{class:"num"}," / %")])],-1)),u("tbody",null,[(x(!0),T(de,null,He(s.value,M=>(x(),T(de,{key:M.id},[u("tr",Xc,[u("td",Qc,[u("div",eu,[u("div",tu,[u("span",{class:"dot",style:kt({background:M.color||"var(--brand)"})},null,4),u("span",su,D(M.label),1)]),M.summary?(x(),T("div",nu,[u("span",au,D(h(M)),1),y(M)?(x(),T("span",ru,D(y(M)),1)):Q("",!0),M.summary.statusLabel?(x(),T("span",{key:1,class:be(["badge",$(M.summary.status)])},D(M.summary.statusLabel),3)):Q("",!0)])):(x(),T("div",ou,[u("span",iu,[we(D(M.rows.length)+" calendar",1),M.rows.length!==1?(x(),T("span",lu,"s")):Q("",!0)])]))])])]),(x(!0),T(de,null,He(M.rows,N=>(x(),T("tr",{key:o(N)},[u("td",null,[u("div",{class:"cell",title:r(N)},[u("div",uu,D(r(N)),1),i(a(N))&&l(a(N))>0?(x(),T("div",du,[u("div",{class:"progress-bar",style:kt({width:c(N.total_hours,l(a(N)))+"%",background:M.color||void 0})},null,4)])):Q("",!0)],8,cu)]),u("td",fu,D(N.events_count),1),u("td",gu,D(_.n2(N.total_hours)),1),u("td",pu,D(g(a(N))),1),u("td",hu,[i(a(N))?(x(),T(de,{key:0},[u("span",{class:be(f(N.total_hours,l(a(N))))},D(d(N.total_hours,l(a(N)))),3),l(a(N))>0?(x(),T("span",mu," ("+D(p(N.total_hours,l(a(N))))+")",1)):Q("",!0)],64)):(x(),T(de,{key:1},[we("")],64))])]))),128)),M.rows.length?Q("",!0):(x(),T("tr",vu,[...S[0]||(S[0]=[u("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),bt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},bu=bt(yu,[["__scopeId","data-v-69f095b4"]]),wu={class:"mono nowrap"},_u=["href"],ku={class:"hint"},xu={class:"num"},Su={class:"num"},Cu=Pe({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!n)return"";const a=new Date(`${n[1]}-${n[2]}-${n[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getUTCDay()]||""}return(s,n)=>(x(),T("table",null,[n[0]||(n[0]=u("colgroup",null,[u("col",{class:"col-w-40"}),u("col",{class:"col-w-30"}),u("col",{class:"col-w-30"})],-1)),n[1]||(n[1]=u("thead",null,[u("tr",null,[u("th",{class:"nowrap"},"Date"),u("th",{class:"num"},"Events"),u("th",{class:"num"},"Hours")])],-1)),u("tbody",null,[(x(!0),T(de,null,He(s.rows,a=>(x(),T("tr",{key:a.date},[u("td",wu,[u("a",{href:s.link(a.date),target:"_blank"},D(a.date),9,_u),u("span",ku," ("+D(t(a.date))+")",1)]),u("td",xu,D(a.events_count),1),u("td",Su,D(s.n2(a.total_hours)),1)]))),128))])]))}}),$u=["onClick"],Tu=["title"],Mu={class:"num"},Au={class:"mono nowrap"},Du={class:"mono nowrap"},Eu={key:0},Iu={colspan:"5",class:"mono cell-details"},Pu={key:0},Nu={key:1,class:"hint"},Lu=Pe({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(x(),T("table",null,[s[1]||(s[1]=u("colgroup",null,[u("col",{class:"col-w-22"}),u("col"),u("col",{class:"col-w-12"}),u("col",{class:"col-w-18"}),u("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=u("thead",null,[u("tr",null,[u("th",null,"Calendar"),u("th",null,"Summary"),u("th",{class:"num"},"Hours"),u("th",{class:"nowrap"},"Start date"),u("th",{class:"nowrap"},"Start time")])],-1)),u("tbody",null,[(x(!0),T(de,null,He(t.rows,(n,a)=>{var r;return x(),T(de,{key:a},[u("tr",{onClick:o=>t.$emit("toggle",a),class:"cursor-pointer"},[u("td",null,D(n.calendar),1),u("td",null,[u("span",{class:"cell",title:n.summary},D(n.summary),9,Tu)]),u("td",Mu,D(t.n2(n.duration_h)),1),u("td",Au,D((n.start||"").split(" ")[0]),1),u("td",Du,D((r=(n.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,$u),t.detailsIndex===a?(x(),T("tr",Eu,[u("td",Iu,[s[0]||(s[0]=u("div",null,[u("strong",null,"Details")],-1)),n.desc?(x(),T("div",Pu,D(n.desc),1)):(x(),T("div",Nu,"No description"))])])):Q("",!0)],64)}),128))])]))}}),Ou={class:"card time-summary compact"},Hu={class:"time-summary-firstline"},Fu={class:"time-summary-metrics"},Ru={key:0},Wu={key:1},Bu={key:2},ju={key:3},Uu={key:4},Vu={key:0,class:"time-summary-row"},zu={key:1,class:"time-summary-row"},Ku={key:0,class:"share"},qu={key:2,class:"time-summary-row calendars"},Gu={class:"label"},Ju={class:"text"},Zu={key:3,class:"time-summary-row top-category"},Yu={class:"text"},Xu={key:4,class:"time-summary-row"},Qu=bt(Pe({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,n=U(()=>Object.assign({},t,s.config??{})),a=U(()=>s.mode==="active"?"active days":"all days"),r=U(()=>{if(!n.value.showWeekendShare)return"";const d=s.summary.weekendShare;return d==null?"":`${l(d)}%`}),o=U(()=>{if(!n.value.showTopCategory)return null;const d=s.summary.topCategory;if(!d)return null;const p=g(d.actualHours),c=Number(d.percent??0).toFixed(0),m=d.targetHours>0?` (${c}% of ${g(d.targetHours)} h)`:"";return{text:`${d.label}  ${p} h${m}`,badge:d.statusLabel||"",badgeClass:f(d.status)}}),i=U(()=>{if(!n.value.showBusiest)return"";const d=s.summary.busiest;if(!d||!d.date)return"";const p=Number(d.hours??0);return`Busiest ${d.date}  ${g(p)} h`});function l(d){return Number(d??0).toFixed(1)}function g(d){return Number(d??0).toFixed(2)}function f(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(d,p)=>(x(),T("div",Ou,[u("div",Hu,[u("em",null,"Time Summary  "+D(d.summary.rangeLabel),1)]),u("ul",Fu,[n.value.showTotal?(x(),T("li",Ru,[u("strong",null,D(g(d.summary.totalHours))+" h",1),p[0]||(p[0]=we(" total",-1))])):Q("",!0),n.value.showAverage?(x(),T("li",Wu,D(g(d.summary.avgDay))+" h/day ("+D(a.value)+")",1)):Q("",!0),n.value.showAverage?(x(),T("li",Bu,D(g(d.summary.avgEvent))+" h/event",1)):Q("",!0),n.value.showMedian?(x(),T("li",ju,D(g(d.summary.medianDay))+" h median/day",1)):Q("",!0),n.value.showBusiest&&i.value?(x(),T("li",Uu,D(i.value),1)):Q("",!0)]),n.value.showWorkday?(x(),T("div",Vu,[p[1]||(p[1]=u("span",{class:"label"},"Workdays",-1)),we(" "+D(g(d.summary.workdayAvg))+" h avg  "+D(g(d.summary.workdayMedian))+" h median ",1)])):Q("",!0),n.value.showWeekend?(x(),T("div",zu,[p[2]||(p[2]=u("span",{class:"label"},"Weekend",-1)),we(" "+D(g(d.summary.weekendAvg))+" h avg  "+D(g(d.summary.weekendMedian))+" h median ",1),n.value.showWeekendShare&&r.value?(x(),T("span",Ku,"("+D(r.value)+")",1)):Q("",!0)])):Q("",!0),n.value.showCalendarSummary?(x(),T("div",qu,[u("span",Gu,D(d.summary.activeCalendars)+" calendars",1),d.summary.calendarSummary?(x(),T(de,{key:0},[p[3]||(p[3]=u("span",{class:"sep"},"",-1)),u("span",Ju,D(d.summary.calendarSummary),1)],64)):Q("",!0)])):Q("",!0),n.value.showTopCategory&&o.value?(x(),T("div",Zu,[p[4]||(p[4]=u("span",{class:"label"},"Top category",-1)),u("span",Yu,D(o.value.text),1),o.value.badge?(x(),T("span",{key:0,class:be(["summary-badge",o.value.badgeClass])},D(o.value.badge),3)):Q("",!0)])):Q("",!0),n.value.showBalance&&d.summary.balanceIndex!=null?(x(),T("div",Xu,[p[5]||(p[5]=u("span",{class:"label"},"Balance",-1)),we(" "+D(g(d.summary.balanceIndex))+" ",1),p[6]||(p[6]=u("span",{class:"hint"},"(1 = perfekt)",-1))])):Q("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),ed={class:"card targets-card"},td={class:"targets-header"},sd={key:0,class:"hint"},nd={class:"targets-main"},ad={class:"line total-line"},rd={class:"value"},od={key:0,class:"line"},id={key:1,class:"line"},ld={class:"line forecast"},cd={class:"hint"},ud={key:0,class:"targets-badges"},dd={key:1,class:"targets-categories"},fd={class:"cat-top"},gd={class:"cat-label"},pd={class:"name"},hd={class:"cat-meta"},md={class:"percent"},vd={class:"cat-progress"},yd={class:"bar"},bd={class:"cat-metrics"},wd={class:"hint"},_d={key:1,class:"hint"},kd={key:0,class:"cat-footer"},xd={class:"hint"},Sd=bt(Pe({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=U(()=>{var d;return((d=t.summary)==null?void 0:d.total)??l("total","Total")}),n=U(()=>{var p;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(c=>({id:c.id,label:c.label,summary:c.summary??l(c.id,c.label),color:c.color,rows:c.rows})):(((p=t.summary)==null?void 0:p.categories)??[]).map(c=>({id:c.id,label:c.label,summary:c,color:void 0,rows:[]}))}),a=U(()=>n.value.map(d=>{const p=d.summary??l(d.id,d.label);return{id:d.id,label:d.label||p.label,actualHours:p.actualHours,targetHours:p.targetHours,percent:p.percent,deltaHours:p.deltaHours,needPerDay:p.needPerDay,daysLeft:p.daysLeft,calendarPercent:p.calendarPercent,gap:p.gap,status:p.status,statusLabel:p.statusLabel,color:d.color,calendarCount:Array.isArray(d.rows)?d.rows.length:0,progress:g(p.percent,0,140),calendarLabel:Array.isArray(d.rows)&&d.rows.length===1?"calendar":"calendars"}}).filter(d=>d.targetHours>0||d.actualHours>0||d.calendarCount>0));function r(d){if(!isFinite(d))return"0";const p=Math.round(d*10)/10;return Math.abs(p-Math.round(p))<.05?String(Math.round(p)):p.toFixed(1)}function o(d){return!isFinite(d)||Math.abs(d)<.005?"0.0":(d>=0?"+":"")+r(Math.abs(d))}function i(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function l(d,p){return{id:d,label:p,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function g(d,p,c){return!isFinite(d)||d<p?p:d>c?c:d}function f(d){return d==="momentum"?"Momentum":"Linear"}return(d,p)=>(x(),T("div",ed,[u("div",td,[p[0]||(p[0]=u("strong",null,"Targets",-1)),s.value.targetHours>0?(x(),T("span",sd,D(s.value.percent.toFixed(0))+"%",1)):Q("",!0)]),u("div",nd,[u("div",ad,[u("span",rd,[u("strong",null,D(r(s.value.actualHours)),1),we(" / "+D(r(s.value.targetHours))+" h",1)]),d.config.ui.showTotalDelta&&s.value.targetHours>0?(x(),T("span",{key:0,class:be(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+D(o(s.value.deltaHours))+"h ",3)):Q("",!0)]),d.config.ui.showNeedPerDay&&s.value.targetHours>0?(x(),T("div",od," Days left "+D(s.value.daysLeft)+"  Need "+D(r(s.value.needPerDay))+" h/day ",1)):Q("",!0),s.value.targetHours>0?(x(),T("div",id,[we(" Pace: "+D(s.value.percent.toFixed(0))+"% vs "+D(s.value.calendarPercent.toFixed(0))+"%  ",1),u("span",{class:be(["status-label",i(s.value.status)])},D(s.value.statusLabel),3)])):Q("",!0),u("div",ld,[we(" Forecast: "+D(d.summary.forecast.text)+" ",1),u("span",cd," Linear "+D(r(d.summary.forecast.linear))+"h  Momentum "+D(r(d.summary.forecast.momentum))+"h  Primary: "+D(f(d.summary.forecast.primaryMethod)),1)])]),d.config.ui.badges&&s.value.targetHours>0?(x(),T("div",ud,[u("span",{class:be(["badge",i(s.value.status)])},D(s.value.statusLabel),3)])):Q("",!0),d.config.ui.showCategoryBlocks&&a.value.length?(x(),T("div",dd,[(x(!0),T(de,null,He(a.value,c=>(x(),T("div",{class:"category",key:c.id},[u("div",fd,[u("div",gd,[u("span",{class:"dot",style:kt({background:c.color||"var(--brand)"})},null,4),u("span",pd,D(c.label),1)]),u("div",hd,[u("span",md,D(c.percent.toFixed(0))+"%",1),d.config.ui.badges&&c.targetHours>0?(x(),T("span",{key:0,class:be(["badge",i(c.status)])},D(c.statusLabel),3)):Q("",!0)])]),u("div",vd,[u("div",yd,[u("div",{class:"fill",style:kt({width:c.progress+"%",background:c.color||"var(--brand)"})},null,4)])]),u("div",bd,[u("strong",null,D(r(c.actualHours))+"h",1),u("span",wd,"/ "+D(r(c.targetHours))+"h",1),c.targetHours>0?(x(),T("span",{key:0,class:be(["delta",c.deltaHours>=0?"pos":"neg"])},"  "+D(o(c.deltaHours))+"h ",3)):Q("",!0),d.config.ui.showNeedPerDay&&c.targetHours>0?(x(),T("span",_d," Need "+D(r(c.needPerDay))+"h/day  "+D(c.daysLeft)+" days left ",1)):Q("",!0)]),c.calendarCount>0?(x(),T("div",kd,[u("span",xd,D(c.calendarCount)+" "+D(c.calendarLabel),1)])):Q("",!0)]))),128))])):Q("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]);function Cd(e){const t=e?nt(e):hs(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(n=>({...s,id:n.id,label:n.label,targetHours:n.targetHours,remainingHours:n.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function ka(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function ps(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0,forecastMode:"total"}}const xa=24*60*60*1e3;function $d(e){const t=Number(e);if(!Number.isFinite(t))return 0;const s=Math.min(1e4,Math.max(0,t));return Number(s.toFixed(2))}function Sa(e){return $d(Number(e)*4)}function hs(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:ps(),balance:ka(),includeZeroDaysInStats:!1}}function js(e){return JSON.parse(JSON.stringify(nt(e)))}function Td(e){const t=nt(e.config),s=zo(e.from),n=zo(e.to),a=Od(e.byDay),r=(e.byCal||[]).reduce((d,p)=>{const c=Number((p==null?void 0:p.total_hours)??(p==null?void 0:p.hours)??0);return Number.isFinite(c)?d+c:d},0),o=t.totalHours||0,i=Vo({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a}),l=Uo({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),g=t.categories.map(d=>{const p=Ed(d,e.byCal,e.groupsById),c=d.paceMode||t.pace.mode,m=Vo({includeWeekend:d.includeWeekend,mode:c,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a});return Uo({id:d.id,label:d.label,actual:p,target:d.targetHours,pace:m,thresholds:t.pace.thresholds,includeWeekend:d.includeWeekend,paceMode:c})}),f=Nd({config:t,totalProgress:l,dailyHours:a,pace:i});return{total:l,categories:g,forecast:f}}function nt(e){var o,i,l,g,f,d,p,c,m,h,y,$,_,S,M,N,ee,Y,V,J,B,se,F,z,te;if(typeof e=="string")try{const K=JSON.parse(e);return nt(K)}catch{return nt(void 0)}const t=hs(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const n=s.categories.map(K=>{const pe=(K!=null&&K.id&&typeof K.id=="string"?K.id:"")||Rd(String((K==null?void 0:K.label)??"cat")),ae=typeof(K==null?void 0:K.label)=="string"&&K.label.trim()!==""?K.label.trim():Md(pe),le=Ft(K==null?void 0:K.targetHours,0,1e4),Ce=!!(K!=null&&K.includeWeekend),Ne=(K==null?void 0:K.paceMode)==="time_aware"?"time_aware":"days_only",Te=Array.isArray(K==null?void 0:K.groupIds)?K.groupIds.map(ke=>Number(ke)).filter(ke=>Number.isFinite(ke)&&ke>=0&&ke<=9):[];return{id:pe,label:ae,targetHours:le,includeWeekend:Ce,paceMode:Ne,groupIds:Te}}),a=n.length?n:t.categories;return{totalHours:Ft(s.totalHours,0,1e4),categories:a,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Ft(((g=(l=s.pace)==null?void 0:l.thresholds)==null?void 0:g.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Ft(((d=(f=s.pace)==null?void 0:f.thresholds)==null?void 0:d.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((p=s.forecast)==null?void 0:p.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var pe;const K=Math.round(((pe=s.forecast)==null?void 0:pe.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(K)?K:t.forecast.momentumLastNDays))})(),padding:Ft(((c=s.forecast)==null?void 0:c.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((m=s.ui)==null?void 0:m.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((h=s.ui)==null?void 0:h.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((y=s.ui)==null?void 0:y.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!((($=s.ui)==null?void 0:$.badges)??t.ui.badges),includeWeekendToggle:!!(((_=s.ui)==null?void 0:_.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((S=s.ui)==null?void 0:S.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((M=s.ui)==null?void 0:M.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Ft(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((N=s.timeSummary)==null?void 0:N.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((ee=s.timeSummary)==null?void 0:ee.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((Y=s.timeSummary)==null?void 0:Y.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((V=s.timeSummary)==null?void 0:V.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((J=s.timeSummary)==null?void 0:J.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((B=s.timeSummary)==null?void 0:B.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((se=s.timeSummary)==null?void 0:se.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((F=s.timeSummary)==null?void 0:F.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((z=s.timeSummary)==null?void 0:z.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((te=s.timeSummary)==null?void 0:te.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:Ad(s.activityCard,t.activityCard),balance:Dd(s.balance,a,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Md(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Ft(e,t,s){const n=Number(e);return Number.isFinite(n)?Math.min(s,Math.max(t,Math.round(n*100)/100)):t}function Ca(e,t,s){const n=Number(e);if(!Number.isFinite(n))return t;const a=Math.round(n);return a<t?t:a>s?s:a}function Ad(e,t){const s={...t};if(!e||typeof e!="object")return s;["showWeekendShare","showEveningShare","showEarliestLatest","showOverlaps","showLongestSession","showLastDayOff","showHint"].forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=!!e[r])});const a=e==null?void 0:e.forecastMode;if(typeof a=="string"){const r=a.toLowerCase();(r==="off"||r==="total"||r==="calendar"||r==="category")&&(s.forecastMode=r)}return s}function Dd(e,t,s){var g,f,d,p;const n=t.map(c=>c.id),a=new Set([...n,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const c of r){const m=typeof c=="string"?c.trim():String(c??"").trim();m&&(a.size&&!a.has(m)||o.includes(m)||o.push(m))}o.length||(n.length?o.push(...n.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},l=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((g=e==null?void 0:e.index)==null?void 0:g.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Ft(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Ft(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Ft(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((f=e==null?void 0:e.relations)==null?void 0:f.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:Ca(((d=e==null?void 0:e.trend)==null?void 0:d.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((p=e==null?void 0:e.dayparts)==null?void 0:p.enabled)??s.dayparts.enabled)},ui:{roundPercent:Ca(l.roundPercent??s.ui.roundPercent,0,3),roundRatio:Ca(l.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(l.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(l.showInsights??s.ui.showInsights)}}}function Ed(e,t,s){if(!Array.isArray(t))return 0;const n=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let a=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),l=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);n&&!n.has(l)||(a+=o)}return a}function Uo(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),n=t>0?$a(s/t*100):0,a=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,a)/e.pace.daysLeft:0,i=n-e.pace.calendarPercent,l=Id({percent:n,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:ot(s),targetHours:ot(t),percent:n,deltaHours:ot(r),remainingHours:ot(Math.max(0,a)),needPerDay:ot(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:$a(e.pace.calendarPercent),gap:ot(i),status:l,statusLabel:Pd(l),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function Id(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function Pd(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function Vo(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const n=An(new Date),a=Gt(t),r=Gt(s),o=Hd(t,s).filter(d=>e.includeWeekend||!Fd(d)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Gt(n)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Gt(n)<a)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let l=0;for(const d of o){const p=Gt(d),c=e.dailyHours.get(p)??0;if(!(!e.includeZeroDays&&c<=0&&p!==Gt(n))){if(p<Gt(n))l+=1;else if(p===Gt(n))if(e.mode==="time_aware"){const h=Math.min(new Date().getTime(),d.getTime()+xa)-d.getTime(),y=Math.max(0,Math.min(1,h/xa));(e.includeZeroDays||c>0||y>0)&&(l+=y)}else(e.includeZeroDays||c>0)&&(l+=1)}}const g=$a(l/i*100),f=Math.max(0,i-l);return{totalEligible:i,elapsedEligible:l,daysLeft:f,calendarPercent:g}}function Nd(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,n=Math.max(0,Math.ceil(e.pace.daysLeft)),a=Ld(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+a*n,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,l=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",g=l==="momentum"?r:s,f=Math.max(0,g-e.config.forecast.padding),d=Math.max(0,g+e.config.forecast.padding),p=l==="momentum"?"Momentum":"Linear";return{linear:ot(s),momentum:ot(r),low:ot(Math.max(0,o)),high:ot(Math.max(0,i)),text:`${p} ${Ta(e.config.forecast.padding)}h  ${Ta(f)}${Ta(d)} h`,primaryMethod:l,primary:ot(g),bandLow:ot(f),bandHigh:ot(d)}}function Ld(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const n=s.slice(-t),a=n.reduce((r,[,o])=>r+Math.max(0,o||0),0);return n.length?a/n.length:0}function Od(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const n=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!n)continue;const a=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(a)&&t.set(n,a)}return t}function Hd(e,t){const s=[];let n=An(e);const a=An(t).getTime();for(;n.getTime()<=a;)s.push(new Date(n)),n=new Date(n.getTime()+xa);return s}function zo(e){if(!e)return null;const t=e.split("-").map(n=>Number(n));if(t.length!==3||t.some(n=>!Number.isInteger(n)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:An(s)}function An(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Gt(e){return e.toISOString().slice(0,10)}function Fd(e){const t=e.getUTCDay();return t===0||t===6}function $a(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function ot(e){return isFinite(e)?Number(e.toFixed(2)):0}function Ta(e){if(!isFinite(e))return"0";const t=ot(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function Rd(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const Wd={class:"card activity-card"},Bd={class:"activity-card__header"},jd={key:0,class:"pill"},Ud={key:0,class:"activity-card__hero"},Vd={key:1,class:"activity-card__subline"},zd={key:2,class:"activity-card__meta"},Kd={key:3,class:"activity-card__extra"},qd={key:4,class:"activity-card__hint"},Gd=bt(Pe({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t=ps(),s=e,n=U(()=>Object.assign({},t,s.config??{})),a=U(()=>{const p=[];p.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&p.push(`Active Days ${s.summary.activeDays}`);const c=l(s.summary.typicalStart,s.summary.typicalEnd);return c&&p.push(`Typical ${c}`),p.join("  ")}),r=U(()=>{const p=[];return n.value.showWeekendShare&&s.summary.weekendShare!=null&&p.push(`Weekend ${g(s.summary.weekendShare)}`),n.value.showEveningShare&&s.summary.eveningShare!=null&&p.push(`Evening ${g(s.summary.eveningShare)}`),p.join("  ")}),o=U(()=>{const p=[];if(n.value.showEarliestLatest){const c=f(s.summary.earliestStart),m=f(s.summary.latestEnd);(c||m)&&p.push({label:"Earliest/Late",value:`${c||""} / ${m||""}`})}return n.value.showOverlaps&&s.summary.overlapEvents!=null&&p.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),p}),i=U(()=>{const p=[];return n.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&p.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),n.value.showLastDayOff&&s.summary.lastDayOff&&p.push({label:"Last day off",value:d(s.summary.lastDayOff)}),n.value.showLastDayOff&&s.summary.lastHalfDayOff&&p.push({label:"Last half day",value:d(s.summary.lastHalfDayOff)}),p});function l(p,c){return p&&c?`${p}${c}`:p?`${p}`:c?`${c}`:""}function g(p){return`${Number(p||0).toFixed(1)}%`}function f(p){return p?p.length>=16?p.slice(11,16):p.length>=5?p.slice(0,5):null:null}function d(p){const c=p.trim();if(!c)return"";if(c.split("-").length>=2){const h=new Date(c.length===10?`${c}T00:00:00`:c);if(!Number.isNaN(h.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(h)}return c}return(p,c)=>(x(),T("div",Wd,[u("div",Bd,[u("span",null,"Activity & Schedule ("+D(p.rangeLabel)+")",1),p.summary.rangeLabel?(x(),T("span",jd,D(p.summary.rangeLabel),1)):Q("",!0)]),a.value?(x(),T("div",Ud,[u("span",null,D(a.value),1)])):Q("",!0),r.value?(x(),T("div",Vd,[u("span",null,D(r.value),1)])):Q("",!0),o.value.length?(x(),T("div",zd,[(x(!0),T(de,null,He(o.value,m=>(x(),T("span",{key:m.label},[u("strong",null,D(m.label),1),we(" "+D(m.value),1)]))),128))])):Q("",!0),i.value.length?(x(),T("div",Kd,[(x(!0),T(de,null,He(i.value,m=>(x(),T("span",{key:m.label},[u("strong",null,D(m.label),1),we(" "+D(m.value),1)]))),128))])):Q("",!0),n.value.showHint&&p.categoryHint?(x(),T("div",qd,D(p.categoryHint),1)):Q("",!0)]))}}),[["__scopeId","data-v-054cbd84"]]),Jd={class:"card balance-card"},Zd={class:"balance-card__header"},Yd={key:0,class:"balance-card__hero"},Xd={key:1,class:"balance-card__relations"},Qd={key:2,class:"balance-card__trend"},ef={key:3,class:"balance-card__insights"},tf={key:4,class:"balance-card__warnings"},sf=bt(Pe({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,n=U(()=>Object.assign({},t,s.config??{})),a=U(()=>{if(!s.overview)return"";const g=s.overview.index??0,f=s.overview.categories.filter(p=>p.share>.1).slice(0,4).map(p=>`${p.label} ${p.share.toFixed(0)}%`),d=f.length?`  ${f.join(" | ")}`:"";return`Balance Index ${g.toFixed(2)}${d}`}),r=U(()=>{var g;return!s.overview||!((g=s.overview.relations)!=null&&g.length)?"":s.overview.relations.map(f=>`${f.label} ${f.value}`).join("  ")}),o=U(()=>{var f;if(!s.overview)return"";const g=((f=s.overview.trend)==null?void 0:f.delta)??[];return g.length?g.map(d=>{const p=d.delta>0?"+":d.delta<0?"":"";return`${d.label} ${p}${Math.abs(d.delta).toFixed(1)} pp`}).join(", "):""}),i=U(()=>{var g;return n.value.showInsights?((g=s.overview)==null?void 0:g.insights)??[]:[]}),l=U(()=>{var g;return((g=s.overview)==null?void 0:g.warnings)??[]});return(g,f)=>(x(),T("div",Jd,[u("div",Zd,[u("span",null,"Balance Overview ("+D(g.rangeLabel)+")",1)]),a.value?(x(),T("div",Yd,[u("span",null,D(a.value),1)])):Q("",!0),r.value?(x(),T("div",Xd,D(r.value),1)):Q("",!0),o.value?(x(),T("div",Qd,[f[0]||(f[0]=u("strong",null,"WoW-:",-1)),we(" "+D(o.value),1)])):Q("",!0),i.value.length?(x(),T("ul",ef,[(x(!0),T(de,null,He(i.value,d=>(x(),T("li",{key:d}," "+D(d),1))),128))])):Q("",!0),l.value.length?(x(),T("ul",tf,[(x(!0),T(de,null,He(l.value,d=>(x(),T("li",{key:d}," "+D(d),1))),128))])):Q("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]),nf={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},af={class:"sb-actions"},rf={class:"sb-list"},of=["aria-pressed","onClick"],lf={class:"cal-name"},cf={class:"cal-fields"},uf={class:"field"},df=["value","onChange"],ff=["value"],gf={class:"field"},pf=["value","title","aria-invalid","onInput"],hf=Pe({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:n,range:a,isLoading:r,categoryOptions:o,calendarTargetMessages:i}=ea(t),l=f=>t.calendarCategoryId(f),g=f=>t.getTarget(f);return(f,d)=>(x(),T("div",nf,[u("div",af,[fe(k(Je),{type:"tertiary",disabled:k(r),onClick:d[0]||(d[0]=p=>f.$emit("select-all",!0))},{default:Ie(()=>[...d[2]||(d[2]=[we("All",-1)])]),_:1},8,["disabled"]),fe(k(Je),{type:"tertiary",disabled:k(r),onClick:d[1]||(d[1]=p=>f.$emit("select-all",!1))},{default:Ie(()=>[...d[3]||(d[3]=[we("None",-1)])]),_:1},8,["disabled"])]),d[8]||(d[8]=ec('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),u("div",rf,[(x(!0),T(de,null,He(k(s),p=>{var c,m;return x(),T("div",{key:p.id,class:"cal-card"},[u("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":k(n).includes(p.id),onClick:h=>f.$emit("toggle-calendar",p.id)},[u("span",{class:"color-dot",style:kt({background:p.color||"var(--brand)"})},null,4),u("span",lf,D(p.displayname||p.id),1),u("span",{class:be(["cal-state",{on:k(n).includes(p.id)}])},D(k(n).includes(p.id)?"Selected":"Hidden"),3)],8,of),u("div",cf,[u("label",uf,[d[5]||(d[5]=u("span",{class:"label"},"Category",-1)),u("select",{value:l(p.id),onChange:h=>f.$emit("set-category",{id:p.id,category:h.target.value})},[d[4]||(d[4]=u("option",{value:""},"Unassigned",-1)),(x(!0),T(de,null,He(k(o),h=>(x(),T("option",{key:h.id,value:h.id},D(h.label),9,ff))),128))],40,df)]),u("label",gf,[d[6]||(d[6]=u("span",{class:"label"},"Target (h)",-1)),u("input",{type:"number",value:g(p.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${k(a)==="week"?"week":"month"}) in hours`,"aria-invalid":!!k(i)[p.id],class:"target-input",onInput:h=>f.$emit("target-input",{id:p.id,value:h.target.value})},null,40,pf),k(i)[p.id]?(x(),T("div",{key:0,class:be(["input-message",(c=k(i)[p.id])==null?void 0:c.tone])},D((m=k(i)[p.id])==null?void 0:m.text),3)):Q("",!0)])])])}),128)),d[7]||(d[7]=u("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),mf={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},vf={class:"onboarding-action"},yf={class:"target-config"},bf={class:"field"},wf=["value","aria-invalid"],_f={class:"field"},kf=["value","aria-invalid"],xf={class:"preset-buttons"},Sf={class:"cat-header"},Cf=["value","onInput"],$f=["disabled","onClick"],Tf={class:"cat-fields"},Mf={class:"field"},Af=["value","aria-invalid","onInput"],Df={class:"field"},Ef=["value","onChange"],If={class:"field checkbox"},Pf=["checked","onChange"],Nf={class:"target-section"},Lf={class:"field checkbox"},Of=["checked"],Hf={class:"field"},Ff=["value"],Rf={class:"field"},Wf=["value","aria-invalid"],Bf={class:"field"},jf=["value","aria-invalid"],Uf={class:"target-section"},Vf={class:"field"},zf=["value"],Kf={class:"field"},qf=["value","aria-invalid"],Gf={class:"field"},Jf=["value","aria-invalid"],Zf={class:"target-section"},Yf={class:"field checkbox"},Xf=["checked"],Qf={class:"field checkbox"},eg=["checked"],tg={class:"field checkbox"},sg=["checked"],ng={class:"field checkbox"},ag=["checked"],rg={class:"field checkbox"},og=["checked"],ig={class:"field checkbox"},lg=["checked"],cg={class:"field checkbox"},ug=["checked"],dg={class:"field checkbox"},fg=["checked"],gg=bt(Pe({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days","rerun-onboarding"],setup(e){return(t,s)=>{var n,a,r,o,i,l,g,f,d,p,c,m;return x(),T("div",mf,[s[51]||(s[51]=u("div",{class:"sb-title"},"Target Settings",-1)),u("div",vf,[fe(k(Je),{type:"secondary",size:"small",class:"onboarding-btn",onClick:s[0]||(s[0]=h=>t.$emit("rerun-onboarding"))},{default:Ie(()=>[...s[21]||(s[21]=[we(" Re-run onboarding ",-1)])]),_:1})]),u("div",yf,[u("div",bf,[s[22]||(s[22]=u("span",{class:"label"},"Total target (h)",-1)),u("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[1]||(s[1]=h=>t.$emit("total-target-input",h.target.value))},null,40,wf),t.totalTargetMessage?(x(),T("div",{key:0,class:be(["input-message",(n=t.totalTargetMessage)==null?void 0:n.tone])},D((a=t.totalTargetMessage)==null?void 0:a.text),3)):Q("",!0)]),u("div",_f,[s[23]||(s[23]=u("span",{class:"label"},"All-day event (h per day)",-1)),u("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[2]||(s[2]=h=>t.$emit("set-all-day-hours",h.target.value))},null,40,kf),t.allDayHoursMessage?(x(),T("div",{key:0,class:be(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},D((o=t.allDayHoursMessage)==null?void 0:o.text),3)):Q("",!0)]),u("div",xf,[fe(k(Je),{type:"tertiary",onClick:s[3]||(s[3]=h=>t.$emit("apply-preset","work-week"))},{default:Ie(()=>[...s[24]||(s[24]=[we("Preset: Work-Week",-1)])]),_:1}),fe(k(Je),{type:"tertiary",onClick:s[4]||(s[4]=h=>t.$emit("apply-preset","balanced-life"))},{default:Ie(()=>[...s[25]||(s[25]=[we("Preset: Balanced-Life",-1)])]),_:1})]),(x(!0),T(de,null,He(t.categoryOptions,h=>{var y,$;return x(),T("div",{class:"target-category",key:h.id},[u("div",Sf,[u("input",{class:"cat-name",type:"text",value:h.label,placeholder:"Category name",onInput:_=>t.$emit("set-category-label",{id:h.id,label:_.target.value})},null,40,Cf),u("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:_=>t.$emit("remove-category",h.id)},"  ",8,$f)]),u("div",Tf,[u("label",Mf,[s[26]||(s[26]=u("span",{class:"label"},"Target (h)",-1)),u("input",{type:"number",value:h.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[h.id],onInput:_=>t.$emit("set-category-target",{id:h.id,value:_.target.value})},null,40,Af),t.categoryTargetMessages[h.id]?(x(),T("div",{key:0,class:be(["input-message",(y=t.categoryTargetMessages[h.id])==null?void 0:y.tone])},D(($=t.categoryTargetMessages[h.id])==null?void 0:$.text),3)):Q("",!0)]),u("label",Df,[s[28]||(s[28]=u("span",{class:"label"},"Pace mode",-1)),u("select",{value:h.paceMode||t.targets.pace.mode,onChange:_=>t.$emit("set-category-pace",{id:h.id,mode:_.target.value})},[...s[27]||(s[27]=[u("option",{value:"days_only"},"Days only",-1),u("option",{value:"time_aware"},"Time aware",-1)])],40,Ef)]),u("label",If,[u("input",{type:"checkbox",checked:h.includeWeekend,onChange:_=>t.$emit("set-category-weekend",{id:h.id,value:_.target.checked})},null,40,Pf),s[29]||(s[29]=u("span",null,"Weekend",-1))])])])}),128)),fe(k(Je),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[5]||(s[5]=h=>t.$emit("add-category"))},{default:Ie(()=>[...s[30]||(s[30]=[we(" Add category ",-1)])]),_:1},8,["disabled"]),u("div",Nf,[s[36]||(s[36]=u("div",{class:"section-title"},"Pace",-1)),u("label",Lf,[u("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[6]||(s[6]=h=>t.$emit("set-include-weekend-total",h.target.checked))},null,40,Of),s[31]||(s[31]=u("span",null,"Count weekend in total pace",-1))]),u("label",Hf,[s[33]||(s[33]=u("span",{class:"label"},"Mode",-1)),u("select",{value:t.targets.pace.mode,onChange:s[7]||(s[7]=h=>t.$emit("set-pace-mode",h.target.value))},[...s[32]||(s[32]=[u("option",{value:"days_only"},"Days only",-1),u("option",{value:"time_aware"},"Time aware",-1)])],40,Ff)]),u("label",Rf,[s[34]||(s[34]=u("span",{class:"label"},"On track  gap (%)",-1)),u("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[8]||(s[8]=h=>t.$emit("set-threshold",{key:"onTrack",value:h.target.value}))},null,40,Wf),t.paceThresholdMessages.onTrack?(x(),T("div",{key:0,class:be(["input-message",(i=t.paceThresholdMessages.onTrack)==null?void 0:i.tone])},D((l=t.paceThresholdMessages.onTrack)==null?void 0:l.text),3)):Q("",!0)]),u("label",Bf,[s[35]||(s[35]=u("span",{class:"label"},"At risk  gap (%)",-1)),u("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[9]||(s[9]=h=>t.$emit("set-threshold",{key:"atRisk",value:h.target.value}))},null,40,jf),t.paceThresholdMessages.atRisk?(x(),T("div",{key:0,class:be(["input-message",(g=t.paceThresholdMessages.atRisk)==null?void 0:g.tone])},D((f=t.paceThresholdMessages.atRisk)==null?void 0:f.text),3)):Q("",!0)])]),u("div",Uf,[s[41]||(s[41]=u("div",{class:"section-title"},"Forecast",-1)),u("label",Vf,[s[38]||(s[38]=u("span",{class:"label"},"Primary method",-1)),u("select",{value:t.targets.forecast.methodPrimary,onChange:s[10]||(s[10]=h=>t.$emit("set-forecast-method",h.target.value))},[...s[37]||(s[37]=[u("option",{value:"linear"},"Linear",-1),u("option",{value:"momentum"},"Momentum",-1)])],40,zf)]),u("label",Kf,[s[39]||(s[39]=u("span",{class:"label"},"Momentum window (days)",-1)),u("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[11]||(s[11]=h=>t.$emit("set-forecast-momentum",h.target.value))},null,40,qf),t.forecastMomentumMessage?(x(),T("div",{key:0,class:be(["input-message",(d=t.forecastMomentumMessage)==null?void 0:d.tone])},D((p=t.forecastMomentumMessage)==null?void 0:p.text),3)):Q("",!0)]),u("label",Gf,[s[40]||(s[40]=u("span",{class:"label"},"Padding (h)",-1)),u("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[12]||(s[12]=h=>t.$emit("set-forecast-padding",h.target.value))},null,40,Jf),t.forecastPaddingMessage?(x(),T("div",{key:0,class:be(["input-message",(c=t.forecastPaddingMessage)==null?void 0:c.tone])},D((m=t.forecastPaddingMessage)==null?void 0:m.text),3)):Q("",!0)])]),u("div",Zf,[s[50]||(s[50]=u("div",{class:"section-title"},"Display",-1)),u("label",Yf,[u("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[13]||(s[13]=h=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:h.target.checked}))},null,40,Xf),s[42]||(s[42]=u("span",null,"Show calendar charts",-1))]),u("label",Qf,[u("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[14]||(s[14]=h=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:h.target.checked}))},null,40,eg),s[43]||(s[43]=u("span",null,"Show category charts",-1))]),u("label",tg,[u("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[15]||(s[15]=h=>t.$emit("set-ui-option",{key:"showTotalDelta",value:h.target.checked}))},null,40,sg),s[44]||(s[44]=u("span",null,"Show total delta",-1))]),u("label",ng,[u("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[16]||(s[16]=h=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:h.target.checked}))},null,40,ag),s[45]||(s[45]=u("span",null,"Show need per day",-1))]),u("label",rg,[u("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[17]||(s[17]=h=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:h.target.checked}))},null,40,og),s[46]||(s[46]=u("span",null,"Show categories",-1))]),u("label",ig,[u("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[18]||(s[18]=h=>t.$emit("set-ui-option",{key:"badges",value:h.target.checked}))},null,40,lg),s[47]||(s[47]=u("span",null,"Status badges",-1))]),u("label",cg,[u("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[19]||(s[19]=h=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:h.target.checked}))},null,40,ug),s[48]||(s[48]=u("span",null,"Weekend toggle",-1))]),u("label",dg,[u("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[20]||(s[20]=h=>t.$emit("set-include-zero-days",h.target.checked))},null,40,fg),s[49]||(s[49]=u("span",null,"Include zero days in pace",-1))])])])])}}}),[["__scopeId","data-v-b1f9b14e"]]),pg={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},hg={class:"target-config"},mg={class:"field"},vg={class:"summary-mode-toggle"},yg={class:"target-section"},bg=["checked","onChange"],wg=Pe({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,n=t,a={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=U(()=>({...a,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,l)=>(x(),T("div",pg,[l[6]||(l[6]=u("div",{class:"sb-title"},"Time Summary",-1)),u("div",hg,[u("div",mg,[l[4]||(l[4]=u("span",{class:"label"},"Average mode",-1)),u("div",vg,[fe(k(Mn),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":l[0]||(l[0]=g=>{g&&n("update:activeMode","active")})},{default:Ie(()=>[...l[2]||(l[2]=[we(" Active days ",-1)])]),_:1},8,["checked"]),fe(k(Mn),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":l[1]||(l[1]=g=>{g&&n("update:activeMode","all")})},{default:Ie(()=>[...l[3]||(l[3]=[we(" All days ",-1)])]),_:1},8,["checked"])])]),u("div",yg,[l[5]||(l[5]=u("div",{class:"section-title"},"Display",-1)),(x(),T(de,null,He(o,g=>u("label",{key:g.key,class:"field checkbox"},[u("input",{type:"checkbox",checked:r.value[g.key],onChange:f=>n("toggle-option",{key:g.key,value:f.target.checked})},null,40,bg),u("span",null,D(g.label),1)])),64))])])]))}}),_g={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},kg={class:"section-title-row"},xg=["aria-expanded"],Sg={key:0,class:"section-hint"},Cg={class:"target-section toggle-grid"},$g=["checked","onChange"],Tg={class:"forecast-block"},Mg={class:"field"},Ag=["value"],Dg=["value"],Eg={key:0,class:"section-hint forecast-hint"},Ig=bt(Pe({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},forecastMode:{},forecastOptions:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option","update-forecast-mode"],setup(e,{emit:t}){const s=e,n=t,{activitySettings:a,activityToggles:r,forecastMode:o,forecastOptions:i,helpOpen:l}=ea(s),g=U(()=>{var p;const d=(p=i.value)==null?void 0:p.find(c=>c.value===o.value);return(d==null?void 0:d.description)??""});function f(d){(d==="off"||d==="total"||d==="calendar"||d==="category")&&n("update-forecast-mode",d)}return(d,p)=>(x(),T("div",_g,[u("div",kg,[p[3]||(p[3]=u("div",{class:"section-title"},"Activity & Schedule",-1)),u("button",{type:"button",class:"info-button","aria-expanded":k(l),"aria-label":"Activity & Schedule help",onClick:p[0]||(p[0]=c=>n("toggle-help"))},[...p[2]||(p[2]=[u("span",null,"?",-1)])],8,xg)]),k(l)?(x(),T("p",Sg,"Choose which metrics appear on the Activity & Schedule card.")):Q("",!0),u("div",Cg,[(x(!0),T(de,null,He(k(r),([c,m])=>(x(),T("label",{key:c,class:"field checkbox toggle-field"},[u("input",{type:"checkbox",checked:k(a)[c],onChange:h=>n("toggle-option",{key:c,value:h.target.checked})},null,40,$g),u("span",null,D(m),1)]))),128))]),u("div",Tg,[p[5]||(p[5]=u("div",{class:"section-title"},"Bar chart projection",-1)),u("label",Mg,[p[4]||(p[4]=u("span",{class:"label"},"Projection mode",-1)),u("select",{value:k(o),onChange:p[1]||(p[1]=c=>f(c.target.value))},[(x(!0),T(de,null,He(k(i),c=>(x(),T("option",{key:c.value,value:c.value},D(c.label),9,Dg))),128))],40,Ag)]),g.value?(x(),T("p",Eg,D(g.value),1)):Q("",!0)])]))}}),[["__scopeId","data-v-4d86aa83"]]),Pg={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},Ng={class:"section-title-row"},Lg=["aria-expanded"],Og={class:"target-section"},Hg={class:"section-title-row"},Fg=["aria-expanded"],Rg={key:0,class:"section-hint"},Wg={class:"field-grid"},Bg={class:"field"},jg=["value","aria-invalid"],Ug={class:"field"},Vg=["value","aria-invalid"],zg={class:"field"},Kg=["value","aria-invalid"],qg={class:"target-section"},Gg={class:"section-title-row"},Jg=["aria-expanded"],Zg={key:0,class:"section-hint"},Yg={class:"field-grid"},Xg={class:"field"},Qg=["value"],ep={class:"field"},tp=["value","aria-invalid"],sp={class:"target-section"},np={class:"section-title-row"},ap=["aria-expanded"],rp={key:0,class:"section-hint"},op={class:"toggle-grid"},ip={class:"field checkbox toggle-field"},lp=["checked"],cp={class:"field checkbox toggle-field"},up=["checked"],dp={class:"field checkbox toggle-field"},fp=["checked"],gp={class:"field-grid mt-8"},pp={class:"field"},hp=["value","aria-invalid"],mp=["value"],vp={class:"field"},yp=["value","aria-invalid"],bp=["value"],wp=Pe({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,n=t,{balanceSettings:a,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:l,helpThresholds:g,helpTrend:f,helpDisplay:d}=ea(s);return(p,c)=>{var m,h,y,$,_,S,M,N,ee,Y,V,J;return x(),T("div",Pg,[u("div",Ng,[c[15]||(c[15]=u("div",{class:"section-title subtitle"},"Balance Overview",-1)),u("button",{type:"button",class:"info-button","aria-expanded":k(g)||k(f)||k(d),"aria-label":"Balance Overview help",onClick:c[0]||(c[0]=B=>n("toggle-help","all"))},[...c[14]||(c[14]=[u("span",null,"?",-1)])],8,Lg)]),u("div",Og,[u("div",Hg,[c[17]||(c[17]=u("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),u("button",{type:"button",class:"info-button","aria-expanded":k(g),"aria-label":"Thresholds help",onClick:c[1]||(c[1]=B=>n("toggle-help","thresholds"))},[...c[16]||(c[16]=[u("span",null,"?",-1)])],8,Fg)]),k(g)?(x(),T("p",Rg,"Set the share/index limits that trigger balance warnings.")):Q("",!0),u("div",Wg,[u("label",Bg,[c[18]||(c[18]=u("span",{class:"label"},"Notice max share",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(a).thresholds.noticeMaxShare,"aria-invalid":!!k(r).noticeMaxShare,onInput:c[2]||(c[2]=B=>n("set-threshold",{key:"noticeMaxShare",value:B.target.value}))},null,40,jg),k(r).noticeMaxShare?(x(),T("div",{key:0,class:be(["input-message",(m=k(r).noticeMaxShare)==null?void 0:m.tone])},D((h=k(r).noticeMaxShare)==null?void 0:h.text),3)):Q("",!0)]),u("label",Ug,[c[19]||(c[19]=u("span",{class:"label"},"Warn max share",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(a).thresholds.warnMaxShare,"aria-invalid":!!k(r).warnMaxShare,onInput:c[3]||(c[3]=B=>n("set-threshold",{key:"warnMaxShare",value:B.target.value}))},null,40,Vg),k(r).warnMaxShare?(x(),T("div",{key:0,class:be(["input-message",(y=k(r).warnMaxShare)==null?void 0:y.tone])},D(($=k(r).warnMaxShare)==null?void 0:$.text),3)):Q("",!0)]),u("label",zg,[c[20]||(c[20]=u("span",{class:"label"},"Warn index",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(a).thresholds.warnIndex,"aria-invalid":!!k(r).warnIndex,onInput:c[4]||(c[4]=B=>n("set-threshold",{key:"warnIndex",value:B.target.value}))},null,40,Kg),k(r).warnIndex?(x(),T("div",{key:0,class:be(["input-message",(_=k(r).warnIndex)==null?void 0:_.tone])},D((S=k(r).warnIndex)==null?void 0:S.text),3)):Q("",!0)])])]),u("div",qg,[u("div",Gg,[c[22]||(c[22]=u("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),u("button",{type:"button",class:"info-button","aria-expanded":k(f),"aria-label":"Trend help",onClick:c[5]||(c[5]=B=>n("toggle-help","trend"))},[...c[21]||(c[21]=[u("span",null,"?",-1)])],8,Jg)]),k(f)?(x(),T("p",Zg,"Control the comparison window and how ratios are expressed.")):Q("",!0),u("div",Yg,[u("label",Xg,[c[24]||(c[24]=u("span",{class:"label"},"Relation display",-1)),u("select",{value:k(a).relations.displayMode,onChange:c[6]||(c[6]=B=>n("set-relation",B.target.value))},[...c[23]||(c[23]=[u("option",{value:"ratio"},"Ratio (A : B)",-1),u("option",{value:"factor"},"Factor (A)",-1)])],40,Qg)]),u("label",ep,[c[25]||(c[25]=u("span",{class:"label"},"Trend lookback (weeks)",-1)),u("input",{type:"number",min:"1",max:"12",step:"1",value:k(a).trend.lookbackWeeks,"aria-invalid":!!k(o),onInput:c[7]||(c[7]=B=>n("set-lookback",B.target.value))},null,40,tp),k(o)?(x(),T("div",{key:0,class:be(["input-message",(M=k(o))==null?void 0:M.tone])},D((N=k(o))==null?void 0:N.text),3)):Q("",!0)])])]),u("div",sp,[u("div",np,[c[27]||(c[27]=u("div",{class:"section-subtitle subtitle"},"Display",-1)),u("button",{type:"button",class:"info-button","aria-expanded":k(d),"aria-label":"Display help",onClick:c[8]||(c[8]=B=>n("toggle-help","display"))},[...c[26]||(c[26]=[u("span",null,"?",-1)])],8,ap)]),k(d)?(x(),T("p",rp,"Toggle optional insights and adjust rounding for the card values.")):Q("",!0),u("div",op,[u("label",ip,[u("input",{type:"checkbox",checked:k(a).ui.showInsights,onChange:c[9]||(c[9]=B=>n("set-ui-toggle",{key:"showInsights",value:B.target.checked}))},null,40,lp),c[28]||(c[28]=u("span",null,"Insights",-1))]),u("label",cp,[u("input",{type:"checkbox",checked:k(a).ui.showDailyStacks,onChange:c[10]||(c[10]=B=>n("set-ui-toggle",{key:"showDailyStacks",value:B.target.checked}))},null,40,up),c[29]||(c[29]=u("span",null,"Daily mix (experimental)",-1))]),u("label",dp,[u("input",{type:"checkbox",checked:k(a).dayparts.enabled,onChange:c[11]||(c[11]=B=>n("set-ui-toggle",{key:"dayparts",value:B.target.checked}))},null,40,fp),c[30]||(c[30]=u("span",null,"Dayparts",-1))])]),u("div",gp,[u("label",pp,[c[31]||(c[31]=u("span",{class:"label"},"Percent precision",-1)),u("select",{value:k(a).ui.roundPercent,"aria-invalid":!!k(i).roundPercent,onChange:c[12]||(c[12]=B=>n("set-ui-precision",{key:"roundPercent",value:B.target.value}))},[(x(!0),T(de,null,He(k(l),B=>(x(),T("option",{key:`round-percent-${B}`,value:B},D(B),9,mp))),128))],40,hp),k(i).roundPercent?(x(),T("div",{key:0,class:be(["input-message",(ee=k(i).roundPercent)==null?void 0:ee.tone])},D((Y=k(i).roundPercent)==null?void 0:Y.text),3)):Q("",!0)]),u("label",vp,[c[32]||(c[32]=u("span",{class:"label"},"Ratio precision",-1)),u("select",{value:k(a).ui.roundRatio,"aria-invalid":!!k(i).roundRatio,onChange:c[13]||(c[13]=B=>n("set-ui-precision",{key:"roundRatio",value:B.target.value}))},[(x(!0),T(de,null,He(k(l),B=>(x(),T("option",{key:`round-ratio-${B}`,value:B},D(B),9,bp))),128))],40,yp),k(i).roundRatio?(x(),T("div",{key:0,class:be(["input-message",(V=k(i).roundRatio)==null?void 0:V.tone])},D((J=k(i).roundRatio)==null?void 0:J.text),3)):Q("",!0)])])])])}}}),_p={class:"notes-section"},kp=["title"],xp=["value"],Sp=["title"],Cp=["value"],$p={class:"notes-actions"},Tp=bt(Pe({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(x(),T("div",_p,[u("div",{class:"hint",title:t.prevTitle},D(t.prevLabel),9,kp),u("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,xp),u("div",{class:"hint",title:t.currTitle},D(t.currLabel),9,Sp),u("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,Cp),u("div",$p,[fe(k(Je),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=n=>t.$emit("save"))},{default:Ie(()=>[...s[2]||(s[2]=[we("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),Mp={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},Ap=Pe({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,n=t,{previous:a,modelValue:r,prevLabel:o,currLabel:i,prevTitle:l,currTitle:g,saving:f}=s;return(d,p)=>(x(),T("div",Mp,[p[2]||(p[2]=u("div",{class:"sb-title"},"Notes",-1)),fe(Tp,{previous:k(a),"model-value":k(r),"prev-label":k(o),"curr-label":k(i),"prev-title":k(l),"curr-title":k(g),saving:k(f),"onUpdate:modelValue":p[0]||(p[0]=c=>n("update:modelValue",c)),onSave:p[1]||(p[1]=c=>n("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}}),Dp={id:"opsdash-sidebar-pane-config",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-config"},Ep={class:"preset-form"},Ip=["disabled"],Pp={key:0,class:"preset-error"},Np={key:0,class:"preset-warnings"},Lp={class:"preset-header"},Op={key:1,class:"preset-empty"},Hp={key:2,class:"preset-list"},Fp={class:"preset-meta"},Rp={class:"preset-name"},Wp={class:"preset-info"},Bp={key:0},jp={class:"preset-actions"},Up=bt(Pe({__name:"SidebarConfigPane",props:{presets:{},isLoading:{type:Boolean},isSaving:{type:Boolean},isApplying:{type:Boolean},warnings:{}},emits:["save","load","delete","refresh","clear-warnings"],setup(e,{emit:t}){const s=t,n=re(""),a=re(null);function r(){const g=n.value.trim();if(!g){a.value="Enter a profile name";return}a.value=null,s("save",g),n.value=""}function o(g){s("load",g)}function i(g){window.confirm(`Delete profile "${g}"?`)&&s("delete",g)}function l(g){if(!g)return"";const f=new Date(g);if(Number.isNaN(f.getTime()))return g;const p=new Date().getTime()-f.getTime(),c=Math.round(p/6e4);if(c<1)return"just now";if(c<60)return`${c} min ago`;const m=Math.round(c/60);if(m<24)return`${m} h ago`;const h=Math.round(m/24);return h<7?`${h} d ago`:f.toLocaleDateString()}return Qt(()=>{s("refresh")}),(g,f)=>(x(),T("div",Dp,[f[8]||(f[8]=u("div",{class:"sb-title"},"Configuration Profiles",-1)),f[9]||(f[9]=u("p",{class:"sb-description"}," Save and restore complete sidebar configurations (calendars, groups, targets, settings). ",-1)),u("div",Ep,[f[3]||(f[3]=u("label",{class:"preset-label",for:"preset-name"},"Profile name",-1)),Ms(u("input",{id:"preset-name","onUpdate:modelValue":f[0]||(f[0]=d=>n.value=d),type:"text",placeholder:"e.g. Focus week",disabled:g.isSaving,onKeyup:Bc(r,["enter"])},null,40,Ip),[[Hc,n.value]]),a.value?(x(),T("div",Pp,D(a.value),1)):Q("",!0),fe(k(Je),{class:"preset-save",type:"primary",disabled:g.isSaving||!n.value.trim(),onClick:r},{default:Ie(()=>[we(D(g.isSaving?"Saving":"Save current configuration"),1)]),_:1},8,["disabled"])]),g.warnings.length?(x(),T("div",Np,[f[5]||(f[5]=u("div",{class:"warnings-title"},"Warnings",-1)),u("ul",null,[(x(!0),T(de,null,He(g.warnings,(d,p)=>(x(),T("li",{key:p},D(d),1))),128))]),fe(k(Je),{type:"tertiary",class:"preset-clear",onClick:f[1]||(f[1]=d=>s("clear-warnings"))},{default:Ie(()=>[...f[4]||(f[4]=[we(" Clear warnings ",-1)])]),_:1})])):Q("",!0),u("div",Lp,[f[6]||(f[6]=u("h3",null,"Saved profiles",-1)),fe(k(Je),{type:"tertiary",disabled:g.isLoading,onClick:f[2]||(f[2]=d=>s("refresh"))},{default:Ie(()=>[we(D(g.isLoading?"Refreshing":"Refresh list"),1)]),_:1},8,["disabled"])]),!g.presets.length&&!g.isLoading?(x(),T("div",Op," No profiles yet. Save one above to get started. ")):(x(),T("ul",Hp,[(x(!0),T(de,null,He(g.presets,d=>(x(),T("li",{key:d.name,class:"preset-item"},[u("div",Fp,[u("div",Rp,D(d.name),1),u("div",Wp,[u("span",null,D(d.selectedCount)+" calendars",1),u("span",null,D(d.calendarCount)+" groups",1),d.updatedAt?(x(),T("span",Bp,"Updated "+D(l(d.updatedAt)),1)):Q("",!0)])]),u("div",jp,[fe(k(Je),{type:"primary",disabled:g.isApplying,onClick:p=>o(d.name)},{default:Ie(()=>[we(D(g.isApplying?"Applying":"Load"),1)]),_:2},1032,["disabled","onClick"]),fe(k(Je),{type:"tertiary",disabled:g.isApplying,onClick:p=>i(d.name)},{default:Ie(()=>[...f[7]||(f[7]=[we(" Delete ",-1)])]),_:2},1032,["disabled","onClick"])])]))),128))]))]))}}),[["__scopeId","data-v-d602d23c"]]);function Vp(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const n=Number(e);if(!Number.isFinite(n))return{value:null,error:"Enter a valid number"};let a=n,r;if(typeof t.min=="number"&&a<t.min&&(a=t.min,r=Ma(t)),typeof t.max=="number"&&a>t.max&&(a=t.max,r=Ma(t)),typeof t.step=="number"&&t.step>0){const i=Kp(a,t.step);i!==a&&(a=i,r=Ma(t))}const o=Ko(t);return typeof o=="number"&&(a=Number(a.toFixed(o))),{value:a,warning:r}}function zp(e,t){const s=Vp(e,t),n=[];return s.error&&n.push({severity:"error",message:s.error}),s.warning&&n.push({severity:"warning",message:s.warning}),{value:s.value,issues:n}}function Kp(e,t){const s=Ko({step:t}),n=Math.round(e/t)*t;return typeof s=="number"?Number(n.toFixed(s)):n}function Ko(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return qp(e.step)}function qp(e){const t=e.toString();if(t.includes("e-")){const[,n]=t.split("e-");return Number(n)}const[,s=""]=t.split(".");return s.length}function Ma(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function Gp(e,t,s="Enter a valid number"){const n=zp(e,t),a=n.issues.find(i=>i.severity==="error"),r=n.issues.find(i=>i.severity==="warning");let o=null;return a||n.value===null?o={text:(a==null?void 0:a.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!a&&n.value!==null,value:n.value,message:o}}function At(e,t,s,n,a){const{ok:r,value:o,message:i}=Gp(e,t,a);return s(i),!r||o===null?!1:(n(o),!0)}const Jp={class:"rangebar",title:"Time range"},Zp={class:"range-actions"},Yp=["disabled"],Xp=["aria-label"],Qp={class:"range-toggle"},eh={class:"range-nav"},th={class:"range-dates"},sh={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},nh=["aria-selected"],ah=["aria-selected"],rh=["aria-selected"],oh={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},ih=["aria-selected"],lh=["aria-selected"],ch=["aria-selected"],uh={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Advanced configuration"},dh=["aria-selected"],fh=bt(Pe({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{},presets:{},presetsLoading:{type:Boolean},presetSaving:{type:Boolean},presetApplying:{type:Boolean},presetWarnings:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav","save-preset","load-preset","delete-preset","refresh-presets","clear-preset-warnings","rerun-onboarding"],setup(e,{emit:t}){const s=e,n=t,a=re("calendars"),r=U(()=>s.targetsConfig),o=U(()=>{var C;return((C=r.value)==null?void 0:C.categories)??[]}),i=U(()=>s.presets??[]);function l(C){const b=nt(JSON.parse(JSON.stringify(s.targetsConfig||{})));C(b),n("update:targets-config",b)}const g=U(()=>F()!==null),f=U(()=>{var C;return((C=r.value)==null?void 0:C.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),d=U(()=>{var C;return{...ps(),...((C=r.value)==null?void 0:C.activityCard)??{}}}),p={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},c=U(()=>Object.entries(p)),m=[{value:"off",label:"Do not project future days",description:"Keep charts empty until events occur."},{value:"total",label:"Distribute remaining total target",description:"Split leftover total target hours evenly across future days using current calendar mix."},{value:"calendar",label:"Respect calendar targets",description:"Use per-calendar targets for the current range and spread remaining hours across future days."},{value:"category",label:"Respect category targets",description:"Allocate remaining category targets across future days according to current mappings."}],h=U(()=>{var L;const C=ka(),b=((L=r.value)==null?void 0:L.balance)??C;return{...C,...b,thresholds:{...C.thresholds,...b.thresholds??{}},relations:{...C.relations,...b.relations??{}},trend:{...C.trend,...b.trend??{}},dayparts:{...C.dayparts,...b.dayparts??{}},ui:{...C.ui,...b.ui??{}}}}),y=[0,1,2,3],$=Ct({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),_=Ct({}),S=Ct({}),M=re(null),N=re(null),ee=Ct({onTrack:null,atRisk:null}),Y=Ct({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),V=re(null),J=re(null),B=re(null),se=Ct({roundPercent:null,roundRatio:null});function F(){const C=new Set;for(const b of o.value)(b.groupIds||[]).forEach(L=>C.add(Number(L)));Object.values(s.groupsById||{}).forEach(b=>C.add(Number(b)));for(let b=1;b<=9;b++)if(!C.has(b))return b;return null}function z(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function te(C){const b=le(C),L=o.value.find(ye=>Array.isArray(ye.groupIds)&&ye.groupIds.includes(b));return L?L.id:""}function K(C,b){if(!b){n("set-group",{id:C,n:0});return}const L=o.value.find(gt=>gt.id===b);if(!L){n("set-group",{id:C,n:0});return}const ye=pe(L.id);n("set-group",{id:C,n:ye})}function pe(C){const b=o.value.find(gt=>gt.id===C);if(!b)return 0;const L=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;if(L&&Number.isFinite(L))return L;const ye=F()??0;return l(gt=>{const Pn=gt.categories.find(Pa=>Pa.id===C);Pn&&(Pn.groupIds=ye?[ye]:[])}),ye}function ae(C,b){l(L=>{const ye=L.categories.find(gt=>gt.id===C);ye&&b(ye)})}function le(C){const b=Number((s.groupsById||{})[C]??0);return isFinite(b)?Math.max(0,Math.min(9,Math.trunc(b))):0}function Ce(C){const b=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},L=Number(b[C]??"");return isFinite(L)?L:""}function Ne(C){n("select-all",C)}function Te(C){n("toggle-calendar",C)}function ke(C){K(C.id,C.category)}function xe(C){v(C.id,C.value)}function Ae(C){P(C.key,C.value)}function Ke(C){I(C.key,C.value)}function De(C){C!=="off"&&C!=="total"&&C!=="calendar"&&C!=="category"||l(b=>{b.activityCard||(b.activityCard=ps()),b.activityCard.forecastMode=C})}function Me(){$.activity=!$.activity}function ie(C){if(C==="all"){const b=!($.balanceThresholds&&$.balanceTrend&&$.balanceDisplay);$.balanceThresholds=b,$.balanceTrend=b,$.balanceDisplay=b;return}C==="thresholds"?$.balanceThresholds=!$.balanceThresholds:C==="trend"?$.balanceTrend=!$.balanceTrend:C==="display"&&($.balanceDisplay=!$.balanceDisplay)}function We(C){ne(C.key,C.value)}function Ue(C){if(C.key==="dayparts"){l(b=>{b.balance.dayparts.enabled=C.value});return}ge(C.key,C.value)}function ft(C){he(C.key,C.value)}function v(C,b){At(b,{min:0,max:1e4,step:.25,decimals:2},L=>{_[C]=L},L=>n("set-target",{id:C,h:L}))}function w(C){At(C,{min:0,max:1e3,step:.5,decimals:2},b=>{M.value=b},b=>l(L=>{L.totalHours=b}))}function A(C){At(C,{min:0,max:24,step:.25,decimals:2},b=>{N.value=b},b=>l(L=>{L.allDayHours=b}),"024 hours per day")}function O(C,b){At(b,{min:0,max:1e3,step:.5,decimals:2},L=>{S[C]=L},L=>ae(C,ye=>{ye.targetHours=L}))}function W(C,b){ae(C,L=>{L.label=b.trim()||L.label})}function H(C,b){ae(C,L=>{L.includeWeekend=b})}function j(C){s.activeDayMode!==C&&n("update:active-mode",C)}function P(C,b){l(L=>{L.timeSummary||(L.timeSummary=JSON.parse(JSON.stringify(f.value))),L.timeSummary[C]=b})}function I(C,b){l(L=>{L.activityCard||(L.activityCard=ps()),L.activityCard[C]=b})}function E(C,b){b!=="days_only"&&b!=="time_aware"||ae(C,L=>{L.paceMode=b})}function Z(C){l(b=>{b.pace.includeWeekendTotal=C})}function q(C){C!=="days_only"&&C!=="time_aware"||l(b=>{b.pace.mode=C})}function X(C,b){At(b,{min:-100,max:100,step:.1,decimals:1},L=>{ee[C]=L},L=>l(ye=>{ye.pace.thresholds[C]=L}))}function ne(C,b){At(b,{min:0,max:1,step:.01,decimals:2},L=>{Y[C]=L},L=>l(ye=>{ye.balance.thresholds[C]=Number(L.toFixed(2))}))}function oe(C){const b=C==="factor"?"factor":"ratio";l(L=>{L.balance.relations.displayMode=b})}function ce(C){At(C,{min:1,max:12,step:1,decimals:0},b=>{B.value=b},b=>l(L=>{L.balance.trend.lookbackWeeks=b}))}function ge(C,b){l(L=>{L.balance.ui[C]=b})}function he(C,b){At(b,{min:0,max:3,step:1,decimals:0},L=>{se[C]=L},L=>l(ye=>{ye.balance.ui[C]=L}))}function _e(C){const b=C==="momentum"?"momentum":"linear";l(L=>{L.forecast.methodPrimary=b})}function Be(C){At(C,{min:1,max:14,step:1,decimals:0},b=>{V.value=b},b=>l(L=>{L.forecast.momentumLastNDays=b}))}function Ze(C){At(C,{min:0,max:100,step:.1,decimals:1},b=>{J.value=b},b=>l(L=>{L.forecast.padding=b}))}function wt(C,b){l(L=>{L.ui[C]=b})}function vs(C){l(b=>{b.includeZeroDaysInStats=C})}function Ye(C){l(b=>{C==="work-week"?(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="days_only",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0):C==="balanced-life"&&(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="time_aware",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0)})}function lt(){var b;const C=F();if(C===null){(b=window.alert)==null||b.call(window,"All category slots are currently in use (max 9).");return}l(L=>{L.categories=[...L.categories,{id:z(),label:`Category ${L.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[C]}]})}function ys(C){if(o.value.length<=1)return;const b=o.value.find(ye=>ye.id===C);if(!b)return;const L=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;l(ye=>{ye.categories=ye.categories.filter(gt=>gt.id!==C)}),L!==null&&Object.entries(s.groupsById||{}).forEach(([ye,gt])=>{Number(gt)===L&&n("set-group",{id:ye,n:0})})}return(C,b)=>(x(),Re(k(Gc),null,{default:Ie(()=>[_l(C.$slots,"actions",{},void 0,!0),b[31]||(b[31]=u("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),u("div",Jp,[u("div",Zp,[u("button",{class:"sidebar-action-btn",type:"button",disabled:C.isLoading,onClick:b[0]||(b[0]=L=>C.$emit("load"))}," Refresh ",8,Yp),u("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:b[1]||(b[1]=L=>C.$emit("toggle-nav")),"aria-label":C.navToggleLabel},D(C.navToggleIcon),9,Xp)]),u("div",Qp,[fe(k(Mn),{type:"radio",name:"range-week",checked:C.range==="week","onUpdate:checked":b[2]||(b[2]=L=>{L&&C.$emit("update:range","week")})},{default:Ie(()=>[...b[27]||(b[27]=[we("Week",-1)])]),_:1},8,["checked"]),fe(k(Mn),{type:"radio",name:"range-month",checked:C.range==="month","onUpdate:checked":b[3]||(b[3]=L=>{L&&C.$emit("update:range","month")})},{default:Ie(()=>[...b[28]||(b[28]=[we("Month",-1)])]),_:1},8,["checked"])]),u("div",eh,[fe(k(Je),{class:"nav-btn",type:"tertiary",disabled:C.isLoading,onClick:b[4]||(b[4]=L=>C.$emit("update:offset",C.offset-1)),title:"Previous"},{default:Ie(()=>[...b[29]||(b[29]=[we("",-1)])]),_:1},8,["disabled"]),u("span",th,D(C.from)+"  "+D(C.to),1),fe(k(Je),{class:"nav-btn",type:"tertiary",disabled:C.isLoading,onClick:b[5]||(b[5]=L=>C.$emit("update:offset",C.offset+1)),title:"Next"},{default:Ie(()=>[...b[30]||(b[30]=[we("",-1)])]),_:1},8,["disabled"])])]),u("div",sh,[u("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:be(["sb-tab",{active:a.value==="calendars"}]),role:"tab","aria-selected":a.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:b[6]||(b[6]=L=>a.value="calendars")}," Calendars ",10,nh),u("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:be(["sb-tab",{active:a.value==="targets"}]),role:"tab","aria-selected":a.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:b[7]||(b[7]=L=>a.value="targets")}," Targets ",10,ah),u("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:be(["sb-tab",{active:a.value==="summary"}]),role:"tab","aria-selected":a.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:b[8]||(b[8]=L=>a.value="summary")}," Summary ",10,rh)]),u("div",oh,[u("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:be(["sb-tab",{active:a.value==="activity"}]),role:"tab","aria-selected":a.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:b[9]||(b[9]=L=>a.value="activity")}," Activity & Schedule ",10,ih),u("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:be(["sb-tab",{active:a.value==="balance"}]),role:"tab","aria-selected":a.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:b[10]||(b[10]=L=>a.value="balance")}," Balance ",10,lh),u("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:be(["sb-tab",{active:a.value==="notes"}]),role:"tab","aria-selected":a.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:b[11]||(b[11]=L=>a.value="notes")}," Notes ",10,ch)]),u("div",uh,[u("button",{id:"opsdash-sidebar-tab-config",type:"button",class:be(["sb-tab",{active:a.value==="config"}]),role:"tab","aria-selected":a.value==="config","aria-controls":"opsdash-sidebar-pane-config",onClick:b[12]||(b[12]=L=>a.value="config")}," Config ",10,dh)]),a.value==="calendars"?(x(),Re(hf,{key:0,calendars:C.calendars,selected:C.selected,range:C.range,"is-loading":C.isLoading,"category-options":o.value,"calendar-target-messages":_,"calendar-category-id":te,"get-target":Ce,onSelectAll:Ne,onToggleCalendar:Te,onSetCategory:ke,onTargetInput:xe},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):a.value==="targets"?(x(),Re(gg,{key:1,targets:r.value,"category-options":o.value,"total-target-message":M.value,"all-day-hours-message":N.value,"category-target-messages":S,"pace-threshold-messages":ee,"forecast-momentum-message":V.value,"forecast-padding-message":J.value,"can-add-category":g.value,onTotalTargetInput:w,onApplyPreset:Ye,onSetAllDayHours:A,onSetCategoryLabel:b[13]||(b[13]=({id:L,label:ye})=>W(L,ye)),onRemoveCategory:ys,onSetCategoryTarget:b[14]||(b[14]=({id:L,value:ye})=>O(L,ye)),onSetCategoryPace:b[15]||(b[15]=({id:L,mode:ye})=>E(L,ye)),onSetCategoryWeekend:b[16]||(b[16]=({id:L,value:ye})=>H(L,ye)),onAddCategory:lt,onSetIncludeWeekendTotal:Z,onSetPaceMode:q,onSetThreshold:b[17]||(b[17]=({key:L,value:ye})=>X(L,ye)),onSetForecastMethod:_e,onSetForecastMomentum:Be,onSetForecastPadding:Ze,onSetUiOption:b[18]||(b[18]=({key:L,value:ye})=>wt(L,ye)),onSetIncludeZeroDays:vs,onRerunOnboarding:b[19]||(b[19]=L=>n("rerun-onboarding"))},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):a.value==="summary"?(x(),Re(wg,{key:2,"summary-options":f.value,"active-day-mode":C.activeDayMode,"onUpdate:activeMode":j,onToggleOption:Ae},null,8,["summary-options","active-day-mode"])):a.value==="config"?(x(),Re(Up,{key:3,presets:i.value,"is-loading":s.presetsLoading,"is-saving":s.presetSaving,"is-applying":s.presetApplying,warnings:s.presetWarnings,onSave:b[20]||(b[20]=L=>n("save-preset",L)),onLoad:b[21]||(b[21]=L=>n("load-preset",L)),onDelete:b[22]||(b[22]=L=>n("delete-preset",L)),onRefresh:b[23]||(b[23]=()=>n("refresh-presets")),onClearWarnings:b[24]||(b[24]=()=>n("clear-preset-warnings"))},null,8,["presets","is-loading","is-saving","is-applying","warnings"])):a.value==="activity"?(x(),Re(Ig,{key:4,"activity-settings":d.value,"activity-toggles":c.value,"forecast-mode":d.value.forecastMode,"forecast-options":m,"help-open":$.activity,onToggleHelp:Me,onToggleOption:Ke,onUpdateForecastMode:De},null,8,["activity-settings","activity-toggles","forecast-mode","help-open"])):a.value==="balance"?(x(),Re(wp,{key:5,"balance-settings":h.value,"balance-threshold-messages":Y,"balance-lookback-message":B.value,"balance-ui-precision-messages":se,"rounding-options":y,"help-thresholds":$.balanceThresholds,"help-trend":$.balanceTrend,"help-display":$.balanceDisplay,onToggleHelp:ie,onSetThreshold:We,onSetRelation:oe,onSetLookback:ce,onSetUiToggle:Ue,onSetUiPrecision:ft},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):a.value==="notes"?(x(),Re(Ap,{key:6,previous:C.notesPrev,"model-value":C.notesCurrDraft,"prev-label":C.notesLabelPrev,"curr-label":C.notesLabelCurr,"prev-title":C.notesLabelPrevTitle,"curr-title":C.notesLabelCurrTitle,saving:C.isSavingNote,"onUpdate:modelValue":b[25]||(b[25]=L=>C.$emit("update:notes",L)),onSave:b[26]||(b[26]=L=>C.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):Q("",!0)]),_:3}))}}),[["__scopeId","data-v-25908492"]]),Dn=1,gh=[{id:"total_only",title:"Focused",subtitle:"Keep it simple with one total goal",highlights:["Single weekly/monthly target","Great for personal overview","Upgradable later"],layers:{total:!0,categories:!1,calendars:!1},recommendedFor:"Individuals tracking a single workload"},{id:"total_plus_categories",title:"Balanced",subtitle:"Track balance across a few life areas",highlights:["Total goal plus key categories","Automatic category summaries","Calendar grouping suggestions"],layers:{total:!0,categories:!0,calendars:!1},recommendedFor:"Work/life blend with a handful of focus areas"},{id:"full_granular",title:"Power",subtitle:"Targets per category and calendar",highlights:["Detailed per-calendar goals","Category dashboards & pacing","Best for multi-project oversight"],layers:{total:!0,categories:!0,calendars:!0},recommendedFor:"Power users managing several project calendars"}],ph={work:["work","focus","deep","project"],personal:["personal","home","family","life"],recovery:["recovery","wellness","rest","health"],hobby:["hobby","learn","study","growth"],sport:["sport","fitness","gym","run","ride"]};function hh(e,t,s,n){const a=e.toLowerCase();for(const r of t)if((s[r]||[]).some(i=>a.includes(i)))return r;return t[n%t.length]}function mh(e){const t={};return Object.entries(e).forEach(([s,n])=>{t[s]=Number((n*4).toFixed(2))}),t}function vh(){return gh}function yh(e,t,s){const n=s.length?[...s]:t.map(l=>l.id),a=nt(hs()),r={},o={};if(e==="total_plus_categories"||e==="full_granular"){const l=e==="total_plus_categories"?["work","personal","recovery"]:["work","hobby","sport"],g=e==="total_plus_categories"?[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupId:1},{id:"personal",label:"Personal",targetHours:8,includeWeekend:!0,paceMode:"days_only",groupId:2},{id:"recovery",label:"Recovery",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupId:3}]:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupId:1},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupId:2},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupId:3}],f={};let d=0;t.filter(m=>n.includes(m.id)).forEach(m=>{f[m.id]=hh(m.displayname,l,ph,d),d+=1});const p={};Object.values(f).forEach(m=>{p[m]=(p[m]??0)+1});const c=js(a);return c.totalHours=g.reduce((m,h)=>m+h.targetHours,0),c.categories=g.map(m=>({id:m.id,label:m.label,targetHours:m.targetHours,includeWeekend:m.includeWeekend,paceMode:m.paceMode,groupIds:[m.groupId]})),c.ui.showCategoryBlocks=!0,c.ui.showCategoryCharts=!0,c.ui.showCalendarCharts=e==="full_granular",c.includeZeroDaysInStats=!1,Object.entries(f).forEach(([m,h])=>{const y=g.find($=>$.id===h);if(y&&(r[m]=y.groupId,e==="full_granular"&&y.targetHours>0)){const $=p[h]||1,_=Number((y.targetHours/$).toFixed(2));o[m]=_}}),{selected:n,targetsConfig:nt(c),groups:r,targetsWeek:o,targetsMonth:mh(o)}}const i=js(a);return i.totalHours=40,i.categories=[],i.ui.showCategoryBlocks=!1,i.ui.showCategoryCharts=!1,i.ui.showCalendarCharts=!1,{selected:n,targetsConfig:nt(i),groups:r,targetsWeek:o,targetsMonth:{}}}const bh={key:0,class:"onboarding-overlay",role:"dialog","aria-modal":"true"},wh={class:"onboarding-header"},_h={class:"onboarding-title"},kh={class:"subtitle"},xh={class:"onboarding-actions"},Sh=["disabled"],Ch=["disabled"],$h={class:"onboarding-body"},Th={key:0,class:"onboarding-step"},Mh={key:1,class:"onboarding-step"},Ah={class:"strategy-grid"},Dh=["onClick"],Eh={class:"subtitle"},Ih={key:2,class:"onboarding-step"},Ph={class:"calendar-list"},Nh=["value","checked","onChange"],Lh={key:0,class:"warning"},Oh={key:3,class:"onboarding-step"},Hh={class:"review-grid"},Fh={key:0},Rh={key:1},Wh={class:"onboarding-footer"},qo="opsdash-onboarding-lock",Bh=bt(Pe({__name:"OnboardingWizard",props:{visible:{type:Boolean},calendars:{},initialSelection:{},initialStrategy:{},onboardingVersion:{},saving:{type:Boolean},closable:{type:Boolean}},emits:["close","skip","complete"],setup(e,{emit:t}){const s=e,n=t,a=["intro","strategy","calendars","review"],r=re(0),o=re("total_only"),i=re([]),l=vh(),g=U(()=>s.closable!==!1),f=U(()=>a[r.value]),d=U(()=>r.value+1),p=a.length,c=U(()=>s.saving===!0);function m(F){if(typeof document>"u")return;const z=document.body;z&&(F?(z.classList.add(qo),z.dataset.opsdashOnboarding="1"):(z.classList.remove(qo),delete z.dataset.opsdashOnboarding))}ut(()=>s.visible,F=>{F&&h(),m(F)},{immediate:!0}),ra(()=>{m(!1)});function h(){var z;r.value=0,o.value=s.initialStrategy??"total_only";const F=(z=s.initialSelection)!=null&&z.length?[...s.initialSelection]:s.calendars.map(te=>te.id);i.value=Array.from(new Set(F.filter(te=>s.calendars.some(K=>K.id===te))))}const y=U(()=>s.calendars.filter(F=>i.value.includes(F.id))),$=U(()=>yh(o.value,s.calendars,i.value)),_=U(()=>{var F;return((F=l.find(z=>z.id===o.value))==null?void 0:F.title)??""}),S=U(()=>r.value>0),M=U(()=>r.value<a.length-1),N=U(()=>f.value==="strategy"?!o.value:f.value==="calendars"?i.value.length===0:!1);function ee(){M.value&&!N.value&&(r.value+=1)}function Y(){S.value&&(r.value-=1)}function V(){n("skip")}function J(){g.value&&n("close")}function B(){n("complete",{strategy:o.value,selected:$.value.selected,targetsConfig:$.value.targetsConfig,groups:$.value.groups,targetsWeek:$.value.targetsWeek,targetsMonth:$.value.targetsMonth})}function se(F,z){z.checked?i.value.includes(F)||(i.value=[...i.value,F]):i.value=i.value.filter(K=>K!==F)}return(F,z)=>(x(),Re(vc,{name:"onboarding-fade"},{default:Ie(()=>[F.visible?(x(),T("div",bh,[u("div",{class:"onboarding-backdrop",onClick:J}),u("div",{class:"onboarding-panel",onClick:z[0]||(z[0]=Bs(()=>{},["stop"]))},[u("header",wh,[u("div",_h,[z[1]||(z[1]=u("h2",null,"Welcome to Opsdash",-1)),u("p",kh,"Step "+D(d.value)+" of "+D(k(p)),1)]),u("div",xh,[u("button",{type:"button",class:"skip-link",onClick:V,disabled:c.value},"Maybe later",8,Sh),g.value?(x(),T("button",{key:0,type:"button",class:"close-btn",disabled:c.value,onClick:J,"aria-label":"Close onboarding"},"  ",8,Ch)):Q("",!0)])]),u("main",$h,[f.value==="intro"?(x(),T("section",Th,[...z[2]||(z[2]=[u("h3",null,"Opsdash visualises your calendar time and keeps goals on track.",-1),u("ul",{class:"highlights"},[u("li",null,"Targets  stay aligned with your weekly/monthly goals."),u("li",null,"Balance  ensure your focus areas get the right attention."),u("li",null,"Notes  capture insights and the story behind the numbers.")],-1),u("p",{class:"hint"},"You can change configuration later from the Sidebar.",-1)])])):f.value==="strategy"?(x(),T("section",Mh,[z[3]||(z[3]=u("h3",null,"Select a starting strategy",-1)),u("div",Ah,[(x(!0),T(de,null,He(k(l),te=>(x(),T("article",{key:te.id,class:be(["strategy-card",{active:o.value===te.id}]),onClick:K=>o.value=te.id},[u("h4",null,D(te.title),1),u("p",Eh,D(te.subtitle),1),u("ul",null,[(x(!0),T(de,null,He(te.highlights,K=>(x(),T("li",{key:K},D(K),1))),128))]),u("footer",null,"Best for: "+D(te.recommendedFor),1)],10,Dh))),128))])])):f.value==="calendars"?(x(),T("section",Ih,[z[4]||(z[4]=u("h3",null,"Choose calendars to include",-1)),z[5]||(z[5]=u("p",null,"Select the calendars you want to track. You can adjust later at any time.",-1)),u("div",Ph,[(x(!0),T(de,null,He(F.calendars,te=>(x(),T("label",{key:te.id,class:be(["calendar-item",{checked:i.value.includes(te.id)}])},[u("input",{type:"checkbox",value:te.id,checked:i.value.includes(te.id),onChange:K=>se(te.id,K.target)},null,40,Nh),u("span",{class:"dot",style:kt({backgroundColor:te.color||"#3B82F6"})},null,4),u("span",null,D(te.displayname),1)],2))),128))]),i.value.length?Q("",!0):(x(),T("div",Lh,"Select at least one calendar to continue."))])):f.value==="review"?(x(),T("section",Oh,[z[9]||(z[9]=u("h3",null,"Review your setup",-1)),u("div",Hh,[u("div",null,[z[6]||(z[6]=u("h5",null,"Strategy",-1)),u("p",null,D(_.value),1)]),u("div",null,[z[7]||(z[7]=u("h5",null,"Calendars",-1)),u("ul",null,[(x(!0),T(de,null,He(y.value,te=>(x(),T("li",{key:te.id},D(te.displayname),1))),128))])]),u("div",null,[z[8]||(z[8]=u("h5",null,"Targets preview",-1)),$.value.targetsConfig.categories.length?(x(),T("ul",Fh,[(x(!0),T(de,null,He($.value.targetsConfig.categories,te=>(x(),T("li",{key:te.id},D(te.label)+"  "+D(te.targetHours)+" h ",1))),128))])):(x(),T("p",Rh,"Total target: "+D($.value.targetsConfig.totalHours)+" h per week",1))])]),z[10]||(z[10]=u("p",{class:"hint"},"You can fine-tune categories, goals, and pacing once the dashboard loads.",-1))])):Q("",!0)]),u("footer",Wh,[S.value?(x(),Re(k(Je),{key:0,type:"tertiary",disabled:c.value,onClick:Y},{default:Ie(()=>[...z[11]||(z[11]=[we("Back",-1)])]),_:1},8,["disabled"])):Q("",!0),M.value?(x(),Re(k(Je),{key:1,type:"primary",disabled:N.value||c.value,onClick:ee},{default:Ie(()=>[...z[12]||(z[12]=[we("Continue",-1)])]),_:1},8,["disabled"])):(x(),Re(k(Je),{key:2,type:"primary",disabled:c.value,onClick:B},{default:Ie(()=>[...z[13]||(z[13]=[we(" Start dashboard ",-1)])]),_:1},8,["disabled"]))])])])):Q("",!0)]),_:1}))}}),[["__scopeId","data-v-e0936581"]]);function jh(e){const t=re(""),s=re(""),n=re(!1);async function a(){var i,l;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((l=o==null?void 0:o.notes)==null?void 0:l.current)??"")}async function r(){try{n.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await a()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{n.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:n,fetchNotes:a,saveNotes:r}}function Uh(e){const t=re([]),s=re({}),n=re({}),a=re({}),r=re([]),o=re(!1),i=re(!1),l=re(null),g=re(""),f=re(""),d=re(""),p=Ct({}),c=re([]),m=re([]),h=re([]),y=re({}),$=re({}),_=re({}),S=re(nt(hs())),M=re(null);let N=0;async function ee(){var se,F,z,te,K,pe,ae,le,Ce,Ne,Te,ke,xe,Ae,Ke,De;const Y=++N;o.value=!0;const V={...n.value},J={...s.value};let B=!1;try{const Me={range:e.range.value,offset:e.offset.value|0,save:!1},ie=await e.getJson(e.route("load"),Me);if(Y!==N){(se=e.isDebug)!=null&&se.call(e)&&console.warn("discarding stale load response",{currentSeq:Y,loadSeq:N});return}g.value=String(((F=ie.meta)==null?void 0:F.uid)??""),f.value=String(((z=ie.meta)==null?void 0:z.from)??""),d.value=String(((te=ie.meta)==null?void 0:te.to)??""),i.value=!!((K=ie.meta)!=null&&K.truncated),l.value=((pe=ie.meta)==null?void 0:pe.limits)??null;const We=P=>{const I={};return P&&typeof P=="object"&&Object.entries(P).forEach(([E,Z])=>{typeof Z=="string"&&Z.trim()!==""&&(I[String(E)]=Z)}),I},Ue=Array.isArray(ie.calendars)?ie.calendars:[],ft=We((ae=ie.colors)==null?void 0:ae.byId),v=We((le=ie.colors)==null?void 0:le.byName),w=Ue.map(P=>{if(!P||typeof P!="object")return P;const I={...P},E=String(I.id??""),Z=String(I.displayname??I.name??I.calendar??E),q=typeof I.color=="string"?I.color:"",X=typeof I.color_src=="string"?I.color_src:"",ne=E?ft[E]:"",oe=Z?v[Z]:"",ce=E?V[E]:"",ge=Z?J[Z]:"",he=ce||ge;let _e=q;return!_e&&ne&&(_e=ne),!_e&&oe&&(_e=oe),(!_e||X==="fallback")&&he&&(_e=he),!_e&&he&&(_e=he),_e&&(_e!==q&&(B=!0),I.color=_e,E&&(ft[E]=_e),Z&&(v[Z]=_e)),I});t.value=w,s.value=v,n.value=ft,M.value=ie.onboarding?{...ie.onboarding}:null;const A=()=>{var I,E,Z,q;let P=!1;try{const X=((I=y.value)==null?void 0:I.pie)||{},ne=Array.isArray(X.ids)?X.ids.map(oe=>String(oe??"")):[];if(ne.length){const oe=Array.isArray(X.colors)?X.colors:[],ce=ne.map((ge,he)=>n.value[ge]||oe[he]||"#60a5fa");y.value={...y.value||{},pie:{...X,colors:ce}},P=!0}}catch(X){(E=e.isDebug)!=null&&E.call(e)&&console.warn("recompute pie colors failed",X)}try{const X=(Z=y.value)==null?void 0:Z.perDaySeries;if(X&&Array.isArray(X.series)){const ne=X.series.map(oe=>{const ce=String((oe==null?void 0:oe.id)??""),ge=n.value[ce]||oe.color||"#60a5fa";return{...oe,color:ge}});y.value={...y.value||{},perDaySeries:{labels:X.labels,series:ne}},P=!0}}catch(X){(q=e.isDebug)!=null&&q.call(e)&&console.warn("recompute stacked colors failed",X)}return P},O=((Ce=ie.groups)==null?void 0:Ce.byId)??((Ne=ie.groups)==null?void 0:Ne.byID)??((Te=ie.groups)==null?void 0:Te.ids)??{},W={};t.value.forEach(P=>{const I=String((P==null?void 0:P.id)??""),E=Number((O==null?void 0:O[I])??0);W[I]=Number.isFinite(E)?Math.max(0,Math.min(9,Math.trunc(E))):0}),a.value=W;const H=((ke=ie.targets)==null?void 0:ke.week)??{},j=((xe=ie.targets)==null?void 0:xe.month)??{};if($.value=H&&typeof H=="object"?H:{},_.value=j&&typeof j=="object"?j:{},S.value=nt(ie.targetsConfig??hs()),(Ae=e.isDebug)!=null&&Ae.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(P=>({id:P.id,name:P.displayname,color:P.color,raw:P.color_raw,src:P.color_src}))),console.log("colors.byId",n.value),console.log("colors.byName",s.value),ie.calDebug&&console.log("server calDebug",ie.calDebug),ie.debug&&(console.group("[opsdash] server query debug"),console.log(ie.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(I=>!I.color||I.color_src==="fallback").length)try{const I=await e.fetchDavColors(g.value,t.value.map(Z=>String(Z.id)));let E=!1;t.value=t.value.map(Z=>{const q=I[Z.id];return q&&q!==Z.color&&(Z.color_src="dav"(Z).color_raw=q,Z.color=q,E=!0),Z}),Object.entries(I).forEach(([Z,q])=>{if(q){const X=String(q);n.value[Z]=X;const ne=t.value.find(ce=>String((ce==null?void 0:ce.id)??"")===Z);ne&&(ne.color=X);const oe=ne?String(ne.displayname??ne.name??""):"";oe&&(s.value[oe]=X)}}),E&&((Ke=e.isDebug)!=null&&Ke.call(e)&&console.log("[opsdash] dav colors applied",I),B=!0)}catch(I){(De=e.isDebug)!=null&&De.call(e)&&console.warn("dav colors failed",I)}r.value=Array.isArray(ie.selected)?ie.selected.map(P=>String(P)):Array.isArray(ie.saved)?ie.saved.map(P=>String(P)):[],e.userChangedSelection.value=!1,Object.assign(p,ie.stats??{}),c.value=Array.isArray(ie.byCal)?ie.byCal:[],m.value=Array.isArray(ie.byDay)?ie.byDay:[],h.value=Array.isArray(ie.longest)?ie.longest:[],y.value=ie.charts??{},B&&A(),await un(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(Me){console.error(Me),e.notifyError("Failed to load data")}finally{o.value=!1}}return{calendars:t,colorsByName:s,colorsById:n,groupsById:a,selected:r,isLoading:o,isTruncated:i,truncLimits:l,uid:g,from:f,to:d,stats:p,byCal:c,byDay:m,longest:h,charts:y,targetsWeek:$,targetsMonth:_,targetsConfig:S,onboarding:M,load:ee}}function Vh(e){const t=re(!1);let s=null;function n(a=!0){s&&clearTimeout(s),s=setTimeout(async()=>{s=null;try{t.value=!0;const r=await e.postJson(e.route("persist"),{cals:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:js(e.targetsConfig.value)});Array.isArray(r.read)?e.selected.value=r.read.map(l=>String(l)):Array.isArray(r.saved)&&(e.selected.value=r.saved.map(l=>String(l)));const o=r.targets_config_read,i=r.targets_config_saved;o?e.targetsConfig.value=nt(o):i&&(e.targetsConfig.value=nt(i)),a&&e.onReload&&await e.onReload(),e.notifySuccess("Selection saved")}catch(r){console.error(r),e.notifyError("Failed to save selection")}finally{t.value=!1}},250)}return{queueSave:n,isSaving:t}}const zh=1e4;function Kh(e){function t(g){return e.selected.value.includes(g)}function s(g,f){const d=new Set(e.selected.value);f?d.add(g):d.delete(g),e.selected.value=Array.from(d)}function n(g){s(g,!t(g)),e.userChangedSelection.value=!0,e.queueSave()}function a(g){e.selected.value=g?e.calendars.value.map(f=>String(f.id)):[]}function r(g,f){const d=Math.max(0,Math.min(9,Math.trunc(Number(f)||0))),p=e.groupsById.value??{};e.groupsById.value={...p,[g]:d},e.queueSave(!1)}function o(g){const f=Math.round(g*100)/100;return Math.min(zh,Math.max(0,f))}function i(g,f){const d=Number(f);if(!Number.isFinite(d)||d<0)return;const p=o(d);if(e.range.value==="month"){const c=o(p/4);e.targetsMonth.value={...e.targetsMonth.value||{},[g]:p},e.targetsWeek.value={...e.targetsWeek.value||{},[g]:c}}else{const c=o(p*4);e.targetsWeek.value={...e.targetsWeek.value||{},[g]:p},e.targetsMonth.value={...e.targetsMonth.value||{},[g]:c}}e.queueSave(!1)}function l(g){e.targetsConfig.value=nt(g),e.queueSave(!1)}return{isSelected:t,toggleCalendar:n,setGroup:r,setTarget:i,updateTargetsConfig:l,selectAll:a}}function qh(e){const t=re([]),s=re(!1),n=re(!1),a=re(!1),r=re([]),o=re(null);async function i(){s.value=!0;try{const c=await e.getJson(e.route("presetsList"),{});t.value=Array.isArray(c==null?void 0:c.presets)?c.presets:[]}catch(c){console.error(c),e.notifyError("Failed to load presets")}finally{s.value=!1}}async function l(c){const m=c.trim();if(m===""){e.notifyError("Enter a preset name.");return}n.value=!0;try{const h={name:m,selected:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:e.targetsConfig.value},y=await e.postJson(e.route("presetsSave"),h);t.value=Array.isArray(y==null?void 0:y.presets)?y.presets:t.value;const $=Array.isArray(y==null?void 0:y.warnings)?y.warnings:[];r.value=$,o.value=m,e.notifySuccess(`Profile "${m}" saved`)}catch(h){console.error(h),e.notifyError("Failed to save preset")}finally{n.value=!1}}function g(c){const m=Array.isArray(c==null?void 0:c.selected)?c.selected.map($=>String($)):[];e.selected.value=m;const h=c!=null&&c.groups&&typeof c.groups=="object"?c.groups:{};e.groupsById.value={...h},e.targetsWeek.value=c!=null&&c.targets_week&&typeof c.targets_week=="object"?c.targets_week:{},e.targetsMonth.value=c!=null&&c.targets_month&&typeof c.targets_month=="object"?c.targets_month:{};const y=c!=null&&c.targets_config&&typeof c.targets_config=="object"?nt(c.targets_config):js(e.targetsConfig.value);e.targetsConfig.value=y,e.userChangedSelection.value=!1}async function f(c){const m=c.trim();if(m!==""){a.value=!0;try{const h=await e.getJson(e.route("presetsLoad",m),{}),y=(h==null?void 0:h.preset)??{},$=Array.isArray(y==null?void 0:y.warnings)?y.warnings:Array.isArray(h==null?void 0:h.warnings)?h.warnings:[];if($.length){const _=`Some items in the saved profile are no longer available:

${$.map(S=>` ${S}`).join(`
`)}

Apply the remaining values?`;if(!window.confirm(_)){r.value=$,a.value=!1;return}}g(y),r.value=$,o.value=m,e.notifySuccess(`Profile "${m}" applied`),e.queueSave(!0),i().catch(_=>console.warn("[opsdash] refresh presets after load failed",_))}catch(h){console.error(h),e.notifyError("Failed to load preset")}finally{a.value=!1}}}async function d(c){const m=c.trim();if(m!=="")try{const h=await e.deleteJson(e.route("presetsDelete",m));t.value=Array.isArray(h==null?void 0:h.presets)?h.presets:t.value,e.notifySuccess(`Profile "${m}" deleted`),o.value===m&&(o.value=null)}catch(h){console.error(h),e.notifyError("Failed to delete preset")}}function p(){r.value=[]}return{presets:t,presetsLoading:s,presetSaving:n,presetApplying:a,presetWarnings:r,lastLoadedPreset:o,refreshPresets:i,savePreset:l,loadPreset:f,deletePreset:d,clearPresetWarnings:p}}function Gh(){let e=null;function t(){typeof window>"u"||typeof window.requestAnimationFrame!="function"||(e!==null&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{e=null,window.dispatchEvent(new Event("resize"))}))}return hn(()=>{e!==null&&typeof window<"u"&&typeof window.cancelAnimationFrame=="function"&&(window.cancelAnimationFrame(e),e=null)}),{scheduleDraw:t}}const Jh={load:"/apps/opsdash/overview/load",persist:"/apps/opsdash/overview/persist",notes:"/apps/opsdash/overview/notes",notesSave:"/apps/opsdash/overview/notes",presetsList:"/apps/opsdash/overview/presets",presetsSave:"/apps/opsdash/overview/presets",presetsLoad:"/apps/opsdash/overview/presets",presetsDelete:"/apps/opsdash/overview/presets",ping:"/apps/opsdash/overview/ping"};function Zh(){var t,s;const e=typeof window<"u"?window:{};return e.OC&&(e.OC.webroot||((s=(t=e.OC).getRootPath)==null?void 0:s.call(t)))||e._oc_webroot||""}function Yh(){const e=U(()=>Zh());function t(o,i){const l=typeof window<"u"?window:{},g=Jh[o];if(o==="presetsLoad"||o==="presetsDelete"){const f=`${g}/${encodeURIComponent(String(i??""))}`;return l.OC&&typeof l.OC.generateUrl=="function"?l.OC.generateUrl(f):`${e.value}${f}`}return l.OC&&typeof l.OC.generateUrl=="function"?l.OC.generateUrl(g):`${e.value}${g}`}function s(o){const i=new URLSearchParams;return Object.entries(o||{}).forEach(([l,g])=>{Array.isArray(g)?g.forEach(f=>i.append(l,String(f))):g!=null&&i.set(l,String(g))}),i.toString()}async function n(o,i){const l=s(i),g=l?`${o}${o.includes("?")?"&":"?"}${l}`:o,f=await fetch(g,{method:"GET",credentials:"same-origin"});if(!f.ok)throw new Error(`HTTP ${f.status}`);return await f.json()}async function a(o,i){var p;const l=typeof window<"u"?window:{},g=((p=l.OC)==null?void 0:p.requestToken)||l.oc_requesttoken||"",f={"Content-Type":"application/json"};g&&(f.requesttoken=g);const d=await fetch(o,{method:"POST",credentials:"same-origin",headers:f,body:JSON.stringify(i||{})});if(!d.ok)throw new Error(`HTTP ${d.status}`);return await d.json()}async function r(o){var p;const i=typeof window<"u"?window:{},l=((p=i.OC)==null?void 0:p.requestToken)||i.oc_requesttoken||"",g={};l&&(g.requesttoken=l);const f=await fetch(o,{method:"DELETE",credentials:"same-origin",headers:g});if(!f.ok)throw new Error(`HTTP ${f.status}`);const d=await f.text();return d?JSON.parse(d):{}}return{route:t,getJson:n,postJson:a,deleteJson:r,root:e}}function Go(e){const t=typeof document<"u"?document.getElementById("app"):null;if(!t||!t.dataset)return"";const s=t.dataset;return s?String(s[e]??""):""}function Xh(e){const t=re(0),s=U(()=>{var d;const l=[],g=typeof window<"u"?window:{};try{if((d=g.OC)!=null&&d.imagePath){const p=g.OC.imagePath("opsdash","app.svg");p&&l.push(p)}}catch{}const f=e.root.value;return l.push(`${f}/apps/opsdash/img/app.svg`),l.push(`${f}/apps-extra/opsdash/img/app.svg`),l.push(`${f}/apps-writable/opsdash/img/app.svg`),l}),n=U(()=>s.value[Math.min(t.value,s.value.length-1)]||"");function a(){t.value+1<s.value.length&&t.value++}const r=re(Go("opsdashVersion")||(e.pkgVersion?String(e.pkgVersion):"")),o=re(Go("opsdashChangelog"));async function i(){if(!(r.value&&o.value))try{const l=await e.getJson(e.pingUrl(),{});!r.value&&typeof(l==null?void 0:l.version)=="string"&&(r.value=l.version),!o.value&&typeof(l==null?void 0:l.changelog)=="string"&&(o.value=l.changelog)}catch{}}return i(),{iconSrc:n,onIconError:a,appVersion:r,changelogUrl:o}}function Qh(e){function t(n){const a=typeof window<"u"?window:{};return a.OC&&typeof a.OC.generateUrl=="function"?a.OC.generateUrl(`/apps/calendar/timeGridDay/${n}`):`${e.root.value}/index.php/apps/calendar/timeGridDay/${n}`}async function s(n,a){var l,g,f;const r={};if(!n)return r;const o=((l=window.OC)==null?void 0:l.requestToken)||window.oc_requesttoken||"",i=e.root.value;for(const d of a)try{const p=`${i}/remote.php/dav/calendars/${encodeURIComponent(n)}/${encodeURIComponent(d)}/`,c=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;(g=e.isDebug)!=null&&g.call(e)&&console.log("[opsdash] PROPFIND",{url:p,id:d});const m=await fetch(p,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:o},body:c});if(!m.ok)continue;const h=await m.text();(f=e.isDebug)!=null&&f.call(e)&&console.log("[opsdash] PROPFIND response",{id:d,status:m.status,length:h.length,sample:h.slice(0,400)});const y=h.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);y&&(r[d]=y[1])}catch{}return r}return{calendarDayLink:t,fetchDavColors:s}}function em(e){const t=U(()=>{var a,r;return nm({perDaySeries:(a=e.charts.value)==null?void 0:a.perDaySeries,forecastMode:((r=e.activityCardConfig.value)==null?void 0:r.forecastMode)??"total",targetsConfig:e.targetsConfig.value,currentTargets:e.currentTargets.value,calendarCategoryMap:e.calendarCategoryMap.value})}),s=U(()=>{var a;return{pie:((a=e.charts.value)==null?void 0:a.pie)||null,stacked:t.value}}),n=U(()=>{var y,$;const a={},r=(y=e.charts.value)==null?void 0:y.pie,o=($=e.charts.value)==null?void 0:$.perDaySeries,i=t.value||o,l=r&&Array.isArray(r.data)&&Array.isArray(r.ids),g=i&&Array.isArray(i.series)&&Array.isArray(i.labels),f=e.calendarCategoryMap.value,d=l?(r.ids||[]).map(_=>String(_??"")):[],p=l?(r.labels||[]).map(_=>String(_??"")):[],c=l?(r.data||[]).map(_=>Number(_)||0):[],m=l?r.colors||[]:[],h=g?i.series:[];return e.calendarGroups.value.forEach(_=>{const S=[];l&&d.forEach((Y,V)=>{f[Y]===_.id&&S.push(V)});const M=S.length?{ids:S.map(Y=>d[Y]),labels:S.map(Y=>p[Y]),data:S.map(Y=>c[Y]),colors:S.map(Y=>{var V;return m[Y]||((V=e.colorsById.value)==null?void 0:V[d[Y]])||"#60a5fa"})}:null,N=g?h.filter(Y=>f[String((Y==null?void 0:Y.id)??"")]===_.id):[],ee=N.length?{labels:i.labels,series:N}:null;a[_.id]={pie:M,stacked:ee}}),a});return{calendarChartData:s,categoryChartsById:n}}const tm=/^\d{4}-\d{2}-\d{2}$/,sm="__uncategorized__";function nm(e){const t=e.perDaySeries;if(!t||!Array.isArray(t.labels)||!Array.isArray(t.series))return null;const s=t.labels.map(h=>String(h??"")),n=t.series.map(h=>{const y=String((h==null?void 0:h.id)??"");return{...h,id:y,name:String((h==null?void 0:h.name)??(h==null?void 0:h.label)??y),color:String((h==null?void 0:h.color)??""),data:s.map(($,_)=>{var M;const S=Number(((M=h==null?void 0:h.data)==null?void 0:M[_])??0);return Number.isFinite(S)?Math.max(0,S):0})}}),a=am(e.forecastMode),r=rm(new Date),o=s.map(h=>tm.test(h)&&h>r),i=[];if(o.forEach((h,y)=>{h&&i.push(y)}),!i.length||a==="off")return{labels:s,series:n};const l=e.targetsConfig??hs(),g=im(e.currentTargets),f=e.calendarCategoryMap??{},d=i.length,p=new Map;n.forEach(h=>{let y=0;h.data.forEach(($,_)=>{o[_]||(y+=Math.max(0,$))}),p.set(h.id,y)});const c=Array.from(p.values()).reduce((h,y)=>h+y,0),m=new Map;if(n.forEach(h=>{m.set(h.id,om(s.length))}),a==="total"){const h=Math.max(0,Number(l.totalHours??0)),y=Math.max(0,h-c);if(y>1e-4){const $=y/d,_=n.map(M=>M.id),S=Jo(_,p,g);_.forEach(M=>{const N=S[M]??0;if(N<=0)return;const ee=m.get(M);ee&&i.forEach(Y=>{ee[Y]=En($*N)})})}}else if(a==="calendar")n.forEach(h=>{const y=g[h.id]??0;if(y<=0)return;const $=Math.max(0,p.get(h.id)??0),_=Math.max(0,y-$);if(_<=1e-4)return;const S=_/d,M=m.get(h.id);M&&i.forEach(N=>{M[N]=En(S)})});else if(a==="category"){const h=new Set,y=Array.isArray(l.categories)?l.categories:[],$=new Map;y.forEach(S=>{$.set(String(S.id),Math.max(0,Number(S.targetHours??0)))});const _=new Map;n.forEach(S=>{const M=f==null?void 0:f[S.id],N=M?String(M):sm;_.has(N)||_.set(N,[]),_.get(N).push(S.id)}),_.forEach((S,M)=>{if(!S.length)return;const N=$.get(M)??0;if(N<=0)return;const ee=S.reduce((se,F)=>se+Math.max(0,p.get(F)??0),0),Y=Math.max(0,N-ee);if(Y<=1e-4)return;const V=Y/d,J={};S.forEach(se=>{J[se]=g[se]??0});const B=Jo(S,p,J);S.forEach(se=>{const F=B[se]??0;if(F<=0)return;const z=m.get(se);z&&(i.forEach(te=>{z[te]=En(V*F)}),h.add(se))})}),n.forEach(S=>{if(h.has(S.id))return;const M=g[S.id]??0;if(M<=0)return;const N=Math.max(0,p.get(S.id)??0),ee=Math.max(0,M-N);if(ee<=1e-4)return;const Y=ee/d,V=m.get(S.id);V&&i.forEach(J=>{V[J]=En(Y)})})}return n.forEach(h=>{const y=m.get(h.id);y&&y.some($=>$>1e-4)&&(h.forecast=y)}),{labels:s,series:n}}function am(e){return e==="off"||e==="calendar"||e==="category"?e:"total"}function rm(e){const t=e.getFullYear(),s=`${e.getMonth()+1}`.padStart(2,"0"),n=`${e.getDate()}`.padStart(2,"0");return`${t}-${s}-${n}`}function om(e){return Array.from({length:e},()=>0)}function En(e){const t=Math.round(e*100)/100;return Number.isFinite(t)?t:0}function im(e){const t={};return e&&Object.entries(e).forEach(([s,n])=>{const a=Number(n);Number.isFinite(a)&&a>0&&(t[String(s)]=a)}),t}function Jo(e,t,s){const n={},a=e.reduce((i,l)=>i+Math.max(0,t.get(l)??0),0);if(a>1e-4)return e.forEach(i=>{const l=Math.max(0,t.get(i)??0);n[i]=l/a}),n;const r=e.reduce((i,l)=>i+Math.max(0,(s==null?void 0:s[l])??0),0);if(r>1e-4)return e.forEach(i=>{const l=Math.max(0,(s==null?void 0:s[i])??0);n[i]=l/r}),n;const o=e.length?1/e.length:0;return e.forEach(i=>{n[i]=o}),n}const Rt="__uncategorized__",Zo="Unassigned";function lm(e){const t=U(()=>{var f;const g=(f=e.targetsConfig.value)==null?void 0:f.categories;return Array.isArray(g)?g:[]}),s=U(()=>{const g={};return t.value.forEach(f=>{g[String(f.id)]=f.label||String(f.id)}),g}),n=U(()=>{var d;const g=new Map;return(((d=e.targetsSummary.value)==null?void 0:d.categories)||[]).forEach(p=>g.set(String(p.id),p)),g}),a=U(()=>{const g=new Map;return t.value.forEach(f=>{(Array.isArray(f.groupIds)?f.groupIds:[]).forEach(p=>{const c=Math.max(0,Math.min(9,Math.trunc(Number(p)||0)));g.set(c,String(f.id))})}),g}),r=U(()=>{var d;const g=e.calendars.value;if(!Array.isArray(g))return(d=e.isDebug)!=null&&d.call(e)&&console.warn("[opsdash] calendars not array",g),{};const f={};return g.forEach(p=>{var h;const c=String((p==null?void 0:p.id)??"");if(!c)return;const m=((h=e.colorsById.value)==null?void 0:h[c])||String((p==null?void 0:p.color)||"");f[c]={name:String((p==null?void 0:p.displayname)||(p==null?void 0:p.name)||(p==null?void 0:p.calendar)||c),color:m||void 0}}),f}),o=U(()=>{var m;const g={},f=a.value,d=e.groupsById.value||{},p=h=>{const y=d==null?void 0:d[h],$=Math.max(0,Math.min(9,Math.trunc(Number(y)||0))),_=f.get($);g[h]=_||Rt},c=e.calendars.value;return Array.isArray(c)?(c.forEach(h=>{const y=String((h==null?void 0:h.id)??"");y&&p(y)}),(e.selected.value||[]).forEach(h=>{const y=String(h??"");y&&(g[y]||p(y))}),g):((m=e.isDebug)!=null&&m.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",c),g)}),i=U(()=>{const g=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],f={};let d=0;const p=c=>{if(f[c])return f[c];const m=Object.entries(o.value).filter(([,y])=>y===c).map(([y])=>y);for(const y of m){const $=r.value[y];if($!=null&&$.color)return f[c]=$.color,$.color}const h=g[d%g.length];return d+=1,f[c]=h,h};return t.value.forEach(c=>p(String(c.id))),Object.values(o.value||{}).some(c=>c===Rt)&&p(Rt),f}),l=U(()=>{var N,ee,Y,V,J,B,se,F,z,te;const g=[],f=o.value,d=n.value,p=e.byCal.value;if(!Array.isArray(p))return(N=e.isDebug)!=null&&N.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",p),g;const c=new Map;p.forEach(K=>{const pe=String((K==null?void 0:K.id)??(K==null?void 0:K.calendar_id)??(K==null?void 0:K.calendar)??"");if(!pe)return;const ae=f[pe]||Rt;c.has(ae)||c.set(ae,[]),c.get(ae).push({...K,calendarId:pe})}),(ee=e.isDebug)!=null&&ee.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(p),rowsSourceLength:p.length,byCat:c,assignments:f});const m=((V=(Y=e.targetsSummary.value)==null?void 0:Y.total)==null?void 0:V.daysLeft)??0,h=((B=(J=e.targetsSummary.value)==null?void 0:J.total)==null?void 0:B.calendarPercent)??0,y=((F=(se=e.targetsSummary.value)==null?void 0:se.total)==null?void 0:F.paceMode)??((te=(z=e.targetsConfig.value)==null?void 0:z.pace)==null?void 0:te.mode)??"days_only",$=K=>Math.round(K*100)/100,_=e.currentTargets.value||{},S=(K,pe,ae)=>{const le=ae.reduce((De,Me)=>{const ie=Number(_[Me.calendarId]??0);return Number.isFinite(ie)?De+Math.max(0,ie):De},0),Ce=ae.reduce((De,Me)=>{const ie=Number((Me==null?void 0:Me.total_hours)??(Me==null?void 0:Me.hours)??0);return Number.isFinite(ie)?De+Math.max(0,ie):De},0),Ne=le>0?Math.max(0,Math.min(100,Ce/le*100)):0,Te=Ce-le,ke=Math.max(0,le-Ce),xe=le<=0?"none":Ne>=100?"done":Te>=0?"on_track":"behind",Ae=xe==="done"?"Done":xe==="on_track"?"On Track":xe==="behind"?"Behind":"",Ke=m>0?ke/m:0;return{id:K,label:pe,actualHours:$(Ce),targetHours:$(le),percent:Ne,deltaHours:$(Te),remainingHours:$(ke),needPerDay:$(Ke),daysLeft:m,calendarPercent:Math.max(0,Math.min(100,h)),gap:$(Ne-h),status:xe,statusLabel:Ae,includeWeekend:!0,paceMode:y}};if(t.value.map(K=>String(K.id)).forEach(K=>{const pe=s.value[K]||K,ae=c.get(K)||[],le=d.get(K)||S(K,pe,ae);g.push({id:K,label:pe,rows:ae,summary:le,color:i.value[K]})}),c.has(Rt)){const K=c.get(Rt)||[];g.push({id:Rt,label:Zo,rows:K,summary:S(Rt,Zo,K),color:i.value[Rt]})}return g});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:l}}function cm(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function it(e){const t=Number(e);return Number.isFinite(t)?t:null}function ms(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function um(e){const t=U(()=>{var _;const c=(_=e.charts.value)==null?void 0:_.pie;if(!c||!Array.isArray(c.data)||!Array.isArray(c.labels))return[];const m=c.data.map(S=>Number(S)||0),h=c.labels.map(S=>String(S||"")),y=m.reduce((S,M)=>S+Math.max(0,M),0);if(y<=0)return[];const $=m.map((S,M)=>({name:h[M]||"",value:Math.max(0,S)}));return $.sort((S,M)=>M.value-S.value),$.slice(0,3).map(S=>({name:S.name,share:S.value/y*100}))}),s=U(()=>{var m;if(t.value.length)return t.value.map(h=>`${h.name} ${Xo(h.share)}`).join(", ");const c=(m=e.stats)==null?void 0:m.top_calendar;if(c&&c.calendar){const h=Number(c.share??0);return`${c.calendar} ${Xo(h)}`}return""}),n=U(()=>{var c;return e.selected.value.length||(((c=e.calendars.value)==null?void 0:c.length)??0)}),a=U(()=>(e.byDay.value||[]).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),r=U(()=>{const c=a.value.map(m=>Number(m)||0);return e.activeDayMode.value==="active"?c.filter(m=>m>0):c}),o=U(()=>(e.byDay.value||[]).filter(c=>{const m=Yo(String(c==null?void 0:c.date));return m>=1&&m<=5}).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),i=U(()=>(e.byDay.value||[]).filter(c=>{const m=Yo(String(c==null?void 0:c.date));return m===0||m===6}).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),l=U(()=>e.activeDayMode.value==="active"?o.value.filter(c=>c>0):o.value),g=U(()=>e.activeDayMode.value==="active"?i.value.filter(c=>c>0):i.value),f=U(()=>{var h,y,$,_;const c=((h=e.stats)==null?void 0:h.balance_index)??((y=e.stats)==null?void 0:y.balanceIndex)??((_=($=e.stats)==null?void 0:$.balance_overview)==null?void 0:_.index),m=Number(c);return Number.isFinite(m)?m:null}),d=U(()=>{var c,m,h,y;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((c=e.stats)==null?void 0:c.total_hours)??0),avgDay:Aa(r.value),avgEvent:Number(((m=e.stats)==null?void 0:m.avg_per_event)??0),medianDay:Da(r.value),busiest:((h=e.stats)==null?void 0:h.busiest_day)??null,workdayAvg:Aa(l.value),workdayMedian:Da(l.value),weekendAvg:Aa(g.value),weekendMedian:Da(g.value),weekendShare:((y=e.stats)==null?void 0:y.weekend_share)??null,activeCalendars:n.value,calendarSummary:s.value,balanceIndex:f.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),p=U(()=>{const c=e.stats;return{rangeLabel:e.rangeLabel.value,events:cm(c.events),activeDays:it(c.active_days),typicalStart:ms(c.typical_start),typicalEnd:ms(c.typical_end),weekendShare:it(c.weekend_share),eveningShare:it(c.evening_share),earliestStart:ms(c.earliest_start),latestEnd:ms(c.latest_end),overlapEvents:it(c.overlap_events),longestSession:it(c.longest_session),lastDayOff:ms(c.last_day_off),lastHalfDayOff:ms(c.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:d,activitySummary:p}}function Aa(e){return e.length?e.reduce((s,n)=>s+n,0)/e.length:0}function Da(e){if(!e.length)return 0;const t=[...e].sort((n,a)=>n-a),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function Yo(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function Xo(e){return`${Number(e||0).toFixed(1)}%`}function dm(e){return{balanceOverview:U(()=>{var d,p,c;const s=(d=e.stats)==null?void 0:d.balance_overview;if(!s||typeof s!="object")return null;const n=Array.isArray(s.categories)?s.categories.map(m=>({id:String((m==null?void 0:m.id)??""),label:String((m==null?void 0:m.label)??""),hours:it(m==null?void 0:m.hours)??0,share:it(m==null?void 0:m.share)??0,prevShare:it(m==null?void 0:m.prev_share)??0,delta:it(m==null?void 0:m.delta)??0,color:e.categoryColorMap.value[String((m==null?void 0:m.id)??"")]})):[],a=Array.isArray(s.relations)?s.relations.map(m=>({label:String((m==null?void 0:m.label)??""),value:String((m==null?void 0:m.value)??"")})):[],r={delta:Array.isArray((p=s.trend)==null?void 0:p.delta)?s.trend.delta.map(m=>({id:String((m==null?void 0:m.id)??""),label:String((m==null?void 0:m.label)??""),delta:it(m==null?void 0:m.delta)??0})):[],badge:String(((c=s.trend)==null?void 0:c.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(m=>({date:String((m==null?void 0:m.date)??""),weekday:String((m==null?void 0:m.weekday)??""),total_hours:it(m==null?void 0:m.total_hours)??0,categories:Array.isArray(m==null?void 0:m.categories)?m.categories.map(h=>({id:String((h==null?void 0:h.id)??""),label:String((h==null?void 0:h.label)??""),hours:it(h==null?void 0:h.hours)??0,share:it(h==null?void 0:h.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(m=>String(m)):[],l=Array.isArray(s.warnings)?s.warnings.map(m=>String(m)):[],g=it(s.index)??0,f=e.balanceCardConfig.value.showInsights?i:[];return{index:g,categories:n,relations:a,trend:r,daily:o,insights:f,warnings:l}})}}const fm={version:"0.4.3"},gm={class:"app-shell"},pm={class:"app-main"},hm={class:"app-container"},mm={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},vm=["aria-expanded","aria-label"],ym=["disabled"],bm=["disabled","aria-pressed"],wm={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},_m=["disabled"],km=["title"],xm=["disabled"],Sm={class:"appbar"},Cm={class:"title"},$m=["src"],Tm=["textContent"],Mm={class:"hint appbar-meta"},Am=["textContent"],Dm={key:1,title:"Results truncated for performance"},Em=["title"],Im={class:"cards"},Pm={class:"tabs"},Nm={class:"card full tab-panel"},Lm={key:0,class:"chart-section"},Om={class:"grid2 mt-12"},Hm={class:"card chart-card"},Fm={class:"card chart-card"},Rm={key:1,class:"chart-section"},Wm={key:0,class:"category-chart-block"},Bm={class:"category-chart-header"},jm={class:"name"},Um={class:"grid2 mt-8"},Vm={class:"card chart-card"},zm={class:"card chart-card"},Km={class:"card full tab-panel"},qm={class:"card full tab-panel"},Gm={class:"card full tab-panel"},Jm={class:"hint footer"},Qo="opsdash.sidebarOpen",Zm=Pe({__name:"App",setup(e){function t(R){var je,ve;const G=window;(ve=(je=G.OC)==null?void 0:je.Notification)!=null&&ve.showTemporary?G.OC.Notification.showTemporary(R):console.log("SUCCESS:",R)}function s(R){var je,ve;const G=window;(ve=(je=G.OC)==null?void 0:je.Notification)!=null&&ve.showTemporary?G.OC.Notification.showTemporary(R):(console.error("ERROR:",R),alert(R))}const n=re((()=>{if(typeof window>"u")return!0;const R=window.localStorage.getItem(Qo);return R==null?!0:R==="1"})()),a=()=>{n.value=!n.value},r=U(()=>n.value?"Hide sidebar":"Show sidebar"),o=U(()=>n.value?"":"");ut(n,R=>{typeof window<"u"&&(window.localStorage.setItem(Qo,R?"1":"0"),un(()=>{window.dispatchEvent(new Event("resize"))}))});const i=re("cal"),l=re("week"),g=re(0),f=U(()=>!n.value),d=U(()=>l.value==="week"?"Switch to month":"Switch to week"),p=U(()=>!De.value||!Me.value?"":`${De.value}  ${Me.value}`);function c(){he().catch(console.error)}function m(){l.value=l.value==="week"?"month":"week",g.value=0,he().catch(console.error)}function h(){g.value=(g.value||0)-1,he().catch(console.error)}function y(){g.value=(g.value||0)+1,he().catch(console.error)}const $=U(()=>{const R=Ae.value;if(!R)return"Partial data due to caps";const G=[];return R.maxPerCal!=null&&G.push(`cap per calendar: ${R.maxPerCal}`),R.maxTotal!=null&&G.push(`cap total: ${R.maxTotal}`),R.totalProcessed!=null&&G.push(`processed: ${R.totalProcessed}`),G.join("  ")}),_=re(!1),{scheduleDraw:S}=Gh(),{route:M,getJson:N,postJson:ee,deleteJson:Y,root:V}=Yh(),{calendarDayLink:J,fetchDavColors:B}=Qh({root:V,isDebug:Ra}),se=jh({range:l,offset:g,route:R=>M(R),getJson:N,postJson:ee,notifySuccess:t,notifyError:s}),{notesPrev:F,notesCurrDraft:z,isSavingNote:te,fetchNotes:K,saveNotes:pe}=se,{calendars:ae,colorsByName:le,colorsById:Ce,groupsById:Ne,selected:Te,isLoading:ke,isTruncated:xe,truncLimits:Ae,uid:Ke,from:De,to:Me,stats:ie,byCal:We,byDay:Ue,longest:ft,charts:v,targetsWeek:w,targetsMonth:A,targetsConfig:O,onboarding:W,load:H}=Uh({range:l,offset:g,userChangedSelection:_,route:R=>M(R),getJson:N,notifyError:s,scheduleDraw:S,fetchNotes:K,isDebug:Ra,fetchDavColors:B}),j=W,P=re(!1),I=re(!1),E=re(!1),Z=re(!1);function q(R){if(!R)return!0;const G=R.version_required??Dn;return!R.completed||(R.version??0)<G}function X(R){const G=R??j.value;if(!P.value&&!G)return;const je=q(G);I.value=je||!!(G!=null&&G.resetRequested),G!=null&&G.resetRequested&&(E.value=!0)}const ne=U(()=>(ae.value||[]).map(R=>({id:String((R==null?void 0:R.id)??""),displayname:String((R==null?void 0:R.displayname)??(R==null?void 0:R.name)??(R==null?void 0:R.id)??""),color:typeof(R==null?void 0:R.color)=="string"?R.color:""})).filter(R=>R.id)),oe=U(()=>[...Te.value]),ce=U(()=>{var R;return((R=j.value)==null?void 0:R.strategy)??"total_only"}),ge=U(()=>I.value||E.value),he=async()=>{await H(),P.value=!0,X()},{queueSave:_e}=Vh({route:R=>M(R),postJson:ee,notifyError:s,notifySuccess:t,onReload:()=>he(),selected:Te,groupsById:Ne,targetsWeek:w,targetsMonth:A,targetsConfig:O}),{toggleCalendar:Be,setGroup:Ze,setTarget:wt,updateTargetsConfig:vs,selectAll:Ye}=Kh({calendars:ae,selected:Te,groupsById:Ne,targetsWeek:w,targetsMonth:A,targetsConfig:O,range:l,queueSave:_e,userChangedSelection:_}),{presets:lt,presetsLoading:ys,presetSaving:C,presetApplying:b,presetWarnings:L,refreshPresets:ye,savePreset:gt,loadPreset:Pn,deletePreset:Pa,clearPresetWarnings:nv}=qh({route:(R,G)=>M(R,G),getJson:N,postJson:ee,deleteJson:Y,notifyError:s,notifySuccess:t,queueSave:_e,selected:Te,groupsById:Ne,targetsWeek:w,targetsMonth:A,targetsConfig:O,userChangedSelection:_}),Vs=re("active"),Na=U(()=>l.value==="month"?"Month":"Week"),La=U(()=>{const R=js(O.value);return l.value==="month"&&(R.totalHours=Sa(R.totalHours),R.categories=R.categories.map(G=>({...G,targetHours:Sa(G.targetHours)}))),R}),ti=U(()=>{const R=La.value;try{return Td({config:R,stats:ie,byDay:Ue.value||[],byCal:We.value||[],groupsById:Ne.value||{},range:l.value,from:De.value,to:Me.value})}catch(G){return console.error("[opsdash] targets summary failed",G),Cd(R)}}),Oa=U(()=>{if(l.value==="month"){const R=A.value||{};if(R&&Object.keys(R).length>0)return R;const G=w.value||{},je={};return Object.entries(G).forEach(([ve,Jt])=>{const Wt=Number(Jt);Number.isFinite(Wt)&&(je[ve]=Sa(Wt))}),je}return w.value||{}}),Ha=U(()=>{var R;return{...ps(),...((R=O.value)==null?void 0:R.activityCard)??{}}}),si=U(()=>{var je;const R=ka(),G=((je=O.value)==null?void 0:je.balance)??R;return{...R,...G,thresholds:{...R.thresholds,...G.thresholds??{}},relations:{...R.relations,...G.relations??{}},trend:{...R.trend,...G.trend??{}},dayparts:{...R.dayparts,...G.dayparts??{}},ui:{...R.ui,...G.ui??{}}}}),ni=U(()=>({showInsights:!!si.value.ui.showInsights,showDailyStacks:!!si.value.ui.showDailyStacks})),{categoryLabelById:av,categoryColorMap:ai,calendarCategoryMap:rv,calendarGroups:bs}=lm({calendars:ae,selected:Te,groupsById:Ne,colorsById:Ce,targetsConfig:La,targetsSummary:ti,byCal:We,currentTargets:Oa,isDebug:Ra}),{balanceOverview:ov}=dm({stats:ie,categoryColorMap:ai,balanceCardConfig:ni}),iv=U(()=>{var je,ve;if(!Ha.value.showHint)return"";const G=(Array.isArray((ve=(je=O.value)==null?void 0:je.balance)==null?void 0:ve.categories)?O.value.balance.categories:[]).map(Jt=>{const Wt=String(Jt??"").trim();if(!Wt)return"";const zs=av.value[Wt];return zs||Wt.toUpperCase()}).filter(Jt=>Jt);return G.length?`Mapping via Sidebar  ${G.join(" / ")}`:""}),{calendarChartData:Nn,categoryChartsById:Ln}=em({charts:v,colorsById:Ce,calendarGroups:bs,calendarCategoryMap:rv,targetsConfig:La,currentTargets:Oa,activityCardConfig:Ha}),lv=U(()=>{const R=bs.value||[];return R.length&&[...R].sort((je,ve)=>(ve.summary.actualHours||0)-(je.summary.actualHours||0))[0]||null}),{timeSummary:cv,activitySummary:uv}=um({stats:ie,byDay:Ue,charts:v,calendars:ae,selected:Te,rangeLabel:Na,activeDayMode:Vs,topCategory:lv}),Fa=re(null);function dv(R){Fa.value=Fa.value===R?null:R}function Ra(){return!1}const{iconSrc:fv,onIconError:ri,appVersion:oi}=Xh({pingUrl:()=>M("ping"),getJson:N,pkgVersion:String(fm.version),root:V}),gv=U(()=>l.value==="month"?"Last month":"Last week"),pv=U(()=>l.value==="month"?"This month":"This week"),hv=U(()=>l.value==="month"?"Notes for previous month":"Notes for previous week"),mv=U(()=>l.value==="month"?"Notes for current month":"Notes for current week");function Wa(R){return Number(R??0).toFixed(2)}function vv(R){Vs.value!==R&&(Vs.value=R)}ut(j,R=>{P.value&&X(R)});async function yv(R){try{Z.value=!0,await ee(M("persist"),{cals:R.selected,groups:R.groups,targets_week:R.targetsWeek,targets_month:R.targetsMonth,targets_config:R.targetsConfig,onboarding:{completed:!0,version:Dn,strategy:R.strategy,completed_at:new Date().toISOString()}}),E.value=!1,await he(),t("Onboarding saved")}catch(G){console.error(G),s("Failed to save onboarding")}finally{Z.value=!1}}async function bv(){var R;try{Z.value=!0,await ee(M("persist"),{onboarding:{completed:!0,version:Dn,strategy:((R=j.value)==null?void 0:R.strategy)??"total_only",completed_at:new Date().toISOString()}}),E.value=!1,I.value=!1,await he(),t("You can revisit onboarding from the Targets tab any time.")}catch(G){console.error(G),s("Failed to update onboarding state")}finally{Z.value=!1}}function wv(){I.value||(E.value=!1)}function _v(){E.value=!0}return Qt(async()=>{console.info("[opsdash] start");try{await he()}catch(R){console.error(R),alert("Initial load failed")}ye().catch(R=>console.warn("[opsdash] presets fetch failed",R))}),ut(l,()=>{g.value=0,he().catch(console.error)}),(R,G)=>{const je=yl("NcAppSidebarToggle");return x(),T("div",{id:"opsdash",class:be(["opsdash",{"is-nav-collapsed":!n.value}])},[fe(Bh,{visible:ge.value,calendars:ne.value,"initial-selection":oe.value,"initial-strategy":ce.value,"onboarding-version":k(Dn),closable:!I.value,saving:Z.value,onClose:wv,onSkip:bv,onComplete:yv},null,8,["visible","calendars","initial-selection","initial-strategy","onboarding-version","closable","saving"]),fe(k(qc),{"app-name":"Operational Dashboard","show-navigation":n.value},{navigation:Ie(()=>[fe(fh,{id:"opsdash-sidebar",calendars:k(ae),selected:k(Te),"groups-by-id":k(Ne),"is-loading":k(ke),range:l.value,offset:g.value,from:k(De),to:k(Me),"targets-week":k(w),"targets-month":k(A),"targets-config":k(O),"notes-prev":k(F),"notes-curr-draft":k(z),"notes-label-prev":gv.value,"notes-label-curr":pv.value,"notes-label-prev-title":hv.value,"notes-label-curr-title":mv.value,"is-saving-note":k(te),"active-day-mode":Vs.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,presets:k(lt),"presets-loading":k(ys),"preset-saving":k(C),"preset-applying":k(b),"preset-warnings":k(L),onLoad:he,"onUpdate:range":G[0]||(G[0]=ve=>{l.value=ve,g.value=0,he()}),"onUpdate:offset":G[1]||(G[1]=ve=>{g.value=ve,he()}),onSelectAll:G[2]||(G[2]=ve=>k(Ye)(ve)),onToggleCalendar:G[3]||(G[3]=ve=>k(Be)(ve)),onSetGroup:G[4]||(G[4]=ve=>k(Ze)(ve.id,ve.n)),onSetTarget:G[5]||(G[5]=ve=>k(wt)(ve.id,ve.h)),"onUpdate:notes":G[6]||(G[6]=ve=>z.value=ve),onSaveNotes:k(pe),"onUpdate:targetsConfig":k(vs),"onUpdate:activeMode":vv,onToggleNav:a,onSavePreset:k(gt),onLoadPreset:k(Pn),onDeletePreset:k(Pa),onRefreshPresets:k(ye),onClearPresetWarnings:k(nv),onRerunOnboarding:_v},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","presets","presets-loading","preset-saving","preset-applying","preset-warnings","onSaveNotes","onUpdate:targetsConfig","onSavePreset","onLoadPreset","onDeletePreset","onRefreshPresets","onClearPresetWarnings"])]),"sidebar-toggle":Ie(()=>[fe(je,{open:n.value,onToggle:a},null,8,["open"])]),default:Ie(()=>[u("div",gm,[u("div",pm,[u("div",hm,[f.value?(x(),T("div",mm,[u("button",{class:"range-toolbar__btn",type:"button",onClick:a,"aria-expanded":n.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},D(o.value),9,vm),u("button",{class:"range-toolbar__btn",type:"button",disabled:k(ke),onClick:c}," Refresh ",8,ym),G[12]||(G[12]=u("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),u("button",{class:"range-toolbar__btn",type:"button",disabled:k(ke),onClick:m,"aria-pressed":l.value==="month"},D(d.value),9,bm),u("div",wm,[u("button",{class:"range-toolbar__btn",type:"button",disabled:k(ke),onClick:h},"  ",8,_m),u("span",{class:"range-toolbar__label",title:p.value},D(p.value),9,km),u("button",{class:"range-toolbar__btn",type:"button",disabled:k(ke),onClick:y},"  ",8,xm)])])):Q("",!0),u("div",Sm,[u("div",Cm,[u("img",{src:k(fv),onError:G[7]||(G[7]=(...ve)=>k(ri)&&k(ri)(...ve)),class:"app-icon",alt:"","aria-hidden":"true"},null,40,$m),G[13]||(G[13]=u("span",null,"Operational Dashboard",-1)),u("span",{class:"chip",textContent:D(l.value.toUpperCase())},null,8,Tm)]),u("div",Mm,[k(ke)?(x(),Re(k(Jc),{key:0,size:16})):Q("",!0),u("span",{textContent:D(k(Ke))},null,8,Am),k(xe)?(x(),T("span",Dm," Partial data")):Q("",!0)])]),k(xe)?(x(),T("div",{key:1,class:"banner warn",title:$.value},[G[14]||(G[14]=we(" Showing partial data to keep things fast. ",-1)),k(Ae)&&k(Ae).totalProcessed!=null?(x(),T(de,{key:0},[we(" Processed "+D(k(Ae).totalProcessed)+" items. ",1)],64)):Q("",!0)],8,Em)):Q("",!0),u("div",Im,[fe(Qu,{summary:k(cv),mode:Vs.value,config:k(O).timeSummary},null,8,["summary","mode","config"]),fe(Sd,{summary:ti.value,config:k(O),groups:k(bs)},null,8,["summary","config","groups"]),fe(Gd,{summary:k(uv),"range-label":Na.value,"category-hint":iv.value,config:Ha.value},null,8,["summary","range-label","category-hint","config"]),fe(sf,{overview:k(ov),"range-label":Na.value,config:ni.value},null,8,["overview","range-label","config"])]),u("div",Pm,[u("a",{href:"#",class:be({active:i.value==="cal"}),onClick:G[8]||(G[8]=Bs(ve=>i.value="cal",["prevent"]))},"By Calendar",2),u("a",{href:"#",class:be({active:i.value==="day"}),onClick:G[9]||(G[9]=Bs(ve=>i.value="day",["prevent"]))},"By Day",2),u("a",{href:"#",class:be({active:i.value==="top"}),onClick:G[10]||(G[10]=Bs(ve=>i.value="top",["prevent"]))},"Longest Tasks",2),u("a",{href:"#",class:be({active:i.value==="heat"}),onClick:G[11]||(G[11]=Bs(ve=>i.value="heat",["prevent"]))},"Heatmap",2)]),Ms(u("div",Nm,[k(We).length===0?(x(),Re(k(Tn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),T(de,{key:1},[fe(bu,{rows:k(We),n2:Wa,targets:Oa.value,groups:k(bs)},null,8,["rows","targets","groups"]),k(O).ui.showCalendarCharts&&(k(Nn).pie||k(Nn).stacked)?(x(),T("div",Lm,[G[17]||(G[17]=u("h3",{class:"section-title"},"Calendars (all)",-1)),u("div",Om,[u("div",Hm,[G[15]||(G[15]=u("div",{class:"chart-card__title"},"Distribution by calendar",-1)),fe(Bo,{data:k(Nn).pie,"colors-by-id":k(Ce),"colors-by-name":k(le)},null,8,["data","colors-by-id","colors-by-name"])]),u("div",Fm,[G[16]||(G[16]=u("div",{class:"chart-card__title"},"Hours per day",-1)),fe(jo,{stacked:k(Nn).stacked,legacy:k(v).perDay,"colors-by-id":k(Ce)},null,8,["stacked","legacy","colors-by-id"])])])])):Q("",!0),k(O).ui.showCategoryCharts&&k(bs).length?(x(),T("div",Rm,[G[20]||(G[20]=u("h3",{class:"section-title"},"Categories",-1)),(x(!0),T(de,null,He(k(bs),ve=>{var Jt,Wt,zs,ii;return x(),T(de,{key:"cat-charts-"+ve.id},[(Jt=k(Ln)[ve.id])!=null&&Jt.pie||(Wt=k(Ln)[ve.id])!=null&&Wt.stacked?(x(),T("div",Wm,[u("div",Bm,[u("span",{class:"dot",style:kt({background:k(ai)[ve.id]||"var(--brand)"})},null,4),u("span",jm,D(ve.label),1)]),u("div",Um,[u("div",Vm,[G[18]||(G[18]=u("div",{class:"chart-card__title"},"Calendar share",-1)),fe(Bo,{data:(zs=k(Ln)[ve.id])==null?void 0:zs.pie,"colors-by-id":k(Ce),"colors-by-name":k(le)},null,8,["data","colors-by-id","colors-by-name"])]),u("div",zm,[G[19]||(G[19]=u("div",{class:"chart-card__title"},"Hours per day",-1)),fe(jo,{stacked:(ii=k(Ln)[ve.id])==null?void 0:ii.stacked,legacy:null,"colors-by-id":k(Ce)},null,8,["stacked","colors-by-id"])])])])):Q("",!0)],64)}),128))])):Q("",!0)],64))],512),[[Cn,i.value==="cal"]]),Ms(u("div",Km,[k(Ue).length===0?(x(),Re(k(Tn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),Re(Cu,{key:1,rows:k(Ue),n2:Wa,link:k(J)},null,8,["rows","link"]))],512),[[Cn,i.value==="day"]]),Ms(u("div",qm,[k(ft).length===0?(x(),Re(k(Tn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),Re(Lu,{key:1,rows:k(ft),n2:Wa,"details-index":Fa.value,onToggle:dv},null,8,["rows","details-index"]))],512),[[Cn,i.value==="top"]]),Ms(u("div",Gm,[!k(v).hod||!k(v).hod.matrix||k(v).hod.matrix.length===0?(x(),Re(k(Tn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(x(),T(de,{key:1},[fe(Yc,{hod:k(v).hod},null,8,["hod"]),G[21]||(G[21]=u("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[Cn,i.value==="heat"]]),u("div",Jm,[k(oi)?(x(),T(de,{key:0},[we(" Operational Dashboard  v"+D(k(oi))+"  Built by Blade34242 @ Gellert Innovation ",1)],64)):(x(),T(de,{key:1},[we(" Operational Dashboard  v0.4.3  Built by Blade34242 @ Gellert Innovation ")],64))])])])])]),_:1},8,["show-navigation"])],2)}}});let Us=null,Ea=null,ei=!1;function Ym(){if(!(typeof window>"u"))try{In(),Xm()}catch(e){sv()&&console.warn("[opsdash] theme boot install failed",e)}}function Xm(){if(Us||Ea||ei)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Us=new MutationObserver(()=>In()),e.forEach(t=>{Us==null||Us.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>In();typeof t.addEventListener=="function"?(t.addEventListener("change",s),Ea=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),Ea=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",In),ei=!0}function In(){const e=Qm();if(!e)return;["icon","shortcut icon"].forEach(s=>{let n=document.querySelector(`link[rel="${s}"]`);n||(n=document.createElement("link"),n.rel=s,document.head.appendChild(n)),n.type="image/svg+xml",n.href=e})}function Qm(){const e=ev()==="dark",t=tv(),s=t("favicon.svg");if(s)return s;if(e){const a=t("app-dark.svg");if(a)return a}const n=t(e?"app-dark.svg":"app.svg");return n||"/apps-extra/opsdash/img/favicon.svg"}function ev(){var n,a,r,o,i;const e=(n=document.documentElement)==null?void 0:n.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(a=document.body)==null?void 0:a.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function tv(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function sv(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function Ia(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=Vc(Zm);t.config.errorHandler=(a,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",l={err:a,info:o,name:i,stack:a instanceof Error?a.stack:void 0},g=window;Array.isArray(g.__opsdashErrors)||(g.__opsdashErrors=[]),g.__opsdashErrors.push(l),console.error("[opsdash] Vue error",l)};const s=t.mount(e),n=window;n.__opsdashApp=t,n.__opsdashRoot=s,Ym(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(Ia,50):window.addEventListener("DOMContentLoaded",Ia,{once:!0})}Ia()})();
