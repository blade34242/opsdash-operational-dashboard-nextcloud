(function(){"use strict";var $n=document.createElement("style");$n.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-054cbd84]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-054cbd84]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-054cbd84]{font-size:12px}.activity-card__meta[data-v-054cbd84],.activity-card__extra[data-v-054cbd84]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-054cbd84],.activity-card__extra strong[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-054cbd84]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-054cbd84]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.forecast-block[data-v-4d86aa83]{margin-top:16px;display:flex;flex-direction:column;gap:8px}.forecast-block .field[data-v-4d86aa83]{max-width:100%}.forecast-block select[data-v-4d86aa83]{width:100%}.forecast-hint[data-v-4d86aa83]{margin:0}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.sb-title[data-v-d602d23c]{font-weight:600;margin-bottom:6px}.sb-description[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.preset-form[data-v-d602d23c]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.preset-label[data-v-d602d23c]{font-size:12px;font-weight:600}.preset-form input[data-v-d602d23c]{width:100%;padding:6px 8px;border-radius:4px;border:1px solid var(--color-border);background:var(--color-main-background);color:var(--color-main-text)}.preset-save[data-v-d602d23c]{align-self:flex-start}.preset-error[data-v-d602d23c]{color:var(--color-error);font-size:12px}.preset-warnings[data-v-d602d23c]{border:1px solid var(--color-warning);background:color-mix(in srgb,var(--color-warning) 10%,transparent);border-radius:6px;padding:8px;margin-bottom:12px}.warnings-title[data-v-d602d23c]{font-weight:600;margin-bottom:4px}.preset-warnings ul[data-v-d602d23c]{padding-left:18px;margin:0 0 6px}.preset-clear[data-v-d602d23c]{padding:2px 6px}.preset-header[data-v-d602d23c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.preset-header h3[data-v-d602d23c]{margin:0;font-size:13px;font-weight:600}.preset-empty[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary)}.preset-list[data-v-d602d23c]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.preset-item[data-v-d602d23c]{border:1px solid var(--color-border);border-radius:6px;padding:8px;display:flex;flex-direction:column;gap:6px;background:var(--color-main-background)}.preset-meta[data-v-d602d23c]{display:flex;flex-direction:column;gap:2px}.preset-name[data-v-d602d23c]{font-weight:600}.preset-info[data-v-d602d23c]{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:var(--text-color-tertiary)}.preset-actions[data-v-d602d23c]{display:flex;gap:6px}.input-message[data-v-4d654bff]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-4d654bff]{color:var(--neg)}.input-message.warning[data-v-4d654bff]{color:var(--warning)}
/*$vite$:1*/`,document.head.appendChild($n);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Sa(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const De={},Yt=[],_t=()=>{},Mn=()=>!1,Fs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ca=e=>e.startsWith("onUpdate:"),Xe=Object.assign,$a=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ao=Object.prototype.hasOwnProperty,Ce=(e,t)=>Ao.call(e,t),oe=Array.isArray,Xt=e=>Rs(e)==="[object Map]",Tn=e=>Rs(e)==="[object Set]",ue=e=>typeof e=="function",je=e=>typeof e=="string",Dt=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",An=e=>(Fe(e)||ue(e))&&ue(e.then)&&ue(e.catch),Dn=Object.prototype.toString,Rs=e=>Dn.call(e),Do=e=>Rs(e).slice(8,-1),En=e=>Rs(e)==="[object Object]",Ma=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=Sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ws=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Eo=/-(\w)/g,gt=Ws(e=>e.replace(Eo,(t,s)=>s?s.toUpperCase():"")),Po=/\B([A-Z])/g,Bt=Ws(e=>e.replace(Po,"-$1").toLowerCase()),Bs=Ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ta=Ws(e=>e?`on${Bs(e)}`:""),jt=(e,t)=>!Object.is(e,t),js=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Pn=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},Aa=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let In;const Us=()=>In||(In=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Et(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=je(a)?Oo(a):Et(a);if(n)for(const r in n)t[r]=n[r]}return t}else if(je(e)||Fe(e))return e}const Io=/;(?![^(]*\))/g,No=/:([^]+)/,Lo=/\/\*[^]*?\*\//g;function Oo(e){const t={};return e.replace(Lo,"").split(Io).forEach(s=>{if(s){const a=s.split(No);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function me(e){let t="";if(je(e))t=e;else if(oe(e))for(let s=0;s<e.length;s++){const a=me(e[s]);a&&(t+=a+" ")}else if(Fe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Ho=Sa("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Nn(e){return!!e||e===""}const Ln=e=>!!(e&&e.__v_isRef===!0),E=e=>je(e)?e:e==null?"":oe(e)||Fe(e)&&(e.toString===Dn||!ue(e.toString))?Ln(e)?E(e.value):JSON.stringify(e,On,2):String(e),On=(e,t)=>Ln(t)?On(e,t.value):Xt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],r)=>(s[Da(a,r)+" =>"]=n,s),{})}:Tn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Da(s))}:Dt(t)?Da(t):Fe(t)&&!oe(t)&&!En(t)?String(t):t,Da=(e,t="")=>{var s;return Dt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let at;class Fo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=at,!t&&at&&(this.index=(at.scopes||(at.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=at;try{return at=this,t()}finally{at=s}}}on(){++this._on===1&&(this.prevScope=at,at=this)}off(){this._on>0&&--this._on===0&&(at=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Ro(){return at}let Ee;const Ea=new WeakSet;class Hn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,at&&at.active&&at.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ea.has(this)&&(Ea.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Rn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vn(this),Wn(this);const t=Ee,s=yt;Ee=this,yt=!0;try{return this.fn()}finally{Bn(this),Ee=t,yt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)La(t);this.deps=this.depsTail=void 0,Vn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ea.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Na(this)&&this.run()}get dirty(){return Na(this)}}let Fn=0,gs,ps;function Rn(e,t=!1){if(e.flags|=8,t){e.next=ps,ps=e;return}e.next=gs,gs=e}function Pa(){Fn++}function Ia(){if(--Fn>0)return;if(ps){let t=ps;for(ps=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;gs;){let t=gs;for(gs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Wn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Bn(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),La(a),Wo(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function Na(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(jn(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function jn(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hs)||(e.globalVersion=hs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Na(e))))return;e.flags|=2;const t=e.dep,s=Ee,a=yt;Ee=e,yt=!0;try{Wn(e);const n=e.fn(e._value);(t.version===0||jt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Ee=s,yt=a,Bn(e),e.flags&=-3}}function La(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)La(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Wo(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let yt=!0;const Un=[];function kt(){Un.push(yt),yt=!1}function xt(){const e=Un.pop();yt=e===void 0?!0:e}function Vn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ee;Ee=void 0;try{t()}finally{Ee=s}}}let hs=0;class Bo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Oa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ee||!yt||Ee===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ee)s=this.activeLink=new Bo(Ee,this),Ee.deps?(s.prevDep=Ee.depsTail,Ee.depsTail.nextDep=s,Ee.depsTail=s):Ee.deps=Ee.depsTail=s,zn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=Ee.depsTail,s.nextDep=void 0,Ee.depsTail.nextDep=s,Ee.depsTail=s,Ee.deps===s&&(Ee.deps=a)}return s}trigger(t){this.version++,hs++,this.notify(t)}notify(t){Pa();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ia()}}}function zn(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)zn(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Vs=new WeakMap,qt=Symbol(""),Ha=Symbol(""),ms=Symbol("");function Qe(e,t,s){if(yt&&Ee){let a=Vs.get(e);a||Vs.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Oa),n.map=a,n.key=s),n.track()}}function Pt(e,t,s,a,n,r){const o=Vs.get(e);if(!o){hs++;return}const i=u=>{u&&u.trigger()};if(Pa(),t==="clear")o.forEach(i);else{const u=oe(e),f=u&&Ma(s);if(u&&s==="length"){const p=Number(a);o.forEach((d,g)=>{(g==="length"||g===ms||!Dt(g)&&g>=p)&&i(d)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),f&&i(o.get(ms)),t){case"add":u?f&&i(o.get("length")):(i(o.get(qt)),Xt(e)&&i(o.get(Ha)));break;case"delete":u||(i(o.get(qt)),Xt(e)&&i(o.get(Ha)));break;case"set":Xt(e)&&i(o.get(qt));break}}Ia()}function jo(e,t){const s=Vs.get(e);return s&&s.get(t)}function Qt(e){const t=_e(e);return t===e?t:(Qe(t,"iterate",ms),pt(e)?t:t.map(Ze))}function zs(e){return Qe(e=_e(e),"iterate",ms),e}const Uo={__proto__:null,[Symbol.iterator](){return Fa(this,Symbol.iterator,Ze)},concat(...e){return Qt(this).concat(...e.map(t=>oe(t)?Qt(t):t))},entries(){return Fa(this,"entries",e=>(e[1]=Ze(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(Ze),arguments)},find(e,t){return It(this,"find",e,t,Ze,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,Ze,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ra(this,"includes",e)},indexOf(...e){return Ra(this,"indexOf",e)},join(e){return Qt(this).join(e)},lastIndexOf(...e){return Ra(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return vs(this,"pop")},push(...e){return vs(this,"push",e)},reduce(e,...t){return Kn(this,"reduce",e,t)},reduceRight(e,...t){return Kn(this,"reduceRight",e,t)},shift(){return vs(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return vs(this,"splice",e)},toReversed(){return Qt(this).toReversed()},toSorted(e){return Qt(this).toSorted(e)},toSpliced(...e){return Qt(this).toSpliced(...e)},unshift(...e){return vs(this,"unshift",e)},values(){return Fa(this,"values",Ze)}};function Fa(e,t,s){const a=zs(e),n=a[t]();return a!==e&&!pt(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.value&&(r.value=s(r.value)),r}),n}const Vo=Array.prototype;function It(e,t,s,a,n,r){const o=zs(e),i=o!==e&&!pt(e),u=o[t];if(u!==Vo[t]){const d=u.apply(e,r);return i?Ze(d):d}let f=s;o!==e&&(i?f=function(d,g){return s.call(this,Ze(d),g,e)}:s.length>2&&(f=function(d,g){return s.call(this,d,g,e)}));const p=u.call(o,f,a);return i&&n?n(p):p}function Kn(e,t,s,a){const n=zs(e);let r=s;return n!==e&&(pt(e)?s.length>3&&(r=function(o,i,u){return s.call(this,o,i,u,e)}):r=function(o,i,u){return s.call(this,o,Ze(i),u,e)}),n[t](r,...a)}function Ra(e,t,s){const a=_e(e);Qe(a,"iterate",ms);const n=a[t](...s);return(n===-1||n===!1)&&Ba(s[0])?(s[0]=_e(s[0]),a[t](...s)):n}function vs(e,t,s=[]){kt(),Pa();const a=_e(e)[t].apply(e,s);return Ia(),xt(),a}const zo=Sa("__proto__,__v_isRef,__isVue"),qn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Dt));function Ko(e){Dt(e)||(e=String(e));const t=_e(this);return Qe(t,"has",e),t.hasOwnProperty(e)}class Gn{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return a===(n?r?er:Qn:r?Xn:Yn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const o=oe(t);if(!n){let u;if(o&&(u=Uo[s]))return u;if(s==="hasOwnProperty")return Ko}const i=Reflect.get(t,s,ze(t)?t:a);return(Dt(s)?qn.has(s):zo(s))||(n||Qe(t,"get",s),r)?i:ze(i)?o&&Ma(s)?i:i.value:Fe(i)?n?tr(i):St(i):i}}class Jn extends Gn{constructor(t=!1){super(!1,t)}set(t,s,a,n){let r=t[s];if(!this._isShallow){const u=Ut(r);if(!pt(a)&&!Ut(a)&&(r=_e(r),a=_e(a)),!oe(t)&&ze(r)&&!ze(a))return u||(r.value=a),!0}const o=oe(t)&&Ma(s)?Number(s)<t.length:Ce(t,s),i=Reflect.set(t,s,a,ze(t)?t:n);return t===_e(n)&&(o?jt(a,r)&&Pt(t,"set",s,a):Pt(t,"add",s,a)),i}deleteProperty(t,s){const a=Ce(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Pt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!Dt(s)||!qn.has(s))&&Qe(t,"has",s),a}ownKeys(t){return Qe(t,"iterate",oe(t)?"length":qt),Reflect.ownKeys(t)}}class Zn extends Gn{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const qo=new Jn,Go=new Zn,Jo=new Jn(!0),Zo=new Zn(!0),Wa=e=>e,Ks=e=>Reflect.getPrototypeOf(e);function Yo(e,t,s){return function(...a){const n=this.__v_raw,r=_e(n),o=Xt(r),i=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,f=n[e](...a),p=s?Wa:t?Zs:Ze;return!t&&Qe(r,"iterate",u?Ha:qt),{next(){const{value:d,done:g}=f.next();return g?{value:d,done:g}:{value:i?[p(d[0]),p(d[1])]:p(d),done:g}},[Symbol.iterator](){return this}}}}function qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Xo(e,t){const s={get(n){const r=this.__v_raw,o=_e(r),i=_e(n);e||(jt(n,i)&&Qe(o,"get",n),Qe(o,"get",i));const{has:u}=Ks(o),f=t?Wa:e?Zs:Ze;if(u.call(o,n))return f(r.get(n));if(u.call(o,i))return f(r.get(i));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!e&&Qe(_e(n),"iterate",qt),n.size},has(n){const r=this.__v_raw,o=_e(r),i=_e(n);return e||(jt(n,i)&&Qe(o,"has",n),Qe(o,"has",i)),n===i?r.has(n):r.has(n)||r.has(i)},forEach(n,r){const o=this,i=o.__v_raw,u=_e(i),f=t?Wa:e?Zs:Ze;return!e&&Qe(u,"iterate",qt),i.forEach((p,d)=>n.call(r,f(p),f(d),o))}};return Xe(s,e?{add:qs("add"),set:qs("set"),delete:qs("delete"),clear:qs("clear")}:{add(n){!t&&!pt(n)&&!Ut(n)&&(n=_e(n));const r=_e(this);return Ks(r).has.call(r,n)||(r.add(n),Pt(r,"add",n,n)),this},set(n,r){!t&&!pt(r)&&!Ut(r)&&(r=_e(r));const o=_e(this),{has:i,get:u}=Ks(o);let f=i.call(o,n);f||(n=_e(n),f=i.call(o,n));const p=u.call(o,n);return o.set(n,r),f?jt(r,p)&&Pt(o,"set",n,r):Pt(o,"add",n,r),this},delete(n){const r=_e(this),{has:o,get:i}=Ks(r);let u=o.call(r,n);u||(n=_e(n),u=o.call(r,n)),i&&i.call(r,n);const f=r.delete(n);return u&&Pt(r,"delete",n,void 0),f},clear(){const n=_e(this),r=n.size!==0,o=n.clear();return r&&Pt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Yo(n,e,t)}),s}function Gs(e,t){const s=Xo(e,t);return(a,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Ce(s,n)&&n in a?s:a,n,r)}const Qo={get:Gs(!1,!1)},ei={get:Gs(!1,!0)},ti={get:Gs(!0,!1)},si={get:Gs(!0,!0)},Yn=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,er=new WeakMap;function ai(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ni(e){return e.__v_skip||!Object.isExtensible(e)?0:ai(Do(e))}function St(e){return Ut(e)?e:Js(e,!1,qo,Qo,Yn)}function ri(e){return Js(e,!1,Jo,ei,Xn)}function tr(e){return Js(e,!0,Go,ti,Qn)}function em(e){return Js(e,!0,Zo,si,er)}function Js(e,t,s,a,n){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=ni(e);if(r===0)return e;const o=n.get(e);if(o)return o;const i=new Proxy(e,r===2?a:s);return n.set(e,i),i}function es(e){return Ut(e)?es(e.__v_raw):!!(e&&e.__v_isReactive)}function Ut(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function Ba(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function oi(e){return!Ce(e,"__v_skip")&&Object.isExtensible(e)&&Pn(e,"__v_skip",!0),e}const Ze=e=>Fe(e)?St(e):e,Zs=e=>Fe(e)?tr(e):e;function ze(e){return e?e.__v_isRef===!0:!1}function ae(e){return ii(e,!1)}function ii(e,t){return ze(e)?e:new li(e,t)}class li{constructor(t,s){this.dep=new Oa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:_e(t),this._value=s?t:Ze(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||pt(t)||Ut(t);t=a?t:_e(t),jt(t,s)&&(this._rawValue=t,this._value=a?t:Ze(t),this.dep.trigger())}}function k(e){return ze(e)?e.value:e}const ci={get:(e,t,s)=>t==="__v_raw"?e:k(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return ze(n)&&!ze(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function sr(e){return es(e)?e:new Proxy(e,ci)}function ar(e){const t=oe(e)?new Array(e.length):{};for(const s in e)t[s]=di(e,s);return t}class ui{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jo(_e(this._object),this._key)}}function di(e,t,s){const a=e[t];return ze(a)?a:new ui(e,t,s)}class fi{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Oa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&Ee!==this)return Rn(this,!0),!0}get value(){const t=this.dep.track();return jn(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function gi(e,t,s=!1){let a,n;return ue(e)?a=e:(a=e.get,n=e.set),new fi(a,n,s)}const Ys={},Xs=new WeakMap;let Gt;function pi(e,t=!1,s=Gt){if(s){let a=Xs.get(s);a||Xs.set(s,a=[]),a.push(e)}}function hi(e,t,s=De){const{immediate:a,deep:n,once:r,scheduler:o,augmentJob:i,call:u}=s,f=A=>n?A:pt(A)||n===!1||n===0?Nt(A,1):Nt(A);let p,d,g,l,v=!1,h=!1;if(ze(e)?(d=()=>e.value,v=pt(e)):es(e)?(d=()=>f(e),v=!0):oe(e)?(h=!0,v=e.some(A=>es(A)||pt(A)),d=()=>e.map(A=>{if(ze(A))return A.value;if(es(A))return f(A);if(ue(A))return u?u(A,2):A()})):ue(e)?t?d=u?()=>u(e,2):e:d=()=>{if(g){kt();try{g()}finally{xt()}}const A=Gt;Gt=p;try{return u?u(e,3,[l]):e(l)}finally{Gt=A}}:d=_t,t&&n){const A=d,H=n===!0?1/0:n;d=()=>Nt(A(),H)}const w=Ro(),$=()=>{p.stop(),w&&w.active&&$a(w.effects,p)};if(r&&t){const A=t;t=(...H)=>{A(...H),$()}}let _=h?new Array(e.length).fill(Ys):Ys;const S=A=>{if(!(!(p.flags&1)||!p.dirty&&!A))if(t){const H=p.run();if(n||v||(h?H.some((Y,G)=>jt(Y,_[G])):jt(H,_))){g&&g();const Y=Gt;Gt=p;try{const G=[H,_===Ys?void 0:h&&_[0]===Ys?[]:_,l];_=H,u?u(t,3,G):t(...G)}finally{Gt=Y}}}else p.run()};return i&&i(S),p=new Hn(d),p.scheduler=o?()=>o(S,!1):S,l=A=>pi(A,!1,p),g=p.onStop=()=>{const A=Xs.get(p);if(A){if(u)u(A,4);else for(const H of A)H();Xs.delete(p)}},t?a?S(!0):_=p.run():o?o(S.bind(null,!0),!0):p.run(),$.pause=p.pause.bind(p),$.resume=p.resume.bind(p),$.stop=$,$}function Nt(e,t=1/0,s){if(t<=0||!Fe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ze(e))Nt(e.value,t,s);else if(oe(e))for(let a=0;a<e.length;a++)Nt(e[a],t,s);else if(Tn(e)||Xt(e))e.forEach(a=>{Nt(a,t,s)});else if(En(e)){for(const a in e)Nt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Nt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ys=[];let ja=!1;function tm(e,...t){if(ja)return;ja=!0,kt();const s=ys.length?ys[ys.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=mi();if(a)ts(a,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${Zr(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...vi(n)),console.warn(...r)}xt(),ja=!1}function mi(){let e=ys[ys.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function vi(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...yi(s))}),t}function yi({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${Zr(e.component,e.type,a)}`,r=">"+s;return e.props?[n,...bi(e.props),r]:[n+r]}function bi(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...nr(a,e[a]))}),s.length>3&&t.push(" ..."),t}function nr(e,t,s){return je(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:ze(t)?(t=nr(e,_e(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ue(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=_e(t),s?t:[`${e}=`,t])}function ts(e,t,s,a){try{return a?e(...a):e()}catch(n){Qs(n,t,s)}}function Ct(e,t,s,a){if(ue(e)){const n=ts(e,t,s,a);return n&&An(n)&&n.catch(r=>{Qs(r,t,s)}),n}if(oe(e)){const n=[];for(let r=0;r<e.length;r++)n.push(Ct(e[r],t,s,a));return n}}function Qs(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||De;if(t){let i=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const p=i.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](e,u,f)===!1)return}i=i.parent}if(r){kt(),ts(r,null,10,[e,u,f]),xt();return}}wi(e,s,n,a,o)}function wi(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const tt=[];let $t=-1;const ss=[];let Vt=null,as=0;const rr=Promise.resolve();let ea=null;function ta(e){const t=ea||rr;return e?t.then(this?e.bind(this):e):t}function _i(e){let t=$t+1,s=tt.length;for(;t<s;){const a=t+s>>>1,n=tt[a],r=bs(n);r<e||r===e&&n.flags&2?t=a+1:s=a}return t}function Ua(e){if(!(e.flags&1)){const t=bs(e),s=tt[tt.length-1];!s||!(e.flags&2)&&t>=bs(s)?tt.push(e):tt.splice(_i(t),0,e),e.flags|=1,or()}}function or(){ea||(ea=rr.then(cr))}function ki(e){oe(e)?ss.push(...e):Vt&&e.id===-1?Vt.splice(as+1,0,e):e.flags&1||(ss.push(e),e.flags|=1),or()}function ir(e,t,s=$t+1){for(;s<tt.length;s++){const a=tt[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;tt.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function lr(e){if(ss.length){const t=[...new Set(ss)].sort((s,a)=>bs(s)-bs(a));if(ss.length=0,Vt){Vt.push(...t);return}for(Vt=t,as=0;as<Vt.length;as++){const s=Vt[as];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Vt=null,as=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cr(e){try{for($t=0;$t<tt.length;$t++){const t=tt[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ts(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<tt.length;$t++){const t=tt[$t];t&&(t.flags&=-2)}$t=-1,tt.length=0,lr(),ea=null,(tt.length||ss.length)&&cr()}}let Ye=null,ur=null;function sa(e){const t=Ye;return Ye=e,ur=e&&e.type.__scopeId||null,t}function We(e,t=Ye,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&jr(-1);const r=sa(t);let o;try{o=e(...n)}finally{sa(r),a._d&&jr(1)}return o};return a._n=!0,a._c=!0,a._d=!0,a}function ws(e,t){if(Ye===null)return e;const s=da(Ye),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,o,i,u=De]=t[n];r&&(ue(r)&&(r={mounted:r,updated:r}),r.deep&&Nt(o),a.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:u}))}return e}function Jt(e,t,s,a){const n=e.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const i=n[o];r&&(i.oldValue=r[o].value);let u=i.dir[a];u&&(kt(),Ct(u,s,8,[e.el,i,e,t]),xt())}}const xi=Symbol("_vte"),Si=e=>e.__isTeleport,Ci=Symbol("_leaveCb");function Va(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Va(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Pe(e,t){return ue(e)?Xe({name:e.name},t,{setup:e}):e}function dr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function _s(e,t,s,a,n=!1){if(oe(e)){e.forEach((v,h)=>_s(v,t&&(oe(t)?t[h]:t),s,a,n));return}if(ns(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&_s(e,t,s,a.component.subTree);return}const r=a.shapeFlag&4?da(a.component):a.el,o=n?null:r,{i,r:u}=e,f=t&&t.r,p=i.refs===De?i.refs={}:i.refs,d=i.setupState,g=_e(d),l=d===De?Mn:v=>Ce(g,v);if(f!=null&&f!==u){if(je(f))p[f]=null,l(f)&&(d[f]=null);else if(ze(f)){f.value=null;const v=t;v.k&&(p[v.k]=null)}}if(ue(u))ts(u,i,12,[o,p]);else{const v=je(u),h=ze(u);if(v||h){const w=()=>{if(e.f){const $=v?l(u)?d[u]:p[u]:u.value;if(n)oe($)&&$a($,r);else if(oe($))$.includes(r)||$.push(r);else if(v)p[u]=[r],l(u)&&(d[u]=p[u]);else{const _=[r];u.value=_,e.k&&(p[e.k]=_)}}else v?(p[u]=o,l(u)&&(d[u]=o)):h&&(u.value=o,e.k&&(p[e.k]=o))};o?(w.id=-1,lt(w,s)):w()}}}Us().requestIdleCallback,Us().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,fr=e=>e.type.__isKeepAlive;function $i(e,t){gr(e,"a",t)}function Mi(e,t){gr(e,"da",t)}function gr(e,t,s=et){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(aa(t,a,s),s){let n=s.parent;for(;n&&n.parent;)fr(n.parent.vnode)&&Ti(a,t,s,n),n=n.parent}}function Ti(e,t,s,a){const n=aa(t,e,a,!0);pr(()=>{$a(a[t],n)},s)}function aa(e,t,s=et,a=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{kt();const i=Ts(s),u=Ct(t,s,e,o);return i(),xt(),u});return a?n.unshift(r):n.push(r),r}}const Lt=e=>(t,s=et)=>{(!As||e==="sp")&&aa(e,(...a)=>t(...a),s)},Ai=Lt("bm"),rs=Lt("m"),Di=Lt("bu"),Ei=Lt("u"),za=Lt("bum"),pr=Lt("um"),Pi=Lt("sp"),Ii=Lt("rtg"),Ni=Lt("rtc");function Li(e,t=et){aa("ec",e,t)}const Oi="components";function Hi(e,t){return Ri(Oi,e,!0,t)||e}const Fi=Symbol.for("v-ndc");function Ri(e,t,s=!0,a=!1){const n=Ye||et;if(n){const r=n.type;{const i=Jr(r,!1);if(i&&(i===t||i===gt(t)||i===Bs(gt(t))))return r}const o=hr(n[e]||r[e],t)||hr(n.appContext[e],t);return!o&&a?r:o}}function hr(e,t){return e&&(e[t]||e[gt(t)]||e[Bs(gt(t))])}function Ue(e,t,s,a){let n;const r=s,o=oe(e);if(o||je(e)){const i=o&&es(e);let u=!1,f=!1;i&&(u=!pt(e),f=Ut(e),e=zs(e)),n=new Array(e.length);for(let p=0,d=e.length;p<d;p++)n[p]=t(u?f?Zs(Ze(e[p])):Ze(e[p]):e[p],p,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i,void 0,r)}else if(Fe(e))if(e[Symbol.iterator])n=Array.from(e,(i,u)=>t(i,u,void 0,r));else{const i=Object.keys(e);n=new Array(i.length);for(let u=0,f=i.length;u<f;u++){const p=i[u];n[u]=t(e[p],p,u,r)}}else n=[];return n}function Wi(e,t,s={},a,n){if(Ye.ce||Ye.parent&&ns(Ye.parent)&&Ye.parent.ce)return s.name=t,C(),Ke(ge,null,[ie("slot",s,a)],64);let r=e[t];r&&r._c&&(r._d=!1),C();const o=r&&mr(r(s)),i=s.key||o&&o.key,u=Ke(ge,{key:(i&&!Dt(i)?i:`_${t}`)+(!o&&a?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),u}function mr(e){return e.some(t=>$s(t)?!(t.type===Ot||t.type===ge&&!mr(t.children)):!0)?e:null}const Ka=e=>e?Kr(e)?da(e):Ka(e.parent):null,ks=Xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ka(e.parent),$root:e=>Ka(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wr(e),$forceUpdate:e=>e.f||(e.f=()=>{Ua(e.update)}),$nextTick:e=>e.n||(e.n=ta.bind(e.proxy)),$watch:e=>ll.bind(e)}),qa=(e,t)=>e!==De&&!e.__isScriptSetup&&Ce(e,t),Bi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:r,accessCache:o,type:i,appContext:u}=e;let f;if(t[0]!=="$"){const l=o[t];if(l!==void 0)switch(l){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(qa(a,t))return o[t]=1,a[t];if(n!==De&&Ce(n,t))return o[t]=2,n[t];if((f=e.propsOptions[0])&&Ce(f,t))return o[t]=3,r[t];if(s!==De&&Ce(s,t))return o[t]=4,s[t];Ga&&(o[t]=0)}}const p=ks[t];let d,g;if(p)return t==="$attrs"&&Qe(e.attrs,"get",""),p(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(s!==De&&Ce(s,t))return o[t]=4,s[t];if(g=u.config.globalProperties,Ce(g,t))return g[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:r}=e;return qa(n,t)?(n[t]=s,!0):a!==De&&Ce(a,t)?(a[t]=s,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:r,type:o}},i){let u,f;return!!(s[i]||e!==De&&i[0]!=="$"&&Ce(e,i)||qa(t,i)||(u=r[0])&&Ce(u,i)||Ce(a,i)||Ce(ks,i)||Ce(n.config.globalProperties,i)||(f=o.__cssModules)&&f[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function vr(e){return oe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ga=!0;function ji(e){const t=wr(e),s=e.proxy,a=e.ctx;Ga=!1,t.beforeCreate&&yr(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:o,watch:i,provide:u,inject:f,created:p,beforeMount:d,mounted:g,beforeUpdate:l,updated:v,activated:h,deactivated:w,beforeDestroy:$,beforeUnmount:_,destroyed:S,unmounted:A,render:H,renderTracked:Y,renderTriggered:G,errorCaptured:j,serverPrefetch:ne,expose:q,inheritAttrs:le,components:ve,directives:ke,filters:xe}=t;if(f&&Ui(f,a,null),o)for(const Q in o){const re=o[Q];ue(re)&&(a[Q]=re.bind(s))}if(n){const Q=n.call(s,s);Fe(Q)&&(e.data=St(Q))}if(Ga=!0,r)for(const Q in r){const re=r[Q],Me=ue(re)?re.bind(s,s):ue(re.get)?re.get.bind(s,s):_t,Oe=!ue(re)&&ue(re.set)?re.set.bind(s):_t,Ie=z({get:Me,set:Oe});Object.defineProperty(a,Q,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:we=>Ie.value=we})}if(i)for(const Q in i)br(i[Q],a,s,Q);if(u){const Q=ue(u)?u.call(s):u;Reflect.ownKeys(Q).forEach(re=>{Ji(re,Q[re])})}p&&yr(p,e,"c");function de(Q,re){oe(re)?re.forEach(Me=>Q(Me.bind(s))):re&&Q(re.bind(s))}if(de(Ai,d),de(rs,g),de(Di,l),de(Ei,v),de($i,h),de(Mi,w),de(Li,j),de(Ni,Y),de(Ii,G),de(za,_),de(pr,A),de(Pi,ne),oe(q))if(q.length){const Q=e.exposed||(e.exposed={});q.forEach(re=>{Object.defineProperty(Q,re,{get:()=>s[re],set:Me=>s[re]=Me,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===_t&&(e.render=H),le!=null&&(e.inheritAttrs=le),ve&&(e.components=ve),ke&&(e.directives=ke),ne&&dr(e)}function Ui(e,t,s=_t){oe(e)&&(e=Ja(e));for(const a in e){const n=e[a];let r;Fe(n)?"default"in n?r=ra(n.from||a,n.default,!0):r=ra(n.from||a):r=ra(n),ze(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[a]=r}}function yr(e,t,s){Ct(oe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function br(e,t,s,a){let n=a.includes(".")?Hr(s,a):()=>s[a];if(je(e)){const r=t[e];ue(r)&&bt(n,r)}else if(ue(e))bt(n,e.bind(s));else if(Fe(e))if(oe(e))e.forEach(r=>br(r,t,s,a));else{const r=ue(e.handler)?e.handler.bind(s):t[e.handler];ue(r)&&bt(n,r,e)}}function wr(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let u;return i?u=i:!n.length&&!s&&!a?u=t:(u={},n.length&&n.forEach(f=>na(u,f,o,!0)),na(u,t,o)),Fe(t)&&r.set(t,u),u}function na(e,t,s,a=!1){const{mixins:n,extends:r}=t;r&&na(e,r,s,!0),n&&n.forEach(o=>na(e,o,s,!0));for(const o in t)if(!(a&&o==="expose")){const i=Vi[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Vi={data:_r,props:kr,emits:kr,methods:xs,computed:xs,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:xs,directives:xs,watch:Ki,provide:_r,inject:zi};function _r(e,t){return t?e?function(){return Xe(ue(e)?e.call(this,this):e,ue(t)?t.call(this,this):t)}:t:e}function zi(e,t){return xs(Ja(e),Ja(t))}function Ja(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function xs(e,t){return e?Xe(Object.create(null),e,t):t}function kr(e,t){return e?oe(e)&&oe(t)?[...new Set([...e,...t])]:Xe(Object.create(null),vr(e),vr(t??{})):t}function Ki(e,t){if(!e)return t;if(!t)return e;const s=Xe(Object.create(null),e);for(const a in t)s[a]=st(e[a],t[a]);return s}function xr(){return{app:null,config:{isNativeTag:Mn,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qi=0;function Gi(e,t){return function(a,n=null){ue(a)||(a=Xe({},a)),n!=null&&!Fe(n)&&(n=null);const r=xr(),o=new WeakSet,i=[];let u=!1;const f=r.app={_uid:qi++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:Pl,get config(){return r.config},set config(p){},use(p,...d){return o.has(p)||(p&&ue(p.install)?(o.add(p),p.install(f,...d)):ue(p)&&(o.add(p),p(f,...d))),f},mixin(p){return r.mixins.includes(p)||r.mixins.push(p),f},component(p,d){return d?(r.components[p]=d,f):r.components[p]},directive(p,d){return d?(r.directives[p]=d,f):r.directives[p]},mount(p,d,g){if(!u){const l=f._ceVNode||ie(a,n);return l.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(l,p,g),u=!0,f._container=p,p.__vue_app__=f,da(l.component)}},onUnmount(p){i.push(p)},unmount(){u&&(Ct(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(p,d){return r.provides[p]=d,f},runWithContext(p){const d=os;os=f;try{return p()}finally{os=d}}};return f}}let os=null;function Ji(e,t){if(et){let s=et.provides;const a=et.parent&&et.parent.provides;a===s&&(s=et.provides=Object.create(a)),s[e]=t}}function ra(e,t,s=!1){const a=Sl();if(a||os){let n=os?os._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&ue(t)?t.call(a&&a.proxy):t}}const Sr={},Cr=()=>Object.create(Sr),$r=e=>Object.getPrototypeOf(e)===Sr;function Zi(e,t,s,a=!1){const n={},r=Cr();e.propsDefaults=Object.create(null),Mr(e,t,n,r);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=a?n:ri(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function Yi(e,t,s,a){const{props:n,attrs:r,vnode:{patchFlag:o}}=e,i=_e(n),[u]=e.propsOptions;let f=!1;if((a||o>0)&&!(o&16)){if(o&8){const p=e.vnode.dynamicProps;for(let d=0;d<p.length;d++){let g=p[d];if(oa(e.emitsOptions,g))continue;const l=t[g];if(u)if(Ce(r,g))l!==r[g]&&(r[g]=l,f=!0);else{const v=gt(g);n[v]=Za(u,i,v,l,e,!1)}else l!==r[g]&&(r[g]=l,f=!0)}}}else{Mr(e,t,n,r)&&(f=!0);let p;for(const d in i)(!t||!Ce(t,d)&&((p=Bt(d))===d||!Ce(t,p)))&&(u?s&&(s[d]!==void 0||s[p]!==void 0)&&(n[d]=Za(u,i,d,void 0,e,!0)):delete n[d]);if(r!==i)for(const d in r)(!t||!Ce(t,d))&&(delete r[d],f=!0)}f&&Pt(e.attrs,"set","")}function Mr(e,t,s,a){const[n,r]=e.propsOptions;let o=!1,i;if(t)for(let u in t){if(fs(u))continue;const f=t[u];let p;n&&Ce(n,p=gt(u))?!r||!r.includes(p)?s[p]=f:(i||(i={}))[p]=f:oa(e.emitsOptions,u)||(!(u in a)||f!==a[u])&&(a[u]=f,o=!0)}if(r){const u=_e(s),f=i||De;for(let p=0;p<r.length;p++){const d=r[p];s[d]=Za(n,u,d,f[d],e,!Ce(f,d))}}return o}function Za(e,t,s,a,n,r){const o=e[s];if(o!=null){const i=Ce(o,"default");if(i&&a===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&ue(u)){const{propsDefaults:f}=n;if(s in f)a=f[s];else{const p=Ts(n);a=f[s]=u.call(null,t),p()}}else a=u;n.ce&&n.ce._setProp(s,a)}o[0]&&(r&&!i?a=!1:o[1]&&(a===""||a===Bt(s))&&(a=!0))}return a}const Xi=new WeakMap;function Tr(e,t,s=!1){const a=s?Xi:t.propsCache,n=a.get(e);if(n)return n;const r=e.props,o={},i=[];let u=!1;if(!ue(e)){const p=d=>{u=!0;const[g,l]=Tr(d,t,!0);Xe(o,g),l&&i.push(...l)};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!r&&!u)return Fe(e)&&a.set(e,Yt),Yt;if(oe(r))for(let p=0;p<r.length;p++){const d=gt(r[p]);Ar(d)&&(o[d]=De)}else if(r)for(const p in r){const d=gt(p);if(Ar(d)){const g=r[p],l=o[d]=oe(g)||ue(g)?{type:g}:Xe({},g),v=l.type;let h=!1,w=!0;if(oe(v))for(let $=0;$<v.length;++$){const _=v[$],S=ue(_)&&_.name;if(S==="Boolean"){h=!0;break}else S==="String"&&(w=!1)}else h=ue(v)&&v.name==="Boolean";l[0]=h,l[1]=w,(h||Ce(l,"default"))&&i.push(d)}}const f=[o,i];return Fe(e)&&a.set(e,f),f}function Ar(e){return e[0]!=="$"&&!fs(e)}const Ya=e=>e==="_"||e==="_ctx"||e==="$stable",Xa=e=>oe(e)?e.map(Mt):[Mt(e)],Qi=(e,t,s)=>{if(t._n)return t;const a=We((...n)=>Xa(t(...n)),s);return a._c=!1,a},Dr=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Ya(n))continue;const r=e[n];if(ue(r))t[n]=Qi(n,r,a);else if(r!=null){const o=Xa(r);t[n]=()=>o}}},Er=(e,t)=>{const s=Xa(t);e.slots.default=()=>s},Pr=(e,t,s)=>{for(const a in t)(s||!Ya(a))&&(e[a]=t[a])},el=(e,t,s)=>{const a=e.slots=Cr();if(e.vnode.shapeFlag&32){const n=t._;n?(Pr(a,t,s),s&&Pn(a,"_",n,!0)):Dr(t,a)}else t&&Er(e,t)},tl=(e,t,s)=>{const{vnode:a,slots:n}=e;let r=!0,o=De;if(a.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:Pr(n,t,s):(r=!t.$stable,Dr(t,n)),o=t}else t&&(Er(e,t),o={default:1});if(r)for(const i in n)!Ya(i)&&o[i]==null&&delete n[i]},lt=hl;function sl(e){return al(e)}function al(e,t){const s=Us();s.__VUE__=!0;const{insert:a,remove:n,patchProp:r,createElement:o,createText:i,createComment:u,setText:f,setElementText:p,parentNode:d,nextSibling:g,setScopeId:l=_t,insertStaticContent:v}=e,h=(m,y,M,F=null,D=null,N=null,B=void 0,W=null,R=!!y.dynamicChildren)=>{if(m===y)return;m&&!Ms(m,y)&&(F=Se(m),we(m,D,N,!0),m=null),y.patchFlag===-2&&(R=!1,y.dynamicChildren=null);const{type:O,ref:ee,shapeFlag:V}=y;switch(O){case ia:w(m,y,M,F);break;case Ot:$(m,y,M,F);break;case la:m==null&&_(y,M,F,B);break;case ge:ve(m,y,M,F,D,N,B,W,R);break;default:V&1?H(m,y,M,F,D,N,B,W,R):V&6?ke(m,y,M,F,D,N,B,W,R):(V&64||V&128)&&O.process(m,y,M,F,D,N,B,W,R,qe)}ee!=null&&D?_s(ee,m&&m.ref,N,y||m,!y):ee==null&&m&&m.ref!=null&&_s(m.ref,null,N,m,!0)},w=(m,y,M,F)=>{if(m==null)a(y.el=i(y.children),M,F);else{const D=y.el=m.el;y.children!==m.children&&f(D,y.children)}},$=(m,y,M,F)=>{m==null?a(y.el=u(y.children||""),M,F):y.el=m.el},_=(m,y,M,F)=>{[m.el,m.anchor]=v(m.children,y,M,F,m.el,m.anchor)},S=({el:m,anchor:y},M,F)=>{let D;for(;m&&m!==y;)D=g(m),a(m,M,F),m=D;a(y,M,F)},A=({el:m,anchor:y})=>{let M;for(;m&&m!==y;)M=g(m),n(m),m=M;n(y)},H=(m,y,M,F,D,N,B,W,R)=>{y.type==="svg"?B="svg":y.type==="math"&&(B="mathml"),m==null?Y(y,M,F,D,N,B,W,R):ne(m,y,D,N,B,W,R)},Y=(m,y,M,F,D,N,B,W)=>{let R,O;const{props:ee,shapeFlag:V,transition:X,dirs:se}=m;if(R=m.el=o(m.type,N,ee&&ee.is,ee),V&8?p(R,m.children):V&16&&j(m.children,R,null,F,D,Qa(m,N),B,W),se&&Jt(m,null,F,"created"),G(R,m,m.scopeId,B,F),ee){for(const he in ee)he!=="value"&&!fs(he)&&r(R,he,null,ee[he],N,F);"value"in ee&&r(R,"value",null,ee.value,N),(O=ee.onVnodeBeforeMount)&&Tt(O,F,m)}se&&Jt(m,null,F,"beforeMount");const ce=nl(D,X);ce&&X.beforeEnter(R),a(R,y,M),((O=ee&&ee.onVnodeMounted)||ce||se)&&lt(()=>{O&&Tt(O,F,m),ce&&X.enter(R),se&&Jt(m,null,F,"mounted")},D)},G=(m,y,M,F,D)=>{if(M&&l(m,M),F)for(let N=0;N<F.length;N++)l(m,F[N]);if(D){let N=D.subTree;if(y===N||Br(N.type)&&(N.ssContent===y||N.ssFallback===y)){const B=D.vnode;G(m,B,B.scopeId,B.slotScopeIds,D.parent)}}},j=(m,y,M,F,D,N,B,W,R=0)=>{for(let O=R;O<m.length;O++){const ee=m[O]=W?zt(m[O]):Mt(m[O]);h(null,ee,y,M,F,D,N,B,W)}},ne=(m,y,M,F,D,N,B)=>{const W=y.el=m.el;let{patchFlag:R,dynamicChildren:O,dirs:ee}=y;R|=m.patchFlag&16;const V=m.props||De,X=y.props||De;let se;if(M&&Zt(M,!1),(se=X.onVnodeBeforeUpdate)&&Tt(se,M,y,m),ee&&Jt(y,m,M,"beforeUpdate"),M&&Zt(M,!0),(V.innerHTML&&X.innerHTML==null||V.textContent&&X.textContent==null)&&p(W,""),O?q(m.dynamicChildren,O,W,M,F,Qa(y,D),N):B||re(m,y,W,null,M,F,Qa(y,D),N,!1),R>0){if(R&16)le(W,V,X,M,D);else if(R&2&&V.class!==X.class&&r(W,"class",null,X.class,D),R&4&&r(W,"style",V.style,X.style,D),R&8){const ce=y.dynamicProps;for(let he=0;he<ce.length;he++){const fe=ce[he],Te=V[fe],He=X[fe];(He!==Te||fe==="value")&&r(W,fe,Te,He,D,M)}}R&1&&m.children!==y.children&&p(W,y.children)}else!B&&O==null&&le(W,V,X,M,D);((se=X.onVnodeUpdated)||ee)&&lt(()=>{se&&Tt(se,M,y,m),ee&&Jt(y,m,M,"updated")},F)},q=(m,y,M,F,D,N,B)=>{for(let W=0;W<y.length;W++){const R=m[W],O=y[W],ee=R.el&&(R.type===ge||!Ms(R,O)||R.shapeFlag&198)?d(R.el):M;h(R,O,ee,null,F,D,N,B,!0)}},le=(m,y,M,F,D)=>{if(y!==M){if(y!==De)for(const N in y)!fs(N)&&!(N in M)&&r(m,N,y[N],null,D,F);for(const N in M){if(fs(N))continue;const B=M[N],W=y[N];B!==W&&N!=="value"&&r(m,N,W,B,D,F)}"value"in M&&r(m,"value",y.value,M.value,D)}},ve=(m,y,M,F,D,N,B,W,R)=>{const O=y.el=m?m.el:i(""),ee=y.anchor=m?m.anchor:i("");let{patchFlag:V,dynamicChildren:X,slotScopeIds:se}=y;se&&(W=W?W.concat(se):se),m==null?(a(O,M,F),a(ee,M,F),j(y.children||[],M,ee,D,N,B,W,R)):V>0&&V&64&&X&&m.dynamicChildren?(q(m.dynamicChildren,X,M,D,N,B,W),(y.key!=null||D&&y===D.subTree)&&Ir(m,y,!0)):re(m,y,M,ee,D,N,B,W,R)},ke=(m,y,M,F,D,N,B,W,R)=>{y.slotScopeIds=W,m==null?y.shapeFlag&512?D.ctx.activate(y,M,F,B,R):xe(y,M,F,D,N,B,R):U(m,y,R)},xe=(m,y,M,F,D,N,B)=>{const W=m.component=xl(m,F,D);if(fr(m)&&(W.ctx.renderer=qe),Cl(W,!1,B),W.asyncDep){if(D&&D.registerDep(W,de,B),!m.el){const R=W.subTree=ie(Ot);$(null,R,y,M),m.placeholder=R.el}}else de(W,m,y,M,D,N,B)},U=(m,y,M)=>{const F=y.component=m.component;if(gl(m,y,M))if(F.asyncDep&&!F.asyncResolved){Q(F,y,M);return}else F.next=y,F.update();else y.el=m.el,F.vnode=y},de=(m,y,M,F,D,N,B)=>{const W=()=>{if(m.isMounted){let{next:V,bu:X,u:se,parent:ce,vnode:he}=m;{const Ge=Nr(m);if(Ge){V&&(V.el=he.el,Q(m,V,B)),Ge.asyncDep.then(()=>{m.isUnmounted||W()});return}}let fe=V,Te;Zt(m,!1),V?(V.el=he.el,Q(m,V,B)):V=he,X&&js(X),(Te=V.props&&V.props.onVnodeBeforeUpdate)&&Tt(Te,ce,V,he),Zt(m,!0);const He=Rr(m),Be=m.subTree;m.subTree=He,h(Be,He,d(Be.el),Se(Be),m,D,N),V.el=He.el,fe===null&&pl(m,He.el),se&&lt(se,D),(Te=V.props&&V.props.onVnodeUpdated)&&lt(()=>Tt(Te,ce,V,he),D)}else{let V;const{el:X,props:se}=y,{bm:ce,m:he,parent:fe,root:Te,type:He}=m,Be=ns(y);Zt(m,!1),ce&&js(ce),!Be&&(V=se&&se.onVnodeBeforeMount)&&Tt(V,fe,y),Zt(m,!0);{Te.ce&&Te.ce._def.shadowRoot!==!1&&Te.ce._injectChildStyle(He);const Ge=m.subTree=Rr(m);h(null,Ge,M,F,m,D,N),y.el=Ge.el}if(he&&lt(he,D),!Be&&(V=se&&se.onVnodeMounted)){const Ge=y;lt(()=>Tt(V,fe,Ge),D)}(y.shapeFlag&256||fe&&ns(fe.vnode)&&fe.vnode.shapeFlag&256)&&m.a&&lt(m.a,D),m.isMounted=!0,y=M=F=null}};m.scope.on();const R=m.effect=new Hn(W);m.scope.off();const O=m.update=R.run.bind(R),ee=m.job=R.runIfDirty.bind(R);ee.i=m,ee.id=m.uid,R.scheduler=()=>Ua(ee),Zt(m,!0),O()},Q=(m,y,M)=>{y.component=m;const F=m.vnode.props;m.vnode=y,m.next=null,Yi(m,y.props,F,M),tl(m,y.children,M),kt(),ir(m),xt()},re=(m,y,M,F,D,N,B,W,R=!1)=>{const O=m&&m.children,ee=m?m.shapeFlag:0,V=y.children,{patchFlag:X,shapeFlag:se}=y;if(X>0){if(X&128){Oe(O,V,M,F,D,N,B,W,R);return}else if(X&256){Me(O,V,M,F,D,N,B,W,R);return}}se&8?(ee&16&&$e(O,D,N),V!==O&&p(M,V)):ee&16?se&16?Oe(O,V,M,F,D,N,B,W,R):$e(O,D,N,!0):(ee&8&&p(M,""),se&16&&j(V,M,F,D,N,B,W,R))},Me=(m,y,M,F,D,N,B,W,R)=>{m=m||Yt,y=y||Yt;const O=m.length,ee=y.length,V=Math.min(O,ee);let X;for(X=0;X<V;X++){const se=y[X]=R?zt(y[X]):Mt(y[X]);h(m[X],se,M,null,D,N,B,W,R)}O>ee?$e(m,D,N,!0,!1,V):j(y,M,F,D,N,B,W,R,V)},Oe=(m,y,M,F,D,N,B,W,R)=>{let O=0;const ee=y.length;let V=m.length-1,X=ee-1;for(;O<=V&&O<=X;){const se=m[O],ce=y[O]=R?zt(y[O]):Mt(y[O]);if(Ms(se,ce))h(se,ce,M,null,D,N,B,W,R);else break;O++}for(;O<=V&&O<=X;){const se=m[V],ce=y[X]=R?zt(y[X]):Mt(y[X]);if(Ms(se,ce))h(se,ce,M,null,D,N,B,W,R);else break;V--,X--}if(O>V){if(O<=X){const se=X+1,ce=se<ee?y[se].el:F;for(;O<=X;)h(null,y[O]=R?zt(y[O]):Mt(y[O]),M,ce,D,N,B,W,R),O++}}else if(O>X)for(;O<=V;)we(m[O],D,N,!0),O++;else{const se=O,ce=O,he=new Map;for(O=ce;O<=X;O++){const Je=y[O]=R?zt(y[O]):Mt(y[O]);Je.key!=null&&he.set(Je.key,O)}let fe,Te=0;const He=X-ce+1;let Be=!1,Ge=0;const vt=new Array(He);for(O=0;O<He;O++)vt[O]=0;for(O=se;O<=V;O++){const Je=m[O];if(Te>=He){we(Je,D,N,!0);continue}let ot;if(Je.key!=null)ot=he.get(Je.key);else for(fe=ce;fe<=X;fe++)if(vt[fe-ce]===0&&Ms(Je,y[fe])){ot=fe;break}ot===void 0?we(Je,D,N,!0):(vt[ot-ce]=O+1,ot>=Ge?Ge=ot:Be=!0,h(Je,y[ot],M,null,D,N,B,W,R),Te++)}const ds=Be?rl(vt):Yt;for(fe=ds.length-1,O=He-1;O>=0;O--){const Je=ce+O,ot=y[Je],wt=y[Je+1],x=Je+1<ee?wt.el||wt.placeholder:F;vt[O]===0?h(null,ot,M,x,D,N,B,W,R):Be&&(fe<0||O!==ds[fe]?Ie(ot,M,x,2):fe--)}}},Ie=(m,y,M,F,D=null)=>{const{el:N,type:B,transition:W,children:R,shapeFlag:O}=m;if(O&6){Ie(m.component.subTree,y,M,F);return}if(O&128){m.suspense.move(y,M,F);return}if(O&64){B.move(m,y,M,qe);return}if(B===ge){a(N,y,M);for(let V=0;V<R.length;V++)Ie(R[V],y,M,F);a(m.anchor,y,M);return}if(B===la){S(m,y,M);return}if(F!==2&&O&1&&W)if(F===0)W.beforeEnter(N),a(N,y,M),lt(()=>W.enter(N),D);else{const{leave:V,delayLeave:X,afterLeave:se}=W,ce=()=>{m.ctx.isUnmounted?n(N):a(N,y,M)},he=()=>{N._isLeaving&&N[Ci](!0),V(N,()=>{ce(),se&&se()})};X?X(N,ce,he):he()}else a(N,y,M)},we=(m,y,M,F=!1,D=!1)=>{const{type:N,props:B,ref:W,children:R,dynamicChildren:O,shapeFlag:ee,patchFlag:V,dirs:X,cacheIndex:se}=m;if(V===-2&&(D=!1),W!=null&&(kt(),_s(W,null,M,m,!0),xt()),se!=null&&(y.renderCache[se]=void 0),ee&256){y.ctx.deactivate(m);return}const ce=ee&1&&X,he=!ns(m);let fe;if(he&&(fe=B&&B.onVnodeBeforeUnmount)&&Tt(fe,y,m),ee&6)Re(m.component,M,F);else{if(ee&128){m.suspense.unmount(M,F);return}ce&&Jt(m,null,y,"beforeUnmount"),ee&64?m.type.remove(m,y,M,qe,F):O&&!O.hasOnce&&(N!==ge||V>0&&V&64)?$e(O,y,M,!1,!0):(N===ge&&V&384||!D&&ee&16)&&$e(R,y,M),F&&ye(m)}(he&&(fe=B&&B.onVnodeUnmounted)||ce)&&lt(()=>{fe&&Tt(fe,y,m),ce&&Jt(m,null,y,"unmounted")},M)},ye=m=>{const{type:y,el:M,anchor:F,transition:D}=m;if(y===ge){Ne(M,F);return}if(y===la){A(m);return}const N=()=>{n(M),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(m.shapeFlag&1&&D&&!D.persisted){const{leave:B,delayLeave:W}=D,R=()=>B(M,N);W?W(m.el,N,R):R()}else N()},Ne=(m,y)=>{let M;for(;m!==y;)M=g(m),n(m),m=M;n(y)},Re=(m,y,M)=>{const{bum:F,scope:D,job:N,subTree:B,um:W,m:R,a:O}=m;Lr(R),Lr(O),F&&js(F),D.stop(),N&&(N.flags|=8,we(B,m,y,M)),W&&lt(W,y),lt(()=>{m.isUnmounted=!0},y)},$e=(m,y,M,F=!1,D=!1,N=0)=>{for(let B=N;B<m.length;B++)we(m[B],y,M,F,D)},Se=m=>{if(m.shapeFlag&6)return Se(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const y=g(m.anchor||m.el),M=y&&y[xi];return M?g(M):y};let Z=!1;const Ae=(m,y,M)=>{m==null?y._vnode&&we(y._vnode,null,null,!0):h(y._vnode||null,m,y,null,null,null,M),y._vnode=m,Z||(Z=!0,ir(),lr(),Z=!1)},qe={p:h,um:we,m:Ie,r:ye,mt:xe,mc:j,pc:re,pbc:q,n:Se,o:e};return{render:Ae,hydrate:void 0,createApp:Gi(Ae)}}function Qa({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Zt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ir(e,t,s=!1){const a=e.children,n=t.children;if(oe(a)&&oe(n))for(let r=0;r<a.length;r++){const o=a[r];let i=n[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=n[r]=zt(n[r]),i.el=o.el),!s&&i.patchFlag!==-2&&Ir(o,i)),i.type===ia&&i.patchFlag!==-1&&(i.el=o.el),i.type===Ot&&!i.el&&(i.el=o.el)}}function rl(e){const t=e.slice(),s=[0];let a,n,r,o,i;const u=e.length;for(a=0;a<u;a++){const f=e[a];if(f!==0){if(n=s[s.length-1],e[n]<f){t[a]=n,s.push(a);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<f?r=i+1:o=i;f<e[s[r]]&&(r>0&&(t[a]=s[r-1]),s[r]=a)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Nr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Nr(t)}function Lr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ol=Symbol.for("v-scx"),il=()=>ra(ol);function bt(e,t,s){return Or(e,t,s)}function Or(e,t,s=De){const{immediate:a,deep:n,flush:r,once:o}=s,i=Xe({},s),u=t&&a||!t&&r!=="post";let f;if(As){if(r==="sync"){const l=il();f=l.__watcherHandles||(l.__watcherHandles=[])}else if(!u){const l=()=>{};return l.stop=_t,l.resume=_t,l.pause=_t,l}}const p=et;i.call=(l,v,h)=>Ct(l,p,v,h);let d=!1;r==="post"?i.scheduler=l=>{lt(l,p&&p.suspense)}:r!=="sync"&&(d=!0,i.scheduler=(l,v)=>{v?l():Ua(l)}),i.augmentJob=l=>{t&&(l.flags|=4),d&&(l.flags|=2,p&&(l.id=p.uid,l.i=p))};const g=hi(e,t,i);return As&&(f?f.push(g):u&&g()),g}function ll(e,t,s){const a=this.proxy,n=je(e)?e.includes(".")?Hr(a,e):()=>a[e]:e.bind(a,a);let r;ue(t)?r=t:(r=t.handler,s=t);const o=Ts(this),i=Or(n,r.bind(a),s);return o(),i}function Hr(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const cl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${gt(t)}Modifiers`]||e[`${Bt(t)}Modifiers`];function ul(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||De;let n=s;const r=t.startsWith("update:"),o=r&&cl(a,t.slice(7));o&&(o.trim&&(n=s.map(p=>je(p)?p.trim():p)),o.number&&(n=s.map(Aa)));let i,u=a[i=Ta(t)]||a[i=Ta(gt(t))];!u&&r&&(u=a[i=Ta(Bt(t))]),u&&Ct(u,e,6,n);const f=a[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Ct(f,e,6,n)}}function Fr(e,t,s=!1){const a=t.emitsCache,n=a.get(e);if(n!==void 0)return n;const r=e.emits;let o={},i=!1;if(!ue(e)){const u=f=>{const p=Fr(f,t,!0);p&&(i=!0,Xe(o,p))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!r&&!i?(Fe(e)&&a.set(e,null),null):(oe(r)?r.forEach(u=>o[u]=null):Xe(o,r),Fe(e)&&a.set(e,o),o)}function oa(e,t){return!e||!Fs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Bt(t))||Ce(e,t))}function sm(){}function Rr(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[r],slots:o,attrs:i,emit:u,render:f,renderCache:p,props:d,data:g,setupState:l,ctx:v,inheritAttrs:h}=e,w=sa(e);let $,_;try{if(s.shapeFlag&4){const A=n||a,H=A;$=Mt(f.call(H,A,p,d,l,g,v)),_=i}else{const A=t;$=Mt(A.length>1?A(d,{attrs:i,slots:o,emit:u}):A(d,null)),_=t.props?i:dl(i)}}catch(A){Ss.length=0,Qs(A,e,1),$=ie(Ot)}let S=$;if(_&&h!==!1){const A=Object.keys(_),{shapeFlag:H}=S;A.length&&H&7&&(r&&A.some(Ca)&&(_=fl(_,r)),S=is(S,_,!1,!0))}return s.dirs&&(S=is(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&Va(S,s.transition),$=S,sa(w),$}const dl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Fs(s))&&((t||(t={}))[s]=e[s]);return t},fl=(e,t)=>{const s={};for(const a in e)(!Ca(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function gl(e,t,s){const{props:a,children:n,component:r}=e,{props:o,children:i,patchFlag:u}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return a?Wr(a,o,f):!!o;if(u&8){const p=t.dynamicProps;for(let d=0;d<p.length;d++){const g=p[d];if(o[g]!==a[g]&&!oa(f,g))return!0}}}else return(n||i)&&(!i||!i.$stable)?!0:a===o?!1:a?o?Wr(a,o,f):!0:!!o;return!1}function Wr(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const r=a[n];if(t[r]!==e[r]&&!oa(s,r))return!0}return!1}function pl({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Br=e=>e.__isSuspense;function hl(e,t){t&&t.pendingBranch?oe(e)?t.effects.push(...e):t.effects.push(e):ki(e)}const ge=Symbol.for("v-fgt"),ia=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),la=Symbol.for("v-stc"),Ss=[];let ct=null;function C(e=!1){Ss.push(ct=e?null:[])}function ml(){Ss.pop(),ct=Ss[Ss.length-1]||null}let Cs=1;function jr(e,t=!1){Cs+=e,e<0&&ct&&t&&(ct.hasOnce=!0)}function Ur(e){return e.dynamicChildren=Cs>0?ct||Yt:null,ml(),Cs>0&&ct&&ct.push(e),e}function T(e,t,s,a,n,r){return Ur(c(e,t,s,a,n,r,!0))}function Ke(e,t,s,a,n){return Ur(ie(e,t,s,a,n,!0))}function $s(e){return e?e.__v_isVNode===!0:!1}function Ms(e,t){return e.type===t.type&&e.key===t.key}const Vr=({key:e})=>e??null,ca=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||ze(e)||ue(e)?{i:Ye,r:e,k:t,f:!!s}:e:null);function c(e,t=null,s=null,a=0,n=null,r=e===ge?0:1,o=!1,i=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vr(t),ref:t&&ca(t),scopeId:ur,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ye};return i?(en(u,s),r&128&&e.normalize(u)):s&&(u.shapeFlag|=je(s)?8:16),Cs>0&&!o&&ct&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&ct.push(u),u}const ie=vl;function vl(e,t=null,s=null,a=0,n=null,r=!1){if((!e||e===Fi)&&(e=Ot),$s(e)){const i=is(e,t,!0);return s&&en(i,s),Cs>0&&!r&&ct&&(i.shapeFlag&6?ct[ct.indexOf(e)]=i:ct.push(i)),i.patchFlag=-2,i}if(El(e)&&(e=e.__vccOpts),t){t=yl(t);let{class:i,style:u}=t;i&&!je(i)&&(t.class=me(i)),Fe(u)&&(Ba(u)&&!oe(u)&&(u=Xe({},u)),t.style=Et(u))}const o=je(e)?1:Br(e)?128:Si(e)?64:Fe(e)?4:ue(e)?2:0;return c(e,t,s,a,n,o,r,!0)}function yl(e){return e?Ba(e)||$r(e)?Xe({},e):e:null}function is(e,t,s=!1,a=!1){const{props:n,ref:r,patchFlag:o,children:i,transition:u}=e,f=t?wl(n||{},t):n,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Vr(f),ref:t&&t.ref?s&&r?oe(r)?r.concat(ca(t)):[r,ca(t)]:ca(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&is(e.ssContent),ssFallback:e.ssFallback&&is(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&a&&Va(p,u.clone(p)),p}function be(e=" ",t=0){return ie(ia,null,e,t)}function bl(e,t){const s=ie(la,null,e);return s.staticCount=t,s}function K(e="",t=!1){return t?(C(),Ke(Ot,null,e)):ie(Ot,null,e)}function Mt(e){return e==null||typeof e=="boolean"?ie(Ot):oe(e)?ie(ge,null,e.slice()):$s(e)?zt(e):ie(ia,null,String(e))}function zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:is(e)}function en(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(oe(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),en(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!$r(t)?t._ctx=Ye:n===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ue(t)?(t={default:t,_ctx:Ye},s=32):(t=String(t),a&64?(s=16,t=[be(t)]):s=8);e.children=t,e.shapeFlag|=s}function wl(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=me([t.class,a.class]));else if(n==="style")t.style=Et([t.style,a.style]);else if(Fs(n)){const r=t[n],o=a[n];o&&r!==o&&!(oe(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=a[n])}return t}function Tt(e,t,s,a=null){Ct(e,t,7,[s,a])}const _l=xr();let kl=0;function xl(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||_l,r={uid:kl++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tr(a,n),emitsOptions:Fr(a,n),emit:null,emitted:null,propsDefaults:De,inheritAttrs:a.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=ul.bind(null,r),e.ce&&e.ce(r),r}let et=null;const Sl=()=>et||Ye;let ua,tn;{const e=Us(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};ua=t("__VUE_INSTANCE_SETTERS__",s=>et=s),tn=t("__VUE_SSR_SETTERS__",s=>As=s)}const Ts=e=>{const t=et;return ua(e),e.scope.on(),()=>{e.scope.off(),ua(t)}},zr=()=>{et&&et.scope.off(),ua(null)};function Kr(e){return e.vnode.shapeFlag&4}let As=!1;function Cl(e,t=!1,s=!1){t&&tn(t);const{props:a,children:n}=e.vnode,r=Kr(e);Zi(e,a,r,t),el(e,n,s||t);const o=r?$l(e,t):void 0;return t&&tn(!1),o}function $l(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Bi);const{setup:a}=s;if(a){kt();const n=e.setupContext=a.length>1?Tl(e):null,r=Ts(e),o=ts(a,e,0,[e.props,n]),i=An(o);if(xt(),r(),(i||e.sp)&&!ns(e)&&dr(e),i){if(o.then(zr,zr),t)return o.then(u=>{qr(e,u)}).catch(u=>{Qs(u,e,0)});e.asyncDep=o}else qr(e,o)}else Gr(e)}function qr(e,t,s){ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=sr(t)),Gr(e)}function Gr(e,t,s){const a=e.type;e.render||(e.render=a.render||_t);{const n=Ts(e);kt();try{ji(e)}finally{xt(),n()}}}const Ml={get(e,t){return Qe(e,"get",""),e[t]}};function Tl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Ml),slots:e.slots,emit:e.emit,expose:t}}function da(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sr(oi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ks)return ks[s](e)},has(t,s){return s in t||s in ks}})):e.proxy}const Al=/(?:^|[-_])(\w)/g,Dl=e=>e.replace(Al,t=>t.toUpperCase()).replace(/[-_]/g,"");function Jr(e,t=!0){return ue(e)?e.displayName||e.name:e.name||t&&e.__name}function Zr(e,t,s=!1){let a=Jr(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=r=>{for(const o in r)if(r[o]===t)return o};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?Dl(a):s?"App":"Anonymous"}function El(e){return ue(e)&&"__vccOpts"in e}const z=(e,t)=>gi(e,t,As);function ut(e,t,s){const a=arguments.length;return a===2?Fe(t)&&!oe(t)?$s(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&$s(s)&&(s=[s]),ie(e,t,s))}const Pl="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;const Yr=typeof window<"u"&&window.trustedTypes;if(Yr)try{sn=Yr.createPolicy("vue",{createHTML:e=>e})}catch{}const Xr=sn?e=>sn.createHTML(e):e=>e,Il="http://www.w3.org/2000/svg",Nl="http://www.w3.org/1998/Math/MathML",Ht=typeof document<"u"?document:null,Qr=Ht&&Ht.createElement("template"),Ll={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Ht.createElementNS(Il,e):t==="mathml"?Ht.createElementNS(Nl,e):s?Ht.createElement(e,{is:s}):Ht.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Ht.createTextNode(e),createComment:e=>Ht.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ht.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,r){const o=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{Qr.innerHTML=Xr(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const i=Qr.content;if(a==="svg"||a==="mathml"){const u=i.firstChild;for(;u.firstChild;)i.appendChild(u.firstChild);i.removeChild(u)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Ol=Symbol("_vtc");function Hl(e,t,s){const a=e[Ol];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const fa=Symbol("_vod"),eo=Symbol("_vsh"),ga={name:"show",beforeMount(e,{value:t},{transition:s}){e[fa]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ds(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Ds(e,!0),a.enter(e)):a.leave(e,()=>{Ds(e,!1)}):Ds(e,t))},beforeUnmount(e,{value:t}){Ds(e,t)}};function Ds(e,t){e.style.display=t?e[fa]:"none",e[eo]=!t}const Fl=Symbol(""),Rl=/(^|;)\s*display\s*:/;function Wl(e,t,s){const a=e.style,n=je(s);let r=!1;if(s&&!n){if(t)if(je(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&pa(a,i,"")}else for(const o in t)s[o]==null&&pa(a,o,"");for(const o in s)o==="display"&&(r=!0),pa(a,o,s[o])}else if(n){if(t!==s){const o=a[Fl];o&&(s+=";"+o),a.cssText=s,r=Rl.test(s)}}else t&&e.removeAttribute("style");fa in e&&(e[fa]=r?a.display:"",e[eo]&&(a.display="none"))}const to=/\s*!important$/;function pa(e,t,s){if(oe(s))s.forEach(a=>pa(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=Bl(e,t);to.test(s)?e.setProperty(Bt(a),s.replace(to,""),"important"):e[a]=s}}const so=["Webkit","Moz","ms"],an={};function Bl(e,t){const s=an[t];if(s)return s;let a=gt(t);if(a!=="filter"&&a in e)return an[t]=a;a=Bs(a);for(let n=0;n<so.length;n++){const r=so[n]+a;if(r in e)return an[t]=r}return t}const ao="http://www.w3.org/1999/xlink";function no(e,t,s,a,n,r=Ho(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ao,t.slice(6,t.length)):e.setAttributeNS(ao,t,s):s==null||r&&!Nn(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Dt(s)?String(s):s)}function ro(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Xr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(i!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Nn(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function ls(e,t,s,a){e.addEventListener(t,s,a)}function jl(e,t,s,a){e.removeEventListener(t,s,a)}const oo=Symbol("_vei");function Ul(e,t,s,a,n=null){const r=e[oo]||(e[oo]={}),o=r[t];if(a&&o)o.value=a;else{const[i,u]=Vl(t);if(a){const f=r[t]=ql(a,n);ls(e,i,f,u)}else o&&(jl(e,i,o,u),r[t]=void 0)}}const io=/(?:Once|Passive|Capture)$/;function Vl(e){let t;if(io.test(e)){t={};let a;for(;a=e.match(io);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bt(e.slice(2)),t]}let nn=0;const zl=Promise.resolve(),Kl=()=>nn||(zl.then(()=>nn=0),nn=Date.now());function ql(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Ct(Gl(a,s.value),t,5,[a])};return s.value=e,s.attached=Kl(),s}function Gl(e,t){if(oe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const lo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Jl=(e,t,s,a,n,r)=>{const o=n==="svg";t==="class"?Hl(e,a,o):t==="style"?Wl(e,s,a):Fs(t)?Ca(t)||Ul(e,t,s,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Zl(e,t,a,o))?(ro(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&no(e,t,a,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!je(a))?ro(e,gt(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),no(e,t,a,o))};function Zl(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&lo(t)&&ue(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return lo(t)&&je(s)?!1:t in e}const co=e=>{const t=e.props["onUpdate:modelValue"]||!1;return oe(t)?s=>js(t,s):t};function Yl(e){e.target.composing=!0}function uo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rn=Symbol("_assign"),Xl={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[rn]=co(n);const r=a||n.props&&n.props.type==="number";ls(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;s&&(i=i.trim()),r&&(i=Aa(i)),e[rn](i)}),s&&ls(e,"change",()=>{e.value=e.value.trim()}),t||(ls(e,"compositionstart",Yl),ls(e,"compositionend",uo),ls(e,"change",uo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:r}},o){if(e[rn]=co(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?Aa(e.value):e.value,u=t??"";i!==u&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===u)||(e.value=u))}},Ql=["ctrl","shift","alt","meta"],ec={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ql.some(s=>e[`${s}Key`]&&!t.includes(s))},ha=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...r)=>{for(let o=0;o<t.length;o++){const i=ec[t[o]];if(i&&i(n,t))return}return e(n,...r)})},tc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},sc=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const r=Bt(n.key);if(t.some(o=>o===r||tc[o]===r))return e(n)})},ac=Xe({patchProp:Jl},Ll);let fo;function nc(){return fo||(fo=sl(ac))}const rc=(...e)=>{const t=nc().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=ic(a);if(!n)return;const r=t._component;!ue(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,oc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function oc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ic(e){return je(e)?document.querySelector(e):e}const lc=Pe({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const a=e.showNavigation!==!1,n={...s,class:[s.class,"app-content",a?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":a?"false":"true"};return ut("div",n,[ut("aside",r,t.navigation?t.navigation():[]),ut("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),cc=Pe({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const a={...s,class:[s.class,"app-navigation"]};"role"in a||(a.role="navigation");const n=[];return t.actions&&n.push(ut("div",{class:"app-navigation__actions"},t.actions())),t.default&&n.push(...t.default()),ut("nav",a,n)}}}),dt=Pe({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:a}){return()=>{const n={...a,class:[a.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in n||(n.type="button"),ut("button",n,s.default?s.default():[])}}}),ma=Pe({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>ut("div",{...t,class:[t.class,"card empty"]},[ut("div",{class:"value"},e.name),ut("div",{class:"hint"},e.description)])}}),va=Pe({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:a}){const n=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...a,class:[a.class,"nc-checkbox-radio-switch"]};return()=>ut("label",r,[ut("input",{type:e.type,name:e.name,checked:e.checked,onInput:n}),ut("span",{},s.default?s.default():[])])}}),uc=Pe({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>ut("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function on(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const a=Math.floor(s.width*t),n=Math.floor(s.height*t);e.width!==a&&(e.width=a),e.height!==n&&(e.height=n);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function go(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function dc(e){const s=Math.pow((f=>f<0?0:f>1?1:f)(e),.6),a=go("#e0f2fe"),n=go("#7c3aed");if(!a||!n)return"#7c3aed";const r=(f,p,d)=>Math.round(f+(p-f)*d),o=r(a.r,n.r,s),i=r(a.g,n.g,s),u=r(a.b,n.b,s);return`rgb(${o}, ${i}, ${u})`}const po=Pe({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=ae(null);function a(){const n=t.data,r=s.value;if(!r||!n)return;const o=on(r);if(!o)return;const i=r.clientWidth,u=r.clientHeight,f=i/2,p=u/2,d=Math.min(i,u)*.35,g=n.data||[],l=n.labels||[],v=n.ids||[],h=n.colors||[],w=[];for(let j=0;j<g.length;j++)(Number(g[j])||0)>0&&w.push(j);if(o.clearRect(0,0,i,u),w.length===0)return;const $=w.map(j=>Number(g[j])||0),_=w.map(j=>String(l[j]||"")),S=w.map(j=>String(v[j]||"")),A=w.map(j=>h[j]),H=$.reduce((j,ne)=>j+Math.max(0,ne),0)||1;let Y=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const G=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];$.forEach((j,ne)=>{var ye,Ne;const q=Math.max(0,j)/H,le=Y+q*2*Math.PI,ve=String((_==null?void 0:_[ne])||""),ke=String((S==null?void 0:S[ne])||""),xe=A[ne],U=(ye=t.colorsById)==null?void 0:ye[ke],de=(Ne=t.colorsByName)==null?void 0:Ne[ve];let Q=U||de||xe||G[ne%G.length];o.beginPath(),o.moveTo(f,p),o.arc(f,p,d,Y,le),o.closePath(),o.fillStyle=Q,o.fill(),o.stroke();const re=(Y+le)/2,Me=f+Math.cos(re)*(d+12),Oe=p+Math.sin(re)*(d+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const Ie=Math.max(0,Number(j)||0)/H*100,we=`${_!=null&&_[ne]?_[ne]+" ":""}${Number(j).toFixed(2)}h  ${Ie.toFixed(1)}%`;o.strokeText(we,Me,Oe),o.fillText(we,Me,Oe),o.restore(),Y=le})}return rs(()=>{a(),window.addEventListener("resize",a)}),bt(()=>t.data,()=>a(),{deep:!0}),bt(()=>t.colorsById,()=>a(),{deep:!0}),(n,r)=>(C(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),ho=Pe({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=ae(null);function a(h,w,$,_,S){h.save(),S!=null&&S.font&&(h.font=S.font),S!=null&&S.align&&(h.textAlign=S.align),S!=null&&S.baseline&&(h.textBaseline=S.baseline),h.lineWidth=3,h.strokeStyle="rgba(0,0,0,0.55)",h.strokeText(w,$,_),h.fillStyle="#ffffff",h.fillText(w,$,_),h.restore()}function n(h){const w=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(h||"");return w?{r:parseInt(w[1],16),g:parseInt(w[2],16),b:parseInt(w[3],16)}:null}function r(h,w){const $=n(h);return $&&(.2126*$.r+.7152*$.g+.0722*$.b)/255<.55?"#ffffff":w}function o(h){const w=Math.max(0,Number(h)||0);return(Math.round(w*10)/10).toFixed(1)}function i(h,w=.5){const $=n(h);if(!$)return h;const _=Math.max(0,Math.min(1,w)),S=Math.round($.r+(255-$.r)*_),A=Math.round($.g+(255-$.g)*_),H=Math.round($.b+(255-$.b)*_);return`rgb(${S},${A},${H})`}function u(h,w=.5){const $=n(h);if(!$)return h;const _=Math.max(0,Math.min(1,w)),S=Math.round($.r*(1-_)),A=Math.round($.g*(1-_)),H=Math.round($.b*(1-_));return`rgb(${S},${A},${H})`}function f(h,w){const{x:$,y:_,width:S,height:A,baseColor:H}=w,Y=Math.min(S*.25,6),G=$+Y,j=Math.max(2,S-Y*2),ne=i(H,.4),q=u(H,.35);h.save(),h.fillStyle=ne,h.globalAlpha=.18,h.fillRect(G,_,j,A),h.restore(),h.save(),h.strokeStyle=q,h.lineWidth=1.5,h.setLineDash([4,3]),h.strokeRect(G,_,j,A),h.restore()}function p(){var Ie,we;const h=s.value;if(!h)return;const w=on(h);if(!w)return;const $=h.clientWidth,_=h.clientHeight,S=28,A=S*1.4,H=_-S,Y=$-S,G=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",j=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";w.clearRect(0,0,$,_),w.strokeStyle=G,w.lineWidth=1,w.beginPath(),w.moveTo(A,H),w.lineTo(Y,H),w.moveTo(A,H),w.lineTo(A,S),w.stroke();const ne=t.stacked;if(ne&&ne.labels&&ne.series){let ye=ne.labels||[],Ne=ne.series||[];const Re=g(ye,Ne);ye=Re.labels,Ne=Re.series;const $e=ye.map((N,B)=>Ne.reduce((W,R)=>{var O;return W+Math.max(0,Number(((O=R.data)==null?void 0:O[B])||0))},0)),Se=ye.map((N,B)=>Ne.reduce((W,R)=>{var O;return W+Math.max(0,Number(((O=R.forecast)==null?void 0:O[B])||0))},0)),Z=$e.map((N,B)=>N+Se[B]),Ae=Math.max(1,...Z),qe=ye.length||1,mt=8,m=Math.max(6,(Y-A-mt*(qe+1))/qe),y=(H-S)/Ae;let M=0,F=0;ye.forEach((N,B)=>{const W=A+mt+B*(m+mt);let R=H,O=0;Ne.forEach(he=>{var Be;const fe=Math.max(0,Number(((Be=he.data)==null?void 0:Be[B])||0)),Te=fe*y;R-=Te;const He=t.colorsById[he.id]||he.color||"#93c5fd";if(Te>.5&&(w.fillStyle=He,w.fillRect(W,R,m,Te),Te>14&&m>22&&fe>.01)){const Ge=o(fe);w.fillStyle=r(He,j),w.font="11px ui-sans-serif,system-ui";const vt=w.measureText(Ge).width;w.fillText(Ge,W+m/2-vt/2,R+Te/2+4)}O+=fe});let V=R,X=0;Ne.forEach(he=>{var Be;const fe=Math.max(0,Number(((Be=he.forecast)==null?void 0:Be[B])||0));if(fe<=0)return;const Te=fe*y;if(V-=Te,X+=fe,Te<=.5)return;const He=t.colorsById[he.id]||he.color||"#93c5fd";f(w,{x:W,y:V,width:m,height:Te,baseColor:He})}),M+=O,F+=X,w.fillStyle=j,w.font="12px ui-sans-serif,system-ui";const se=d(String(ye[B]||""));if(m>26){const he=w.measureText(se).width;w.fillText(se,W+m/2-he/2,H+14)}const ce=X>.01?`~${o(O+X)}h`:O>.01?`${o(O)}h`:"";ce&&a(w,ce,W+m/2,Math.max(S+4,V-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})});const D=F>.01?`~${o(M+F)}h expected`:`${o(M)}h total`;a(w,D,Y-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const q=t.legacy;if(!q)return;let le=q.data||[],ve=q.labels||[];const ke=g(ve,[{id:"__legacy__",data:le}]);ve=ke.labels,le=((we=(Ie=ke.series)==null?void 0:Ie[0])==null?void 0:we.data)||le;const xe=Math.max(1,...le.map(ye=>Math.max(0,ye))),U=le.length||1,de=8,Q=Math.max(6,(Y-A-de*(U+1))/U),re=(H-S)/xe;w.fillStyle="#93c5fd",le.forEach((ye,Ne)=>{const Re=Math.max(0,ye*re),$e=A+de+Ne*(Q+de),Se=H-Re;if(w.fillRect($e,Se,Q,Re),Re>14&&Q>22&&ye>.01){const Ae=String((Math.round(ye*100)/100).toFixed(1));w.fillStyle=r("#93c5fd",j),w.font="11px ui-sans-serif,system-ui";const qe=w.measureText(Ae).width;w.fillText(Ae,$e+Q/2-qe/2,Se+Re/2+4)}w.fillStyle=j,w.font="12px ui-sans-serif,system-ui";const Z=d(String(ve[Ne]||""));if(Q>26){const Ae=w.measureText(Z).width;w.fillText(Z,$e+Q/2-Ae/2,H+14)}if(ye>.01){const Ae=`${(Math.round(ye*100)/100).toFixed(1)}h`;a(w,Ae,$e+Q/2,Math.max(S+4,Se-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const Me=le.reduce((ye,Ne)=>ye+Math.max(0,Number(Ne)||0),0),Oe=`${(Math.round(Me*100)/100).toFixed(1)}h total`;a(w,Oe,Y-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}rs(()=>{p(),window.addEventListener("resize",p)}),bt(()=>t.stacked,()=>p(),{deep:!0}),bt(()=>t.legacy,()=>p(),{deep:!0}),bt(()=>t.colorsById,()=>p(),{deep:!0});function d(h){const w=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!w)return h;const $=new Date(`${w[1]}-${w[2]}-${w[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][$.getDay()]||h}function g(h,w){if(!Array.isArray(h)||h.length!==7)return{labels:h,series:w};const $=h.map(j=>l(j));if($.some(j=>!j))return{labels:h,series:w};const _=$.map(j=>v(j)),S=[1,2,3,4,5,6,7];if(_.join(",")===S.join(","))return{labels:h,series:w};const A={};if(_.forEach((j,ne)=>{A[j]=ne}),!S.every(j=>j in A))return{labels:h,series:w};const H=S.map(j=>A[j]),Y=H.map(j=>h[j]),G=(w||[]).map(j=>{const ne=Array.isArray(j.data)?j.data:[],q=Array.isArray(j.forecast)?j.forecast:null,le=H.map(xe=>ne[xe]??0),ve=q?H.map(xe=>q[xe]??0):void 0,ke={...j,data:le};return ve&&(ke.forecast=ve),ke});return{labels:Y,series:G}}function l(h){const w=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!w)return null;const $=new Date(`${w[1]}-${w[2]}-${w[3]}T00:00:00`);return isNaN($.getTime())?null:$}function v(h){const w=h.getDay();return w===0?7:w}return(h,w)=>(C(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),fc=Pe({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=ae(null);let a=null;function n(){var H;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=on(r);if(!i)return;const u=r.clientWidth,f=r.clientHeight,p=o.dows||[],d=o.hours||[],g=o.matrix||[];i.clearRect(0,0,u,f);const l=36,v=l,h=l,w=u-l,$=f-l,_=(w-v)/Math.max(1,d.length),S=($-h)/Math.max(1,p.length),A=Math.max(0,...g.flat())||1;p.length&&d.length&&console.info("[opsdash] heatmap draw",{rows:p.length,cols:d.length,vmax:A});for(let Y=0;Y<p.length;Y++)for(let G=0;G<d.length;G++){const ne=(((H=g[Y])==null?void 0:H[G])||0)/A,q=v+G*_,le=h+Y*S;i.fillStyle=dc(ne),i.fillRect(q,le,_-1,S-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",p.forEach((Y,G)=>i.fillText(Y,8,h+G*S+12)),d.forEach((Y,G)=>{G%2===0&&i.fillText(String(Y),v+G*_+2,h-6)})}return rs(async()=>{await ta(),n();try{a=new ResizeObserver(()=>n()),s.value&&a.observe(s.value)}catch{}window.addEventListener("resize",n)}),za(()=>{try{window.removeEventListener("resize",n)}catch{}try{a&&s.value&&a.unobserve(s.value)}catch{}a=null}),bt(()=>t.hod,()=>n(),{deep:!0}),(r,o)=>(C(),T("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),gc={class:"group-row"},pc={colspan:"5"},hc={class:"group-header"},mc={class:"group-label"},vc={class:"name"},yc={key:0,class:"group-meta"},bc={class:"summary"},wc={key:0,class:"summary-percent"},_c={key:1,class:"group-meta"},kc={class:"summary"},xc={key:0},Sc=["title"],Cc={class:"row-name"},$c={key:0,class:"progress"},Mc={class:"num"},Tc={class:"num"},Ac={class:"num"},Dc={class:"num"},Ec={key:0,class:"hint"},Pc={key:0,class:"empty-row"},Ic=Pe({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=z(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(_=>({id:_.id,label:_.label,summary:_.summary??null,color:_.color,rows:(_.rows||[]).map(a)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(a)}]);function a(_){const S=n(_);return{..._,calendarId:S}}function n(_){return _?_.calendarId?String(_.calendarId):_.id?String(_.id):_.calendar_id?String(_.calendar_id):_.calendar?String(_.calendar):"":""}function r(_){return String(_.calendar||_.displayname||_.name||_.calendarId||"")}function o(_){return n(_)||r(_)}function i(_){const S=v(_);if(!S)return!1;const A=t.targets||{},H=Number(A[S]);return isFinite(H)&&H>0}function u(_){const S=v(_);if(!S)return 0;const A=t.targets||{},H=Number(A[S]);return isFinite(H)?H:0}function f(_){const S=u(_);return S>0?(Math.round(S*100)/100).toFixed(2):""}function p(_,S){return _-S>=0?"delta pos":"delta neg"}function d(_,S){const A=_-S,H=Math.abs(Math.round(A*100)/100).toFixed(2);return(A>=0?"+":"-")+H+"h"}function g(_,S){return Math.max(0,Math.min(100,S>0?_/S*100:0)).toFixed(0)+"%"}function l(_,S){return Math.max(0,Math.min(100,S>0?_/S*100:0))}function v(_){return _==null?"":String(_)}function h(_){const S=_.summary;if(!S)return`${_.rows.length} calendar${_.rows.length===1?"":"s"}`;const A=t.n2(S.actualHours);return S.targetHours>0?`${A} h / ${t.n2(S.targetHours)} h`:`${A} h`}function w(_){const S=_.summary;return!S||S.targetHours<=0?"":`${Math.round(S.percent)}%`}function $(_){switch(_){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(_,S)=>(C(),T("table",null,[S[1]||(S[1]=c("colgroup",null,[c("col",{class:"col-w-42"}),c("col",{class:"col-w-12"}),c("col",{class:"col-w-14"}),c("col",{class:"col-w-14"}),c("col",{class:"col-w-18"})],-1)),S[2]||(S[2]=c("thead",null,[c("tr",null,[c("th",{class:"nowrap"},"Calendar"),c("th",{class:"num"},"Events"),c("th",{class:"num"},"Hours"),c("th",{class:"num"},"Target"),c("th",{class:"num"}," / %")])],-1)),c("tbody",null,[(C(!0),T(ge,null,Ue(s.value,A=>(C(),T(ge,{key:A.id},[c("tr",gc,[c("td",pc,[c("div",hc,[c("div",mc,[c("span",{class:"dot",style:Et({background:A.color||"var(--brand)"})},null,4),c("span",vc,E(A.label),1)]),A.summary?(C(),T("div",yc,[c("span",bc,E(h(A)),1),w(A)?(C(),T("span",wc,E(w(A)),1)):K("",!0),A.summary.statusLabel?(C(),T("span",{key:1,class:me(["badge",$(A.summary.status)])},E(A.summary.statusLabel),3)):K("",!0)])):(C(),T("div",_c,[c("span",kc,[be(E(A.rows.length)+" calendar",1),A.rows.length!==1?(C(),T("span",xc,"s")):K("",!0)])]))])])]),(C(!0),T(ge,null,Ue(A.rows,H=>(C(),T("tr",{key:o(H)},[c("td",null,[c("div",{class:"cell",title:r(H)},[c("div",Cc,E(r(H)),1),i(n(H))&&u(n(H))>0?(C(),T("div",$c,[c("div",{class:"progress-bar",style:Et({width:l(H.total_hours,u(n(H)))+"%",background:A.color||void 0})},null,4)])):K("",!0)],8,Sc)]),c("td",Mc,E(H.events_count),1),c("td",Tc,E(_.n2(H.total_hours)),1),c("td",Ac,E(f(n(H))),1),c("td",Dc,[i(n(H))?(C(),T(ge,{key:0},[c("span",{class:me(p(H.total_hours,u(n(H))))},E(d(H.total_hours,u(n(H)))),3),u(n(H))>0?(C(),T("span",Ec," ("+E(g(H.total_hours,u(n(H))))+")",1)):K("",!0)],64)):(C(),T(ge,{key:1},[be("")],64))])]))),128)),A.rows.length?K("",!0):(C(),T("tr",Pc,[...S[0]||(S[0]=[c("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),Ft=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},Nc=Ft(Ic,[["__scopeId","data-v-69f095b4"]]),Lc={class:"mono nowrap"},Oc=["href"],Hc={class:"hint"},Fc={class:"num"},Rc={class:"num"},Wc=Pe({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const a=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!a)return"";const n=new Date(`${a[1]}-${a[2]}-${a[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][n.getUTCDay()]||""}return(s,a)=>(C(),T("table",null,[a[0]||(a[0]=c("colgroup",null,[c("col",{class:"col-w-40"}),c("col",{class:"col-w-30"}),c("col",{class:"col-w-30"})],-1)),a[1]||(a[1]=c("thead",null,[c("tr",null,[c("th",{class:"nowrap"},"Date"),c("th",{class:"num"},"Events"),c("th",{class:"num"},"Hours")])],-1)),c("tbody",null,[(C(!0),T(ge,null,Ue(s.rows,n=>(C(),T("tr",{key:n.date},[c("td",Lc,[c("a",{href:s.link(n.date),target:"_blank"},E(n.date),9,Oc),c("span",Hc," ("+E(t(n.date))+")",1)]),c("td",Fc,E(n.events_count),1),c("td",Rc,E(s.n2(n.total_hours)),1)]))),128))])]))}}),Bc=["onClick"],jc=["title"],Uc={class:"num"},Vc={class:"mono nowrap"},zc={class:"mono nowrap"},Kc={key:0},qc={colspan:"5",class:"mono cell-details"},Gc={key:0},Jc={key:1,class:"hint"},Zc=Pe({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(C(),T("table",null,[s[1]||(s[1]=c("colgroup",null,[c("col",{class:"col-w-22"}),c("col"),c("col",{class:"col-w-12"}),c("col",{class:"col-w-18"}),c("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=c("thead",null,[c("tr",null,[c("th",null,"Calendar"),c("th",null,"Summary"),c("th",{class:"num"},"Hours"),c("th",{class:"nowrap"},"Start date"),c("th",{class:"nowrap"},"Start time")])],-1)),c("tbody",null,[(C(!0),T(ge,null,Ue(t.rows,(a,n)=>{var r;return C(),T(ge,{key:n},[c("tr",{onClick:o=>t.$emit("toggle",n),class:"cursor-pointer"},[c("td",null,E(a.calendar),1),c("td",null,[c("span",{class:"cell",title:a.summary},E(a.summary),9,jc)]),c("td",Uc,E(t.n2(a.duration_h)),1),c("td",Vc,E((a.start||"").split(" ")[0]),1),c("td",zc,E((r=(a.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,Bc),t.detailsIndex===n?(C(),T("tr",Kc,[c("td",qc,[s[0]||(s[0]=c("div",null,[c("strong",null,"Details")],-1)),a.desc?(C(),T("div",Gc,E(a.desc),1)):(C(),T("div",Jc,"No description"))])])):K("",!0)],64)}),128))])]))}}),Yc={class:"card time-summary compact"},Xc={class:"time-summary-firstline"},Qc={class:"time-summary-metrics"},eu={key:0},tu={key:1},su={key:2},au={key:3},nu={key:4},ru={key:0,class:"time-summary-row"},ou={key:1,class:"time-summary-row"},iu={key:0,class:"share"},lu={key:2,class:"time-summary-row calendars"},cu={class:"label"},uu={class:"text"},du={key:3,class:"time-summary-row top-category"},fu={class:"text"},gu={key:4,class:"time-summary-row"},pu=Ft(Pe({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,a=z(()=>Object.assign({},t,s.config??{})),n=z(()=>s.mode==="active"?"active days":"all days"),r=z(()=>{if(!a.value.showWeekendShare)return"";const d=s.summary.weekendShare;return d==null?"":`${u(d)}%`}),o=z(()=>{if(!a.value.showTopCategory)return null;const d=s.summary.topCategory;if(!d)return null;const g=f(d.actualHours),l=Number(d.percent??0).toFixed(0),v=d.targetHours>0?` (${l}% of ${f(d.targetHours)} h)`:"";return{text:`${d.label}  ${g} h${v}`,badge:d.statusLabel||"",badgeClass:p(d.status)}}),i=z(()=>{if(!a.value.showBusiest)return"";const d=s.summary.busiest;if(!d||!d.date)return"";const g=Number(d.hours??0);return`Busiest ${d.date}  ${f(g)} h`});function u(d){return Number(d??0).toFixed(1)}function f(d){return Number(d??0).toFixed(2)}function p(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(d,g)=>(C(),T("div",Yc,[c("div",Xc,[c("em",null,"Time Summary  "+E(d.summary.rangeLabel),1)]),c("ul",Qc,[a.value.showTotal?(C(),T("li",eu,[c("strong",null,E(f(d.summary.totalHours))+" h",1),g[0]||(g[0]=be(" total",-1))])):K("",!0),a.value.showAverage?(C(),T("li",tu,E(f(d.summary.avgDay))+" h/day ("+E(n.value)+")",1)):K("",!0),a.value.showAverage?(C(),T("li",su,E(f(d.summary.avgEvent))+" h/event",1)):K("",!0),a.value.showMedian?(C(),T("li",au,E(f(d.summary.medianDay))+" h median/day",1)):K("",!0),a.value.showBusiest&&i.value?(C(),T("li",nu,E(i.value),1)):K("",!0)]),a.value.showWorkday?(C(),T("div",ru,[g[1]||(g[1]=c("span",{class:"label"},"Workdays",-1)),be(" "+E(f(d.summary.workdayAvg))+" h avg  "+E(f(d.summary.workdayMedian))+" h median ",1)])):K("",!0),a.value.showWeekend?(C(),T("div",ou,[g[2]||(g[2]=c("span",{class:"label"},"Weekend",-1)),be(" "+E(f(d.summary.weekendAvg))+" h avg  "+E(f(d.summary.weekendMedian))+" h median ",1),a.value.showWeekendShare&&r.value?(C(),T("span",iu,"("+E(r.value)+")",1)):K("",!0)])):K("",!0),a.value.showCalendarSummary?(C(),T("div",lu,[c("span",cu,E(d.summary.activeCalendars)+" calendars",1),d.summary.calendarSummary?(C(),T(ge,{key:0},[g[3]||(g[3]=c("span",{class:"sep"},"",-1)),c("span",uu,E(d.summary.calendarSummary),1)],64)):K("",!0)])):K("",!0),a.value.showTopCategory&&o.value?(C(),T("div",du,[g[4]||(g[4]=c("span",{class:"label"},"Top category",-1)),c("span",fu,E(o.value.text),1),o.value.badge?(C(),T("span",{key:0,class:me(["summary-badge",o.value.badgeClass])},E(o.value.badge),3)):K("",!0)])):K("",!0),a.value.showBalance&&d.summary.balanceIndex!=null?(C(),T("div",gu,[g[5]||(g[5]=c("span",{class:"label"},"Balance",-1)),be(" "+E(f(d.summary.balanceIndex))+" ",1),g[6]||(g[6]=c("span",{class:"hint"},"(1 = perfekt)",-1))])):K("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),hu={class:"card targets-card"},mu={class:"targets-header"},vu={key:0,class:"hint"},yu={class:"targets-main"},bu={class:"line total-line"},wu={class:"value"},_u={key:0,class:"line"},ku={key:1,class:"line"},xu={class:"line forecast"},Su={class:"hint"},Cu={key:0,class:"targets-badges"},$u={key:1,class:"targets-categories"},Mu={class:"cat-top"},Tu={class:"cat-label"},Au={class:"name"},Du={class:"cat-meta"},Eu={class:"percent"},Pu={class:"cat-progress"},Iu={class:"bar"},Nu={class:"cat-metrics"},Lu={class:"hint"},Ou={key:1,class:"hint"},Hu={key:0,class:"cat-footer"},Fu={class:"hint"},Ru=Ft(Pe({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=z(()=>{var d;return((d=t.summary)==null?void 0:d.total)??u("total","Total")}),a=z(()=>{var g;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(l=>({id:l.id,label:l.label,summary:l.summary??u(l.id,l.label),color:l.color,rows:l.rows})):(((g=t.summary)==null?void 0:g.categories)??[]).map(l=>({id:l.id,label:l.label,summary:l,color:void 0,rows:[]}))}),n=z(()=>a.value.map(d=>{const g=d.summary??u(d.id,d.label);return{id:d.id,label:d.label||g.label,actualHours:g.actualHours,targetHours:g.targetHours,percent:g.percent,deltaHours:g.deltaHours,needPerDay:g.needPerDay,daysLeft:g.daysLeft,calendarPercent:g.calendarPercent,gap:g.gap,status:g.status,statusLabel:g.statusLabel,color:d.color,calendarCount:Array.isArray(d.rows)?d.rows.length:0,progress:f(g.percent,0,140),calendarLabel:Array.isArray(d.rows)&&d.rows.length===1?"calendar":"calendars"}}).filter(d=>d.targetHours>0||d.actualHours>0||d.calendarCount>0));function r(d){if(!isFinite(d))return"0";const g=Math.round(d*10)/10;return Math.abs(g-Math.round(g))<.05?String(Math.round(g)):g.toFixed(1)}function o(d){return!isFinite(d)||Math.abs(d)<.005?"0.0":(d>=0?"+":"")+r(Math.abs(d))}function i(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function u(d,g){return{id:d,label:g,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function f(d,g,l){return!isFinite(d)||d<g?g:d>l?l:d}function p(d){return d==="momentum"?"Momentum":"Linear"}return(d,g)=>(C(),T("div",hu,[c("div",mu,[g[0]||(g[0]=c("strong",null,"Targets",-1)),s.value.targetHours>0?(C(),T("span",vu,E(s.value.percent.toFixed(0))+"%",1)):K("",!0)]),c("div",yu,[c("div",bu,[c("span",wu,[c("strong",null,E(r(s.value.actualHours)),1),be(" / "+E(r(s.value.targetHours))+" h",1)]),d.config.ui.showTotalDelta&&s.value.targetHours>0?(C(),T("span",{key:0,class:me(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+E(o(s.value.deltaHours))+"h ",3)):K("",!0)]),d.config.ui.showNeedPerDay&&s.value.targetHours>0?(C(),T("div",_u," Days left "+E(s.value.daysLeft)+"  Need "+E(r(s.value.needPerDay))+" h/day ",1)):K("",!0),s.value.targetHours>0?(C(),T("div",ku,[be(" Pace: "+E(s.value.percent.toFixed(0))+"% vs "+E(s.value.calendarPercent.toFixed(0))+"%  ",1),c("span",{class:me(["status-label",i(s.value.status)])},E(s.value.statusLabel),3)])):K("",!0),c("div",xu,[be(" Forecast: "+E(d.summary.forecast.text)+" ",1),c("span",Su," Linear "+E(r(d.summary.forecast.linear))+"h  Momentum "+E(r(d.summary.forecast.momentum))+"h  Primary: "+E(p(d.summary.forecast.primaryMethod)),1)])]),d.config.ui.badges&&s.value.targetHours>0?(C(),T("div",Cu,[c("span",{class:me(["badge",i(s.value.status)])},E(s.value.statusLabel),3)])):K("",!0),d.config.ui.showCategoryBlocks&&n.value.length?(C(),T("div",$u,[(C(!0),T(ge,null,Ue(n.value,l=>(C(),T("div",{class:"category",key:l.id},[c("div",Mu,[c("div",Tu,[c("span",{class:"dot",style:Et({background:l.color||"var(--brand)"})},null,4),c("span",Au,E(l.label),1)]),c("div",Du,[c("span",Eu,E(l.percent.toFixed(0))+"%",1),d.config.ui.badges&&l.targetHours>0?(C(),T("span",{key:0,class:me(["badge",i(l.status)])},E(l.statusLabel),3)):K("",!0)])]),c("div",Pu,[c("div",Iu,[c("div",{class:"fill",style:Et({width:l.progress+"%",background:l.color||"var(--brand)"})},null,4)])]),c("div",Nu,[c("strong",null,E(r(l.actualHours))+"h",1),c("span",Lu,"/ "+E(r(l.targetHours))+"h",1),l.targetHours>0?(C(),T("span",{key:0,class:me(["delta",l.deltaHours>=0?"pos":"neg"])},"  "+E(o(l.deltaHours))+"h ",3)):K("",!0),d.config.ui.showNeedPerDay&&l.targetHours>0?(C(),T("span",Ou," Need "+E(r(l.needPerDay))+"h/day  "+E(l.daysLeft)+" days left ",1)):K("",!0)]),l.calendarCount>0?(C(),T("div",Hu,[c("span",Fu,E(l.calendarCount)+" "+E(l.calendarLabel),1)])):K("",!0)]))),128))])):K("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]);function Wu(e){const t=e?ht(e):Es(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(a=>({...s,id:a.id,label:a.label,targetHours:a.targetHours,remainingHours:a.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function ln(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function cs(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0,forecastMode:"total"}}const cn=24*60*60*1e3;function Bu(e){const t=Number(e);if(!Number.isFinite(t))return 0;const s=Math.min(1e4,Math.max(0,t));return Number(s.toFixed(2))}function un(e){return Bu(Number(e)*4)}function Es(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:cs(),balance:ln(),includeZeroDaysInStats:!1}}function dn(e){return JSON.parse(JSON.stringify(ht(e)))}function ju(e){const t=ht(e.config),s=yo(e.from),a=yo(e.to),n=Yu(e.byDay),r=(e.byCal||[]).reduce((d,g)=>{const l=Number((g==null?void 0:g.total_hours)??(g==null?void 0:g.hours)??0);return Number.isFinite(l)?d+l:d},0),o=t.totalHours||0,i=vo({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n}),u=mo({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),f=t.categories.map(d=>{const g=Ku(d,e.byCal,e.groupsById),l=d.paceMode||t.pace.mode,v=vo({includeWeekend:d.includeWeekend,mode:l,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n});return mo({id:d.id,label:d.label,actual:g,target:d.targetHours,pace:v,thresholds:t.pace.thresholds,includeWeekend:d.includeWeekend,paceMode:l})}),p=Ju({config:t,totalProgress:u,dailyHours:n,pace:i});return{total:u,categories:f,forecast:p}}function ht(e){var o,i,u,f,p,d,g,l,v,h,w,$,_,S,A,H,Y,G,j,ne,q,le,ve,ke,xe;if(typeof e=="string")try{const U=JSON.parse(e);return ht(U)}catch{return ht(void 0)}const t=Es(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const a=s.categories.map(U=>{const de=(U!=null&&U.id&&typeof U.id=="string"?U.id:"")||ed(String((U==null?void 0:U.label)??"cat")),Q=typeof(U==null?void 0:U.label)=="string"&&U.label.trim()!==""?U.label.trim():Uu(de),re=Rt(U==null?void 0:U.targetHours,0,1e4),Me=!!(U!=null&&U.includeWeekend),Oe=(U==null?void 0:U.paceMode)==="time_aware"?"time_aware":"days_only",Ie=Array.isArray(U==null?void 0:U.groupIds)?U.groupIds.map(we=>Number(we)).filter(we=>Number.isFinite(we)&&we>=0&&we<=9):[];return{id:de,label:Q,targetHours:re,includeWeekend:Me,paceMode:Oe,groupIds:Ie}}),n=a.length?a:t.categories;return{totalHours:Rt(s.totalHours,0,1e4),categories:n,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Rt(((f=(u=s.pace)==null?void 0:u.thresholds)==null?void 0:f.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Rt(((d=(p=s.pace)==null?void 0:p.thresholds)==null?void 0:d.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((g=s.forecast)==null?void 0:g.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var de;const U=Math.round(((de=s.forecast)==null?void 0:de.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(U)?U:t.forecast.momentumLastNDays))})(),padding:Rt(((l=s.forecast)==null?void 0:l.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((v=s.ui)==null?void 0:v.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((h=s.ui)==null?void 0:h.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((w=s.ui)==null?void 0:w.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!((($=s.ui)==null?void 0:$.badges)??t.ui.badges),includeWeekendToggle:!!(((_=s.ui)==null?void 0:_.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((S=s.ui)==null?void 0:S.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((A=s.ui)==null?void 0:A.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Rt(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((H=s.timeSummary)==null?void 0:H.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((Y=s.timeSummary)==null?void 0:Y.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((G=s.timeSummary)==null?void 0:G.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((j=s.timeSummary)==null?void 0:j.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((ne=s.timeSummary)==null?void 0:ne.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((q=s.timeSummary)==null?void 0:q.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((le=s.timeSummary)==null?void 0:le.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((ve=s.timeSummary)==null?void 0:ve.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((ke=s.timeSummary)==null?void 0:ke.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((xe=s.timeSummary)==null?void 0:xe.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:Vu(s.activityCard,t.activityCard),balance:zu(s.balance,n,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Uu(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Rt(e,t,s){const a=Number(e);return Number.isFinite(a)?Math.min(s,Math.max(t,Math.round(a*100)/100)):t}function fn(e,t,s){const a=Number(e);if(!Number.isFinite(a))return t;const n=Math.round(a);return n<t?t:n>s?s:n}function Vu(e,t){const s={...t};if(!e||typeof e!="object")return s;["showWeekendShare","showEveningShare","showEarliestLatest","showOverlaps","showLongestSession","showLastDayOff","showHint"].forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=!!e[r])});const n=e==null?void 0:e.forecastMode;if(typeof n=="string"){const r=n.toLowerCase();(r==="off"||r==="total"||r==="calendar"||r==="category")&&(s.forecastMode=r)}return s}function zu(e,t,s){var f,p,d,g;const a=t.map(l=>l.id),n=new Set([...a,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const l of r){const v=typeof l=="string"?l.trim():String(l??"").trim();v&&(n.size&&!n.has(v)||o.includes(v)||o.push(v))}o.length||(a.length?o.push(...a.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},u=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((f=e==null?void 0:e.index)==null?void 0:f.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Rt(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Rt(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Rt(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((p=e==null?void 0:e.relations)==null?void 0:p.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:fn(((d=e==null?void 0:e.trend)==null?void 0:d.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((g=e==null?void 0:e.dayparts)==null?void 0:g.enabled)??s.dayparts.enabled)},ui:{roundPercent:fn(u.roundPercent??s.ui.roundPercent,0,3),roundRatio:fn(u.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(u.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(u.showInsights??s.ui.showInsights)}}}function Ku(e,t,s){if(!Array.isArray(t))return 0;const a=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let n=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),u=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);a&&!a.has(u)||(n+=o)}return n}function mo(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),a=t>0?gn(s/t*100):0,n=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,n)/e.pace.daysLeft:0,i=a-e.pace.calendarPercent,u=qu({percent:a,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:nt(s),targetHours:nt(t),percent:a,deltaHours:nt(r),remainingHours:nt(Math.max(0,n)),needPerDay:nt(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:gn(e.pace.calendarPercent),gap:nt(i),status:u,statusLabel:Gu(u),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function qu(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function Gu(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function vo(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const a=ya(new Date),n=Kt(t),r=Kt(s),o=Xu(t,s).filter(d=>e.includeWeekend||!Qu(d)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Kt(a)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Kt(a)<n)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let u=0;for(const d of o){const g=Kt(d),l=e.dailyHours.get(g)??0;if(!(!e.includeZeroDays&&l<=0&&g!==Kt(a))){if(g<Kt(a))u+=1;else if(g===Kt(a))if(e.mode==="time_aware"){const h=Math.min(new Date().getTime(),d.getTime()+cn)-d.getTime(),w=Math.max(0,Math.min(1,h/cn));(e.includeZeroDays||l>0||w>0)&&(u+=w)}else(e.includeZeroDays||l>0)&&(u+=1)}}const f=gn(u/i*100),p=Math.max(0,i-u);return{totalEligible:i,elapsedEligible:u,daysLeft:p,calendarPercent:f}}function Ju(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,a=Math.max(0,Math.ceil(e.pace.daysLeft)),n=Zu(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+n*a,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,u=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",f=u==="momentum"?r:s,p=Math.max(0,f-e.config.forecast.padding),d=Math.max(0,f+e.config.forecast.padding),g=u==="momentum"?"Momentum":"Linear";return{linear:nt(s),momentum:nt(r),low:nt(Math.max(0,o)),high:nt(Math.max(0,i)),text:`${g} ${pn(e.config.forecast.padding)}h  ${pn(p)}${pn(d)} h`,primaryMethod:u,primary:nt(f),bandLow:nt(p),bandHigh:nt(d)}}function Zu(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const a=s.slice(-t),n=a.reduce((r,[,o])=>r+Math.max(0,o||0),0);return a.length?n/a.length:0}function Yu(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const a=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!a)continue;const n=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(n)&&t.set(a,n)}return t}function Xu(e,t){const s=[];let a=ya(e);const n=ya(t).getTime();for(;a.getTime()<=n;)s.push(new Date(a)),a=new Date(a.getTime()+cn);return s}function yo(e){if(!e)return null;const t=e.split("-").map(a=>Number(a));if(t.length!==3||t.some(a=>!Number.isInteger(a)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:ya(s)}function ya(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Kt(e){return e.toISOString().slice(0,10)}function Qu(e){const t=e.getUTCDay();return t===0||t===6}function gn(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function nt(e){return isFinite(e)?Number(e.toFixed(2)):0}function pn(e){if(!isFinite(e))return"0";const t=nt(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function ed(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const td={class:"card activity-card"},sd={class:"activity-card__header"},ad={key:0,class:"pill"},nd={key:0,class:"activity-card__hero"},rd={key:1,class:"activity-card__subline"},od={key:2,class:"activity-card__meta"},id={key:3,class:"activity-card__extra"},ld={key:4,class:"activity-card__hint"},cd=Ft(Pe({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t=cs(),s=e,a=z(()=>Object.assign({},t,s.config??{})),n=z(()=>{const g=[];g.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&g.push(`Active Days ${s.summary.activeDays}`);const l=u(s.summary.typicalStart,s.summary.typicalEnd);return l&&g.push(`Typical ${l}`),g.join("  ")}),r=z(()=>{const g=[];return a.value.showWeekendShare&&s.summary.weekendShare!=null&&g.push(`Weekend ${f(s.summary.weekendShare)}`),a.value.showEveningShare&&s.summary.eveningShare!=null&&g.push(`Evening ${f(s.summary.eveningShare)}`),g.join("  ")}),o=z(()=>{const g=[];if(a.value.showEarliestLatest){const l=p(s.summary.earliestStart),v=p(s.summary.latestEnd);(l||v)&&g.push({label:"Earliest/Late",value:`${l||""} / ${v||""}`})}return a.value.showOverlaps&&s.summary.overlapEvents!=null&&g.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),g}),i=z(()=>{const g=[];return a.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&g.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),a.value.showLastDayOff&&s.summary.lastDayOff&&g.push({label:"Last day off",value:d(s.summary.lastDayOff)}),a.value.showLastDayOff&&s.summary.lastHalfDayOff&&g.push({label:"Last half day",value:d(s.summary.lastHalfDayOff)}),g});function u(g,l){return g&&l?`${g}${l}`:g?`${g}`:l?`${l}`:""}function f(g){return`${Number(g||0).toFixed(1)}%`}function p(g){return g?g.length>=16?g.slice(11,16):g.length>=5?g.slice(0,5):null:null}function d(g){const l=g.trim();if(!l)return"";if(l.split("-").length>=2){const h=new Date(l.length===10?`${l}T00:00:00`:l);if(!Number.isNaN(h.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(h)}return l}return(g,l)=>(C(),T("div",td,[c("div",sd,[c("span",null,"Activity & Schedule ("+E(g.rangeLabel)+")",1),g.summary.rangeLabel?(C(),T("span",ad,E(g.summary.rangeLabel),1)):K("",!0)]),n.value?(C(),T("div",nd,[c("span",null,E(n.value),1)])):K("",!0),r.value?(C(),T("div",rd,[c("span",null,E(r.value),1)])):K("",!0),o.value.length?(C(),T("div",od,[(C(!0),T(ge,null,Ue(o.value,v=>(C(),T("span",{key:v.label},[c("strong",null,E(v.label),1),be(" "+E(v.value),1)]))),128))])):K("",!0),i.value.length?(C(),T("div",id,[(C(!0),T(ge,null,Ue(i.value,v=>(C(),T("span",{key:v.label},[c("strong",null,E(v.label),1),be(" "+E(v.value),1)]))),128))])):K("",!0),a.value.showHint&&g.categoryHint?(C(),T("div",ld,E(g.categoryHint),1)):K("",!0)]))}}),[["__scopeId","data-v-054cbd84"]]),ud={class:"card balance-card"},dd={class:"balance-card__header"},fd={key:0,class:"balance-card__hero"},gd={key:1,class:"balance-card__relations"},pd={key:2,class:"balance-card__trend"},hd={key:3,class:"balance-card__insights"},md={key:4,class:"balance-card__warnings"},vd=Ft(Pe({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,a=z(()=>Object.assign({},t,s.config??{})),n=z(()=>{if(!s.overview)return"";const f=s.overview.index??0,p=s.overview.categories.filter(g=>g.share>.1).slice(0,4).map(g=>`${g.label} ${g.share.toFixed(0)}%`),d=p.length?`  ${p.join(" | ")}`:"";return`Balance Index ${f.toFixed(2)}${d}`}),r=z(()=>{var f;return!s.overview||!((f=s.overview.relations)!=null&&f.length)?"":s.overview.relations.map(p=>`${p.label} ${p.value}`).join("  ")}),o=z(()=>{var p;if(!s.overview)return"";const f=((p=s.overview.trend)==null?void 0:p.delta)??[];return f.length?f.map(d=>{const g=d.delta>0?"+":d.delta<0?"":"";return`${d.label} ${g}${Math.abs(d.delta).toFixed(1)} pp`}).join(", "):""}),i=z(()=>{var f;return a.value.showInsights?((f=s.overview)==null?void 0:f.insights)??[]:[]}),u=z(()=>{var f;return((f=s.overview)==null?void 0:f.warnings)??[]});return(f,p)=>(C(),T("div",ud,[c("div",dd,[c("span",null,"Balance Overview ("+E(f.rangeLabel)+")",1)]),n.value?(C(),T("div",fd,[c("span",null,E(n.value),1)])):K("",!0),r.value?(C(),T("div",gd,E(r.value),1)):K("",!0),o.value?(C(),T("div",pd,[p[0]||(p[0]=c("strong",null,"WoW-:",-1)),be(" "+E(o.value),1)])):K("",!0),i.value.length?(C(),T("ul",hd,[(C(!0),T(ge,null,Ue(i.value,d=>(C(),T("li",{key:d}," "+E(d),1))),128))])):K("",!0),u.value.length?(C(),T("ul",md,[(C(!0),T(ge,null,Ue(u.value,d=>(C(),T("li",{key:d}," "+E(d),1))),128))])):K("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]),yd={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},bd={class:"sb-actions"},wd={class:"sb-list"},_d=["aria-pressed","onClick"],kd={class:"cal-name"},xd={class:"cal-fields"},Sd={class:"field"},Cd=["value","onChange"],$d=["value"],Md={class:"field"},Td=["value","title","aria-invalid","onInput"],Ad=Pe({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:a,range:n,isLoading:r,categoryOptions:o,calendarTargetMessages:i,calendarCategoryId:u,getTarget:f}=t;return(p,d)=>(C(),T("div",yd,[c("div",bd,[ie(k(dt),{type:"tertiary",disabled:k(r),onClick:d[0]||(d[0]=g=>p.$emit("select-all",!0))},{default:We(()=>[...d[2]||(d[2]=[be("All",-1)])]),_:1},8,["disabled"]),ie(k(dt),{type:"tertiary",disabled:k(r),onClick:d[1]||(d[1]=g=>p.$emit("select-all",!1))},{default:We(()=>[...d[3]||(d[3]=[be("None",-1)])]),_:1},8,["disabled"])]),d[8]||(d[8]=bl('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),c("div",wd,[(C(!0),T(ge,null,Ue(k(s),g=>{var l,v;return C(),T("div",{key:g.id,class:"cal-card"},[c("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":k(a).includes(g.id),onClick:h=>p.$emit("toggle-calendar",g.id)},[c("span",{class:"color-dot",style:Et({background:g.color||"var(--brand)"})},null,4),c("span",kd,E(g.displayname||g.id),1),c("span",{class:me(["cal-state",{on:k(a).includes(g.id)}])},E(k(a).includes(g.id)?"Selected":"Hidden"),3)],8,_d),c("div",xd,[c("label",Sd,[d[5]||(d[5]=c("span",{class:"label"},"Category",-1)),c("select",{value:k(u)(g.id),onChange:h=>p.$emit("set-category",{id:g.id,category:h.target.value})},[d[4]||(d[4]=c("option",{value:""},"Unassigned",-1)),(C(!0),T(ge,null,Ue(k(o),h=>(C(),T("option",{key:h.id,value:h.id},E(h.label),9,$d))),128))],40,Cd)]),c("label",Md,[d[6]||(d[6]=c("span",{class:"label"},"Target (h)",-1)),c("input",{type:"number",value:k(f)(g.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${k(n)==="week"?"week":"month"}) in hours`,"aria-invalid":!!k(i)[g.id],class:"target-input",onInput:h=>p.$emit("target-input",{id:g.id,value:h.target.value})},null,40,Td),k(i)[g.id]?(C(),T("div",{key:0,class:me(["input-message",(l=k(i)[g.id])==null?void 0:l.tone])},E((v=k(i)[g.id])==null?void 0:v.text),3)):K("",!0)])])])}),128)),d[7]||(d[7]=c("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),Dd={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},Ed={class:"target-config"},Pd={class:"field"},Id=["value","aria-invalid"],Nd={class:"field"},Ld=["value","aria-invalid"],Od={class:"preset-buttons"},Hd={class:"cat-header"},Fd=["value","onInput"],Rd=["disabled","onClick"],Wd={class:"cat-fields"},Bd={class:"field"},jd=["value","aria-invalid","onInput"],Ud={class:"field"},Vd=["value","onChange"],zd={class:"field checkbox"},Kd=["checked","onChange"],qd={class:"target-section"},Gd={class:"field checkbox"},Jd=["checked"],Zd={class:"field"},Yd=["value"],Xd={class:"field"},Qd=["value","aria-invalid"],ef={class:"field"},tf=["value","aria-invalid"],sf={class:"target-section"},af={class:"field"},nf=["value"],rf={class:"field"},of=["value","aria-invalid"],lf={class:"field"},cf=["value","aria-invalid"],uf={class:"target-section"},df={class:"field checkbox"},ff=["checked"],gf={class:"field checkbox"},pf=["checked"],hf={class:"field checkbox"},mf=["checked"],vf={class:"field checkbox"},yf=["checked"],bf={class:"field checkbox"},wf=["checked"],_f={class:"field checkbox"},kf=["checked"],xf={class:"field checkbox"},Sf=["checked"],Cf={class:"field checkbox"},$f=["checked"],Mf=Pe({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days"],setup(e){return(t,s)=>{var a,n,r,o,i,u,f,p,d,g,l,v;return C(),T("div",Dd,[s[49]||(s[49]=c("div",{class:"sb-title"},"Target Settings",-1)),c("div",Ed,[c("div",Pd,[s[20]||(s[20]=c("span",{class:"label"},"Total target (h)",-1)),c("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[0]||(s[0]=h=>t.$emit("total-target-input",h.target.value))},null,40,Id),t.totalTargetMessage?(C(),T("div",{key:0,class:me(["input-message",(a=t.totalTargetMessage)==null?void 0:a.tone])},E((n=t.totalTargetMessage)==null?void 0:n.text),3)):K("",!0)]),c("div",Nd,[s[21]||(s[21]=c("span",{class:"label"},"All-day event (h per day)",-1)),c("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[1]||(s[1]=h=>t.$emit("set-all-day-hours",h.target.value))},null,40,Ld),t.allDayHoursMessage?(C(),T("div",{key:0,class:me(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},E((o=t.allDayHoursMessage)==null?void 0:o.text),3)):K("",!0)]),c("div",Od,[ie(k(dt),{type:"tertiary",onClick:s[2]||(s[2]=h=>t.$emit("apply-preset","work-week"))},{default:We(()=>[...s[22]||(s[22]=[be("Preset: Work-Week",-1)])]),_:1}),ie(k(dt),{type:"tertiary",onClick:s[3]||(s[3]=h=>t.$emit("apply-preset","balanced-life"))},{default:We(()=>[...s[23]||(s[23]=[be("Preset: Balanced-Life",-1)])]),_:1})]),(C(!0),T(ge,null,Ue(t.categoryOptions,h=>{var w,$;return C(),T("div",{class:"target-category",key:h.id},[c("div",Hd,[c("input",{class:"cat-name",type:"text",value:h.label,placeholder:"Category name",onInput:_=>t.$emit("set-category-label",{id:h.id,label:_.target.value})},null,40,Fd),c("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:_=>t.$emit("remove-category",h.id)},"  ",8,Rd)]),c("div",Wd,[c("label",Bd,[s[24]||(s[24]=c("span",{class:"label"},"Target (h)",-1)),c("input",{type:"number",value:h.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[h.id],onInput:_=>t.$emit("set-category-target",{id:h.id,value:_.target.value})},null,40,jd),t.categoryTargetMessages[h.id]?(C(),T("div",{key:0,class:me(["input-message",(w=t.categoryTargetMessages[h.id])==null?void 0:w.tone])},E(($=t.categoryTargetMessages[h.id])==null?void 0:$.text),3)):K("",!0)]),c("label",Ud,[s[26]||(s[26]=c("span",{class:"label"},"Pace mode",-1)),c("select",{value:h.paceMode||t.targets.pace.mode,onChange:_=>t.$emit("set-category-pace",{id:h.id,mode:_.target.value})},[...s[25]||(s[25]=[c("option",{value:"days_only"},"Days only",-1),c("option",{value:"time_aware"},"Time aware",-1)])],40,Vd)]),c("label",zd,[c("input",{type:"checkbox",checked:h.includeWeekend,onChange:_=>t.$emit("set-category-weekend",{id:h.id,value:_.target.checked})},null,40,Kd),s[27]||(s[27]=c("span",null,"Weekend",-1))])])])}),128)),ie(k(dt),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[4]||(s[4]=h=>t.$emit("add-category"))},{default:We(()=>[...s[28]||(s[28]=[be(" Add category ",-1)])]),_:1},8,["disabled"]),c("div",qd,[s[34]||(s[34]=c("div",{class:"section-title"},"Pace",-1)),c("label",Gd,[c("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[5]||(s[5]=h=>t.$emit("set-include-weekend-total",h.target.checked))},null,40,Jd),s[29]||(s[29]=c("span",null,"Count weekend in total pace",-1))]),c("label",Zd,[s[31]||(s[31]=c("span",{class:"label"},"Mode",-1)),c("select",{value:t.targets.pace.mode,onChange:s[6]||(s[6]=h=>t.$emit("set-pace-mode",h.target.value))},[...s[30]||(s[30]=[c("option",{value:"days_only"},"Days only",-1),c("option",{value:"time_aware"},"Time aware",-1)])],40,Yd)]),c("label",Xd,[s[32]||(s[32]=c("span",{class:"label"},"On track  gap (%)",-1)),c("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[7]||(s[7]=h=>t.$emit("set-threshold",{key:"onTrack",value:h.target.value}))},null,40,Qd),t.paceThresholdMessages.onTrack?(C(),T("div",{key:0,class:me(["input-message",(i=t.paceThresholdMessages.onTrack)==null?void 0:i.tone])},E((u=t.paceThresholdMessages.onTrack)==null?void 0:u.text),3)):K("",!0)]),c("label",ef,[s[33]||(s[33]=c("span",{class:"label"},"At risk  gap (%)",-1)),c("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[8]||(s[8]=h=>t.$emit("set-threshold",{key:"atRisk",value:h.target.value}))},null,40,tf),t.paceThresholdMessages.atRisk?(C(),T("div",{key:0,class:me(["input-message",(f=t.paceThresholdMessages.atRisk)==null?void 0:f.tone])},E((p=t.paceThresholdMessages.atRisk)==null?void 0:p.text),3)):K("",!0)])]),c("div",sf,[s[39]||(s[39]=c("div",{class:"section-title"},"Forecast",-1)),c("label",af,[s[36]||(s[36]=c("span",{class:"label"},"Primary method",-1)),c("select",{value:t.targets.forecast.methodPrimary,onChange:s[9]||(s[9]=h=>t.$emit("set-forecast-method",h.target.value))},[...s[35]||(s[35]=[c("option",{value:"linear"},"Linear",-1),c("option",{value:"momentum"},"Momentum",-1)])],40,nf)]),c("label",rf,[s[37]||(s[37]=c("span",{class:"label"},"Momentum window (days)",-1)),c("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[10]||(s[10]=h=>t.$emit("set-forecast-momentum",h.target.value))},null,40,of),t.forecastMomentumMessage?(C(),T("div",{key:0,class:me(["input-message",(d=t.forecastMomentumMessage)==null?void 0:d.tone])},E((g=t.forecastMomentumMessage)==null?void 0:g.text),3)):K("",!0)]),c("label",lf,[s[38]||(s[38]=c("span",{class:"label"},"Padding (h)",-1)),c("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[11]||(s[11]=h=>t.$emit("set-forecast-padding",h.target.value))},null,40,cf),t.forecastPaddingMessage?(C(),T("div",{key:0,class:me(["input-message",(l=t.forecastPaddingMessage)==null?void 0:l.tone])},E((v=t.forecastPaddingMessage)==null?void 0:v.text),3)):K("",!0)])]),c("div",uf,[s[48]||(s[48]=c("div",{class:"section-title"},"Display",-1)),c("label",df,[c("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[12]||(s[12]=h=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:h.target.checked}))},null,40,ff),s[40]||(s[40]=c("span",null,"Show calendar charts",-1))]),c("label",gf,[c("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[13]||(s[13]=h=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:h.target.checked}))},null,40,pf),s[41]||(s[41]=c("span",null,"Show category charts",-1))]),c("label",hf,[c("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[14]||(s[14]=h=>t.$emit("set-ui-option",{key:"showTotalDelta",value:h.target.checked}))},null,40,mf),s[42]||(s[42]=c("span",null,"Show total delta",-1))]),c("label",vf,[c("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[15]||(s[15]=h=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:h.target.checked}))},null,40,yf),s[43]||(s[43]=c("span",null,"Show need per day",-1))]),c("label",bf,[c("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[16]||(s[16]=h=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:h.target.checked}))},null,40,wf),s[44]||(s[44]=c("span",null,"Show categories",-1))]),c("label",_f,[c("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[17]||(s[17]=h=>t.$emit("set-ui-option",{key:"badges",value:h.target.checked}))},null,40,kf),s[45]||(s[45]=c("span",null,"Status badges",-1))]),c("label",xf,[c("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[18]||(s[18]=h=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:h.target.checked}))},null,40,Sf),s[46]||(s[46]=c("span",null,"Weekend toggle",-1))]),c("label",Cf,[c("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[19]||(s[19]=h=>t.$emit("set-include-zero-days",h.target.checked))},null,40,$f),s[47]||(s[47]=c("span",null,"Include zero days in pace",-1))])])])])}}}),Tf={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},Af={class:"target-config"},Df={class:"field"},Ef={class:"summary-mode-toggle"},Pf={class:"target-section"},If=["checked","onChange"],Nf=Pe({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,a=t,n={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=z(()=>({...n,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,u)=>(C(),T("div",Tf,[u[6]||(u[6]=c("div",{class:"sb-title"},"Time Summary",-1)),c("div",Af,[c("div",Df,[u[4]||(u[4]=c("span",{class:"label"},"Average mode",-1)),c("div",Ef,[ie(k(va),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":u[0]||(u[0]=f=>{f&&a("update:activeMode","active")})},{default:We(()=>[...u[2]||(u[2]=[be(" Active days ",-1)])]),_:1},8,["checked"]),ie(k(va),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":u[1]||(u[1]=f=>{f&&a("update:activeMode","all")})},{default:We(()=>[...u[3]||(u[3]=[be(" All days ",-1)])]),_:1},8,["checked"])])]),c("div",Pf,[u[5]||(u[5]=c("div",{class:"section-title"},"Display",-1)),(C(),T(ge,null,Ue(o,f=>c("label",{key:f.key,class:"field checkbox"},[c("input",{type:"checkbox",checked:r.value[f.key],onChange:p=>a("toggle-option",{key:f.key,value:p.target.checked})},null,40,If),c("span",null,E(f.label),1)])),64))])])]))}}),Lf={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},Of={class:"section-title-row"},Hf=["aria-expanded"],Ff={key:0,class:"section-hint"},Rf={class:"target-section toggle-grid"},Wf=["checked","onChange"],Bf={class:"forecast-block"},jf={class:"field"},Uf=["value"],Vf=["value"],zf={key:0,class:"section-hint forecast-hint"},Kf=Ft(Pe({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},forecastMode:{},forecastOptions:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option","update-forecast-mode"],setup(e,{emit:t}){const s=e,a=t,{activitySettings:n,activityToggles:r,forecastMode:o,forecastOptions:i,helpOpen:u}=ar(s),f=z(()=>{var g;const d=(g=i.value)==null?void 0:g.find(l=>l.value===o.value);return(d==null?void 0:d.description)??""});function p(d){(d==="off"||d==="total"||d==="calendar"||d==="category")&&a("update-forecast-mode",d)}return(d,g)=>(C(),T("div",Lf,[c("div",Of,[g[3]||(g[3]=c("div",{class:"section-title"},"Activity & Schedule",-1)),c("button",{type:"button",class:"info-button","aria-expanded":k(u),"aria-label":"Activity & Schedule help",onClick:g[0]||(g[0]=l=>a("toggle-help"))},[...g[2]||(g[2]=[c("span",null,"?",-1)])],8,Hf)]),k(u)?(C(),T("p",Ff,"Choose which metrics appear on the Activity & Schedule card.")):K("",!0),c("div",Rf,[(C(!0),T(ge,null,Ue(k(r),([l,v])=>(C(),T("label",{key:l,class:"field checkbox toggle-field"},[c("input",{type:"checkbox",checked:k(n)[l],onChange:h=>a("toggle-option",{key:l,value:h.target.checked})},null,40,Wf),c("span",null,E(v),1)]))),128))]),c("div",Bf,[g[5]||(g[5]=c("div",{class:"section-title"},"Bar chart projection",-1)),c("label",jf,[g[4]||(g[4]=c("span",{class:"label"},"Projection mode",-1)),c("select",{value:k(o),onChange:g[1]||(g[1]=l=>p(l.target.value))},[(C(!0),T(ge,null,Ue(k(i),l=>(C(),T("option",{key:l.value,value:l.value},E(l.label),9,Vf))),128))],40,Uf)]),f.value?(C(),T("p",zf,E(f.value),1)):K("",!0)])]))}}),[["__scopeId","data-v-4d86aa83"]]),qf={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},Gf={class:"section-title-row"},Jf=["aria-expanded"],Zf={class:"target-section"},Yf={class:"section-title-row"},Xf=["aria-expanded"],Qf={key:0,class:"section-hint"},eg={class:"field-grid"},tg={class:"field"},sg=["value","aria-invalid"],ag={class:"field"},ng=["value","aria-invalid"],rg={class:"field"},og=["value","aria-invalid"],ig={class:"target-section"},lg={class:"section-title-row"},cg=["aria-expanded"],ug={key:0,class:"section-hint"},dg={class:"field-grid"},fg={class:"field"},gg=["value"],pg={class:"field"},hg=["value","aria-invalid"],mg={class:"target-section"},vg={class:"section-title-row"},yg=["aria-expanded"],bg={key:0,class:"section-hint"},wg={class:"toggle-grid"},_g={class:"field checkbox toggle-field"},kg=["checked"],xg={class:"field checkbox toggle-field"},Sg=["checked"],Cg={class:"field checkbox toggle-field"},$g=["checked"],Mg={class:"field-grid mt-8"},Tg={class:"field"},Ag=["value","aria-invalid"],Dg=["value"],Eg={class:"field"},Pg=["value","aria-invalid"],Ig=["value"],Ng=Pe({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,a=t,{balanceSettings:n,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:u,helpThresholds:f,helpTrend:p,helpDisplay:d}=ar(s);return(g,l)=>{var v,h,w,$,_,S,A,H,Y,G,j,ne;return C(),T("div",qf,[c("div",Gf,[l[15]||(l[15]=c("div",{class:"section-title subtitle"},"Balance Overview",-1)),c("button",{type:"button",class:"info-button","aria-expanded":k(f)||k(p)||k(d),"aria-label":"Balance Overview help",onClick:l[0]||(l[0]=q=>a("toggle-help","all"))},[...l[14]||(l[14]=[c("span",null,"?",-1)])],8,Jf)]),c("div",Zf,[c("div",Yf,[l[17]||(l[17]=c("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),c("button",{type:"button",class:"info-button","aria-expanded":k(f),"aria-label":"Thresholds help",onClick:l[1]||(l[1]=q=>a("toggle-help","thresholds"))},[...l[16]||(l[16]=[c("span",null,"?",-1)])],8,Xf)]),k(f)?(C(),T("p",Qf,"Set the share/index limits that trigger balance warnings.")):K("",!0),c("div",eg,[c("label",tg,[l[18]||(l[18]=c("span",{class:"label"},"Notice max share",-1)),c("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(n).thresholds.noticeMaxShare,"aria-invalid":!!k(r).noticeMaxShare,onInput:l[2]||(l[2]=q=>a("set-threshold",{key:"noticeMaxShare",value:q.target.value}))},null,40,sg),k(r).noticeMaxShare?(C(),T("div",{key:0,class:me(["input-message",(v=k(r).noticeMaxShare)==null?void 0:v.tone])},E((h=k(r).noticeMaxShare)==null?void 0:h.text),3)):K("",!0)]),c("label",ag,[l[19]||(l[19]=c("span",{class:"label"},"Warn max share",-1)),c("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(n).thresholds.warnMaxShare,"aria-invalid":!!k(r).warnMaxShare,onInput:l[3]||(l[3]=q=>a("set-threshold",{key:"warnMaxShare",value:q.target.value}))},null,40,ng),k(r).warnMaxShare?(C(),T("div",{key:0,class:me(["input-message",(w=k(r).warnMaxShare)==null?void 0:w.tone])},E(($=k(r).warnMaxShare)==null?void 0:$.text),3)):K("",!0)]),c("label",rg,[l[20]||(l[20]=c("span",{class:"label"},"Warn index",-1)),c("input",{type:"number",min:"0",max:"1",step:"0.01",value:k(n).thresholds.warnIndex,"aria-invalid":!!k(r).warnIndex,onInput:l[4]||(l[4]=q=>a("set-threshold",{key:"warnIndex",value:q.target.value}))},null,40,og),k(r).warnIndex?(C(),T("div",{key:0,class:me(["input-message",(_=k(r).warnIndex)==null?void 0:_.tone])},E((S=k(r).warnIndex)==null?void 0:S.text),3)):K("",!0)])])]),c("div",ig,[c("div",lg,[l[22]||(l[22]=c("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),c("button",{type:"button",class:"info-button","aria-expanded":k(p),"aria-label":"Trend help",onClick:l[5]||(l[5]=q=>a("toggle-help","trend"))},[...l[21]||(l[21]=[c("span",null,"?",-1)])],8,cg)]),k(p)?(C(),T("p",ug,"Control the comparison window and how ratios are expressed.")):K("",!0),c("div",dg,[c("label",fg,[l[24]||(l[24]=c("span",{class:"label"},"Relation display",-1)),c("select",{value:k(n).relations.displayMode,onChange:l[6]||(l[6]=q=>a("set-relation",q.target.value))},[...l[23]||(l[23]=[c("option",{value:"ratio"},"Ratio (A : B)",-1),c("option",{value:"factor"},"Factor (A)",-1)])],40,gg)]),c("label",pg,[l[25]||(l[25]=c("span",{class:"label"},"Trend lookback (weeks)",-1)),c("input",{type:"number",min:"1",max:"12",step:"1",value:k(n).trend.lookbackWeeks,"aria-invalid":!!k(o),onInput:l[7]||(l[7]=q=>a("set-lookback",q.target.value))},null,40,hg),k(o)?(C(),T("div",{key:0,class:me(["input-message",(A=k(o))==null?void 0:A.tone])},E((H=k(o))==null?void 0:H.text),3)):K("",!0)])])]),c("div",mg,[c("div",vg,[l[27]||(l[27]=c("div",{class:"section-subtitle subtitle"},"Display",-1)),c("button",{type:"button",class:"info-button","aria-expanded":k(d),"aria-label":"Display help",onClick:l[8]||(l[8]=q=>a("toggle-help","display"))},[...l[26]||(l[26]=[c("span",null,"?",-1)])],8,yg)]),k(d)?(C(),T("p",bg,"Toggle optional insights and adjust rounding for the card values.")):K("",!0),c("div",wg,[c("label",_g,[c("input",{type:"checkbox",checked:k(n).ui.showInsights,onChange:l[9]||(l[9]=q=>a("set-ui-toggle",{key:"showInsights",value:q.target.checked}))},null,40,kg),l[28]||(l[28]=c("span",null,"Insights",-1))]),c("label",xg,[c("input",{type:"checkbox",checked:k(n).ui.showDailyStacks,onChange:l[10]||(l[10]=q=>a("set-ui-toggle",{key:"showDailyStacks",value:q.target.checked}))},null,40,Sg),l[29]||(l[29]=c("span",null,"Daily mix (experimental)",-1))]),c("label",Cg,[c("input",{type:"checkbox",checked:k(n).dayparts.enabled,onChange:l[11]||(l[11]=q=>a("set-ui-toggle",{key:"dayparts",value:q.target.checked}))},null,40,$g),l[30]||(l[30]=c("span",null,"Dayparts",-1))])]),c("div",Mg,[c("label",Tg,[l[31]||(l[31]=c("span",{class:"label"},"Percent precision",-1)),c("select",{value:k(n).ui.roundPercent,"aria-invalid":!!k(i).roundPercent,onChange:l[12]||(l[12]=q=>a("set-ui-precision",{key:"roundPercent",value:q.target.value}))},[(C(!0),T(ge,null,Ue(k(u),q=>(C(),T("option",{key:`round-percent-${q}`,value:q},E(q),9,Dg))),128))],40,Ag),k(i).roundPercent?(C(),T("div",{key:0,class:me(["input-message",(Y=k(i).roundPercent)==null?void 0:Y.tone])},E((G=k(i).roundPercent)==null?void 0:G.text),3)):K("",!0)]),c("label",Eg,[l[32]||(l[32]=c("span",{class:"label"},"Ratio precision",-1)),c("select",{value:k(n).ui.roundRatio,"aria-invalid":!!k(i).roundRatio,onChange:l[13]||(l[13]=q=>a("set-ui-precision",{key:"roundRatio",value:q.target.value}))},[(C(!0),T(ge,null,Ue(k(u),q=>(C(),T("option",{key:`round-ratio-${q}`,value:q},E(q),9,Ig))),128))],40,Pg),k(i).roundRatio?(C(),T("div",{key:0,class:me(["input-message",(j=k(i).roundRatio)==null?void 0:j.tone])},E((ne=k(i).roundRatio)==null?void 0:ne.text),3)):K("",!0)])])])])}}}),Lg={class:"notes-section"},Og=["title"],Hg=["value"],Fg=["title"],Rg=["value"],Wg={class:"notes-actions"},Bg=Ft(Pe({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(C(),T("div",Lg,[c("div",{class:"hint",title:t.prevTitle},E(t.prevLabel),9,Og),c("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,Hg),c("div",{class:"hint",title:t.currTitle},E(t.currLabel),9,Fg),c("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=a=>t.$emit("update:modelValue",a.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,Rg),c("div",Wg,[ie(k(dt),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=a=>t.$emit("save"))},{default:We(()=>[...s[2]||(s[2]=[be("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),jg={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},Ug=Pe({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,a=t,{previous:n,modelValue:r,prevLabel:o,currLabel:i,prevTitle:u,currTitle:f,saving:p}=s;return(d,g)=>(C(),T("div",jg,[g[2]||(g[2]=c("div",{class:"sb-title"},"Notes",-1)),ie(Bg,{previous:k(n),"model-value":k(r),"prev-label":k(o),"curr-label":k(i),"prev-title":k(u),"curr-title":k(f),saving:k(p),"onUpdate:modelValue":g[0]||(g[0]=l=>a("update:modelValue",l)),onSave:g[1]||(g[1]=l=>a("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}}),Vg={id:"opsdash-sidebar-pane-config",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-config"},zg={class:"preset-form"},Kg=["disabled"],qg={key:0,class:"preset-error"},Gg={key:0,class:"preset-warnings"},Jg={class:"preset-header"},Zg={key:1,class:"preset-empty"},Yg={key:2,class:"preset-list"},Xg={class:"preset-meta"},Qg={class:"preset-name"},ep={class:"preset-info"},tp={key:0},sp={class:"preset-actions"},ap=Ft(Pe({__name:"SidebarConfigPane",props:{presets:{},isLoading:{type:Boolean},isSaving:{type:Boolean},isApplying:{type:Boolean},warnings:{}},emits:["save","load","delete","refresh","clear-warnings"],setup(e,{emit:t}){const s=t,a=ae(""),n=ae(null);function r(){const f=a.value.trim();if(!f){n.value="Enter a profile name";return}n.value=null,s("save",f),a.value=""}function o(f){s("load",f)}function i(f){window.confirm(`Delete profile "${f}"?`)&&s("delete",f)}function u(f){if(!f)return"";const p=new Date(f);if(Number.isNaN(p.getTime()))return f;const g=new Date().getTime()-p.getTime(),l=Math.round(g/6e4);if(l<1)return"just now";if(l<60)return`${l} min ago`;const v=Math.round(l/60);if(v<24)return`${v} h ago`;const h=Math.round(v/24);return h<7?`${h} d ago`:p.toLocaleDateString()}return rs(()=>{s("refresh")}),(f,p)=>(C(),T("div",Vg,[p[8]||(p[8]=c("div",{class:"sb-title"},"Configuration Profiles",-1)),p[9]||(p[9]=c("p",{class:"sb-description"}," Save and restore complete sidebar configurations (calendars, groups, targets, settings). ",-1)),c("div",zg,[p[3]||(p[3]=c("label",{class:"preset-label",for:"preset-name"},"Profile name",-1)),ws(c("input",{id:"preset-name","onUpdate:modelValue":p[0]||(p[0]=d=>a.value=d),type:"text",placeholder:"e.g. Focus week",disabled:f.isSaving,onKeyup:sc(r,["enter"])},null,40,Kg),[[Xl,a.value]]),n.value?(C(),T("div",qg,E(n.value),1)):K("",!0),ie(k(dt),{class:"preset-save",type:"primary",disabled:f.isSaving||!a.value.trim(),onClick:r},{default:We(()=>[be(E(f.isSaving?"Saving":"Save current configuration"),1)]),_:1},8,["disabled"])]),f.warnings.length?(C(),T("div",Gg,[p[5]||(p[5]=c("div",{class:"warnings-title"},"Warnings",-1)),c("ul",null,[(C(!0),T(ge,null,Ue(f.warnings,(d,g)=>(C(),T("li",{key:g},E(d),1))),128))]),ie(k(dt),{type:"tertiary",class:"preset-clear",onClick:p[1]||(p[1]=d=>s("clear-warnings"))},{default:We(()=>[...p[4]||(p[4]=[be(" Clear warnings ",-1)])]),_:1})])):K("",!0),c("div",Jg,[p[6]||(p[6]=c("h3",null,"Saved profiles",-1)),ie(k(dt),{type:"tertiary",disabled:f.isLoading,onClick:p[2]||(p[2]=d=>s("refresh"))},{default:We(()=>[be(E(f.isLoading?"Refreshing":"Refresh list"),1)]),_:1},8,["disabled"])]),!f.presets.length&&!f.isLoading?(C(),T("div",Zg," No profiles yet. Save one above to get started. ")):(C(),T("ul",Yg,[(C(!0),T(ge,null,Ue(f.presets,d=>(C(),T("li",{key:d.name,class:"preset-item"},[c("div",Xg,[c("div",Qg,E(d.name),1),c("div",ep,[c("span",null,E(d.selectedCount)+" calendars",1),c("span",null,E(d.calendarCount)+" groups",1),d.updatedAt?(C(),T("span",tp,"Updated "+E(u(d.updatedAt)),1)):K("",!0)])]),c("div",sp,[ie(k(dt),{type:"primary",disabled:f.isApplying,onClick:g=>o(d.name)},{default:We(()=>[be(E(f.isApplying?"Applying":"Load"),1)]),_:2},1032,["disabled","onClick"]),ie(k(dt),{type:"tertiary",disabled:f.isApplying,onClick:g=>i(d.name)},{default:We(()=>[...p[7]||(p[7]=[be(" Delete ",-1)])]),_:2},1032,["disabled","onClick"])])]))),128))]))]))}}),[["__scopeId","data-v-d602d23c"]]);function np(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const a=Number(e);if(!Number.isFinite(a))return{value:null,error:"Enter a valid number"};let n=a,r;if(typeof t.min=="number"&&n<t.min&&(n=t.min,r=hn(t)),typeof t.max=="number"&&n>t.max&&(n=t.max,r=hn(t)),typeof t.step=="number"&&t.step>0){const i=op(n,t.step);i!==n&&(n=i,r=hn(t))}const o=bo(t);return typeof o=="number"&&(n=Number(n.toFixed(o))),{value:n,warning:r}}function rp(e,t){const s=np(e,t),a=[];return s.error&&a.push({severity:"error",message:s.error}),s.warning&&a.push({severity:"warning",message:s.warning}),{value:s.value,issues:a}}function op(e,t){const s=bo({step:t}),a=Math.round(e/t)*t;return typeof s=="number"?Number(a.toFixed(s)):a}function bo(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return ip(e.step)}function ip(e){const t=e.toString();if(t.includes("e-")){const[,a]=t.split("e-");return Number(a)}const[,s=""]=t.split(".");return s.length}function hn(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function lp(e,t,s="Enter a valid number"){const a=rp(e,t),n=a.issues.find(i=>i.severity==="error"),r=a.issues.find(i=>i.severity==="warning");let o=null;return n||a.value===null?o={text:(n==null?void 0:n.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!n&&a.value!==null,value:a.value,message:o}}function At(e,t,s,a,n){const{ok:r,value:o,message:i}=lp(e,t,n);return s(i),!r||o===null?!1:(a(o),!0)}const cp={class:"rangebar",title:"Time range"},up={class:"range-actions"},dp=["disabled"],fp=["aria-label"],gp={class:"range-toggle"},pp={class:"range-nav"},hp={class:"range-dates"},mp={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},vp=["aria-selected"],yp=["aria-selected"],bp=["aria-selected"],wp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},_p=["aria-selected"],kp=["aria-selected"],xp=["aria-selected"],Sp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Advanced configuration"},Cp=["aria-selected"],$p=Ft(Pe({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{},presets:{},presetsLoading:{type:Boolean},presetSaving:{type:Boolean},presetApplying:{type:Boolean},presetWarnings:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav","save-preset","load-preset","delete-preset","refresh-presets","clear-preset-warnings"],setup(e,{emit:t}){const s=e,a=t,n=ae("calendars"),r=z(()=>s.targetsConfig),o=z(()=>{var x;return((x=r.value)==null?void 0:x.categories)??[]}),i=z(()=>s.presets??[]);function u(x){const b=ht(JSON.parse(JSON.stringify(s.targetsConfig||{})));x(b),a("update:targets-config",b)}const f=z(()=>ve()!==null),p=z(()=>{var x;return((x=r.value)==null?void 0:x.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),d=z(()=>{var x;return{...cs(),...((x=r.value)==null?void 0:x.activityCard)??{}}}),g={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},l=z(()=>Object.entries(g)),v=[{value:"off",label:"Do not project future days",description:"Keep charts empty until events occur."},{value:"total",label:"Distribute remaining total target",description:"Split leftover total target hours evenly across future days using current calendar mix."},{value:"calendar",label:"Respect calendar targets",description:"Use per-calendar targets for the current range and spread remaining hours across future days."},{value:"category",label:"Respect category targets",description:"Allocate remaining category targets across future days according to current mappings."}],h=z(()=>{var P;const x=ln(),b=((P=r.value)==null?void 0:P.balance)??x;return{...x,...b,thresholds:{...x.thresholds,...b.thresholds??{}},relations:{...x.relations,...b.relations??{}},trend:{...x.trend,...b.trend??{}},dayparts:{...x.dayparts,...b.dayparts??{}},ui:{...x.ui,...b.ui??{}}}}),w=[0,1,2,3],$=St({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),_=St({}),S=St({}),A=ae(null),H=ae(null),Y=St({onTrack:null,atRisk:null}),G=St({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),j=ae(null),ne=ae(null),q=ae(null),le=St({roundPercent:null,roundRatio:null});function ve(){const x=new Set;for(const b of o.value)(b.groupIds||[]).forEach(P=>x.add(Number(P)));Object.values(s.groupsById||{}).forEach(b=>x.add(Number(b)));for(let b=1;b<=9;b++)if(!x.has(b))return b;return null}function ke(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function xe(x){const b=re(x),P=o.value.find(pe=>Array.isArray(pe.groupIds)&&pe.groupIds.includes(b));return P?P.id:""}function U(x,b){if(!b){a("set-group",{id:x,n:0});return}const P=o.value.find(ft=>ft.id===b);if(!P){a("set-group",{id:x,n:0});return}const pe=de(P.id);a("set-group",{id:x,n:pe})}function de(x){const b=o.value.find(ft=>ft.id===x);if(!b)return 0;const P=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;if(P&&Number.isFinite(P))return P;const pe=ve()??0;return u(ft=>{const _a=ft.categories.find(wn=>wn.id===x);_a&&(_a.groupIds=pe?[pe]:[])}),pe}function Q(x,b){u(P=>{const pe=P.categories.find(ft=>ft.id===x);pe&&b(pe)})}function re(x){const b=Number((s.groupsById||{})[x]??0);return isFinite(b)?Math.max(0,Math.min(9,Math.trunc(b))):0}function Me(x){const b=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},P=Number(b[x]??"");return isFinite(P)?P:""}function Oe(x){a("select-all",x)}function Ie(x){a("toggle-calendar",x)}function we(x){U(x.id,x.category)}function ye(x){m(x.id,x.value)}function Ne(x){W(x.key,x.value)}function Re(x){R(x.key,x.value)}function $e(x){x!=="off"&&x!=="total"&&x!=="calendar"&&x!=="category"||u(b=>{b.activityCard||(b.activityCard=cs()),b.activityCard.forecastMode=x})}function Se(){$.activity=!$.activity}function Z(x){if(x==="all"){const b=!($.balanceThresholds&&$.balanceTrend&&$.balanceDisplay);$.balanceThresholds=b,$.balanceTrend=b,$.balanceDisplay=b;return}x==="thresholds"?$.balanceThresholds=!$.balanceThresholds:x==="trend"?$.balanceTrend=!$.balanceTrend:x==="display"&&($.balanceDisplay=!$.balanceDisplay)}function Ae(x){se(x.key,x.value)}function qe(x){if(x.key==="dayparts"){u(b=>{b.balance.dayparts.enabled=x.value});return}fe(x.key,x.value)}function mt(x){Te(x.key,x.value)}function m(x,b){At(b,{min:0,max:1e4,step:.25,decimals:2},P=>{_[x]=P},P=>a("set-target",{id:x,h:P}))}function y(x){At(x,{min:0,max:1e3,step:.5,decimals:2},b=>{A.value=b},b=>u(P=>{P.totalHours=b}))}function M(x){At(x,{min:0,max:24,step:.25,decimals:2},b=>{H.value=b},b=>u(P=>{P.allDayHours=b}),"024 hours per day")}function F(x,b){At(b,{min:0,max:1e3,step:.5,decimals:2},P=>{S[x]=P},P=>Q(x,pe=>{pe.targetHours=P}))}function D(x,b){Q(x,P=>{P.label=b.trim()||P.label})}function N(x,b){Q(x,P=>{P.includeWeekend=b})}function B(x){s.activeDayMode!==x&&a("update:active-mode",x)}function W(x,b){u(P=>{P.timeSummary||(P.timeSummary=JSON.parse(JSON.stringify(p.value))),P.timeSummary[x]=b})}function R(x,b){u(P=>{P.activityCard||(P.activityCard=cs()),P.activityCard[x]=b})}function O(x,b){b!=="days_only"&&b!=="time_aware"||Q(x,P=>{P.paceMode=b})}function ee(x){u(b=>{b.pace.includeWeekendTotal=x})}function V(x){x!=="days_only"&&x!=="time_aware"||u(b=>{b.pace.mode=x})}function X(x,b){At(b,{min:-100,max:100,step:.1,decimals:1},P=>{Y[x]=P},P=>u(pe=>{pe.pace.thresholds[x]=P}))}function se(x,b){At(b,{min:0,max:1,step:.01,decimals:2},P=>{G[x]=P},P=>u(pe=>{pe.balance.thresholds[x]=Number(P.toFixed(2))}))}function ce(x){const b=x==="factor"?"factor":"ratio";u(P=>{P.balance.relations.displayMode=b})}function he(x){At(x,{min:1,max:12,step:1,decimals:0},b=>{q.value=b},b=>u(P=>{P.balance.trend.lookbackWeeks=b}))}function fe(x,b){u(P=>{P.balance.ui[x]=b})}function Te(x,b){At(b,{min:0,max:3,step:1,decimals:0},P=>{le[x]=P},P=>u(pe=>{pe.balance.ui[x]=P}))}function He(x){const b=x==="momentum"?"momentum":"linear";u(P=>{P.forecast.methodPrimary=b})}function Be(x){At(x,{min:1,max:14,step:1,decimals:0},b=>{j.value=b},b=>u(P=>{P.forecast.momentumLastNDays=b}))}function Ge(x){At(x,{min:0,max:100,step:.1,decimals:1},b=>{ne.value=b},b=>u(P=>{P.forecast.padding=b}))}function vt(x,b){u(P=>{P.ui[x]=b})}function ds(x){u(b=>{b.includeZeroDaysInStats=x})}function Je(x){u(b=>{x==="work-week"?(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="days_only",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0):x==="balanced-life"&&(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="time_aware",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0)})}function ot(){var b;const x=ve();if(x===null){(b=window.alert)==null||b.call(window,"All category slots are currently in use (max 9).");return}u(P=>{P.categories=[...P.categories,{id:ke(),label:`Category ${P.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[x]}]})}function wt(x){if(o.value.length<=1)return;const b=o.value.find(pe=>pe.id===x);if(!b)return;const P=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;u(pe=>{pe.categories=pe.categories.filter(ft=>ft.id!==x)}),P!==null&&Object.entries(s.groupsById||{}).forEach(([pe,ft])=>{Number(ft)===P&&a("set-group",{id:pe,n:0})})}return(x,b)=>(C(),Ke(k(cc),null,{default:We(()=>[Wi(x.$slots,"actions",{},void 0,!0),b[30]||(b[30]=c("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),c("div",cp,[c("div",up,[c("button",{class:"sidebar-action-btn",type:"button",disabled:x.isLoading,onClick:b[0]||(b[0]=P=>x.$emit("load"))}," Refresh ",8,dp),c("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:b[1]||(b[1]=P=>x.$emit("toggle-nav")),"aria-label":x.navToggleLabel},E(x.navToggleIcon),9,fp)]),c("div",gp,[ie(k(va),{type:"radio",name:"range-week",checked:x.range==="week","onUpdate:checked":b[2]||(b[2]=P=>{P&&x.$emit("update:range","week")})},{default:We(()=>[...b[26]||(b[26]=[be("Week",-1)])]),_:1},8,["checked"]),ie(k(va),{type:"radio",name:"range-month",checked:x.range==="month","onUpdate:checked":b[3]||(b[3]=P=>{P&&x.$emit("update:range","month")})},{default:We(()=>[...b[27]||(b[27]=[be("Month",-1)])]),_:1},8,["checked"])]),c("div",pp,[ie(k(dt),{class:"nav-btn",type:"tertiary",disabled:x.isLoading,onClick:b[4]||(b[4]=P=>x.$emit("update:offset",x.offset-1)),title:"Previous"},{default:We(()=>[...b[28]||(b[28]=[be("",-1)])]),_:1},8,["disabled"]),c("span",hp,E(x.from)+"  "+E(x.to),1),ie(k(dt),{class:"nav-btn",type:"tertiary",disabled:x.isLoading,onClick:b[5]||(b[5]=P=>x.$emit("update:offset",x.offset+1)),title:"Next"},{default:We(()=>[...b[29]||(b[29]=[be("",-1)])]),_:1},8,["disabled"])])]),c("div",mp,[c("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:me(["sb-tab",{active:n.value==="calendars"}]),role:"tab","aria-selected":n.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:b[6]||(b[6]=P=>n.value="calendars")}," Calendars ",10,vp),c("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:me(["sb-tab",{active:n.value==="targets"}]),role:"tab","aria-selected":n.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:b[7]||(b[7]=P=>n.value="targets")}," Targets ",10,yp),c("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:me(["sb-tab",{active:n.value==="summary"}]),role:"tab","aria-selected":n.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:b[8]||(b[8]=P=>n.value="summary")}," Summary ",10,bp)]),c("div",wp,[c("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:me(["sb-tab",{active:n.value==="activity"}]),role:"tab","aria-selected":n.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:b[9]||(b[9]=P=>n.value="activity")}," Activity & Schedule ",10,_p),c("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:me(["sb-tab",{active:n.value==="balance"}]),role:"tab","aria-selected":n.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:b[10]||(b[10]=P=>n.value="balance")}," Balance ",10,kp),c("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:me(["sb-tab",{active:n.value==="notes"}]),role:"tab","aria-selected":n.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:b[11]||(b[11]=P=>n.value="notes")}," Notes ",10,xp)]),c("div",Sp,[c("button",{id:"opsdash-sidebar-tab-config",type:"button",class:me(["sb-tab",{active:n.value==="config"}]),role:"tab","aria-selected":n.value==="config","aria-controls":"opsdash-sidebar-pane-config",onClick:b[12]||(b[12]=P=>n.value="config")}," Config ",10,Cp)]),n.value==="calendars"?(C(),Ke(Ad,{key:0,calendars:x.calendars,selected:x.selected,range:x.range,"is-loading":x.isLoading,"category-options":o.value,"calendar-target-messages":_,"calendar-category-id":xe,"get-target":Me,onSelectAll:Oe,onToggleCalendar:Ie,onSetCategory:we,onTargetInput:ye},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):n.value==="targets"?(C(),Ke(Mf,{key:1,targets:r.value,"category-options":o.value,"total-target-message":A.value,"all-day-hours-message":H.value,"category-target-messages":S,"pace-threshold-messages":Y,"forecast-momentum-message":j.value,"forecast-padding-message":ne.value,"can-add-category":f.value,onTotalTargetInput:y,onApplyPreset:Je,onSetAllDayHours:M,onSetCategoryLabel:b[13]||(b[13]=({id:P,label:pe})=>D(P,pe)),onRemoveCategory:wt,onSetCategoryTarget:b[14]||(b[14]=({id:P,value:pe})=>F(P,pe)),onSetCategoryPace:b[15]||(b[15]=({id:P,mode:pe})=>O(P,pe)),onSetCategoryWeekend:b[16]||(b[16]=({id:P,value:pe})=>N(P,pe)),onAddCategory:ot,onSetIncludeWeekendTotal:ee,onSetPaceMode:V,onSetThreshold:b[17]||(b[17]=({key:P,value:pe})=>X(P,pe)),onSetForecastMethod:He,onSetForecastMomentum:Be,onSetForecastPadding:Ge,onSetUiOption:b[18]||(b[18]=({key:P,value:pe})=>vt(P,pe)),onSetIncludeZeroDays:ds},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):n.value==="summary"?(C(),Ke(Nf,{key:2,"summary-options":p.value,"active-day-mode":x.activeDayMode,"onUpdate:activeMode":B,onToggleOption:Ne},null,8,["summary-options","active-day-mode"])):n.value==="config"?(C(),Ke(ap,{key:3,presets:i.value,"is-loading":s.presetsLoading,"is-saving":s.presetSaving,"is-applying":s.presetApplying,warnings:s.presetWarnings,onSave:b[19]||(b[19]=P=>a("save-preset",P)),onLoad:b[20]||(b[20]=P=>a("load-preset",P)),onDelete:b[21]||(b[21]=P=>a("delete-preset",P)),onRefresh:b[22]||(b[22]=()=>a("refresh-presets")),onClearWarnings:b[23]||(b[23]=()=>a("clear-preset-warnings"))},null,8,["presets","is-loading","is-saving","is-applying","warnings"])):n.value==="activity"?(C(),Ke(Kf,{key:4,"activity-settings":d.value,"activity-toggles":l.value,"forecast-mode":d.value.forecastMode,"forecast-options":v,"help-open":$.activity,onToggleHelp:Se,onToggleOption:Re,onUpdateForecastMode:$e},null,8,["activity-settings","activity-toggles","forecast-mode","help-open"])):n.value==="balance"?(C(),Ke(Ng,{key:5,"balance-settings":h.value,"balance-threshold-messages":G,"balance-lookback-message":q.value,"balance-ui-precision-messages":le,"rounding-options":w,"help-thresholds":$.balanceThresholds,"help-trend":$.balanceTrend,"help-display":$.balanceDisplay,onToggleHelp:Z,onSetThreshold:Ae,onSetRelation:ce,onSetLookback:he,onSetUiToggle:qe,onSetUiPrecision:mt},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):n.value==="notes"?(C(),Ke(Ug,{key:6,previous:x.notesPrev,"model-value":x.notesCurrDraft,"prev-label":x.notesLabelPrev,"curr-label":x.notesLabelCurr,"prev-title":x.notesLabelPrevTitle,"curr-title":x.notesLabelCurrTitle,saving:x.isSavingNote,"onUpdate:modelValue":b[24]||(b[24]=P=>x.$emit("update:notes",P)),onSave:b[25]||(b[25]=P=>x.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):K("",!0)]),_:3}))}}),[["__scopeId","data-v-4d654bff"]]);function Mp(e){const t=ae(""),s=ae(""),a=ae(!1);async function n(){var i,u;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((u=o==null?void 0:o.notes)==null?void 0:u.current)??"")}async function r(){try{a.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await n()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{a.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:a,fetchNotes:n,saveNotes:r}}function Tp(e){const t=ae([]),s=ae({}),a=ae({}),n=ae({}),r=ae([]),o=ae(!1),i=ae(!1),u=ae(null),f=ae(""),p=ae(""),d=ae(""),g=St({}),l=ae([]),v=ae([]),h=ae([]),w=ae({}),$=ae({}),_=ae({}),S=ae(ht(Es()));let A=0;async function H(){var G,j,ne,q,le,ve,ke,xe,U,de,Q,re,Me,Oe,Ie,we,ye,Ne,Re,$e;const Y=++A;o.value=!0;try{const Se={range:e.range.value,offset:e.offset.value|0,save:!1},Z=await e.getJson(e.route("load"),Se);if(Y!==A){(G=e.isDebug)!=null&&G.call(e)&&console.warn("discarding stale load response",{currentSeq:Y,loadSeq:A});return}f.value=String(((j=Z.meta)==null?void 0:j.uid)??""),p.value=String(((ne=Z.meta)==null?void 0:ne.from)??""),d.value=String(((q=Z.meta)==null?void 0:q.to)??""),i.value=!!((le=Z.meta)!=null&&le.truncated),u.value=((ve=Z.meta)==null?void 0:ve.limits)??null,t.value=Array.isArray(Z.calendars)?Z.calendars:[],s.value=((ke=Z.colors)==null?void 0:ke.byName)??{},a.value=((xe=Z.colors)==null?void 0:xe.byId)??{};const Ae=((U=Z.groups)==null?void 0:U.byId)??((de=Z.groups)==null?void 0:de.byID)??((Q=Z.groups)==null?void 0:Q.ids)??{},qe={};t.value.forEach(y=>{const M=String((y==null?void 0:y.id)??""),F=Number((Ae==null?void 0:Ae[M])??0);qe[M]=Number.isFinite(F)?Math.max(0,Math.min(9,Math.trunc(F))):0}),n.value=qe;const mt=((re=Z.targets)==null?void 0:re.week)??{},m=((Me=Z.targets)==null?void 0:Me.month)??{};if($.value=mt&&typeof mt=="object"?mt:{},_.value=m&&typeof m=="object"?m:{},S.value=ht(Z.targetsConfig??Es()),(Oe=e.isDebug)!=null&&Oe.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(y=>({id:y.id,name:y.displayname,color:y.color,raw:y.color_raw,src:y.color_src}))),console.log("colors.byId",a.value),console.log("colors.byName",s.value),Z.calDebug&&console.log("server calDebug",Z.calDebug),Z.debug&&(console.group("[opsdash] server query debug"),console.log(Z.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(M=>!M.color||M.color_src==="fallback").length)try{const M=await e.fetchDavColors(f.value,t.value.map(D=>String(D.id)));let F=!1;if(t.value=t.value.map(D=>{const N=M[D.id];return N&&N!==D.color&&(D.color_src="dav"(D).color_raw=N,D.color=N,F=!0),D}),Object.entries(M).forEach(([D,N])=>{N&&(a.value[D]=String(N))}),F){(Ie=e.isDebug)!=null&&Ie.call(e)&&console.log("[opsdash] dav colors applied",M);try{const D=((we=w.value)==null?void 0:we.pie)||{},N=D.ids||[],B=D.colors||[],W=N.map((R,O)=>a.value[R]||B[O]||"#60a5fa");w.value={...w.value||{},pie:{...D,colors:W}},(ye=e.isDebug)!=null&&ye.call(e)&&console.log("[opsdash] recomputed pie colors",W)}catch(D){(Ne=e.isDebug)!=null&&Ne.call(e)&&console.warn("recompute pie colors failed",D)}try{const D=(Re=w.value)==null?void 0:Re.perDaySeries;if(D&&Array.isArray(D.series)){const N=D.series.map(B=>({...B,color:a.value[B.id]||B.color||"#60a5fa"}));w.value={...w.value||{},perDaySeries:{labels:D.labels,series:N}}}}catch{}e.scheduleDraw()}}catch(M){($e=e.isDebug)!=null&&$e.call(e)&&console.warn("dav colors failed",M)}r.value=Array.isArray(Z.selected)?Z.selected:Array.isArray(Z.saved)?Z.saved:[],e.userChangedSelection.value=!1,Object.assign(g,Z.stats??{}),l.value=Array.isArray(Z.byCal)?Z.byCal:[],v.value=Array.isArray(Z.byDay)?Z.byDay:[],h.value=Array.isArray(Z.longest)?Z.longest:[],w.value=Z.charts??{},await ta(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(Se){console.error(Se),e.notifyError("Failed to load data")}finally{o.value=!1}}return{calendars:t,colorsByName:s,colorsById:a,groupsById:n,selected:r,isLoading:o,isTruncated:i,truncLimits:u,uid:f,from:p,to:d,stats:g,byCal:l,byDay:v,longest:h,charts:w,targetsWeek:$,targetsMonth:_,targetsConfig:S,load:H}}function Ap(e){const t=ae(!1);let s=null;function a(n=!0){s&&clearTimeout(s),s=setTimeout(async()=>{s=null;try{t.value=!0;const r=await e.postJson(e.route("persist"),{cals:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:dn(e.targetsConfig.value)});Array.isArray(r.read)?e.selected.value=r.read.map(u=>String(u)):Array.isArray(r.saved)&&(e.selected.value=r.saved.map(u=>String(u)));const o=r.targets_config_read,i=r.targets_config_saved;o?e.targetsConfig.value=ht(o):i&&(e.targetsConfig.value=ht(i)),n&&e.onReload&&await e.onReload(),e.notifySuccess("Selection saved")}catch(r){console.error(r),e.notifyError("Failed to save selection")}finally{t.value=!1}},250)}return{queueSave:a,isSaving:t}}const Dp=1e4;function Ep(e){function t(f){return e.selected.value.includes(f)}function s(f,p){const d=new Set(e.selected.value);p?d.add(f):d.delete(f),e.selected.value=Array.from(d)}function a(f){s(f,!t(f)),e.userChangedSelection.value=!0,e.queueSave()}function n(f){e.selected.value=f?e.calendars.value.map(p=>String(p.id)):[]}function r(f,p){const d=Math.max(0,Math.min(9,Math.trunc(Number(p)||0))),g=e.groupsById.value??{};e.groupsById.value={...g,[f]:d},e.queueSave(!1)}function o(f){const p=Math.round(f*100)/100;return Math.min(Dp,Math.max(0,p))}function i(f,p){const d=Number(p);if(!Number.isFinite(d)||d<0)return;const g=o(d);if(e.range.value==="month"){const l=o(g/4);e.targetsMonth.value={...e.targetsMonth.value||{},[f]:g},e.targetsWeek.value={...e.targetsWeek.value||{},[f]:l}}else{const l=o(g*4);e.targetsWeek.value={...e.targetsWeek.value||{},[f]:g},e.targetsMonth.value={...e.targetsMonth.value||{},[f]:l}}e.queueSave(!1)}function u(f){e.targetsConfig.value=ht(f),e.queueSave(!1)}return{isSelected:t,toggleCalendar:a,setGroup:r,setTarget:i,updateTargetsConfig:u,selectAll:n}}function Pp(e){const t=ae([]),s=ae(!1),a=ae(!1),n=ae(!1),r=ae([]),o=ae(null);async function i(){s.value=!0;try{const l=await e.getJson(e.route("presetsList"),{});t.value=Array.isArray(l==null?void 0:l.presets)?l.presets:[]}catch(l){console.error(l),e.notifyError("Failed to load presets")}finally{s.value=!1}}async function u(l){const v=l.trim();if(v===""){e.notifyError("Enter a preset name.");return}a.value=!0;try{const h={name:v,selected:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:e.targetsConfig.value},w=await e.postJson(e.route("presetsSave"),h);t.value=Array.isArray(w==null?void 0:w.presets)?w.presets:t.value;const $=Array.isArray(w==null?void 0:w.warnings)?w.warnings:[];r.value=$,o.value=v,e.notifySuccess(`Profile "${v}" saved`)}catch(h){console.error(h),e.notifyError("Failed to save preset")}finally{a.value=!1}}function f(l){const v=Array.isArray(l==null?void 0:l.selected)?l.selected.map($=>String($)):[];e.selected.value=v;const h=l!=null&&l.groups&&typeof l.groups=="object"?l.groups:{};e.groupsById.value={...h},e.targetsWeek.value=l!=null&&l.targets_week&&typeof l.targets_week=="object"?l.targets_week:{},e.targetsMonth.value=l!=null&&l.targets_month&&typeof l.targets_month=="object"?l.targets_month:{};const w=l!=null&&l.targets_config&&typeof l.targets_config=="object"?ht(l.targets_config):dn(e.targetsConfig.value);e.targetsConfig.value=w,e.userChangedSelection.value=!1}async function p(l){const v=l.trim();if(v!==""){n.value=!0;try{const h=await e.getJson(e.route("presetsLoad",v),{}),w=(h==null?void 0:h.preset)??{},$=Array.isArray(w==null?void 0:w.warnings)?w.warnings:Array.isArray(h==null?void 0:h.warnings)?h.warnings:[];if($.length){const _=`Some items in the saved profile are no longer available:

${$.map(S=>` ${S}`).join(`
`)}

Apply the remaining values?`;if(!window.confirm(_)){r.value=$,n.value=!1;return}}f(w),r.value=$,o.value=v,e.notifySuccess(`Profile "${v}" applied`),e.queueSave(!0),i().catch(_=>console.warn("[opsdash] refresh presets after load failed",_))}catch(h){console.error(h),e.notifyError("Failed to load preset")}finally{n.value=!1}}}async function d(l){const v=l.trim();if(v!=="")try{const h=await e.deleteJson(e.route("presetsDelete",v));t.value=Array.isArray(h==null?void 0:h.presets)?h.presets:t.value,e.notifySuccess(`Profile "${v}" deleted`),o.value===v&&(o.value=null)}catch(h){console.error(h),e.notifyError("Failed to delete preset")}}function g(){r.value=[]}return{presets:t,presetsLoading:s,presetSaving:a,presetApplying:n,presetWarnings:r,lastLoadedPreset:o,refreshPresets:i,savePreset:u,loadPreset:p,deletePreset:d,clearPresetWarnings:g}}function Ip(){let e=null;function t(){typeof window>"u"||typeof window.requestAnimationFrame!="function"||(e!==null&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{e=null,window.dispatchEvent(new Event("resize"))}))}return za(()=>{e!==null&&typeof window<"u"&&typeof window.cancelAnimationFrame=="function"&&(window.cancelAnimationFrame(e),e=null)}),{scheduleDraw:t}}function Np(e){const t=z(()=>{var n,r;return Hp({perDaySeries:(n=e.charts.value)==null?void 0:n.perDaySeries,forecastMode:((r=e.activityCardConfig.value)==null?void 0:r.forecastMode)??"total",targetsConfig:e.targetsConfig.value,currentTargets:e.currentTargets.value,calendarCategoryMap:e.calendarCategoryMap.value})}),s=z(()=>{var n;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:t.value}}),a=z(()=>{var w,$;const n={},r=(w=e.charts.value)==null?void 0:w.pie,o=($=e.charts.value)==null?void 0:$.perDaySeries,i=t.value||o,u=r&&Array.isArray(r.data)&&Array.isArray(r.ids),f=i&&Array.isArray(i.series)&&Array.isArray(i.labels),p=e.calendarCategoryMap.value,d=u?(r.ids||[]).map(_=>String(_??"")):[],g=u?(r.labels||[]).map(_=>String(_??"")):[],l=u?(r.data||[]).map(_=>Number(_)||0):[],v=u?r.colors||[]:[],h=f?i.series:[];return e.calendarGroups.value.forEach(_=>{const S=[];u&&d.forEach((G,j)=>{p[G]===_.id&&S.push(j)});const A=S.length?{ids:S.map(G=>d[G]),labels:S.map(G=>g[G]),data:S.map(G=>l[G]),colors:S.map(G=>{var j;return v[G]||((j=e.colorsById.value)==null?void 0:j[d[G]])||"#60a5fa"})}:null,H=f?h.filter(G=>p[String((G==null?void 0:G.id)??"")]===_.id):[],Y=H.length?{labels:i.labels,series:H}:null;n[_.id]={pie:A,stacked:Y}}),n});return{calendarChartData:s,categoryChartsById:a}}const Lp=/^\d{4}-\d{2}-\d{2}$/,Op="__uncategorized__";function Hp(e){const t=e.perDaySeries;if(!t||!Array.isArray(t.labels)||!Array.isArray(t.series))return null;const s=t.labels.map(h=>String(h??"")),a=t.series.map(h=>{const w=String((h==null?void 0:h.id)??"");return{...h,id:w,name:String((h==null?void 0:h.name)??(h==null?void 0:h.label)??w),color:String((h==null?void 0:h.color)??""),data:s.map(($,_)=>{var A;const S=Number(((A=h==null?void 0:h.data)==null?void 0:A[_])??0);return Number.isFinite(S)?Math.max(0,S):0})}}),n=Fp(e.forecastMode),r=Rp(new Date),o=s.map(h=>Lp.test(h)&&h>r),i=[];if(o.forEach((h,w)=>{h&&i.push(w)}),!i.length||n==="off")return{labels:s,series:a};const u=e.targetsConfig??Es(),f=Bp(e.currentTargets),p=e.calendarCategoryMap??{},d=i.length,g=new Map;a.forEach(h=>{let w=0;h.data.forEach(($,_)=>{o[_]||(w+=Math.max(0,$))}),g.set(h.id,w)});const l=Array.from(g.values()).reduce((h,w)=>h+w,0),v=new Map;if(a.forEach(h=>{v.set(h.id,Wp(s.length))}),n==="total"){const h=Math.max(0,Number(u.totalHours??0)),w=Math.max(0,h-l);if(w>1e-4){const $=w/d,_=a.map(A=>A.id),S=wo(_,g,f);_.forEach(A=>{const H=S[A]??0;if(H<=0)return;const Y=v.get(A);Y&&i.forEach(G=>{Y[G]=ba($*H)})})}}else if(n==="calendar")a.forEach(h=>{const w=f[h.id]??0;if(w<=0)return;const $=Math.max(0,g.get(h.id)??0),_=Math.max(0,w-$);if(_<=1e-4)return;const S=_/d,A=v.get(h.id);A&&i.forEach(H=>{A[H]=ba(S)})});else if(n==="category"){const h=new Set,w=Array.isArray(u.categories)?u.categories:[],$=new Map;w.forEach(S=>{$.set(String(S.id),Math.max(0,Number(S.targetHours??0)))});const _=new Map;a.forEach(S=>{const A=p==null?void 0:p[S.id],H=A?String(A):Op;_.has(H)||_.set(H,[]),_.get(H).push(S.id)}),_.forEach((S,A)=>{if(!S.length)return;const H=$.get(A)??0;if(H<=0)return;const Y=S.reduce((le,ve)=>le+Math.max(0,g.get(ve)??0),0),G=Math.max(0,H-Y);if(G<=1e-4)return;const j=G/d,ne={};S.forEach(le=>{ne[le]=f[le]??0});const q=wo(S,g,ne);S.forEach(le=>{const ve=q[le]??0;if(ve<=0)return;const ke=v.get(le);ke&&(i.forEach(xe=>{ke[xe]=ba(j*ve)}),h.add(le))})}),a.forEach(S=>{if(h.has(S.id))return;const A=f[S.id]??0;if(A<=0)return;const H=Math.max(0,g.get(S.id)??0),Y=Math.max(0,A-H);if(Y<=1e-4)return;const G=Y/d,j=v.get(S.id);j&&i.forEach(ne=>{j[ne]=ba(G)})})}return a.forEach(h=>{const w=v.get(h.id);w&&w.some($=>$>1e-4)&&(h.forecast=w)}),{labels:s,series:a}}function Fp(e){return e==="off"||e==="calendar"||e==="category"?e:"total"}function Rp(e){const t=e.getFullYear(),s=`${e.getMonth()+1}`.padStart(2,"0"),a=`${e.getDate()}`.padStart(2,"0");return`${t}-${s}-${a}`}function Wp(e){return Array.from({length:e},()=>0)}function ba(e){const t=Math.round(e*100)/100;return Number.isFinite(t)?t:0}function Bp(e){const t={};return e&&Object.entries(e).forEach(([s,a])=>{const n=Number(a);Number.isFinite(n)&&n>0&&(t[String(s)]=n)}),t}function wo(e,t,s){const a={},n=e.reduce((i,u)=>i+Math.max(0,t.get(u)??0),0);if(n>1e-4)return e.forEach(i=>{const u=Math.max(0,t.get(i)??0);a[i]=u/n}),a;const r=e.reduce((i,u)=>i+Math.max(0,(s==null?void 0:s[u])??0),0);if(r>1e-4)return e.forEach(i=>{const u=Math.max(0,(s==null?void 0:s[i])??0);a[i]=u/r}),a;const o=e.length?1/e.length:0;return e.forEach(i=>{a[i]=o}),a}const Wt="__uncategorized__",_o="Unassigned";function jp(e){const t=z(()=>{var p;const f=(p=e.targetsConfig.value)==null?void 0:p.categories;return Array.isArray(f)?f:[]}),s=z(()=>{const f={};return t.value.forEach(p=>{f[String(p.id)]=p.label||String(p.id)}),f}),a=z(()=>{var d;const f=new Map;return(((d=e.targetsSummary.value)==null?void 0:d.categories)||[]).forEach(g=>f.set(String(g.id),g)),f}),n=z(()=>{const f=new Map;return t.value.forEach(p=>{(Array.isArray(p.groupIds)?p.groupIds:[]).forEach(g=>{const l=Math.max(0,Math.min(9,Math.trunc(Number(g)||0)));f.set(l,String(p.id))})}),f}),r=z(()=>{var d;const f=e.calendars.value;if(!Array.isArray(f))return(d=e.isDebug)!=null&&d.call(e)&&console.warn("[opsdash] calendars not array",f),{};const p={};return f.forEach(g=>{var h;const l=String((g==null?void 0:g.id)??"");if(!l)return;const v=((h=e.colorsById.value)==null?void 0:h[l])||String((g==null?void 0:g.color)||"");p[l]={name:String((g==null?void 0:g.displayname)||(g==null?void 0:g.name)||(g==null?void 0:g.calendar)||l),color:v||void 0}}),p}),o=z(()=>{var v;const f={},p=n.value,d=e.groupsById.value||{},g=h=>{const w=d==null?void 0:d[h],$=Math.max(0,Math.min(9,Math.trunc(Number(w)||0))),_=p.get($);f[h]=_||Wt},l=e.calendars.value;return Array.isArray(l)?(l.forEach(h=>{const w=String((h==null?void 0:h.id)??"");w&&g(w)}),(e.selected.value||[]).forEach(h=>{const w=String(h??"");w&&(f[w]||g(w))}),f):((v=e.isDebug)!=null&&v.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",l),f)}),i=z(()=>{const f=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],p={};let d=0;const g=l=>{if(p[l])return p[l];const v=Object.entries(o.value).filter(([,w])=>w===l).map(([w])=>w);for(const w of v){const $=r.value[w];if($!=null&&$.color)return p[l]=$.color,$.color}const h=f[d%f.length];return d+=1,p[l]=h,h};return t.value.forEach(l=>g(String(l.id))),Object.values(o.value||{}).some(l=>l===Wt)&&g(Wt),p}),u=z(()=>{var H,Y,G,j,ne,q,le,ve,ke,xe;const f=[],p=o.value,d=a.value,g=e.byCal.value;if(!Array.isArray(g))return(H=e.isDebug)!=null&&H.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",g),f;const l=new Map;g.forEach(U=>{const de=String((U==null?void 0:U.id)??(U==null?void 0:U.calendar_id)??(U==null?void 0:U.calendar)??"");if(!de)return;const Q=p[de]||Wt;l.has(Q)||l.set(Q,[]),l.get(Q).push({...U,calendarId:de})}),(Y=e.isDebug)!=null&&Y.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(g),rowsSourceLength:g.length,byCat:l,assignments:p});const v=((j=(G=e.targetsSummary.value)==null?void 0:G.total)==null?void 0:j.daysLeft)??0,h=((q=(ne=e.targetsSummary.value)==null?void 0:ne.total)==null?void 0:q.calendarPercent)??0,w=((ve=(le=e.targetsSummary.value)==null?void 0:le.total)==null?void 0:ve.paceMode)??((xe=(ke=e.targetsConfig.value)==null?void 0:ke.pace)==null?void 0:xe.mode)??"days_only",$=U=>Math.round(U*100)/100,_=e.currentTargets.value||{},S=(U,de,Q)=>{const re=Q.reduce(($e,Se)=>{const Z=Number(_[Se.calendarId]??0);return Number.isFinite(Z)?$e+Math.max(0,Z):$e},0),Me=Q.reduce(($e,Se)=>{const Z=Number((Se==null?void 0:Se.total_hours)??(Se==null?void 0:Se.hours)??0);return Number.isFinite(Z)?$e+Math.max(0,Z):$e},0),Oe=re>0?Math.max(0,Math.min(100,Me/re*100)):0,Ie=Me-re,we=Math.max(0,re-Me),ye=re<=0?"none":Oe>=100?"done":Ie>=0?"on_track":"behind",Ne=ye==="done"?"Done":ye==="on_track"?"On Track":ye==="behind"?"Behind":"",Re=v>0?we/v:0;return{id:U,label:de,actualHours:$(Me),targetHours:$(re),percent:Oe,deltaHours:$(Ie),remainingHours:$(we),needPerDay:$(Re),daysLeft:v,calendarPercent:Math.max(0,Math.min(100,h)),gap:$(Oe-h),status:ye,statusLabel:Ne,includeWeekend:!0,paceMode:w}};if(t.value.map(U=>String(U.id)).forEach(U=>{const de=s.value[U]||U,Q=l.get(U)||[],re=d.get(U)||S(U,de,Q);f.push({id:U,label:de,rows:Q,summary:re,color:i.value[U]})}),l.has(Wt)){const U=l.get(Wt)||[];f.push({id:Wt,label:_o,rows:U,summary:S(Wt,_o,U),color:i.value[Wt]})}return f});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:u}}function Up(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function rt(e){const t=Number(e);return Number.isFinite(t)?t:null}function us(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function Vp(e){const t=z(()=>{var _;const l=(_=e.charts.value)==null?void 0:_.pie;if(!l||!Array.isArray(l.data)||!Array.isArray(l.labels))return[];const v=l.data.map(S=>Number(S)||0),h=l.labels.map(S=>String(S||"")),w=v.reduce((S,A)=>S+Math.max(0,A),0);if(w<=0)return[];const $=v.map((S,A)=>({name:h[A]||"",value:Math.max(0,S)}));return $.sort((S,A)=>A.value-S.value),$.slice(0,3).map(S=>({name:S.name,share:S.value/w*100}))}),s=z(()=>{var v;if(t.value.length)return t.value.map(h=>`${h.name} ${xo(h.share)}`).join(", ");const l=(v=e.stats)==null?void 0:v.top_calendar;if(l&&l.calendar){const h=Number(l.share??0);return`${l.calendar} ${xo(h)}`}return""}),a=z(()=>{var l;return e.selected.value.length||(((l=e.calendars.value)==null?void 0:l.length)??0)}),n=z(()=>(e.byDay.value||[]).map(l=>Number((l==null?void 0:l.total_hours)??(l==null?void 0:l.hours)??0))),r=z(()=>{const l=n.value.map(v=>Number(v)||0);return e.activeDayMode.value==="active"?l.filter(v=>v>0):l}),o=z(()=>(e.byDay.value||[]).filter(l=>{const v=ko(String(l==null?void 0:l.date));return v>=1&&v<=5}).map(l=>Number((l==null?void 0:l.total_hours)??(l==null?void 0:l.hours)??0))),i=z(()=>(e.byDay.value||[]).filter(l=>{const v=ko(String(l==null?void 0:l.date));return v===0||v===6}).map(l=>Number((l==null?void 0:l.total_hours)??(l==null?void 0:l.hours)??0))),u=z(()=>e.activeDayMode.value==="active"?o.value.filter(l=>l>0):o.value),f=z(()=>e.activeDayMode.value==="active"?i.value.filter(l=>l>0):i.value),p=z(()=>{var h,w,$,_;const l=((h=e.stats)==null?void 0:h.balance_index)??((w=e.stats)==null?void 0:w.balanceIndex)??((_=($=e.stats)==null?void 0:$.balance_overview)==null?void 0:_.index),v=Number(l);return Number.isFinite(v)?v:null}),d=z(()=>{var l,v,h,w;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((l=e.stats)==null?void 0:l.total_hours)??0),avgDay:mn(r.value),avgEvent:Number(((v=e.stats)==null?void 0:v.avg_per_event)??0),medianDay:vn(r.value),busiest:((h=e.stats)==null?void 0:h.busiest_day)??null,workdayAvg:mn(u.value),workdayMedian:vn(u.value),weekendAvg:mn(f.value),weekendMedian:vn(f.value),weekendShare:((w=e.stats)==null?void 0:w.weekend_share)??null,activeCalendars:a.value,calendarSummary:s.value,balanceIndex:p.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),g=z(()=>{const l=e.stats;return{rangeLabel:e.rangeLabel.value,events:Up(l.events),activeDays:rt(l.active_days),typicalStart:us(l.typical_start),typicalEnd:us(l.typical_end),weekendShare:rt(l.weekend_share),eveningShare:rt(l.evening_share),earliestStart:us(l.earliest_start),latestEnd:us(l.latest_end),overlapEvents:rt(l.overlap_events),longestSession:rt(l.longest_session),lastDayOff:us(l.last_day_off),lastHalfDayOff:us(l.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:d,activitySummary:g}}function mn(e){return e.length?e.reduce((s,a)=>s+a,0)/e.length:0}function vn(e){if(!e.length)return 0;const t=[...e].sort((a,n)=>a-n),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function ko(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function xo(e){return`${Number(e||0).toFixed(1)}%`}function zp(e){return{balanceOverview:z(()=>{var d,g,l;const s=(d=e.stats)==null?void 0:d.balance_overview;if(!s||typeof s!="object")return null;const a=Array.isArray(s.categories)?s.categories.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),hours:rt(v==null?void 0:v.hours)??0,share:rt(v==null?void 0:v.share)??0,prevShare:rt(v==null?void 0:v.prev_share)??0,delta:rt(v==null?void 0:v.delta)??0,color:e.categoryColorMap.value[String((v==null?void 0:v.id)??"")]})):[],n=Array.isArray(s.relations)?s.relations.map(v=>({label:String((v==null?void 0:v.label)??""),value:String((v==null?void 0:v.value)??"")})):[],r={delta:Array.isArray((g=s.trend)==null?void 0:g.delta)?s.trend.delta.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),delta:rt(v==null?void 0:v.delta)??0})):[],badge:String(((l=s.trend)==null?void 0:l.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(v=>({date:String((v==null?void 0:v.date)??""),weekday:String((v==null?void 0:v.weekday)??""),total_hours:rt(v==null?void 0:v.total_hours)??0,categories:Array.isArray(v==null?void 0:v.categories)?v.categories.map(h=>({id:String((h==null?void 0:h.id)??""),label:String((h==null?void 0:h.label)??""),hours:rt(h==null?void 0:h.hours)??0,share:rt(h==null?void 0:h.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(v=>String(v)):[],u=Array.isArray(s.warnings)?s.warnings.map(v=>String(v)):[],f=rt(s.index)??0,p=e.balanceCardConfig.value.showInsights?i:[];return{index:f,categories:a,relations:n,trend:r,daily:o,insights:p,warnings:u}})}}const Kp={version:"0.4.3"},qp={class:"app-shell"},Gp={class:"app-main"},Jp={class:"app-container"},Zp={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},Yp=["aria-expanded","aria-label"],Xp=["disabled"],Qp=["disabled","aria-pressed"],eh={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},th=["disabled"],sh=["title"],ah=["disabled"],nh={class:"appbar"},rh={class:"title"},oh=["src"],ih=["textContent"],lh={class:"hint appbar-meta"},ch=["textContent"],uh={key:1,title:"Results truncated for performance"},dh=["title"],fh={class:"cards"},gh={class:"tabs"},ph={class:"card full tab-panel"},hh={key:0,class:"chart-section"},mh={class:"grid2 mt-12"},vh={class:"card chart-card"},yh={class:"card chart-card"},bh={key:1,class:"chart-section"},wh={key:0,class:"category-chart-block"},_h={class:"category-chart-header"},kh={class:"name"},xh={class:"grid2 mt-8"},Sh={class:"card chart-card"},Ch={class:"card chart-card"},$h={class:"card full tab-panel"},Mh={class:"card full tab-panel"},Th={class:"card full tab-panel"},Ah={class:"hint footer"},Dh=["href"],So="opsdash.sidebarOpen",Eh=Pe({__name:"App",setup(e){function t(I){var te,J;const L=window;(J=(te=L.OC)==null?void 0:te.Notification)!=null&&J.showTemporary?L.OC.Notification.showTemporary(I):console.log("SUCCESS:",I)}function s(I){var te,J;const L=window;(J=(te=L.OC)==null?void 0:te.Notification)!=null&&J.showTemporary?L.OC.Notification.showTemporary(I):(console.error("ERROR:",I),alert(I))}const a=ae((()=>{if(typeof window>"u")return!0;const I=window.localStorage.getItem(So);return I==null?!0:I==="1"})()),n=()=>{a.value=!a.value},r=z(()=>a.value?"Hide sidebar":"Show sidebar"),o=z(()=>a.value?"":"");bt(a,I=>{typeof window<"u"&&(window.localStorage.setItem(So,I?"1":"0"),ta(()=>{window.dispatchEvent(new Event("resize"))}))});const i=ae("cal"),u=ae("week"),f=ae(0),p=z(()=>!a.value),d=z(()=>u.value==="week"?"Switch to month":"Switch to week"),g=z(()=>!Me.value||!Oe.value?"":`${Me.value}  ${Oe.value}`);function l(){Ae().catch(console.error)}function v(){u.value=u.value==="week"?"month":"week",f.value=0,Ae().catch(console.error)}function h(){f.value=(f.value||0)-1,Ae().catch(console.error)}function w(){f.value=(f.value||0)+1,Ae().catch(console.error)}const $=z(()=>{const I=Q.value;if(!I)return"Partial data due to caps";const L=[];return I.maxPerCal!=null&&L.push(`cap per calendar: ${I.maxPerCal}`),I.maxTotal!=null&&L.push(`cap total: ${I.maxTotal}`),I.totalProcessed!=null&&L.push(`processed: ${I.totalProcessed}`),L.join("  ")}),_=ae(!1),{scheduleDraw:S}=Ip(),A=Mp({range:u,offset:f,route:I=>Os(I),getJson:xa,postJson:Cn,notifySuccess:t,notifyError:s}),{notesPrev:H,notesCurrDraft:Y,isSavingNote:G,fetchNotes:j,saveNotes:ne}=A,{calendars:q,colorsByName:le,colorsById:ve,groupsById:ke,selected:xe,isLoading:U,isTruncated:de,truncLimits:Q,uid:re,from:Me,to:Oe,stats:Ie,byCal:we,byDay:ye,longest:Ne,charts:Re,targetsWeek:$e,targetsMonth:Se,targetsConfig:Z,load:Ae}=Tp({range:u,offset:f,userChangedSelection:_,route:I=>Os(I),getJson:xa,notifyError:s,scheduleDraw:S,fetchNotes:j,isDebug:ka,fetchDavColors:Zh}),{queueSave:qe}=Ap({route:I=>Os(I),postJson:Cn,notifyError:s,notifySuccess:t,onReload:()=>Ae(),selected:xe,groupsById:ke,targetsWeek:$e,targetsMonth:Se,targetsConfig:Z}),{toggleCalendar:mt,setGroup:m,setTarget:y,updateTargetsConfig:M,selectAll:F}=Ep({calendars:q,selected:xe,groupsById:ke,targetsWeek:$e,targetsMonth:Se,targetsConfig:Z,range:u,queueSave:qe,userChangedSelection:_}),{presets:D,presetsLoading:N,presetSaving:B,presetApplying:W,presetWarnings:R,refreshPresets:O,savePreset:ee,loadPreset:V,deletePreset:X,clearPresetWarnings:se}=Pp({route:(I,L)=>Os(I,L),getJson:xa,postJson:Cn,deleteJson:Gh,notifyError:s,notifySuccess:t,queueSave:qe,selected:xe,groupsById:ke,targetsWeek:$e,targetsMonth:Se,targetsConfig:Z,userChangedSelection:_}),ce=ae("active"),he=z(()=>u.value==="month"?"Month":"Week"),fe=z(()=>{const I=dn(Z.value);return u.value==="month"&&(I.totalHours=un(I.totalHours),I.categories=I.categories.map(L=>({...L,targetHours:un(L.targetHours)}))),I}),Te=z(()=>{const I=fe.value;try{return ju({config:I,stats:Ie,byDay:ye.value||[],byCal:we.value||[],groupsById:ke.value||{},range:u.value,from:Me.value,to:Oe.value})}catch(L){return console.error("[opsdash] targets summary failed",L),Wu(I)}}),He=z(()=>{if(u.value==="month"){const I=Se.value||{};if(I&&Object.keys(I).length>0)return I;const L=$e.value||{},te={};return Object.entries(L).forEach(([J,Le])=>{const Ve=Number(Le);Number.isFinite(Ve)&&(te[J]=un(Ve))}),te}return $e.value||{}}),Be=z(()=>{var I;return{...cs(),...((I=Z.value)==null?void 0:I.activityCard)??{}}}),Ge=z(()=>{var te;const I=ln(),L=((te=Z.value)==null?void 0:te.balance)??I;return{...I,...L,thresholds:{...I.thresholds,...L.thresholds??{}},relations:{...I.relations,...L.relations??{}},trend:{...I.trend,...L.trend??{}},dayparts:{...I.dayparts,...L.dayparts??{}},ui:{...I.ui,...L.ui??{}}}}),vt=z(()=>({showInsights:!!Ge.value.ui.showInsights,showDailyStacks:!!Ge.value.ui.showDailyStacks})),{categoryLabelById:ds,categoryColorMap:Je,calendarCategoryMap:ot,calendarGroups:wt}=jp({calendars:q,selected:xe,groupsById:ke,colorsById:ve,targetsConfig:fe,targetsSummary:Te,byCal:we,currentTargets:He,isDebug:ka}),{balanceOverview:x}=zp({stats:Ie,categoryColorMap:Je,balanceCardConfig:vt}),b=z(()=>{var te,J;if(!Be.value.showHint)return"";const L=(Array.isArray((J=(te=Z.value)==null?void 0:te.balance)==null?void 0:J.categories)?Z.value.balance.categories:[]).map(Le=>{const Ve=String(Le??"").trim();if(!Ve)return"";const it=ds.value[Ve];return it||Ve.toUpperCase()}).filter(Le=>Le);return L.length?`Mapping via Sidebar  ${L.join(" / ")}`:""}),{calendarChartData:P,categoryChartsById:pe}=Np({charts:Re,colorsById:ve,calendarGroups:wt,calendarCategoryMap:ot,targetsConfig:fe,currentTargets:He,activityCardConfig:Be}),ft=z(()=>{const I=wt.value||[];return I.length&&[...I].sort((te,J)=>(J.summary.actualHours||0)-(te.summary.actualHours||0))[0]||null}),{timeSummary:_a,activitySummary:wn}=Vp({stats:Ie,byDay:ye,charts:Re,calendars:q,selected:xe,rangeLabel:he,activeDayMode:ce,topCategory:ft}),_n=ae(null);function Fh(I){_n.value=_n.value===I?null:I}function Rh(I){const L=window;return L.OC&&typeof L.OC.generateUrl=="function"?L.OC.generateUrl("/apps/calendar/timeGridDay/"+I):Ls()+"/index.php/apps/calendar/timeGridDay/"+I}function ka(){return!1}const kn=ae(0),xn=z(()=>{var J;const I=window,L=[];try{if((J=I.OC)!=null&&J.imagePath){const Le=I.OC.imagePath("opsdash","app.svg");Le&&L.push(Le)}}catch{}const te=Ls();return L.push(te+"/apps/opsdash/img/app.svg"),L.push(te+"/apps-extra/opsdash/img/app.svg"),L.push(te+"/apps-writable/opsdash/img/app.svg"),L}),Wh=z(()=>xn.value[Math.min(kn.value,xn.value.length-1)]||"");function Bh(){kn.value+1<xn.value.length&&kn.value++}function $o(I){const L=document.getElementById("app");return(L&&L.dataset?L.dataset[I]:"")||""}const Is=ae($o("opsdashVersion")||String(Kp.version)),Ns=ae($o("opsdashChangelog"));async function jh(){if(!(Is.value&&Ns.value))try{const I=await xa(Os("load").replace("/overview/load","/overview/ping"),{});!Is.value&&typeof(I==null?void 0:I.version)=="string"&&(Is.value=I.version),!Ns.value&&typeof(I==null?void 0:I.changelog)=="string"&&(Ns.value=I.changelog)}catch{}}jh();const Uh=z(()=>u.value==="month"?"Last month":"Last week"),Vh=z(()=>u.value==="month"?"This month":"This week"),zh=z(()=>u.value==="month"?"Notes for previous month":"Notes for previous week"),Kh=z(()=>u.value==="month"?"Notes for current month":"Notes for current week");function Sn(I){return Number(I??0).toFixed(2)}function Ls(){var L,te;const I=window;return I.OC&&(I.OC.webroot||((te=(L=I.OC).getRootPath)==null?void 0:te.call(L)))||I._oc_webroot||""}function qh(I){const L=new URLSearchParams;return Object.entries(I).forEach(([te,J])=>{Array.isArray(J)?J.forEach(Le=>L.append(te,String(Le))):J!=null&&L.set(te,String(J))}),L.toString()}async function xa(I,L){const te=qh(L||{}),J=te?I+(I.includes("?")?"&":"?")+te:I,Le=await fetch(J,{method:"GET",credentials:"same-origin"});if(!Le.ok)throw new Error("HTTP "+Le.status);return await Le.json()}async function Cn(I,L){var it;const te=window,J=((it=te.OC)==null?void 0:it.requestToken)||te.oc_requesttoken||"",Le={"Content-Type":"application/json"};J&&(Le.requesttoken=J);const Ve=await fetch(I,{method:"POST",credentials:"same-origin",headers:Le,body:JSON.stringify(L||{})});if(!Ve.ok)throw new Error("HTTP "+Ve.status);return await Ve.json()}async function Gh(I){var it;const L=window,te=((it=L.OC)==null?void 0:it.requestToken)||L.oc_requesttoken||"",J={};te&&(J.requesttoken=te);const Le=await fetch(I,{method:"DELETE",credentials:"same-origin",headers:J});if(!Le.ok)throw new Error("HTTP "+Le.status);const Ve=await Le.text();return Ve?JSON.parse(Ve):{}}function Os(I,L){const te=window;if(te.OC&&typeof te.OC.generateUrl=="function")return I==="load"?te.OC.generateUrl("/apps/opsdash/overview/load"):I==="persist"?te.OC.generateUrl("/apps/opsdash/overview/persist"):I==="notes"||I==="notesSave"?te.OC.generateUrl("/apps/opsdash/overview/notes"):I==="presetsList"||I==="presetsSave"?te.OC.generateUrl("/apps/opsdash/overview/presets"):I==="presetsLoad"||I==="presetsDelete"?te.OC.generateUrl("/apps/opsdash/overview/presets/"+encodeURIComponent(String(L??""))):te.OC.generateUrl("/apps/opsdash/overview");const J=Ls()+"/apps/opsdash/overview";return I==="load"?J+"/load":I==="persist"?J+"/persist":I==="notes"||I==="notesSave"?J+"/notes":I==="presetsList"||I==="presetsSave"?J+"/presets":I==="presetsLoad"||I==="presetsDelete"?J+"/presets/"+encodeURIComponent(L??""):Ls()+"/apps/opsdash/overview"}function Jh(I){ce.value!==I&&(ce.value=I)}async function Zh(I,L){var Ve;const te={};if(!I)return te;const J=((Ve=window.OC)==null?void 0:Ve.requestToken)||window.oc_requesttoken||"",Le=Ls();for(const it of L)try{const Hs=`${Le}/remote.php/dav/calendars/${encodeURIComponent(I)}/${encodeURIComponent(it)}/`,Yh=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;ka();const Mo=await fetch(Hs,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:J},body:Yh});if(!Mo.ok)continue;const Xh=await Mo.text();ka();const To=Xh.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);To&&(te[it]=To[1])}catch{}return te}return rs(()=>{console.info("[opsdash] start"),Ae().catch(I=>{console.error(I),alert("Initial load failed")}),O().catch(I=>console.warn("[opsdash] presets fetch failed",I))}),bt(u,()=>{f.value=0,Ae().catch(console.error)}),(I,L)=>{const te=Hi("NcAppSidebarToggle");return C(),T("div",{id:"opsdash",class:me(["opsdash",{"is-nav-collapsed":!a.value}])},[ie(k(lc),{"app-name":"Operational Dashboard","show-navigation":a.value},{navigation:We(()=>[ie($p,{id:"opsdash-sidebar",calendars:k(q),selected:k(xe),"groups-by-id":k(ke),"is-loading":k(U),range:u.value,offset:f.value,from:k(Me),to:k(Oe),"targets-week":k($e),"targets-month":k(Se),"targets-config":k(Z),"notes-prev":k(H),"notes-curr-draft":k(Y),"notes-label-prev":Uh.value,"notes-label-curr":Vh.value,"notes-label-prev-title":zh.value,"notes-label-curr-title":Kh.value,"is-saving-note":k(G),"active-day-mode":ce.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,presets:k(D),"presets-loading":k(N),"preset-saving":k(B),"preset-applying":k(W),"preset-warnings":k(R),onLoad:k(Ae),"onUpdate:range":L[0]||(L[0]=J=>{u.value=J,f.value=0,k(Ae)()}),"onUpdate:offset":L[1]||(L[1]=J=>{f.value=J,k(Ae)()}),onSelectAll:L[2]||(L[2]=J=>k(F)(J)),onToggleCalendar:L[3]||(L[3]=J=>k(mt)(J)),onSetGroup:L[4]||(L[4]=J=>k(m)(J.id,J.n)),onSetTarget:L[5]||(L[5]=J=>k(y)(J.id,J.h)),"onUpdate:notes":L[6]||(L[6]=J=>Y.value=J),onSaveNotes:k(ne),"onUpdate:targetsConfig":k(M),"onUpdate:activeMode":Jh,onToggleNav:n,onSavePreset:k(ee),onLoadPreset:k(V),onDeletePreset:k(X),onRefreshPresets:k(O),onClearPresetWarnings:k(se)},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","presets","presets-loading","preset-saving","preset-applying","preset-warnings","onLoad","onSaveNotes","onUpdate:targetsConfig","onSavePreset","onLoadPreset","onDeletePreset","onRefreshPresets","onClearPresetWarnings"])]),"sidebar-toggle":We(()=>[ie(te,{open:a.value,onToggle:n},null,8,["open"])]),default:We(()=>[c("div",qp,[c("div",Gp,[c("div",Jp,[p.value?(C(),T("div",Zp,[c("button",{class:"range-toolbar__btn",type:"button",onClick:n,"aria-expanded":a.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},E(o.value),9,Yp),c("button",{class:"range-toolbar__btn",type:"button",disabled:k(U),onClick:l}," Refresh ",8,Xp),L[11]||(L[11]=c("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),c("button",{class:"range-toolbar__btn",type:"button",disabled:k(U),onClick:v,"aria-pressed":u.value==="month"},E(d.value),9,Qp),c("div",eh,[c("button",{class:"range-toolbar__btn",type:"button",disabled:k(U),onClick:h},"  ",8,th),c("span",{class:"range-toolbar__label",title:g.value},E(g.value),9,sh),c("button",{class:"range-toolbar__btn",type:"button",disabled:k(U),onClick:w},"  ",8,ah)])])):K("",!0),c("div",nh,[c("div",rh,[c("img",{src:Wh.value,onError:Bh,class:"app-icon",alt:"","aria-hidden":"true"},null,40,oh),L[12]||(L[12]=c("span",null,"Operational Dashboard",-1)),c("span",{class:"chip",textContent:E(u.value.toUpperCase())},null,8,ih)]),c("div",lh,[k(U)?(C(),Ke(k(uc),{key:0,size:16})):K("",!0),c("span",{textContent:E(k(re))},null,8,ch),k(de)?(C(),T("span",uh," Partial data")):K("",!0)])]),k(de)?(C(),T("div",{key:1,class:"banner warn",title:$.value},[L[13]||(L[13]=be(" Showing partial data to keep things fast. ",-1)),k(Q)&&k(Q).totalProcessed!=null?(C(),T(ge,{key:0},[be(" Processed "+E(k(Q).totalProcessed)+" items. ",1)],64)):K("",!0)],8,dh)):K("",!0),c("div",fh,[ie(pu,{summary:k(_a),mode:ce.value,config:k(Z).timeSummary},null,8,["summary","mode","config"]),ie(Ru,{summary:Te.value,config:k(Z),groups:k(wt)},null,8,["summary","config","groups"]),ie(cd,{summary:k(wn),"range-label":he.value,"category-hint":b.value,config:Be.value},null,8,["summary","range-label","category-hint","config"]),ie(vd,{overview:k(x),"range-label":he.value,config:vt.value},null,8,["overview","range-label","config"])]),c("div",gh,[c("a",{href:"#",class:me({active:i.value==="cal"}),onClick:L[7]||(L[7]=ha(J=>i.value="cal",["prevent"]))},"By Calendar",2),c("a",{href:"#",class:me({active:i.value==="day"}),onClick:L[8]||(L[8]=ha(J=>i.value="day",["prevent"]))},"By Day",2),c("a",{href:"#",class:me({active:i.value==="top"}),onClick:L[9]||(L[9]=ha(J=>i.value="top",["prevent"]))},"Longest Tasks",2),c("a",{href:"#",class:me({active:i.value==="heat"}),onClick:L[10]||(L[10]=ha(J=>i.value="heat",["prevent"]))},"Heatmap",2)]),ws(c("div",ph,[k(we).length===0?(C(),Ke(k(ma),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),T(ge,{key:1},[ie(Nc,{rows:k(we),n2:Sn,targets:He.value,groups:k(wt)},null,8,["rows","targets","groups"]),k(Z).ui.showCalendarCharts&&(k(P).pie||k(P).stacked)?(C(),T("div",hh,[L[16]||(L[16]=c("h3",{class:"section-title"},"Calendars (all)",-1)),c("div",mh,[c("div",vh,[L[14]||(L[14]=c("div",{class:"chart-card__title"},"Distribution by calendar",-1)),ie(po,{data:k(P).pie,"colors-by-id":k(ve),"colors-by-name":k(le)},null,8,["data","colors-by-id","colors-by-name"])]),c("div",yh,[L[15]||(L[15]=c("div",{class:"chart-card__title"},"Hours per day",-1)),ie(ho,{stacked:k(P).stacked,legacy:k(Re).perDay,"colors-by-id":k(ve)},null,8,["stacked","legacy","colors-by-id"])])])])):K("",!0),k(Z).ui.showCategoryCharts&&k(wt).length?(C(),T("div",bh,[L[19]||(L[19]=c("h3",{class:"section-title"},"Categories",-1)),(C(!0),T(ge,null,Ue(k(wt),J=>{var Le,Ve,it,Hs;return C(),T(ge,{key:"cat-charts-"+J.id},[(Le=k(pe)[J.id])!=null&&Le.pie||(Ve=k(pe)[J.id])!=null&&Ve.stacked?(C(),T("div",wh,[c("div",_h,[c("span",{class:"dot",style:Et({background:k(Je)[J.id]||"var(--brand)"})},null,4),c("span",kh,E(J.label),1)]),c("div",xh,[c("div",Sh,[L[17]||(L[17]=c("div",{class:"chart-card__title"},"Calendar share",-1)),ie(po,{data:(it=k(pe)[J.id])==null?void 0:it.pie,"colors-by-id":k(ve),"colors-by-name":k(le)},null,8,["data","colors-by-id","colors-by-name"])]),c("div",Ch,[L[18]||(L[18]=c("div",{class:"chart-card__title"},"Hours per day",-1)),ie(ho,{stacked:(Hs=k(pe)[J.id])==null?void 0:Hs.stacked,legacy:null,"colors-by-id":k(ve)},null,8,["stacked","colors-by-id"])])])])):K("",!0)],64)}),128))])):K("",!0)],64))],512),[[ga,i.value==="cal"]]),ws(c("div",$h,[k(ye).length===0?(C(),Ke(k(ma),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),Ke(Wc,{key:1,rows:k(ye),n2:Sn,link:Rh},null,8,["rows"]))],512),[[ga,i.value==="day"]]),ws(c("div",Mh,[k(Ne).length===0?(C(),Ke(k(ma),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),Ke(Zc,{key:1,rows:k(Ne),n2:Sn,"details-index":_n.value,onToggle:Fh},null,8,["rows","details-index"]))],512),[[ga,i.value==="top"]]),ws(c("div",Th,[!k(Re).hod||!k(Re).hod.matrix||k(Re).hod.matrix.length===0?(C(),Ke(k(ma),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),T(ge,{key:1},[ie(fc,{hod:k(Re).hod},null,8,["hod"]),L[20]||(L[20]=c("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[ga,i.value==="heat"]]),c("div",Ah,[L[22]||(L[22]=be(" Powered by ",-1)),L[23]||(L[23]=c("strong",null,"Gellert Innovation",-1)),L[24]||(L[24]=be("  Built with ",-1)),L[25]||(L[25]=c("span",{class:"mono"},"opsdash",-1)),Is.value?(C(),T(ge,{key:0},[be(" v"+E(Is.value),1)],64)):K("",!0),Ns.value?(C(),T(ge,{key:1},[L[21]||(L[21]=be("  ",-1)),c("a",{href:Ns.value,target:"_blank",rel:"noreferrer noopener"},"Changelog",8,Dh)],64)):K("",!0)])])])])]),_:1},8,["show-navigation"])],2)}}});let Ps=null,yn=null,Co=!1;function Ph(){if(!(typeof window>"u"))try{wa(),Ih()}catch(e){Hh()&&console.warn("[opsdash] theme boot install failed",e)}}function Ih(){if(Ps||yn||Co)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Ps=new MutationObserver(()=>wa()),e.forEach(t=>{Ps==null||Ps.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>wa();typeof t.addEventListener=="function"?(t.addEventListener("change",s),yn=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),yn=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",wa),Co=!0}function wa(){const e=Nh();if(!e)return;["icon","shortcut icon"].forEach(s=>{let a=document.querySelector(`link[rel="${s}"]`);a||(a=document.createElement("link"),a.rel=s,document.head.appendChild(a)),a.type="image/svg+xml",a.href=e})}function Nh(){const e=Lh()==="dark",t=Oh(),s=t("favicon.svg");if(s)return s;if(e){const n=t("app-dark.svg");if(n)return n}const a=t(e?"app-dark.svg":"app.svg");return a||"/apps-extra/opsdash/img/favicon.svg"}function Lh(){var a,n,r,o,i;const e=(a=document.documentElement)==null?void 0:a.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(n=document.body)==null?void 0:n.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function Oh(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function Hh(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function bn(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=rc(Eh);t.config.errorHandler=(n,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",u={err:n,info:o,name:i,stack:n instanceof Error?n.stack:void 0},f=window;Array.isArray(f.__opsdashErrors)||(f.__opsdashErrors=[]),f.__opsdashErrors.push(u),console.error("[opsdash] Vue error",u)};const s=t.mount(e),a=window;a.__opsdashApp=t,a.__opsdashRoot=s,Ph(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(bn,50):window.addEventListener("DOMContentLoaded",bn,{once:!0})}bn()})();
