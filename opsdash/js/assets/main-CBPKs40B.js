(function(){"use strict";var ra=document.createElement("style");ra.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-1ab0985e]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-1ab0985e]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-1ab0985e]{font-size:12px}.activity-card__meta[data-v-1ab0985e],.activity-card__extra[data-v-1ab0985e]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-1ab0985e],.activity-card__extra strong[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-1ab0985e]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-1ab0985e]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.input-message[data-v-352661e9]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-352661e9]{color:var(--neg)}.input-message.warning[data-v-352661e9]{color:var(--warning)}
/*$vite$:1*/`,document.head.appendChild(ra);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function un(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Te={},qt=[],gt=()=>{},oa=()=>!1,$s=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),dn=e=>e.startsWith("onUpdate:"),Ge=Object.assign,fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ro=Object.prototype.hasOwnProperty,xe=(e,t)=>ro.call(e,t),oe=Array.isArray,Jt=e=>Ts(e)==="[object Map]",ia=e=>Ts(e)==="[object Set]",ie=e=>typeof e=="function",He=e=>typeof e=="string",xt=e=>typeof e=="symbol",Pe=e=>e!==null&&typeof e=="object",la=e=>(Pe(e)||ie(e))&&ie(e.then)&&ie(e.catch),ca=Object.prototype.toString,Ts=e=>ca.call(e),oo=e=>Ts(e).slice(8,-1),ua=e=>Ts(e)==="[object Object]",hn=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rs=un(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},io=/-(\w)/g,Nt=Ms(e=>e.replace(io,(t,s)=>s?s.toUpperCase():"")),lo=/\B([A-Z])/g,Bt=Ms(e=>e.replace(lo,"-$1").toLowerCase()),da=Ms(e=>e.charAt(0).toUpperCase()+e.slice(1)),pn=Ms(e=>e?`on${da(e)}`:""),Ot=(e,t)=>!Object.is(e,t),gn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},fa=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},co=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ha;const As=()=>ha||(ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function St(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=He(n)?po(n):St(n);if(a)for(const r in a)t[r]=a[r]}return t}else if(He(e)||Pe(e))return e}const uo=/;(?![^(]*\))/g,fo=/:([^]+)/,ho=/\/\*[^]*?\*\//g;function po(e){const t={};return e.replace(ho,"").split(uo).forEach(s=>{if(s){const n=s.split(fo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function pe(e){let t="";if(He(e))t=e;else if(oe(e))for(let s=0;s<e.length;s++){const n=pe(e[s]);n&&(t+=n+" ")}else if(Pe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const go=un("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function pa(e){return!!e||e===""}const ga=e=>!!(e&&e.__v_isRef===!0),L=e=>He(e)?e:e==null?"":oe(e)||Pe(e)&&(e.toString===ca||!ie(e.toString))?ga(e)?L(e.value):JSON.stringify(e,ma,2):String(e),ma=(e,t)=>ga(t)?ma(e,t.value):Jt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,a],r)=>(s[mn(n,r)+" =>"]=a,s),{})}:ia(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>mn(s))}:xt(t)?mn(t):Pe(t)&&!oe(t)&&!ua(t)?String(t):t,mn=(e,t="")=>{var s;return xt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tt;class mo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=tt;try{return tt=this,t()}finally{tt=s}}}on(){++this._on===1&&(this.prevScope=tt,tt=this)}off(){this._on>0&&--this._on===0&&(tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function vo(){return tt}let Me;const vn=new WeakSet;class va{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vn.has(this)&&(vn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ba(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Sa(this),wa(this);const t=Me,s=dt;Me=this,dt=!0;try{return this.fn()}finally{_a(this),Me=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_n(t);this.deps=this.depsTail=void 0,Sa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wn(this)&&this.run()}get dirty(){return wn(this)}}let ya=0,os,is;function ba(e,t=!1){if(e.flags|=8,t){e.next=is,is=e;return}e.next=os,os=e}function yn(){ya++}function bn(){if(--ya>0)return;if(is){let t=is;for(is=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;os;){let t=os;for(os=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function wa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _a(e){let t,s=e.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),_n(n),yo(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=s}function wn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ka(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ka(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ls)||(e.globalVersion=ls,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!wn(e))))return;e.flags|=2;const t=e.dep,s=Me,n=dt;Me=e,dt=!0;try{wa(e);const a=e.fn(e._value);(t.version===0||Ot(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Me=s,dt=n,_a(e),e.flags&=-3}}function _n(e,t=!1){const{dep:s,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)_n(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function yo(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const xa=[];function mt(){xa.push(dt),dt=!1}function vt(){const e=xa.pop();dt=e===void 0?!0:e}function Sa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Me;Me=void 0;try{t()}finally{Me=s}}}let ls=0;class bo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Me||!dt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new bo(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,Ca(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=n)}return s}trigger(t){this.version++,ls++,this.notify(t)}notify(t){yn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{bn()}}}function Ca(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ca(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ds=new WeakMap,jt=Symbol(""),xn=Symbol(""),cs=Symbol("");function qe(e,t,s){if(dt&&Me){let n=Ds.get(e);n||Ds.set(e,n=new Map);let a=n.get(s);a||(n.set(s,a=new kn),a.map=n,a.key=s),a.track()}}function Ct(e,t,s,n,a,r){const o=Ds.get(e);if(!o){ls++;return}const i=f=>{f&&f.trigger()};if(yn(),t==="clear")o.forEach(i);else{const f=oe(e),h=f&&hn(s);if(f&&s==="length"){const p=Number(n);o.forEach((u,d)=>{(d==="length"||d===cs||!xt(d)&&d>=p)&&i(u)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),h&&i(o.get(cs)),t){case"add":f?h&&i(o.get("length")):(i(o.get(jt)),Jt(e)&&i(o.get(xn)));break;case"delete":f||(i(o.get(jt)),Jt(e)&&i(o.get(xn)));break;case"set":Jt(e)&&i(o.get(jt));break}}bn()}function wo(e,t){const s=Ds.get(e);return s&&s.get(t)}function Zt(e){const t=ye(e);return t===e?t:(qe(t,"iterate",cs),ut(e)?t:t.map(Ue))}function Is(e){return qe(e=ye(e),"iterate",cs),e}const _o={__proto__:null,[Symbol.iterator](){return Sn(this,Symbol.iterator,Ue)},concat(...e){return Zt(this).concat(...e.map(t=>oe(t)?Zt(t):t))},entries(){return Sn(this,"entries",e=>(e[1]=Ue(e[1]),e))},every(e,t){return $t(this,"every",e,t,void 0,arguments)},filter(e,t){return $t(this,"filter",e,t,s=>s.map(Ue),arguments)},find(e,t){return $t(this,"find",e,t,Ue,arguments)},findIndex(e,t){return $t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return $t(this,"findLast",e,t,Ue,arguments)},findLastIndex(e,t){return $t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return $t(this,"forEach",e,t,void 0,arguments)},includes(...e){return Cn(this,"includes",e)},indexOf(...e){return Cn(this,"indexOf",e)},join(e){return Zt(this).join(e)},lastIndexOf(...e){return Cn(this,"lastIndexOf",e)},map(e,t){return $t(this,"map",e,t,void 0,arguments)},pop(){return us(this,"pop")},push(...e){return us(this,"push",e)},reduce(e,...t){return $a(this,"reduce",e,t)},reduceRight(e,...t){return $a(this,"reduceRight",e,t)},shift(){return us(this,"shift")},some(e,t){return $t(this,"some",e,t,void 0,arguments)},splice(...e){return us(this,"splice",e)},toReversed(){return Zt(this).toReversed()},toSorted(e){return Zt(this).toSorted(e)},toSpliced(...e){return Zt(this).toSpliced(...e)},unshift(...e){return us(this,"unshift",e)},values(){return Sn(this,"values",Ue)}};function Sn(e,t,s){const n=Is(e),a=n[t]();return n!==e&&!ut(e)&&(a._next=a.next,a.next=()=>{const r=a._next();return r.value&&(r.value=s(r.value)),r}),a}const ko=Array.prototype;function $t(e,t,s,n,a,r){const o=Is(e),i=o!==e&&!ut(e),f=o[t];if(f!==ko[t]){const u=f.apply(e,r);return i?Ue(u):u}let h=s;o!==e&&(i?h=function(u,d){return s.call(this,Ue(u),d,e)}:s.length>2&&(h=function(u,d){return s.call(this,u,d,e)}));const p=f.call(o,h,n);return i&&a?a(p):p}function $a(e,t,s,n){const a=Is(e);let r=s;return a!==e&&(ut(e)?s.length>3&&(r=function(o,i,f){return s.call(this,o,i,f,e)}):r=function(o,i,f){return s.call(this,o,Ue(i),f,e)}),a[t](r,...n)}function Cn(e,t,s){const n=ye(e);qe(n,"iterate",cs);const a=n[t](...s);return(a===-1||a===!1)&&Tn(s[0])?(s[0]=ye(s[0]),n[t](...s)):a}function us(e,t,s=[]){mt(),yn();const n=ye(e)[t].apply(e,s);return bn(),vt(),n}const xo=un("__proto__,__v_isRef,__isVue"),Ta=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xt));function So(e){xt(e)||(e=String(e));const t=ye(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Ma{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(a?r?Na:Ea:r?Pa:Ia).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=oe(t);if(!a){let f;if(o&&(f=_o[s]))return f;if(s==="hasOwnProperty")return So}const i=Reflect.get(t,s,Be(t)?t:n);return(xt(s)?Ta.has(s):xo(s))||(a||qe(t,"get",s),r)?i:Be(i)?o&&hn(s)?i:i.value:Pe(i)?a?Oa(i):yt(i):i}}class Aa extends Ma{constructor(t=!1){super(!1,t)}set(t,s,n,a){let r=t[s];if(!this._isShallow){const f=Lt(r);if(!ut(n)&&!Lt(n)&&(r=ye(r),n=ye(n)),!oe(t)&&Be(r)&&!Be(n))return f||(r.value=n),!0}const o=oe(t)&&hn(s)?Number(s)<t.length:xe(t,s),i=Reflect.set(t,s,n,Be(t)?t:a);return t===ye(a)&&(o?Ot(n,r)&&Ct(t,"set",s,n):Ct(t,"add",s,n)),i}deleteProperty(t,s){const n=xe(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&n&&Ct(t,"delete",s,void 0),a}has(t,s){const n=Reflect.has(t,s);return(!xt(s)||!Ta.has(s))&&qe(t,"has",s),n}ownKeys(t){return qe(t,"iterate",oe(t)?"length":jt),Reflect.ownKeys(t)}}class Da extends Ma{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Co=new Aa,$o=new Da,To=new Aa(!0),Mo=new Da(!0),$n=e=>e,Ps=e=>Reflect.getPrototypeOf(e);function Ao(e,t,s){return function(...n){const a=this.__v_raw,r=ye(a),o=Jt(r),i=e==="entries"||e===Symbol.iterator&&o,f=e==="keys"&&o,h=a[e](...n),p=s?$n:t?Ls:Ue;return!t&&qe(r,"iterate",f?xn:jt),{next(){const{value:u,done:d}=h.next();return d?{value:u,done:d}:{value:i?[p(u[0]),p(u[1])]:p(u),done:d}},[Symbol.iterator](){return this}}}}function Es(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Do(e,t){const s={get(a){const r=this.__v_raw,o=ye(r),i=ye(a);e||(Ot(a,i)&&qe(o,"get",a),qe(o,"get",i));const{has:f}=Ps(o),h=t?$n:e?Ls:Ue;if(f.call(o,a))return h(r.get(a));if(f.call(o,i))return h(r.get(i));r!==o&&r.get(a)},get size(){const a=this.__v_raw;return!e&&qe(ye(a),"iterate",jt),a.size},has(a){const r=this.__v_raw,o=ye(r),i=ye(a);return e||(Ot(a,i)&&qe(o,"has",a),qe(o,"has",i)),a===i?r.has(a):r.has(a)||r.has(i)},forEach(a,r){const o=this,i=o.__v_raw,f=ye(i),h=t?$n:e?Ls:Ue;return!e&&qe(f,"iterate",jt),i.forEach((p,u)=>a.call(r,h(p),h(u),o))}};return Ge(s,e?{add:Es("add"),set:Es("set"),delete:Es("delete"),clear:Es("clear")}:{add(a){!t&&!ut(a)&&!Lt(a)&&(a=ye(a));const r=ye(this);return Ps(r).has.call(r,a)||(r.add(a),Ct(r,"add",a,a)),this},set(a,r){!t&&!ut(r)&&!Lt(r)&&(r=ye(r));const o=ye(this),{has:i,get:f}=Ps(o);let h=i.call(o,a);h||(a=ye(a),h=i.call(o,a));const p=f.call(o,a);return o.set(a,r),h?Ot(r,p)&&Ct(o,"set",a,r):Ct(o,"add",a,r),this},delete(a){const r=ye(this),{has:o,get:i}=Ps(r);let f=o.call(r,a);f||(a=ye(a),f=o.call(r,a)),i&&i.call(r,a);const h=r.delete(a);return f&&Ct(r,"delete",a,void 0),h},clear(){const a=ye(this),r=a.size!==0,o=a.clear();return r&&Ct(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=Ao(a,e,t)}),s}function Ns(e,t){const s=Do(e,t);return(n,a,r)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(xe(s,a)&&a in n?s:n,a,r)}const Io={get:Ns(!1,!1)},Po={get:Ns(!1,!0)},Eo={get:Ns(!0,!1)},No={get:Ns(!0,!0)},Ia=new WeakMap,Pa=new WeakMap,Ea=new WeakMap,Na=new WeakMap;function Oo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lo(e){return e.__v_skip||!Object.isExtensible(e)?0:Oo(oo(e))}function yt(e){return Lt(e)?e:Os(e,!1,Co,Io,Ia)}function Ho(e){return Os(e,!1,To,Po,Pa)}function Oa(e){return Os(e,!0,$o,Eo,Ea)}function Ip(e){return Os(e,!0,Mo,No,Na)}function Os(e,t,s,n,a){if(!Pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Lo(e);if(r===0)return e;const o=a.get(e);if(o)return o;const i=new Proxy(e,r===2?n:s);return a.set(e,i),i}function Yt(e){return Lt(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function Lt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Tn(e){return e?!!e.__v_raw:!1}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function Fo(e){return!xe(e,"__v_skip")&&Object.isExtensible(e)&&fa(e,"__v_skip",!0),e}const Ue=e=>Pe(e)?yt(e):e,Ls=e=>Pe(e)?Oa(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function ce(e){return Ro(e,!1)}function Ro(e,t){return Be(e)?e:new Wo(e,t)}class Wo{constructor(t,s){this.dep=new kn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ye(t),this._value=s?t:Ue(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||ut(t)||Lt(t);t=n?t:ye(t),Ot(t,s)&&(this._rawValue=t,this._value=n?t:Ue(t),this.dep.trigger())}}function _(e){return Be(e)?e.value:e}const Bo={get:(e,t,s)=>t==="__v_raw"?e:_(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const a=e[t];return Be(a)&&!Be(s)?(a.value=s,!0):Reflect.set(e,t,s,n)}};function La(e){return Yt(e)?e:new Proxy(e,Bo)}function Ha(e){const t=oe(e)?new Array(e.length):{};for(const s in e)t[s]=Uo(e,s);return t}class jo{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return wo(ye(this._object),this._key)}}function Uo(e,t,s){const n=e[t];return Be(n)?n:new jo(e,t,s)}class Vo{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new kn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ls-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return ba(this,!0),!0}get value(){const t=this.dep.track();return ka(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function zo(e,t,s=!1){let n,a;return ie(e)?n=e:(n=e.get,a=e.set),new Vo(n,a,s)}const Hs={},Fs=new WeakMap;let Ut;function Ko(e,t=!1,s=Ut){if(s){let n=Fs.get(s);n||Fs.set(s,n=[]),n.push(e)}}function Go(e,t,s=Te){const{immediate:n,deep:a,once:r,scheduler:o,augmentJob:i,call:f}=s,h=S=>a?S:ut(S)||a===!1||a===0?Tt(S,1):Tt(S);let p,u,d,l,v=!1,w=!1;if(Be(e)?(u=()=>e.value,v=ut(e)):Yt(e)?(u=()=>h(e),v=!0):oe(e)?(w=!0,v=e.some(S=>Yt(S)||ut(S)),u=()=>e.map(S=>{if(Be(S))return S.value;if(Yt(S))return h(S);if(ie(S))return f?f(S,2):S()})):ie(e)?t?u=f?()=>f(e,2):e:u=()=>{if(d){mt();try{d()}finally{vt()}}const S=Ut;Ut=p;try{return f?f(e,3,[l]):e(l)}finally{Ut=S}}:u=gt,t&&a){const S=u,F=a===!0?1/0:a;u=()=>Tt(S(),F)}const E=vo(),W=()=>{p.stop(),E&&E.active&&fn(E.effects,p)};if(r&&t){const S=t;t=(...F)=>{S(...F),W()}}let $=w?new Array(e.length).fill(Hs):Hs;const I=S=>{if(!(!(p.flags&1)||!p.dirty&&!S))if(t){const F=p.run();if(a||v||(w?F.some((Q,se)=>Ot(Q,$[se])):Ot(F,$))){d&&d();const Q=Ut;Ut=p;try{const se=[F,$===Hs?void 0:w&&$[0]===Hs?[]:$,l];$=F,f?f(t,3,se):t(...se)}finally{Ut=Q}}}else p.run()};return i&&i(I),p=new va(u),p.scheduler=o?()=>o(I,!1):I,l=S=>Ko(S,!1,p),d=p.onStop=()=>{const S=Fs.get(p);if(S){if(f)f(S,4);else for(const F of S)F();Fs.delete(p)}},t?n?I(!0):$=p.run():o?o(I.bind(null,!0),!0):p.run(),W.pause=p.pause.bind(p),W.resume=p.resume.bind(p),W.stop=W,W}function Tt(e,t=1/0,s){if(t<=0||!Pe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Be(e))Tt(e.value,t,s);else if(oe(e))for(let n=0;n<e.length;n++)Tt(e[n],t,s);else if(ia(e)||Jt(e))e.forEach(n=>{Tt(n,t,s)});else if(ua(e)){for(const n in e)Tt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Tt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ds=[];let Mn=!1;function Pp(e,...t){if(Mn)return;Mn=!0,mt();const s=ds.length?ds[ds.length-1].component:null,n=s&&s.appContext.config.warnHandler,a=qo();if(n)Xt(n,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,a.map(({vnode:r})=>`at <${Ar(s,r.type)}>`).join(`
`),a]);else{const r=[`[Vue warn]: ${e}`,...t];a.length&&r.push(`
`,...Jo(a)),console.warn(...r)}vt(),Mn=!1}function qo(){let e=ds[ds.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function Jo(e){const t=[];return e.forEach((s,n)=>{t.push(...n===0?[]:[`
`],...Zo(s))}),t}function Zo({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,a=` at <${Ar(e.component,e.type,n)}`,r=">"+s;return e.props?[a,...Yo(e.props),r]:[a+r]}function Yo(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(n=>{t.push(...Fa(n,e[n]))}),s.length>3&&t.push(" ..."),t}function Fa(e,t,s){return He(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Be(t)?(t=Fa(e,ye(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ie(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ye(t),s?t:[`${e}=`,t])}function Xt(e,t,s,n){try{return n?e(...n):e()}catch(a){Rs(a,t,s)}}function bt(e,t,s,n){if(ie(e)){const a=Xt(e,t,s,n);return a&&la(a)&&a.catch(r=>{Rs(r,t,s)}),a}if(oe(e)){const a=[];for(let r=0;r<e.length;r++)a.push(bt(e[r],t,s,n));return a}}function Rs(e,t,s,n=!0){const a=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Te;if(t){let i=t.parent;const f=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const p=i.ec;if(p){for(let u=0;u<p.length;u++)if(p[u](e,f,h)===!1)return}i=i.parent}if(r){mt(),Xt(r,null,10,[e,f,h]),vt();return}}Xo(e,s,a,n,o)}function Xo(e,t,s,n=!0,a=!1){if(a)throw e;console.error(e)}const Xe=[];let wt=-1;const Qt=[];let Ht=null,es=0;const Ra=Promise.resolve();let Ws=null;function Bs(e){const t=Ws||Ra;return e?t.then(this?e.bind(this):e):t}function Qo(e){let t=wt+1,s=Xe.length;for(;t<s;){const n=t+s>>>1,a=Xe[n],r=fs(a);r<e||r===e&&a.flags&2?t=n+1:s=n}return t}function An(e){if(!(e.flags&1)){const t=fs(e),s=Xe[Xe.length-1];!s||!(e.flags&2)&&t>=fs(s)?Xe.push(e):Xe.splice(Qo(t),0,e),e.flags|=1,Wa()}}function Wa(){Ws||(Ws=Ra.then(Ua))}function ei(e){oe(e)?Qt.push(...e):Ht&&e.id===-1?Ht.splice(es+1,0,e):e.flags&1||(Qt.push(e),e.flags|=1),Wa()}function Ba(e,t,s=wt+1){for(;s<Xe.length;s++){const n=Xe[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Xe.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ja(e){if(Qt.length){const t=[...new Set(Qt)].sort((s,n)=>fs(s)-fs(n));if(Qt.length=0,Ht){Ht.push(...t);return}for(Ht=t,es=0;es<Ht.length;es++){const s=Ht[es];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ht=null,es=0}}const fs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ua(e){try{for(wt=0;wt<Xe.length;wt++){const t=Xe[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Xt(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<Xe.length;wt++){const t=Xe[wt];t&&(t.flags&=-2)}wt=-1,Xe.length=0,ja(),Ws=null,(Xe.length||Qt.length)&&Ua()}}let Je=null,Va=null;function js(e){const t=Je;return Je=e,Va=e&&e.type.__scopeId||null,t}function Ve(e,t=Je,s){if(!t||e._n)return e;const n=(...a)=>{n._d&&kr(-1);const r=js(t);let o;try{o=e(...a)}finally{js(r),n._d&&kr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Us(e,t){if(Je===null)return e;const s=Xs(Je),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[r,o,i,f=Te]=t[a];r&&(ie(r)&&(r={mounted:r,updated:r}),r.deep&&Tt(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:f}))}return e}function Vt(e,t,s,n){const a=e.dirs,r=t&&t.dirs;for(let o=0;o<a.length;o++){const i=a[o];r&&(i.oldValue=r[o].value);let f=i.dir[n];f&&(mt(),bt(f,s,8,[e.el,i,e,t]),vt())}}const ti=Symbol("_vte"),si=e=>e.__isTeleport,ni=Symbol("_leaveCb");function Dn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Dn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function De(e,t){return ie(e)?Ge({name:e.name},t,{setup:e}):e}function za(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function hs(e,t,s,n,a=!1){if(oe(e)){e.forEach((v,w)=>hs(v,t&&(oe(t)?t[w]:t),s,n,a));return}if(ts(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&hs(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?Xs(n.component):n.el,o=a?null:r,{i,r:f}=e,h=t&&t.r,p=i.refs===Te?i.refs={}:i.refs,u=i.setupState,d=ye(u),l=u===Te?oa:v=>xe(d,v);if(h!=null&&h!==f){if(He(h))p[h]=null,l(h)&&(u[h]=null);else if(Be(h)){h.value=null;const v=t;v.k&&(p[v.k]=null)}}if(ie(f))Xt(f,i,12,[o,p]);else{const v=He(f),w=Be(f);if(v||w){const E=()=>{if(e.f){const W=v?l(f)?u[f]:p[f]:f.value;if(a)oe(W)&&fn(W,r);else if(oe(W))W.includes(r)||W.push(r);else if(v)p[f]=[r],l(f)&&(u[f]=p[f]);else{const $=[r];f.value=$,e.k&&(p[e.k]=$)}}else v?(p[f]=o,l(f)&&(u[f]=o)):w&&(f.value=o,e.k&&(p[e.k]=o))};o?(E.id=-1,rt(E,s)):E()}}}As().requestIdleCallback,As().cancelIdleCallback;const ts=e=>!!e.type.__asyncLoader,Ka=e=>e.type.__isKeepAlive;function ai(e,t){Ga(e,"a",t)}function ri(e,t){Ga(e,"da",t)}function Ga(e,t,s=et){const n=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Vs(t,n,s),s){let a=s.parent;for(;a&&a.parent;)Ka(a.parent.vnode)&&oi(n,t,s,a),a=a.parent}}function oi(e,t,s,n){const a=Vs(t,e,n,!0);Ja(()=>{fn(n[t],a)},s)}function Vs(e,t,s=et,n=!1){if(s){const a=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{mt();const i=_s(s),f=bt(t,s,e,o);return i(),vt(),f});return n?a.unshift(r):a.push(r),r}}const Mt=e=>(t,s=et)=>{(!ks||e==="sp")&&Vs(e,(...n)=>t(...n),s)},ii=Mt("bm"),ps=Mt("m"),li=Mt("bu"),ci=Mt("u"),qa=Mt("bum"),Ja=Mt("um"),ui=Mt("sp"),di=Mt("rtg"),fi=Mt("rtc");function hi(e,t=et){Vs("ec",e,t)}const pi=Symbol.for("v-ndc");function ze(e,t,s,n){let a;const r=s,o=oe(e);if(o||He(e)){const i=o&&Yt(e);let f=!1,h=!1;i&&(f=!ut(e),h=Lt(e),e=Is(e)),a=new Array(e.length);for(let p=0,u=e.length;p<u;p++)a[p]=t(f?h?Ls(Ue(e[p])):Ue(e[p]):e[p],p,void 0,r)}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,r)}else if(Pe(e))if(e[Symbol.iterator])a=Array.from(e,(i,f)=>t(i,f,void 0,r));else{const i=Object.keys(e);a=new Array(i.length);for(let f=0,h=i.length;f<h;f++){const p=i[f];a[f]=t(e[p],p,f,r)}}else a=[];return a}function gi(e,t,s={},n,a){if(Je.ce||Je.parent&&ts(Je.parent)&&Je.parent.ce)return s.name=t,k(),Ke(ue,null,[le("slot",s,n)],64);let r=e[t];r&&r._c&&(r._d=!1),k();const o=r&&Za(r(s)),i=s.key||o&&o.key,f=Ke(ue,{key:(i&&!xt(i)?i:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),f}function Za(e){return e.some(t=>bs(t)?!(t.type===At||t.type===ue&&!Za(t.children)):!0)?e:null}const In=e=>e?$r(e)?Xs(e):In(e.parent):null,gs=Ge(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>In(e.parent),$root:e=>In(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>er(e),$forceUpdate:e=>e.f||(e.f=()=>{An(e.update)}),$nextTick:e=>e.n||(e.n=Bs.bind(e.proxy)),$watch:e=>Hi.bind(e)}),Pn=(e,t)=>e!==Te&&!e.__isScriptSetup&&xe(e,t),mi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:r,accessCache:o,type:i,appContext:f}=e;let h;if(t[0]!=="$"){const l=o[t];if(l!==void 0)switch(l){case 1:return n[t];case 2:return a[t];case 4:return s[t];case 3:return r[t]}else{if(Pn(n,t))return o[t]=1,n[t];if(a!==Te&&xe(a,t))return o[t]=2,a[t];if((h=e.propsOptions[0])&&xe(h,t))return o[t]=3,r[t];if(s!==Te&&xe(s,t))return o[t]=4,s[t];En&&(o[t]=0)}}const p=gs[t];let u,d;if(p)return t==="$attrs"&&qe(e.attrs,"get",""),p(e);if((u=i.__cssModules)&&(u=u[t]))return u;if(s!==Te&&xe(s,t))return o[t]=4,s[t];if(d=f.config.globalProperties,xe(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:a,ctx:r}=e;return Pn(a,t)?(a[t]=s,!0):n!==Te&&xe(n,t)?(n[t]=s,!0):xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:a,propsOptions:r,type:o}},i){let f,h;return!!(s[i]||e!==Te&&i[0]!=="$"&&xe(e,i)||Pn(t,i)||(f=r[0])&&xe(f,i)||xe(n,i)||xe(gs,i)||xe(a.config.globalProperties,i)||(h=o.__cssModules)&&h[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:xe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ya(e){return oe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let En=!0;function vi(e){const t=er(e),s=e.proxy,n=e.ctx;En=!1,t.beforeCreate&&Xa(t.beforeCreate,e,"bc");const{data:a,computed:r,methods:o,watch:i,provide:f,inject:h,created:p,beforeMount:u,mounted:d,beforeUpdate:l,updated:v,activated:w,deactivated:E,beforeDestroy:W,beforeUnmount:$,destroyed:I,unmounted:S,render:F,renderTracked:Q,renderTriggered:se,errorCaptured:te,serverPrefetch:fe,expose:G,inheritAttrs:ke,components:$e,directives:ge,filters:Ae}=t;if(h&&yi(h,n,null),o)for(const ee in o){const Z=o[ee];ie(Z)&&(n[ee]=Z.bind(s))}if(a){const ee=a.call(s,s);Pe(ee)&&(e.data=yt(ee))}if(En=!0,r)for(const ee in r){const Z=r[ee],X=ie(Z)?Z.bind(s,s):ie(Z.get)?Z.get.bind(s,s):gt,me=!ie(Z)&&ie(Z.set)?Z.set.bind(s):gt,_e=K({get:X,set:me});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>_e.value,set:he=>_e.value=he})}if(i)for(const ee in i)Qa(i[ee],n,s,ee);if(f){const ee=ie(f)?f.call(s):f;Reflect.ownKeys(ee).forEach(Z=>{Si(Z,ee[Z])})}p&&Xa(p,e,"c");function ae(ee,Z){oe(Z)?Z.forEach(X=>ee(X.bind(s))):Z&&ee(Z.bind(s))}if(ae(ii,u),ae(ps,d),ae(li,l),ae(ci,v),ae(ai,w),ae(ri,E),ae(hi,te),ae(fi,Q),ae(di,se),ae(qa,$),ae(Ja,S),ae(ui,fe),oe(G))if(G.length){const ee=e.exposed||(e.exposed={});G.forEach(Z=>{Object.defineProperty(ee,Z,{get:()=>s[Z],set:X=>s[Z]=X,enumerable:!0})})}else e.exposed||(e.exposed={});F&&e.render===gt&&(e.render=F),ke!=null&&(e.inheritAttrs=ke),$e&&(e.components=$e),ge&&(e.directives=ge),fe&&za(e)}function yi(e,t,s=gt){oe(e)&&(e=Nn(e));for(const n in e){const a=e[n];let r;Pe(a)?"default"in a?r=Ks(a.from||n,a.default,!0):r=Ks(a.from||n):r=Ks(a),Be(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function Xa(e,t,s){bt(oe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Qa(e,t,s,n){let a=n.includes(".")?vr(s,n):()=>s[n];if(He(e)){const r=t[e];ie(r)&&ft(a,r)}else if(ie(e))ft(a,e.bind(s));else if(Pe(e))if(oe(e))e.forEach(r=>Qa(r,t,s,n));else{const r=ie(e.handler)?e.handler.bind(s):t[e.handler];ie(r)&&ft(a,r,e)}}function er(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:a,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let f;return i?f=i:!a.length&&!s&&!n?f=t:(f={},a.length&&a.forEach(h=>zs(f,h,o,!0)),zs(f,t,o)),Pe(t)&&r.set(t,f),f}function zs(e,t,s,n=!1){const{mixins:a,extends:r}=t;r&&zs(e,r,s,!0),a&&a.forEach(o=>zs(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const i=bi[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const bi={data:tr,props:sr,emits:sr,methods:ms,computed:ms,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:ms,directives:ms,watch:_i,provide:tr,inject:wi};function tr(e,t){return t?e?function(){return Ge(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function wi(e,t){return ms(Nn(e),Nn(t))}function Nn(e){if(oe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Qe(e,t){return e?[...new Set([].concat(e,t))]:t}function ms(e,t){return e?Ge(Object.create(null),e,t):t}function sr(e,t){return e?oe(e)&&oe(t)?[...new Set([...e,...t])]:Ge(Object.create(null),Ya(e),Ya(t??{})):t}function _i(e,t){if(!e)return t;if(!t)return e;const s=Ge(Object.create(null),e);for(const n in t)s[n]=Qe(e[n],t[n]);return s}function nr(){return{app:null,config:{isNativeTag:oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ki=0;function xi(e,t){return function(n,a=null){ie(n)||(n=Ge({},n)),a!=null&&!Pe(a)&&(a=null);const r=nr(),o=new WeakSet,i=[];let f=!1;const h=r.app={_uid:ki++,_component:n,_props:a,_container:null,_context:r,_instance:null,version:ll,get config(){return r.config},set config(p){},use(p,...u){return o.has(p)||(p&&ie(p.install)?(o.add(p),p.install(h,...u)):ie(p)&&(o.add(p),p(h,...u))),h},mixin(p){return r.mixins.includes(p)||r.mixins.push(p),h},component(p,u){return u?(r.components[p]=u,h):r.components[p]},directive(p,u){return u?(r.directives[p]=u,h):r.directives[p]},mount(p,u,d){if(!f){const l=h._ceVNode||le(n,a);return l.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(l,p,d),f=!0,h._container=p,p.__vue_app__=h,Xs(l.component)}},onUnmount(p){i.push(p)},unmount(){f&&(bt(i,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(p,u){return r.provides[p]=u,h},runWithContext(p){const u=ss;ss=h;try{return p()}finally{ss=u}}};return h}}let ss=null;function Si(e,t){if(et){let s=et.provides;const n=et.parent&&et.parent.provides;n===s&&(s=et.provides=Object.create(n)),s[e]=t}}function Ks(e,t,s=!1){const n=Qi();if(n||ss){let a=ss?ss._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&ie(t)?t.call(n&&n.proxy):t}}const ar={},rr=()=>Object.create(ar),or=e=>Object.getPrototypeOf(e)===ar;function Ci(e,t,s,n=!1){const a={},r=rr();e.propsDefaults=Object.create(null),ir(e,t,a,r);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);s?e.props=n?a:Ho(a):e.type.props?e.props=a:e.props=r,e.attrs=r}function $i(e,t,s,n){const{props:a,attrs:r,vnode:{patchFlag:o}}=e,i=ye(a),[f]=e.propsOptions;let h=!1;if((n||o>0)&&!(o&16)){if(o&8){const p=e.vnode.dynamicProps;for(let u=0;u<p.length;u++){let d=p[u];if(Gs(e.emitsOptions,d))continue;const l=t[d];if(f)if(xe(r,d))l!==r[d]&&(r[d]=l,h=!0);else{const v=Nt(d);a[v]=On(f,i,v,l,e,!1)}else l!==r[d]&&(r[d]=l,h=!0)}}}else{ir(e,t,a,r)&&(h=!0);let p;for(const u in i)(!t||!xe(t,u)&&((p=Bt(u))===u||!xe(t,p)))&&(f?s&&(s[u]!==void 0||s[p]!==void 0)&&(a[u]=On(f,i,u,void 0,e,!0)):delete a[u]);if(r!==i)for(const u in r)(!t||!xe(t,u))&&(delete r[u],h=!0)}h&&Ct(e.attrs,"set","")}function ir(e,t,s,n){const[a,r]=e.propsOptions;let o=!1,i;if(t)for(let f in t){if(rs(f))continue;const h=t[f];let p;a&&xe(a,p=Nt(f))?!r||!r.includes(p)?s[p]=h:(i||(i={}))[p]=h:Gs(e.emitsOptions,f)||(!(f in n)||h!==n[f])&&(n[f]=h,o=!0)}if(r){const f=ye(s),h=i||Te;for(let p=0;p<r.length;p++){const u=r[p];s[u]=On(a,f,u,h[u],e,!xe(h,u))}}return o}function On(e,t,s,n,a,r){const o=e[s];if(o!=null){const i=xe(o,"default");if(i&&n===void 0){const f=o.default;if(o.type!==Function&&!o.skipFactory&&ie(f)){const{propsDefaults:h}=a;if(s in h)n=h[s];else{const p=_s(a);n=h[s]=f.call(null,t),p()}}else n=f;a.ce&&a.ce._setProp(s,n)}o[0]&&(r&&!i?n=!1:o[1]&&(n===""||n===Bt(s))&&(n=!0))}return n}const Ti=new WeakMap;function lr(e,t,s=!1){const n=s?Ti:t.propsCache,a=n.get(e);if(a)return a;const r=e.props,o={},i=[];let f=!1;if(!ie(e)){const p=u=>{f=!0;const[d,l]=lr(u,t,!0);Ge(o,d),l&&i.push(...l)};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!r&&!f)return Pe(e)&&n.set(e,qt),qt;if(oe(r))for(let p=0;p<r.length;p++){const u=Nt(r[p]);cr(u)&&(o[u]=Te)}else if(r)for(const p in r){const u=Nt(p);if(cr(u)){const d=r[p],l=o[u]=oe(d)||ie(d)?{type:d}:Ge({},d),v=l.type;let w=!1,E=!0;if(oe(v))for(let W=0;W<v.length;++W){const $=v[W],I=ie($)&&$.name;if(I==="Boolean"){w=!0;break}else I==="String"&&(E=!1)}else w=ie(v)&&v.name==="Boolean";l[0]=w,l[1]=E,(w||xe(l,"default"))&&i.push(u)}}const h=[o,i];return Pe(e)&&n.set(e,h),h}function cr(e){return e[0]!=="$"&&!rs(e)}const Ln=e=>e==="_"||e==="_ctx"||e==="$stable",Hn=e=>oe(e)?e.map(_t):[_t(e)],Mi=(e,t,s)=>{if(t._n)return t;const n=Ve((...a)=>Hn(t(...a)),s);return n._c=!1,n},ur=(e,t,s)=>{const n=e._ctx;for(const a in e){if(Ln(a))continue;const r=e[a];if(ie(r))t[a]=Mi(a,r,n);else if(r!=null){const o=Hn(r);t[a]=()=>o}}},dr=(e,t)=>{const s=Hn(t);e.slots.default=()=>s},fr=(e,t,s)=>{for(const n in t)(s||!Ln(n))&&(e[n]=t[n])},Ai=(e,t,s)=>{const n=e.slots=rr();if(e.vnode.shapeFlag&32){const a=t._;a?(fr(n,t,s),s&&fa(n,"_",a,!0)):ur(t,n)}else t&&dr(e,t)},Di=(e,t,s)=>{const{vnode:n,slots:a}=e;let r=!0,o=Te;if(n.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:fr(a,t,s):(r=!t.$stable,ur(t,a)),o=t}else t&&(dr(e,t),o={default:1});if(r)for(const i in a)!Ln(i)&&o[i]==null&&delete a[i]},rt=Vi;function Ii(e){return Pi(e)}function Pi(e,t){const s=As();s.__VUE__=!0;const{insert:n,remove:a,patchProp:r,createElement:o,createText:i,createComment:f,setText:h,setElementText:p,parentNode:u,nextSibling:d,setScopeId:l=gt,insertStaticContent:v}=e,w=(g,m,x,N=null,M=null,A=null,B=void 0,H=null,R=!!m.dynamicChildren)=>{if(g===m)return;g&&!ws(g,m)&&(N=Oe(g),he(g,M,A,!0),g=null),m.patchFlag===-2&&(R=!1,m.dynamicChildren=null);const{type:O,ref:q,shapeFlag:U}=m;switch(O){case qs:E(g,m,x,N);break;case At:W(g,m,x,N);break;case Js:g==null&&$(m,x,N,B);break;case ue:$e(g,m,x,N,M,A,B,H,R);break;default:U&1?F(g,m,x,N,M,A,B,H,R):U&6?ge(g,m,x,N,M,A,B,H,R):(U&64||U&128)&&O.process(g,m,x,N,M,A,B,H,R,je)}q!=null&&M?hs(q,g&&g.ref,A,m||g,!m):q==null&&g&&g.ref!=null&&hs(g.ref,null,A,g,!0)},E=(g,m,x,N)=>{if(g==null)n(m.el=i(m.children),x,N);else{const M=m.el=g.el;m.children!==g.children&&h(M,m.children)}},W=(g,m,x,N)=>{g==null?n(m.el=f(m.children||""),x,N):m.el=g.el},$=(g,m,x,N)=>{[g.el,g.anchor]=v(g.children,m,x,N,g.el,g.anchor)},I=({el:g,anchor:m},x,N)=>{let M;for(;g&&g!==m;)M=d(g),n(g,x,N),g=M;n(m,x,N)},S=({el:g,anchor:m})=>{let x;for(;g&&g!==m;)x=d(g),a(g),g=x;a(m)},F=(g,m,x,N,M,A,B,H,R)=>{m.type==="svg"?B="svg":m.type==="math"&&(B="mathml"),g==null?Q(m,x,N,M,A,B,H,R):fe(g,m,M,A,B,H,R)},Q=(g,m,x,N,M,A,B,H)=>{let R,O;const{props:q,shapeFlag:U,transition:J,dirs:ne}=g;if(R=g.el=o(g.type,A,q&&q.is,q),U&8?p(R,g.children):U&16&&te(g.children,R,null,N,M,Fn(g,A),B,H),ne&&Vt(g,null,N,"created"),se(R,g,g.scopeId,B,N),q){for(const Ce in q)Ce!=="value"&&!rs(Ce)&&r(R,Ce,null,q[Ce],A,N);"value"in q&&r(R,"value",null,q.value,A),(O=q.onVnodeBeforeMount)&&kt(O,N,g)}ne&&Vt(g,null,N,"beforeMount");const de=Ei(M,J);de&&J.beforeEnter(R),n(R,m,x),((O=q&&q.onVnodeMounted)||de||ne)&&rt(()=>{O&&kt(O,N,g),de&&J.enter(R),ne&&Vt(g,null,N,"mounted")},M)},se=(g,m,x,N,M)=>{if(x&&l(g,x),N)for(let A=0;A<N.length;A++)l(g,N[A]);if(M){let A=M.subTree;if(m===A||_r(A.type)&&(A.ssContent===m||A.ssFallback===m)){const B=M.vnode;se(g,B,B.scopeId,B.slotScopeIds,M.parent)}}},te=(g,m,x,N,M,A,B,H,R=0)=>{for(let O=R;O<g.length;O++){const q=g[O]=H?Ft(g[O]):_t(g[O]);w(null,q,m,x,N,M,A,B,H)}},fe=(g,m,x,N,M,A,B)=>{const H=m.el=g.el;let{patchFlag:R,dynamicChildren:O,dirs:q}=m;R|=g.patchFlag&16;const U=g.props||Te,J=m.props||Te;let ne;if(x&&zt(x,!1),(ne=J.onVnodeBeforeUpdate)&&kt(ne,x,m,g),q&&Vt(m,g,x,"beforeUpdate"),x&&zt(x,!0),(U.innerHTML&&J.innerHTML==null||U.textContent&&J.textContent==null)&&p(H,""),O?G(g.dynamicChildren,O,H,x,N,Fn(m,M),A):B||Z(g,m,H,null,x,N,Fn(m,M),A,!1),R>0){if(R&16)ke(H,U,J,x,M);else if(R&2&&U.class!==J.class&&r(H,"class",null,J.class,M),R&4&&r(H,"style",U.style,J.style,M),R&8){const de=m.dynamicProps;for(let Ce=0;Ce<de.length;Ce++){const be=de[Ce],Fe=U[be],Re=J[be];(Re!==Fe||be==="value")&&r(H,be,Fe,Re,M,x)}}R&1&&g.children!==m.children&&p(H,m.children)}else!B&&O==null&&ke(H,U,J,x,M);((ne=J.onVnodeUpdated)||q)&&rt(()=>{ne&&kt(ne,x,m,g),q&&Vt(m,g,x,"updated")},N)},G=(g,m,x,N,M,A,B)=>{for(let H=0;H<m.length;H++){const R=g[H],O=m[H],q=R.el&&(R.type===ue||!ws(R,O)||R.shapeFlag&198)?u(R.el):x;w(R,O,q,null,N,M,A,B,!0)}},ke=(g,m,x,N,M)=>{if(m!==x){if(m!==Te)for(const A in m)!rs(A)&&!(A in x)&&r(g,A,m[A],null,M,N);for(const A in x){if(rs(A))continue;const B=x[A],H=m[A];B!==H&&A!=="value"&&r(g,A,H,B,M,N)}"value"in x&&r(g,"value",m.value,x.value,M)}},$e=(g,m,x,N,M,A,B,H,R)=>{const O=m.el=g?g.el:i(""),q=m.anchor=g?g.anchor:i("");let{patchFlag:U,dynamicChildren:J,slotScopeIds:ne}=m;ne&&(H=H?H.concat(ne):ne),g==null?(n(O,x,N),n(q,x,N),te(m.children||[],x,q,M,A,B,H,R)):U>0&&U&64&&J&&g.dynamicChildren?(G(g.dynamicChildren,J,x,M,A,B,H),(m.key!=null||M&&m===M.subTree)&&hr(g,m,!0)):Z(g,m,x,q,M,A,B,H,R)},ge=(g,m,x,N,M,A,B,H,R)=>{m.slotScopeIds=H,g==null?m.shapeFlag&512?M.ctx.activate(m,x,N,B,R):Ae(m,x,N,M,A,B,R):V(g,m,R)},Ae=(g,m,x,N,M,A,B)=>{const H=g.component=Xi(g,N,M);if(Ka(g)&&(H.ctx.renderer=je),el(H,!1,B),H.asyncDep){if(M&&M.registerDep(H,ae,B),!g.el){const R=H.subTree=le(At);W(null,R,m,x),g.placeholder=R.el}}else ae(H,g,m,x,M,A,B)},V=(g,m,x)=>{const N=m.component=g.component;if(ji(g,m,x))if(N.asyncDep&&!N.asyncResolved){ee(N,m,x);return}else N.next=m,N.update();else m.el=g.el,N.vnode=m},ae=(g,m,x,N,M,A,B)=>{const H=()=>{if(g.isMounted){let{next:U,bu:J,u:ne,parent:de,vnode:Ce}=g;{const at=pr(g);if(at){U&&(U.el=Ce.el,ee(g,U,B)),at.asyncDep.then(()=>{g.isUnmounted||H()});return}}let be=U,Fe;zt(g,!1),U?(U.el=Ce.el,ee(g,U,B)):U=Ce,J&&gn(J),(Fe=U.props&&U.props.onVnodeBeforeUpdate)&&kt(Fe,de,U,Ce),zt(g,!0);const Re=br(g),Ze=g.subTree;g.subTree=Re,w(Ze,Re,u(Ze.el),Oe(Ze),g,M,A),U.el=Re.el,be===null&&Ui(g,Re.el),ne&&rt(ne,M),(Fe=U.props&&U.props.onVnodeUpdated)&&rt(()=>kt(Fe,de,U,Ce),M)}else{let U;const{el:J,props:ne}=m,{bm:de,m:Ce,parent:be,root:Fe,type:Re}=g,Ze=ts(m);zt(g,!1),de&&gn(de),!Ze&&(U=ne&&ne.onVnodeBeforeMount)&&kt(U,be,m),zt(g,!0);{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(Re);const at=g.subTree=br(g);w(null,at,x,N,g,M,A),m.el=at.el}if(Ce&&rt(Ce,M),!Ze&&(U=ne&&ne.onVnodeMounted)){const at=m;rt(()=>kt(U,be,at),M)}(m.shapeFlag&256||be&&ts(be.vnode)&&be.vnode.shapeFlag&256)&&g.a&&rt(g.a,M),g.isMounted=!0,m=x=N=null}};g.scope.on();const R=g.effect=new va(H);g.scope.off();const O=g.update=R.run.bind(R),q=g.job=R.runIfDirty.bind(R);q.i=g,q.id=g.uid,R.scheduler=()=>An(q),zt(g,!0),O()},ee=(g,m,x)=>{m.component=g;const N=g.vnode.props;g.vnode=m,g.next=null,$i(g,m.props,N,x),Di(g,m.children,x),mt(),Ba(g),vt()},Z=(g,m,x,N,M,A,B,H,R=!1)=>{const O=g&&g.children,q=g?g.shapeFlag:0,U=m.children,{patchFlag:J,shapeFlag:ne}=m;if(J>0){if(J&128){me(O,U,x,N,M,A,B,H,R);return}else if(J&256){X(O,U,x,N,M,A,B,H,R);return}}ne&8?(q&16&&Se(O,M,A),U!==O&&p(x,U)):q&16?ne&16?me(O,U,x,N,M,A,B,H,R):Se(O,M,A,!0):(q&8&&p(x,""),ne&16&&te(U,x,N,M,A,B,H,R))},X=(g,m,x,N,M,A,B,H,R)=>{g=g||qt,m=m||qt;const O=g.length,q=m.length,U=Math.min(O,q);let J;for(J=0;J<U;J++){const ne=m[J]=R?Ft(m[J]):_t(m[J]);w(g[J],ne,x,null,M,A,B,H,R)}O>q?Se(g,M,A,!0,!1,U):te(m,x,N,M,A,B,H,R,U)},me=(g,m,x,N,M,A,B,H,R)=>{let O=0;const q=m.length;let U=g.length-1,J=q-1;for(;O<=U&&O<=J;){const ne=g[O],de=m[O]=R?Ft(m[O]):_t(m[O]);if(ws(ne,de))w(ne,de,x,null,M,A,B,H,R);else break;O++}for(;O<=U&&O<=J;){const ne=g[U],de=m[J]=R?Ft(m[J]):_t(m[J]);if(ws(ne,de))w(ne,de,x,null,M,A,B,H,R);else break;U--,J--}if(O>U){if(O<=J){const ne=J+1,de=ne<q?m[ne].el:N;for(;O<=J;)w(null,m[O]=R?Ft(m[O]):_t(m[O]),x,de,M,A,B,H,R),O++}}else if(O>J)for(;O<=U;)he(g[O],M,A,!0),O++;else{const ne=O,de=O,Ce=new Map;for(O=de;O<=J;O++){const T=m[O]=R?Ft(m[O]):_t(m[O]);T.key!=null&&Ce.set(T.key,O)}let be,Fe=0;const Re=J-de+1;let Ze=!1,at=0;const b=new Array(Re);for(O=0;O<Re;O++)b[O]=0;for(O=ne;O<=U;O++){const T=g[O];if(Fe>=Re){he(T,M,A,!0);continue}let Y;if(T.key!=null)Y=Ce.get(T.key);else for(be=de;be<=J;be++)if(b[be-de]===0&&ws(T,m[be])){Y=be;break}Y===void 0?he(T,M,A,!0):(b[Y-de]=O+1,Y>=at?at=Y:Ze=!0,w(T,m[Y],x,null,M,A,B,H,R),Fe++)}const y=Ze?Ni(b):qt;for(be=y.length-1,O=Re-1;O>=0;O--){const T=de+O,Y=m[T],Ye=m[T+1],Gt=T+1<q?Ye.el||Ye.placeholder:N;b[O]===0?w(null,Y,x,Gt,M,A,B,H,R):Ze&&(be<0||O!==y[be]?_e(Y,x,Gt,2):be--)}}},_e=(g,m,x,N,M=null)=>{const{el:A,type:B,transition:H,children:R,shapeFlag:O}=g;if(O&6){_e(g.component.subTree,m,x,N);return}if(O&128){g.suspense.move(m,x,N);return}if(O&64){B.move(g,m,x,je);return}if(B===ue){n(A,m,x);for(let U=0;U<R.length;U++)_e(R[U],m,x,N);n(g.anchor,m,x);return}if(B===Js){I(g,m,x);return}if(N!==2&&O&1&&H)if(N===0)H.beforeEnter(A),n(A,m,x),rt(()=>H.enter(A),M);else{const{leave:U,delayLeave:J,afterLeave:ne}=H,de=()=>{g.ctx.isUnmounted?a(A):n(A,m,x)},Ce=()=>{A._isLeaving&&A[ni](!0),U(A,()=>{de(),ne&&ne()})};J?J(A,de,Ce):Ce()}else n(A,m,x)},he=(g,m,x,N=!1,M=!1)=>{const{type:A,props:B,ref:H,children:R,dynamicChildren:O,shapeFlag:q,patchFlag:U,dirs:J,cacheIndex:ne}=g;if(U===-2&&(M=!1),H!=null&&(mt(),hs(H,null,x,g,!0),vt()),ne!=null&&(m.renderCache[ne]=void 0),q&256){m.ctx.deactivate(g);return}const de=q&1&&J,Ce=!ts(g);let be;if(Ce&&(be=B&&B.onVnodeBeforeUnmount)&&kt(be,m,g),q&6)Ie(g.component,x,N);else{if(q&128){g.suspense.unmount(x,N);return}de&&Vt(g,null,m,"beforeUnmount"),q&64?g.type.remove(g,m,x,je,N):O&&!O.hasOnce&&(A!==ue||U>0&&U&64)?Se(O,m,x,!1,!0):(A===ue&&U&384||!M&&q&16)&&Se(R,m,x),N&&Ne(g)}(Ce&&(be=B&&B.onVnodeUnmounted)||de)&&rt(()=>{be&&kt(be,m,g),de&&Vt(g,null,m,"unmounted")},x)},Ne=g=>{const{type:m,el:x,anchor:N,transition:M}=g;if(m===ue){We(x,N);return}if(m===Js){S(g);return}const A=()=>{a(x),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(g.shapeFlag&1&&M&&!M.persisted){const{leave:B,delayLeave:H}=M,R=()=>B(x,A);H?H(g.el,A,R):R()}else A()},We=(g,m)=>{let x;for(;g!==m;)x=d(g),a(g),g=x;a(m)},Ie=(g,m,x)=>{const{bum:N,scope:M,job:A,subTree:B,um:H,m:R,a:O}=g;gr(R),gr(O),N&&gn(N),M.stop(),A&&(A.flags|=8,he(B,g,m,x)),H&&rt(H,m),rt(()=>{g.isUnmounted=!0},m)},Se=(g,m,x,N=!1,M=!1,A=0)=>{for(let B=A;B<g.length;B++)he(g[B],m,x,N,M)},Oe=g=>{if(g.shapeFlag&6)return Oe(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=d(g.anchor||g.el),x=m&&m[ti];return x?d(x):m};let Le=!1;const lt=(g,m,x)=>{g==null?m._vnode&&he(m._vnode,null,null,!0):w(m._vnode||null,g,m,null,null,null,x),m._vnode=g,Le||(Le=!0,Ba(),ja(),Le=!1)},je={p:w,um:he,m:_e,r:Ne,mt:Ae,mc:te,pc:Z,pbc:G,n:Oe,o:e};return{render:lt,hydrate:void 0,createApp:xi(lt)}}function Fn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function zt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ei(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function hr(e,t,s=!1){const n=e.children,a=t.children;if(oe(n)&&oe(a))for(let r=0;r<n.length;r++){const o=n[r];let i=a[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[r]=Ft(a[r]),i.el=o.el),!s&&i.patchFlag!==-2&&hr(o,i)),i.type===qs&&i.patchFlag!==-1&&(i.el=o.el),i.type===At&&!i.el&&(i.el=o.el)}}function Ni(e){const t=e.slice(),s=[0];let n,a,r,o,i;const f=e.length;for(n=0;n<f;n++){const h=e[n];if(h!==0){if(a=s[s.length-1],e[a]<h){t[n]=a,s.push(n);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<h?r=i+1:o=i;h<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function pr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pr(t)}function gr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Oi=Symbol.for("v-scx"),Li=()=>Ks(Oi);function ft(e,t,s){return mr(e,t,s)}function mr(e,t,s=Te){const{immediate:n,deep:a,flush:r,once:o}=s,i=Ge({},s),f=t&&n||!t&&r!=="post";let h;if(ks){if(r==="sync"){const l=Li();h=l.__watcherHandles||(l.__watcherHandles=[])}else if(!f){const l=()=>{};return l.stop=gt,l.resume=gt,l.pause=gt,l}}const p=et;i.call=(l,v,w)=>bt(l,p,v,w);let u=!1;r==="post"?i.scheduler=l=>{rt(l,p&&p.suspense)}:r!=="sync"&&(u=!0,i.scheduler=(l,v)=>{v?l():An(l)}),i.augmentJob=l=>{t&&(l.flags|=4),u&&(l.flags|=2,p&&(l.id=p.uid,l.i=p))};const d=Go(e,t,i);return ks&&(h?h.push(d):f&&d()),d}function Hi(e,t,s){const n=this.proxy,a=He(e)?e.includes(".")?vr(n,e):()=>n[e]:e.bind(n,n);let r;ie(t)?r=t:(r=t.handler,s=t);const o=_s(this),i=mr(a,r.bind(n),s);return o(),i}function vr(e,t){const s=t.split(".");return()=>{let n=e;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const Fi=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Nt(t)}Modifiers`]||e[`${Bt(t)}Modifiers`];function Ri(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Te;let a=s;const r=t.startsWith("update:"),o=r&&Fi(n,t.slice(7));o&&(o.trim&&(a=s.map(p=>He(p)?p.trim():p)),o.number&&(a=s.map(co)));let i,f=n[i=pn(t)]||n[i=pn(Nt(t))];!f&&r&&(f=n[i=pn(Bt(t))]),f&&bt(f,e,6,a);const h=n[i+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,bt(h,e,6,a)}}function yr(e,t,s=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const r=e.emits;let o={},i=!1;if(!ie(e)){const f=h=>{const p=yr(h,t,!0);p&&(i=!0,Ge(o,p))};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!r&&!i?(Pe(e)&&n.set(e,null),null):(oe(r)?r.forEach(f=>o[f]=null):Ge(o,r),Pe(e)&&n.set(e,o),o)}function Gs(e,t){return!e||!$s(t)?!1:(t=t.slice(2).replace(/Once$/,""),xe(e,t[0].toLowerCase()+t.slice(1))||xe(e,Bt(t))||xe(e,t))}function Ep(){}function br(e){const{type:t,vnode:s,proxy:n,withProxy:a,propsOptions:[r],slots:o,attrs:i,emit:f,render:h,renderCache:p,props:u,data:d,setupState:l,ctx:v,inheritAttrs:w}=e,E=js(e);let W,$;try{if(s.shapeFlag&4){const S=a||n,F=S;W=_t(h.call(F,S,p,u,l,d,v)),$=i}else{const S=t;W=_t(S.length>1?S(u,{attrs:i,slots:o,emit:f}):S(u,null)),$=t.props?i:Wi(i)}}catch(S){vs.length=0,Rs(S,e,1),W=le(At)}let I=W;if($&&w!==!1){const S=Object.keys($),{shapeFlag:F}=I;S.length&&F&7&&(r&&S.some(dn)&&($=Bi($,r)),I=ns(I,$,!1,!0))}return s.dirs&&(I=ns(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&Dn(I,s.transition),W=I,js(E),W}const Wi=e=>{let t;for(const s in e)(s==="class"||s==="style"||$s(s))&&((t||(t={}))[s]=e[s]);return t},Bi=(e,t)=>{const s={};for(const n in e)(!dn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function ji(e,t,s){const{props:n,children:a,component:r}=e,{props:o,children:i,patchFlag:f}=t,h=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&f>=0){if(f&1024)return!0;if(f&16)return n?wr(n,o,h):!!o;if(f&8){const p=t.dynamicProps;for(let u=0;u<p.length;u++){const d=p[u];if(o[d]!==n[d]&&!Gs(h,d))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:n===o?!1:n?o?wr(n,o,h):!0:!!o;return!1}function wr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const r=n[a];if(t[r]!==e[r]&&!Gs(s,r))return!0}return!1}function Ui({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const _r=e=>e.__isSuspense;function Vi(e,t){t&&t.pendingBranch?oe(e)?t.effects.push(...e):t.effects.push(e):ei(e)}const ue=Symbol.for("v-fgt"),qs=Symbol.for("v-txt"),At=Symbol.for("v-cmt"),Js=Symbol.for("v-stc"),vs=[];let ot=null;function k(e=!1){vs.push(ot=e?null:[])}function zi(){vs.pop(),ot=vs[vs.length-1]||null}let ys=1;function kr(e,t=!1){ys+=e,e<0&&ot&&t&&(ot.hasOnce=!0)}function xr(e){return e.dynamicChildren=ys>0?ot||qt:null,zi(),ys>0&&ot&&ot.push(e),e}function C(e,t,s,n,a,r){return xr(c(e,t,s,n,a,r,!0))}function Ke(e,t,s,n,a){return xr(le(e,t,s,n,a,!0))}function bs(e){return e?e.__v_isVNode===!0:!1}function ws(e,t){return e.type===t.type&&e.key===t.key}const Sr=({key:e})=>e??null,Zs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||Be(e)||ie(e)?{i:Je,r:e,k:t,f:!!s}:e:null);function c(e,t=null,s=null,n=0,a=null,r=e===ue?0:1,o=!1,i=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sr(t),ref:t&&Zs(t),scopeId:Va,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Je};return i?(Rn(f,s),r&128&&e.normalize(f)):s&&(f.shapeFlag|=He(s)?8:16),ys>0&&!o&&ot&&(f.patchFlag>0||r&6)&&f.patchFlag!==32&&ot.push(f),f}const le=Ki;function Ki(e,t=null,s=null,n=0,a=null,r=!1){if((!e||e===pi)&&(e=At),bs(e)){const i=ns(e,t,!0);return s&&Rn(i,s),ys>0&&!r&&ot&&(i.shapeFlag&6?ot[ot.indexOf(e)]=i:ot.push(i)),i.patchFlag=-2,i}if(il(e)&&(e=e.__vccOpts),t){t=Gi(t);let{class:i,style:f}=t;i&&!He(i)&&(t.class=pe(i)),Pe(f)&&(Tn(f)&&!oe(f)&&(f=Ge({},f)),t.style=St(f))}const o=He(e)?1:_r(e)?128:si(e)?64:Pe(e)?4:ie(e)?2:0;return c(e,t,s,n,a,o,r,!0)}function Gi(e){return e?Tn(e)||or(e)?Ge({},e):e:null}function ns(e,t,s=!1,n=!1){const{props:a,ref:r,patchFlag:o,children:i,transition:f}=e,h=t?Ji(a||{},t):a,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Sr(h),ref:t&&t.ref?s&&r?oe(r)?r.concat(Zs(t)):[r,Zs(t)]:Zs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ue?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ns(e.ssContent),ssFallback:e.ssFallback&&ns(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&n&&Dn(p,f.clone(p)),p}function we(e=" ",t=0){return le(qs,null,e,t)}function qi(e,t){const s=le(Js,null,e);return s.staticCount=t,s}function z(e="",t=!1){return t?(k(),Ke(At,null,e)):le(At,null,e)}function _t(e){return e==null||typeof e=="boolean"?le(At):oe(e)?le(ue,null,e.slice()):bs(e)?Ft(e):le(qs,null,String(e))}function Ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ns(e)}function Rn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(oe(t))s=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),Rn(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!or(t)?t._ctx=Je:a===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:Je},s=32):(t=String(t),n&64?(s=16,t=[we(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ji(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=pe([t.class,n.class]));else if(a==="style")t.style=St([t.style,n.style]);else if($s(a)){const r=t[a],o=n[a];o&&r!==o&&!(oe(r)&&r.includes(o))&&(t[a]=r?[].concat(r,o):o)}else a!==""&&(t[a]=n[a])}return t}function kt(e,t,s,n=null){bt(e,t,7,[s,n])}const Zi=nr();let Yi=0;function Xi(e,t,s){const n=e.type,a=(t?t.appContext:e.appContext)||Zi,r={uid:Yi++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new mo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lr(n,a),emitsOptions:yr(n,a),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:n.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ri.bind(null,r),e.ce&&e.ce(r),r}let et=null;const Qi=()=>et||Je;let Ys,Wn;{const e=As(),t=(s,n)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(n),r=>{a.length>1?a.forEach(o=>o(r)):a[0](r)}};Ys=t("__VUE_INSTANCE_SETTERS__",s=>et=s),Wn=t("__VUE_SSR_SETTERS__",s=>ks=s)}const _s=e=>{const t=et;return Ys(e),e.scope.on(),()=>{e.scope.off(),Ys(t)}},Cr=()=>{et&&et.scope.off(),Ys(null)};function $r(e){return e.vnode.shapeFlag&4}let ks=!1;function el(e,t=!1,s=!1){t&&Wn(t);const{props:n,children:a}=e.vnode,r=$r(e);Ci(e,n,r,t),Ai(e,a,s||t);const o=r?tl(e,t):void 0;return t&&Wn(!1),o}function tl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,mi);const{setup:n}=s;if(n){mt();const a=e.setupContext=n.length>1?nl(e):null,r=_s(e),o=Xt(n,e,0,[e.props,a]),i=la(o);if(vt(),r(),(i||e.sp)&&!ts(e)&&za(e),i){if(o.then(Cr,Cr),t)return o.then(f=>{Tr(e,f)}).catch(f=>{Rs(f,e,0)});e.asyncDep=o}else Tr(e,o)}else Mr(e)}function Tr(e,t,s){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pe(t)&&(e.setupState=La(t)),Mr(e)}function Mr(e,t,s){const n=e.type;e.render||(e.render=n.render||gt);{const a=_s(e);mt();try{vi(e)}finally{vt(),a()}}}const sl={get(e,t){return qe(e,"get",""),e[t]}};function nl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,sl),slots:e.slots,emit:e.emit,expose:t}}function Xs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(La(Fo(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in gs)return gs[s](e)},has(t,s){return s in t||s in gs}})):e.proxy}const al=/(?:^|[-_])(\w)/g,rl=e=>e.replace(al,t=>t.toUpperCase()).replace(/[-_]/g,"");function ol(e,t=!0){return ie(e)?e.displayName||e.name:e.name||t&&e.__name}function Ar(e,t,s=!1){let n=ol(t);if(!n&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(n=a[1])}if(!n&&e&&e.parent){const a=r=>{for(const o in r)if(r[o]===t)return o};n=a(e.components||e.parent.type.components)||a(e.appContext.components)}return n?rl(n):s?"App":"Anonymous"}function il(e){return ie(e)&&"__vccOpts"in e}const K=(e,t)=>zo(e,t,ks);function it(e,t,s){const n=arguments.length;return n===2?Pe(t)&&!oe(t)?bs(t)?le(e,null,[t]):le(e,t):le(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&bs(s)&&(s=[s]),le(e,t,s))}const ll="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bn;const Dr=typeof window<"u"&&window.trustedTypes;if(Dr)try{Bn=Dr.createPolicy("vue",{createHTML:e=>e})}catch{}const Ir=Bn?e=>Bn.createHTML(e):e=>e,cl="http://www.w3.org/2000/svg",ul="http://www.w3.org/1998/Math/MathML",Dt=typeof document<"u"?document:null,Pr=Dt&&Dt.createElement("template"),dl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const a=t==="svg"?Dt.createElementNS(cl,e):t==="mathml"?Dt.createElementNS(ul,e):s?Dt.createElement(e,{is:s}):Dt.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Dt.createTextNode(e),createComment:e=>Dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,a,r){const o=s?s.previousSibling:t.lastChild;if(a&&(a===r||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===r||!(a=a.nextSibling)););else{Pr.innerHTML=Ir(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=Pr.content;if(n==="svg"||n==="mathml"){const f=i.firstChild;for(;f.firstChild;)i.appendChild(f.firstChild);i.removeChild(f)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},fl=Symbol("_vtc");function hl(e,t,s){const n=e[fl];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Qs=Symbol("_vod"),Er=Symbol("_vsh"),en={name:"show",beforeMount(e,{value:t},{transition:s}){e[Qs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):xs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),xs(e,!0),n.enter(e)):n.leave(e,()=>{xs(e,!1)}):xs(e,t))},beforeUnmount(e,{value:t}){xs(e,t)}};function xs(e,t){e.style.display=t?e[Qs]:"none",e[Er]=!t}const pl=Symbol(""),gl=/(^|;)\s*display\s*:/;function ml(e,t,s){const n=e.style,a=He(s);let r=!1;if(s&&!a){if(t)if(He(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&tn(n,i,"")}else for(const o in t)s[o]==null&&tn(n,o,"");for(const o in s)o==="display"&&(r=!0),tn(n,o,s[o])}else if(a){if(t!==s){const o=n[pl];o&&(s+=";"+o),n.cssText=s,r=gl.test(s)}}else t&&e.removeAttribute("style");Qs in e&&(e[Qs]=r?n.display:"",e[Er]&&(n.display="none"))}const Nr=/\s*!important$/;function tn(e,t,s){if(oe(s))s.forEach(n=>tn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=vl(e,t);Nr.test(s)?e.setProperty(Bt(n),s.replace(Nr,""),"important"):e[n]=s}}const Or=["Webkit","Moz","ms"],jn={};function vl(e,t){const s=jn[t];if(s)return s;let n=Nt(t);if(n!=="filter"&&n in e)return jn[t]=n;n=da(n);for(let a=0;a<Or.length;a++){const r=Or[a]+n;if(r in e)return jn[t]=r}return t}const Lr="http://www.w3.org/1999/xlink";function Hr(e,t,s,n,a,r=go(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Lr,t.slice(6,t.length)):e.setAttributeNS(Lr,t,s):s==null||r&&!pa(s)?e.removeAttribute(t):e.setAttribute(t,r?"":xt(s)?String(s):s)}function Fr(e,t,s,n,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ir(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,f=s==null?e.type==="checkbox"?"on":"":String(s);(i!==f||!("_value"in e))&&(e.value=f),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=pa(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(a||t)}function yl(e,t,s,n){e.addEventListener(t,s,n)}function bl(e,t,s,n){e.removeEventListener(t,s,n)}const Rr=Symbol("_vei");function wl(e,t,s,n,a=null){const r=e[Rr]||(e[Rr]={}),o=r[t];if(n&&o)o.value=n;else{const[i,f]=_l(t);if(n){const h=r[t]=Sl(n,a);yl(e,i,h,f)}else o&&(bl(e,i,o,f),r[t]=void 0)}}const Wr=/(?:Once|Passive|Capture)$/;function _l(e){let t;if(Wr.test(e)){t={};let n;for(;n=e.match(Wr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bt(e.slice(2)),t]}let Un=0;const kl=Promise.resolve(),xl=()=>Un||(kl.then(()=>Un=0),Un=Date.now());function Sl(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;bt(Cl(n,s.value),t,5,[n])};return s.value=e,s.attached=xl(),s}function Cl(e,t){if(oe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const Br=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$l=(e,t,s,n,a,r)=>{const o=a==="svg";t==="class"?hl(e,n,o):t==="style"?ml(e,s,n):$s(t)?dn(t)||wl(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tl(e,t,n,o))?(Fr(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Hr(e,t,n,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!He(n))?Fr(e,Nt(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Hr(e,t,n,o))};function Tl(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Br(t)&&ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Br(t)&&He(s)?!1:t in e}const Ml=["ctrl","shift","alt","meta"],Al={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ml.some(s=>e[`${s}Key`]&&!t.includes(s))},sn=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(a,...r)=>{for(let o=0;o<t.length;o++){const i=Al[t[o]];if(i&&i(a,t))return}return e(a,...r)})},Dl=Ge({patchProp:$l},dl);let jr;function Il(){return jr||(jr=Ii(Dl))}const Pl=(...e)=>{const t=Il().createApp(...e),{mount:s}=t;return t.mount=n=>{const a=Nl(n);if(!a)return;const r=t._component;!ie(r)&&!r.render&&!r.template&&(r.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=s(a,!1,El(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function El(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Nl(e){return He(e)?document.querySelector(e):e}const Ol=De({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const n=e.showNavigation!==!1,a={...s,class:[s.class,"app-content",n?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":n?"false":"true"};return it("div",a,[it("aside",r,t.navigation?t.navigation():[]),it("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),Ll=De({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const n={...s,class:[s.class,"app-navigation"]};"role"in n||(n.role="navigation");const a=[];return t.actions&&a.push(it("div",{class:"app-navigation__actions"},t.actions())),t.default&&a.push(...t.default()),it("nav",n,a)}}}),It=De({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:n}){return()=>{const a={...n,class:[n.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in a||(a.type="button"),it("button",a,s.default?s.default():[])}}}),nn=De({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>it("div",{...t,class:[t.class,"card empty"]},[it("div",{class:"value"},e.name),it("div",{class:"hint"},e.description)])}}),an=De({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:n}){const a=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...n,class:[n.class,"nc-checkbox-radio-switch"]};return()=>it("label",r,[it("input",{type:e.type,name:e.name,checked:e.checked,onInput:a}),it("span",{},s.default?s.default():[])])}}),Hl=De({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>it("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function Vn(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const n=Math.floor(s.width*t),a=Math.floor(s.height*t);e.width!==n&&(e.width=n),e.height!==a&&(e.height=a);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function Ur(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Fl(e){const s=Math.pow((h=>h<0?0:h>1?1:h)(e),.6),n=Ur("#e0f2fe"),a=Ur("#7c3aed");if(!n||!a)return"#7c3aed";const r=(h,p,u)=>Math.round(h+(p-h)*u),o=r(n.r,a.r,s),i=r(n.g,a.g,s),f=r(n.b,a.b,s);return`rgb(${o}, ${i}, ${f})`}const Vr=De({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=ce(null);function n(){const a=t.data,r=s.value;if(!r||!a)return;const o=Vn(r);if(!o)return;const i=r.clientWidth,f=r.clientHeight,h=i/2,p=f/2,u=Math.min(i,f)*.35,d=a.data||[],l=a.labels||[],v=a.ids||[],w=a.colors||[],E=[];for(let te=0;te<d.length;te++)(Number(d[te])||0)>0&&E.push(te);if(o.clearRect(0,0,i,f),E.length===0)return;const W=E.map(te=>Number(d[te])||0),$=E.map(te=>String(l[te]||"")),I=E.map(te=>String(v[te]||"")),S=E.map(te=>w[te]),F=W.reduce((te,fe)=>te+Math.max(0,fe),0)||1;let Q=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const se=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];W.forEach((te,fe)=>{var Ne,We;const G=Math.max(0,te)/F,ke=Q+G*2*Math.PI,$e=String(($==null?void 0:$[fe])||""),ge=String((I==null?void 0:I[fe])||""),Ae=S[fe],V=(Ne=t.colorsById)==null?void 0:Ne[ge],ae=(We=t.colorsByName)==null?void 0:We[$e];let ee=V||ae||Ae||se[fe%se.length];o.beginPath(),o.moveTo(h,p),o.arc(h,p,u,Q,ke),o.closePath(),o.fillStyle=ee,o.fill(),o.stroke();const Z=(Q+ke)/2,X=h+Math.cos(Z)*(u+12),me=p+Math.sin(Z)*(u+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const _e=Math.max(0,Number(te)||0)/F*100,he=`${$!=null&&$[fe]?$[fe]+" ":""}${Number(te).toFixed(2)}h  ${_e.toFixed(1)}%`;o.strokeText(he,X,me),o.fillText(he,X,me),o.restore(),Q=ke})}return ps(()=>{n(),window.addEventListener("resize",n)}),ft(()=>t.data,()=>n(),{deep:!0}),ft(()=>t.colorsById,()=>n(),{deep:!0}),(a,r)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),zr=De({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=ce(null);function n(u,d,l,v,w){u.save(),w!=null&&w.font&&(u.font=w.font),w!=null&&w.align&&(u.textAlign=w.align),w!=null&&w.baseline&&(u.textBaseline=w.baseline),u.lineWidth=3,u.strokeStyle="rgba(0,0,0,0.55)",u.strokeText(d,l,v),u.fillStyle="#ffffff",u.fillText(d,l,v),u.restore()}function a(u){const d=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(u||"");return d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16)}:null}function r(u,d){const l=a(u);return l&&(.2126*l.r+.7152*l.g+.0722*l.b)/255<.55?"#ffffff":d}function o(){var ee,Z;const u=s.value;if(!u)return;const d=Vn(u);if(!d)return;const l=u.clientWidth,v=u.clientHeight,w=28,E=w*1.4,W=v-w,$=l-w,I=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",S=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";d.clearRect(0,0,l,v),d.strokeStyle=I,d.lineWidth=1,d.beginPath(),d.moveTo(E,W),d.lineTo($,W),d.moveTo(E,W),d.lineTo(E,w),d.stroke();const F=t.stacked;if(F&&F.labels&&F.series){let X=F.labels||[],me=F.series||[];const _e=f(X,me);X=_e.labels,me=_e.series;const he=X.map((je,re)=>me.reduce((g,m)=>{var x;return g+Math.max(0,Number(((x=m.data)==null?void 0:x[re])||0))},0)),Ne=Math.max(1,...he),We=X.length||1,Ie=8,Se=Math.max(6,($-E-Ie*(We+1))/We),Oe=(W-w)/Ne;X.forEach((je,re)=>{let g=W,m=0;me.forEach(N=>{var R;const M=Math.max(0,Number(((R=N.data)==null?void 0:R[re])||0)),A=M*Oe,B=E+Ie+re*(Se+Ie);g=g-A;const H=t.colorsById[N.id]||N.color||"#93c5fd";if(d.fillStyle=H,A>.5&&(d.fillRect(B,g,Se,A),A>14&&Se>22&&M>.01)){const O=String((Math.round(M*100)/100).toFixed(1));d.fillStyle=r(H,S),d.font="11px ui-sans-serif,system-ui";const q=d.measureText(O).width;d.fillText(O,B+Se/2-q/2,g+A/2+4)}m+=M}),d.fillStyle=S,d.font="12px ui-sans-serif,system-ui";const x=i(String(X[re]||""));if(Se>26){const N=d.measureText(x).width;d.fillText(x,E+Ie+re*(Se+Ie)+Se/2-N/2,W+14)}if(m>.01){const N=E+Ie+re*(Se+Ie),M=`${(Math.round(m*100)/100).toFixed(1)}h`;n(d,M,N+Se/2,Math.max(w+4,g-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const Le=he.reduce((je,re)=>je+re,0),lt=`${(Math.round(Le*100)/100).toFixed(1)}h total`;n(d,lt,$-4,w+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const Q=t.legacy;if(!Q)return;let se=Q.data||[],te=Q.labels||[];const fe=f(te,[{id:"__legacy__",data:se}]);te=fe.labels,se=((Z=(ee=fe.series)==null?void 0:ee[0])==null?void 0:Z.data)||se;const G=Math.max(1,...se.map(X=>Math.max(0,X))),ke=se.length||1,$e=8,ge=Math.max(6,($-E-$e*(ke+1))/ke),Ae=(W-w)/G;d.fillStyle="#93c5fd",se.forEach((X,me)=>{const _e=Math.max(0,X*Ae),he=E+$e+me*(ge+$e),Ne=W-_e;if(d.fillRect(he,Ne,ge,_e),_e>14&&ge>22&&X>.01){const Ie=String((Math.round(X*100)/100).toFixed(1));d.fillStyle=r("#93c5fd",S),d.font="11px ui-sans-serif,system-ui";const Se=d.measureText(Ie).width;d.fillText(Ie,he+ge/2-Se/2,Ne+_e/2+4)}d.fillStyle=S,d.font="12px ui-sans-serif,system-ui";const We=i(String(te[me]||""));if(ge>26){const Ie=d.measureText(We).width;d.fillText(We,he+ge/2-Ie/2,W+14)}if(X>.01){const Ie=`${(Math.round(X*100)/100).toFixed(1)}h`;n(d,Ie,he+ge/2,Math.max(w+4,Ne-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const V=se.reduce((X,me)=>X+Math.max(0,Number(me)||0),0),ae=`${(Math.round(V*100)/100).toFixed(1)}h total`;n(d,ae,$-4,w+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}ps(()=>{o(),window.addEventListener("resize",o)}),ft(()=>t.stacked,()=>o(),{deep:!0}),ft(()=>t.legacy,()=>o(),{deep:!0}),ft(()=>t.colorsById,()=>o(),{deep:!0});function i(u){const d=/^(\d{4})-(\d{2})-(\d{2})$/.exec(u);if(!d)return u;const l=new Date(`${d[1]}-${d[2]}-${d[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][l.getDay()]||u}function f(u,d){if(!Array.isArray(u)||u.length!==7)return{labels:u,series:d};const l=u.map(S=>h(S));if(l.some(S=>!S))return{labels:u,series:d};const v=l.map(S=>p(S)),w=[1,2,3,4,5,6,7];if(v.join(",")===w.join(","))return{labels:u,series:d};const E={};if(v.forEach((S,F)=>{E[S]=F}),!w.every(S=>S in E))return{labels:u,series:d};const W=w.map(S=>E[S]),$=W.map(S=>u[S]),I=(d||[]).map(S=>({...S,data:(S.data||[]).map((F,Q)=>(S.data||[])[W[Q]])}));return{labels:$,series:I}}function h(u){const d=/^(\d{4})-(\d{2})-(\d{2})$/.exec(u);if(!d)return null;const l=new Date(`${d[1]}-${d[2]}-${d[3]}T00:00:00`);return isNaN(l.getTime())?null:l}function p(u){const d=u.getDay();return d===0?7:d}return(u,d)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Rl=De({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=ce(null);let n=null;function a(){var F;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=Vn(r);if(!i)return;const f=r.clientWidth,h=r.clientHeight,p=o.dows||[],u=o.hours||[],d=o.matrix||[];i.clearRect(0,0,f,h);const l=36,v=l,w=l,E=f-l,W=h-l,$=(E-v)/Math.max(1,u.length),I=(W-w)/Math.max(1,p.length),S=Math.max(0,...d.flat())||1;p.length&&u.length&&console.info("[opsdash] heatmap draw",{rows:p.length,cols:u.length,vmax:S});for(let Q=0;Q<p.length;Q++)for(let se=0;se<u.length;se++){const fe=(((F=d[Q])==null?void 0:F[se])||0)/S,G=v+se*$,ke=w+Q*I;i.fillStyle=Fl(fe),i.fillRect(G,ke,$-1,I-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",p.forEach((Q,se)=>i.fillText(Q,8,w+se*I+12)),u.forEach((Q,se)=>{se%2===0&&i.fillText(String(Q),v+se*$+2,w-6)})}return ps(async()=>{await Bs(),a();try{n=new ResizeObserver(()=>a()),s.value&&n.observe(s.value)}catch{}window.addEventListener("resize",a)}),qa(()=>{try{window.removeEventListener("resize",a)}catch{}try{n&&s.value&&n.unobserve(s.value)}catch{}n=null}),ft(()=>t.hod,()=>a(),{deep:!0}),(r,o)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Wl={class:"group-row"},Bl={colspan:"5"},jl={class:"group-header"},Ul={class:"group-label"},Vl={class:"name"},zl={key:0,class:"group-meta"},Kl={class:"summary"},Gl={key:0,class:"summary-percent"},ql={key:1,class:"group-meta"},Jl={class:"summary"},Zl={key:0},Yl=["title"],Xl={class:"row-name"},Ql={key:0,class:"progress"},ec={class:"num"},tc={class:"num"},sc={class:"num"},nc={class:"num"},ac={key:0,class:"hint"},rc={key:0,class:"empty-row"},oc=De({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=K(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map($=>({id:$.id,label:$.label,summary:$.summary??null,color:$.color,rows:($.rows||[]).map(n)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(n)}]);function n($){const I=a($);return{...$,calendarId:I}}function a($){return $?$.calendarId?String($.calendarId):$.id?String($.id):$.calendar_id?String($.calendar_id):$.calendar?String($.calendar):"":""}function r($){return String($.calendar||$.displayname||$.name||$.calendarId||"")}function o($){return a($)||r($)}function i($){const I=v($);if(!I)return!1;const S=t.targets||{},F=Number(S[I]);return isFinite(F)&&F>0}function f($){const I=v($);if(!I)return 0;const S=t.targets||{},F=Number(S[I]);return isFinite(F)?F:0}function h($){const I=f($);return I>0?(Math.round(I*100)/100).toFixed(2):""}function p($,I){return $-I>=0?"delta pos":"delta neg"}function u($,I){const S=$-I,F=Math.abs(Math.round(S*100)/100).toFixed(2);return(S>=0?"+":"-")+F+"h"}function d($,I){return Math.max(0,Math.min(100,I>0?$/I*100:0)).toFixed(0)+"%"}function l($,I){return Math.max(0,Math.min(100,I>0?$/I*100:0))}function v($){return $==null?"":String($)}function w($){const I=$.summary;if(!I)return`${$.rows.length} calendar${$.rows.length===1?"":"s"}`;const S=t.n2(I.actualHours);return I.targetHours>0?`${S} h / ${t.n2(I.targetHours)} h`:`${S} h`}function E($){const I=$.summary;return!I||I.targetHours<=0?"":`${Math.round(I.percent)}%`}function W($){switch($){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return($,I)=>(k(),C("table",null,[I[1]||(I[1]=c("colgroup",null,[c("col",{class:"col-w-42"}),c("col",{class:"col-w-12"}),c("col",{class:"col-w-14"}),c("col",{class:"col-w-14"}),c("col",{class:"col-w-18"})],-1)),I[2]||(I[2]=c("thead",null,[c("tr",null,[c("th",{class:"nowrap"},"Calendar"),c("th",{class:"num"},"Events"),c("th",{class:"num"},"Hours"),c("th",{class:"num"},"Target"),c("th",{class:"num"}," / %")])],-1)),c("tbody",null,[(k(!0),C(ue,null,ze(s.value,S=>(k(),C(ue,{key:S.id},[c("tr",Wl,[c("td",Bl,[c("div",jl,[c("div",Ul,[c("span",{class:"dot",style:St({background:S.color||"var(--brand)"})},null,4),c("span",Vl,L(S.label),1)]),S.summary?(k(),C("div",zl,[c("span",Kl,L(w(S)),1),E(S)?(k(),C("span",Gl,L(E(S)),1)):z("",!0),S.summary.statusLabel?(k(),C("span",{key:1,class:pe(["badge",W(S.summary.status)])},L(S.summary.statusLabel),3)):z("",!0)])):(k(),C("div",ql,[c("span",Jl,[we(L(S.rows.length)+" calendar",1),S.rows.length!==1?(k(),C("span",Zl,"s")):z("",!0)])]))])])]),(k(!0),C(ue,null,ze(S.rows,F=>(k(),C("tr",{key:o(F)},[c("td",null,[c("div",{class:"cell",title:r(F)},[c("div",Xl,L(r(F)),1),i(a(F))&&f(a(F))>0?(k(),C("div",Ql,[c("div",{class:"progress-bar",style:St({width:l(F.total_hours,f(a(F)))+"%",background:S.color||void 0})},null,4)])):z("",!0)],8,Yl)]),c("td",ec,L(F.events_count),1),c("td",tc,L($.n2(F.total_hours)),1),c("td",sc,L(h(a(F))),1),c("td",nc,[i(a(F))?(k(),C(ue,{key:0},[c("span",{class:pe(p(F.total_hours,f(a(F))))},L(u(F.total_hours,f(a(F)))),3),f(a(F))>0?(k(),C("span",ac," ("+L(d(F.total_hours,f(a(F))))+")",1)):z("",!0)],64)):(k(),C(ue,{key:1},[we("")],64))])]))),128)),S.rows.length?z("",!0):(k(),C("tr",rc,[...I[0]||(I[0]=[c("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),Kt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},ic=Kt(oc,[["__scopeId","data-v-69f095b4"]]),lc={class:"mono nowrap"},cc=["href"],uc={class:"hint"},dc={class:"num"},fc={class:"num"},hc=De({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!n)return"";const a=new Date(`${n[1]}-${n[2]}-${n[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getUTCDay()]||""}return(s,n)=>(k(),C("table",null,[n[0]||(n[0]=c("colgroup",null,[c("col",{class:"col-w-40"}),c("col",{class:"col-w-30"}),c("col",{class:"col-w-30"})],-1)),n[1]||(n[1]=c("thead",null,[c("tr",null,[c("th",{class:"nowrap"},"Date"),c("th",{class:"num"},"Events"),c("th",{class:"num"},"Hours")])],-1)),c("tbody",null,[(k(!0),C(ue,null,ze(s.rows,a=>(k(),C("tr",{key:a.date},[c("td",lc,[c("a",{href:s.link(a.date),target:"_blank"},L(a.date),9,cc),c("span",uc," ("+L(t(a.date))+")",1)]),c("td",dc,L(a.events_count),1),c("td",fc,L(s.n2(a.total_hours)),1)]))),128))])]))}}),pc=["onClick"],gc=["title"],mc={class:"num"},vc={class:"mono nowrap"},yc={class:"mono nowrap"},bc={key:0},wc={colspan:"5",class:"mono cell-details"},_c={key:0},kc={key:1,class:"hint"},xc=De({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(k(),C("table",null,[s[1]||(s[1]=c("colgroup",null,[c("col",{class:"col-w-22"}),c("col"),c("col",{class:"col-w-12"}),c("col",{class:"col-w-18"}),c("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=c("thead",null,[c("tr",null,[c("th",null,"Calendar"),c("th",null,"Summary"),c("th",{class:"num"},"Hours"),c("th",{class:"nowrap"},"Start date"),c("th",{class:"nowrap"},"Start time")])],-1)),c("tbody",null,[(k(!0),C(ue,null,ze(t.rows,(n,a)=>{var r;return k(),C(ue,{key:a},[c("tr",{onClick:o=>t.$emit("toggle",a),class:"cursor-pointer"},[c("td",null,L(n.calendar),1),c("td",null,[c("span",{class:"cell",title:n.summary},L(n.summary),9,gc)]),c("td",mc,L(t.n2(n.duration_h)),1),c("td",vc,L((n.start||"").split(" ")[0]),1),c("td",yc,L((r=(n.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,pc),t.detailsIndex===a?(k(),C("tr",bc,[c("td",wc,[s[0]||(s[0]=c("div",null,[c("strong",null,"Details")],-1)),n.desc?(k(),C("div",_c,L(n.desc),1)):(k(),C("div",kc,"No description"))])])):z("",!0)],64)}),128))])]))}}),Sc={class:"card time-summary compact"},Cc={class:"time-summary-firstline"},$c={class:"time-summary-metrics"},Tc={key:0},Mc={key:1},Ac={key:2},Dc={key:3},Ic={key:4},Pc={key:0,class:"time-summary-row"},Ec={key:1,class:"time-summary-row"},Nc={key:0,class:"share"},Oc={key:2,class:"time-summary-row calendars"},Lc={class:"label"},Hc={class:"text"},Fc={key:3,class:"time-summary-row top-category"},Rc={class:"text"},Wc={key:4,class:"time-summary-row"},Bc=Kt(De({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,n=K(()=>Object.assign({},t,s.config??{})),a=K(()=>s.mode==="active"?"active days":"all days"),r=K(()=>{if(!n.value.showWeekendShare)return"";const u=s.summary.weekendShare;return u==null?"":`${f(u)}%`}),o=K(()=>{if(!n.value.showTopCategory)return null;const u=s.summary.topCategory;if(!u)return null;const d=h(u.actualHours),l=Number(u.percent??0).toFixed(0),v=u.targetHours>0?` (${l}% of ${h(u.targetHours)} h)`:"";return{text:`${u.label}  ${d} h${v}`,badge:u.statusLabel||"",badgeClass:p(u.status)}}),i=K(()=>{if(!n.value.showBusiest)return"";const u=s.summary.busiest;if(!u||!u.date)return"";const d=Number(u.hours??0);return`Busiest ${u.date}  ${h(d)} h`});function f(u){return Number(u??0).toFixed(1)}function h(u){return Number(u??0).toFixed(2)}function p(u){switch(u){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(u,d)=>(k(),C("div",Sc,[c("div",Cc,[c("em",null,"Time Summary  "+L(u.summary.rangeLabel),1)]),c("ul",$c,[n.value.showTotal?(k(),C("li",Tc,[c("strong",null,L(h(u.summary.totalHours))+" h",1),d[0]||(d[0]=we(" total",-1))])):z("",!0),n.value.showAverage?(k(),C("li",Mc,L(h(u.summary.avgDay))+" h/day ("+L(a.value)+")",1)):z("",!0),n.value.showAverage?(k(),C("li",Ac,L(h(u.summary.avgEvent))+" h/event",1)):z("",!0),n.value.showMedian?(k(),C("li",Dc,L(h(u.summary.medianDay))+" h median/day",1)):z("",!0),n.value.showBusiest&&i.value?(k(),C("li",Ic,L(i.value),1)):z("",!0)]),n.value.showWorkday?(k(),C("div",Pc,[d[1]||(d[1]=c("span",{class:"label"},"Workdays",-1)),we(" "+L(h(u.summary.workdayAvg))+" h avg  "+L(h(u.summary.workdayMedian))+" h median ",1)])):z("",!0),n.value.showWeekend?(k(),C("div",Ec,[d[2]||(d[2]=c("span",{class:"label"},"Weekend",-1)),we(" "+L(h(u.summary.weekendAvg))+" h avg  "+L(h(u.summary.weekendMedian))+" h median ",1),n.value.showWeekendShare&&r.value?(k(),C("span",Nc,"("+L(r.value)+")",1)):z("",!0)])):z("",!0),n.value.showCalendarSummary?(k(),C("div",Oc,[c("span",Lc,L(u.summary.activeCalendars)+" calendars",1),u.summary.calendarSummary?(k(),C(ue,{key:0},[d[3]||(d[3]=c("span",{class:"sep"},"",-1)),c("span",Hc,L(u.summary.calendarSummary),1)],64)):z("",!0)])):z("",!0),n.value.showTopCategory&&o.value?(k(),C("div",Fc,[d[4]||(d[4]=c("span",{class:"label"},"Top category",-1)),c("span",Rc,L(o.value.text),1),o.value.badge?(k(),C("span",{key:0,class:pe(["summary-badge",o.value.badgeClass])},L(o.value.badge),3)):z("",!0)])):z("",!0),n.value.showBalance&&u.summary.balanceIndex!=null?(k(),C("div",Wc,[d[5]||(d[5]=c("span",{class:"label"},"Balance",-1)),we(" "+L(h(u.summary.balanceIndex))+" ",1),d[6]||(d[6]=c("span",{class:"hint"},"(1 = perfekt)",-1))])):z("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),jc={class:"card targets-card"},Uc={class:"targets-header"},Vc={key:0,class:"hint"},zc={class:"targets-main"},Kc={class:"line total-line"},Gc={class:"value"},qc={key:0,class:"line"},Jc={key:1,class:"line"},Zc={class:"line forecast"},Yc={class:"hint"},Xc={key:0,class:"targets-badges"},Qc={key:1,class:"targets-categories"},eu={class:"cat-top"},tu={class:"cat-label"},su={class:"name"},nu={class:"cat-meta"},au={class:"percent"},ru={class:"cat-progress"},ou={class:"bar"},iu={class:"cat-metrics"},lu={class:"hint"},cu={key:1,class:"hint"},uu={key:0,class:"cat-footer"},du={class:"hint"},fu=Kt(De({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=K(()=>{var u;return((u=t.summary)==null?void 0:u.total)??f("total","Total")}),n=K(()=>{var d;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(l=>({id:l.id,label:l.label,summary:l.summary??f(l.id,l.label),color:l.color,rows:l.rows})):(((d=t.summary)==null?void 0:d.categories)??[]).map(l=>({id:l.id,label:l.label,summary:l,color:void 0,rows:[]}))}),a=K(()=>n.value.map(u=>{const d=u.summary??f(u.id,u.label);return{id:u.id,label:u.label||d.label,actualHours:d.actualHours,targetHours:d.targetHours,percent:d.percent,deltaHours:d.deltaHours,needPerDay:d.needPerDay,daysLeft:d.daysLeft,calendarPercent:d.calendarPercent,gap:d.gap,status:d.status,statusLabel:d.statusLabel,color:u.color,calendarCount:Array.isArray(u.rows)?u.rows.length:0,progress:h(d.percent,0,140),calendarLabel:Array.isArray(u.rows)&&u.rows.length===1?"calendar":"calendars"}}).filter(u=>u.targetHours>0||u.actualHours>0||u.calendarCount>0));function r(u){if(!isFinite(u))return"0";const d=Math.round(u*10)/10;return Math.abs(d-Math.round(d))<.05?String(Math.round(d)):d.toFixed(1)}function o(u){return!isFinite(u)||Math.abs(u)<.005?"0.0":(u>=0?"+":"")+r(Math.abs(u))}function i(u){switch(u){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function f(u,d){return{id:u,label:d,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function h(u,d,l){return!isFinite(u)||u<d?d:u>l?l:u}function p(u){return u==="momentum"?"Momentum":"Linear"}return(u,d)=>(k(),C("div",jc,[c("div",Uc,[d[0]||(d[0]=c("strong",null,"Targets",-1)),s.value.targetHours>0?(k(),C("span",Vc,L(s.value.percent.toFixed(0))+"%",1)):z("",!0)]),c("div",zc,[c("div",Kc,[c("span",Gc,[c("strong",null,L(r(s.value.actualHours)),1),we(" / "+L(r(s.value.targetHours))+" h",1)]),u.config.ui.showTotalDelta&&s.value.targetHours>0?(k(),C("span",{key:0,class:pe(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+L(o(s.value.deltaHours))+"h ",3)):z("",!0)]),u.config.ui.showNeedPerDay&&s.value.targetHours>0?(k(),C("div",qc," Days left "+L(s.value.daysLeft)+"  Need "+L(r(s.value.needPerDay))+" h/day ",1)):z("",!0),s.value.targetHours>0?(k(),C("div",Jc,[we(" Pace: "+L(s.value.percent.toFixed(0))+"% vs "+L(s.value.calendarPercent.toFixed(0))+"%  ",1),c("span",{class:pe(["status-label",i(s.value.status)])},L(s.value.statusLabel),3)])):z("",!0),c("div",Zc,[we(" Forecast: "+L(u.summary.forecast.text)+" ",1),c("span",Yc," Linear "+L(r(u.summary.forecast.linear))+"h  Momentum "+L(r(u.summary.forecast.momentum))+"h  Primary: "+L(p(u.summary.forecast.primaryMethod)),1)])]),u.config.ui.badges&&s.value.targetHours>0?(k(),C("div",Xc,[c("span",{class:pe(["badge",i(s.value.status)])},L(s.value.statusLabel),3)])):z("",!0),u.config.ui.showCategoryBlocks&&a.value.length?(k(),C("div",Qc,[(k(!0),C(ue,null,ze(a.value,l=>(k(),C("div",{class:"category",key:l.id},[c("div",eu,[c("div",tu,[c("span",{class:"dot",style:St({background:l.color||"var(--brand)"})},null,4),c("span",su,L(l.label),1)]),c("div",nu,[c("span",au,L(l.percent.toFixed(0))+"%",1),u.config.ui.badges&&l.targetHours>0?(k(),C("span",{key:0,class:pe(["badge",i(l.status)])},L(l.statusLabel),3)):z("",!0)])]),c("div",ru,[c("div",ou,[c("div",{class:"fill",style:St({width:l.progress+"%",background:l.color||"var(--brand)"})},null,4)])]),c("div",iu,[c("strong",null,L(r(l.actualHours))+"h",1),c("span",lu,"/ "+L(r(l.targetHours))+"h",1),l.targetHours>0?(k(),C("span",{key:0,class:pe(["delta",l.deltaHours>=0?"pos":"neg"])},"  "+L(o(l.deltaHours))+"h ",3)):z("",!0),u.config.ui.showNeedPerDay&&l.targetHours>0?(k(),C("span",cu," Need "+L(r(l.needPerDay))+"h/day  "+L(l.daysLeft)+" days left ",1)):z("",!0)]),l.calendarCount>0?(k(),C("div",uu,[c("span",du,L(l.calendarCount)+" "+L(l.calendarLabel),1)])):z("",!0)]))),128))])):z("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]),hu={class:"card activity-card"},pu={class:"activity-card__header"},gu={key:0,class:"pill"},mu={key:0,class:"activity-card__hero"},vu={key:1,class:"activity-card__subline"},yu={key:2,class:"activity-card__meta"},bu={key:3,class:"activity-card__extra"},wu={key:4,class:"activity-card__hint"},_u=Kt(De({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t={showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0},s=e,n=K(()=>Object.assign({},t,s.config??{})),a=K(()=>{const d=[];d.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&d.push(`Active Days ${s.summary.activeDays}`);const l=f(s.summary.typicalStart,s.summary.typicalEnd);return l&&d.push(`Typical ${l}`),d.join("  ")}),r=K(()=>{const d=[];return n.value.showWeekendShare&&s.summary.weekendShare!=null&&d.push(`Weekend ${h(s.summary.weekendShare)}`),n.value.showEveningShare&&s.summary.eveningShare!=null&&d.push(`Evening ${h(s.summary.eveningShare)}`),d.join("  ")}),o=K(()=>{const d=[];if(n.value.showEarliestLatest){const l=p(s.summary.earliestStart),v=p(s.summary.latestEnd);(l||v)&&d.push({label:"Earliest/Late",value:`${l||""} / ${v||""}`})}return n.value.showOverlaps&&s.summary.overlapEvents!=null&&d.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),d}),i=K(()=>{const d=[];return n.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&d.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),n.value.showLastDayOff&&s.summary.lastDayOff&&d.push({label:"Last day off",value:u(s.summary.lastDayOff)}),n.value.showLastDayOff&&s.summary.lastHalfDayOff&&d.push({label:"Last half day",value:u(s.summary.lastHalfDayOff)}),d});function f(d,l){return d&&l?`${d}${l}`:d?`${d}`:l?`${l}`:""}function h(d){return`${Number(d||0).toFixed(1)}%`}function p(d){return d?d.length>=16?d.slice(11,16):d.length>=5?d.slice(0,5):null:null}function u(d){const l=d.trim();if(!l)return"";if(l.split("-").length>=2){const w=new Date(l.length===10?`${l}T00:00:00`:l);if(!Number.isNaN(w.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(w)}return l}return(d,l)=>(k(),C("div",hu,[c("div",pu,[c("span",null,"Activity & Schedule ("+L(d.rangeLabel)+")",1),d.summary.rangeLabel?(k(),C("span",gu,L(d.summary.rangeLabel),1)):z("",!0)]),a.value?(k(),C("div",mu,[c("span",null,L(a.value),1)])):z("",!0),r.value?(k(),C("div",vu,[c("span",null,L(r.value),1)])):z("",!0),o.value.length?(k(),C("div",yu,[(k(!0),C(ue,null,ze(o.value,v=>(k(),C("span",{key:v.label},[c("strong",null,L(v.label),1),we(" "+L(v.value),1)]))),128))])):z("",!0),i.value.length?(k(),C("div",bu,[(k(!0),C(ue,null,ze(i.value,v=>(k(),C("span",{key:v.label},[c("strong",null,L(v.label),1),we(" "+L(v.value),1)]))),128))])):z("",!0),n.value.showHint&&d.categoryHint?(k(),C("div",wu,L(d.categoryHint),1)):z("",!0)]))}}),[["__scopeId","data-v-1ab0985e"]]),ku={class:"card balance-card"},xu={class:"balance-card__header"},Su={key:0,class:"balance-card__hero"},Cu={key:1,class:"balance-card__relations"},$u={key:2,class:"balance-card__trend"},Tu={key:3,class:"balance-card__insights"},Mu={key:4,class:"balance-card__warnings"},Au=Kt(De({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,n=K(()=>Object.assign({},t,s.config??{})),a=K(()=>{if(!s.overview)return"";const h=s.overview.index??0,p=s.overview.categories.filter(d=>d.share>.1).slice(0,4).map(d=>`${d.label} ${d.share.toFixed(0)}%`),u=p.length?`  ${p.join(" | ")}`:"";return`Balance Index ${h.toFixed(2)}${u}`}),r=K(()=>{var h;return!s.overview||!((h=s.overview.relations)!=null&&h.length)?"":s.overview.relations.map(p=>`${p.label} ${p.value}`).join("  ")}),o=K(()=>{var p;if(!s.overview)return"";const h=((p=s.overview.trend)==null?void 0:p.delta)??[];return h.length?h.map(u=>{const d=u.delta>0?"+":u.delta<0?"":"";return`${u.label} ${d}${Math.abs(u.delta).toFixed(1)} pp`}).join(", "):""}),i=K(()=>{var h;return n.value.showInsights?((h=s.overview)==null?void 0:h.insights)??[]:[]}),f=K(()=>{var h;return((h=s.overview)==null?void 0:h.warnings)??[]});return(h,p)=>(k(),C("div",ku,[c("div",xu,[c("span",null,"Balance Overview ("+L(h.rangeLabel)+")",1)]),a.value?(k(),C("div",Su,[c("span",null,L(a.value),1)])):z("",!0),r.value?(k(),C("div",Cu,L(r.value),1)):z("",!0),o.value?(k(),C("div",$u,[p[0]||(p[0]=c("strong",null,"WoW-:",-1)),we(" "+L(o.value),1)])):z("",!0),i.value.length?(k(),C("ul",Tu,[(k(!0),C(ue,null,ze(i.value,u=>(k(),C("li",{key:u}," "+L(u),1))),128))])):z("",!0),f.value.length?(k(),C("ul",Mu,[(k(!0),C(ue,null,ze(f.value,u=>(k(),C("li",{key:u}," "+L(u),1))),128))])):z("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]);function Du(e){const t=e?ht(e):on(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(n=>({...s,id:n.id,label:n.label,targetHours:n.targetHours,remainingHours:n.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function zn(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function rn(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0}}const Kn=24*60*60*1e3;function on(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:rn(),balance:zn(),includeZeroDaysInStats:!1}}function Iu(e){return JSON.parse(JSON.stringify(ht(e)))}function Pu(e){const t=ht(e.config),s=qr(e.from),n=qr(e.to),a=Bu(e.byDay),r=(e.byCal||[]).reduce((u,d)=>{const l=Number((d==null?void 0:d.total_hours)??(d==null?void 0:d.hours)??0);return Number.isFinite(l)?u+l:u},0),o=t.totalHours||0,i=Gr({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a}),f=Kr({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),h=t.categories.map(u=>{const d=Lu(u,e.byCal,e.groupsById),l=u.paceMode||t.pace.mode,v=Gr({includeWeekend:u.includeWeekend,mode:l,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a});return Kr({id:u.id,label:u.label,actual:d,target:u.targetHours,pace:v,thresholds:t.pace.thresholds,includeWeekend:u.includeWeekend,paceMode:l})}),p=Ru({config:t,totalProgress:f,dailyHours:a,pace:i});return{total:f,categories:h,forecast:p}}function ht(e){var o,i,f,h,p,u,d,l,v,w,E,W,$,I,S,F,Q,se,te,fe,G,ke,$e,ge,Ae;if(typeof e=="string")try{const V=JSON.parse(e);return ht(V)}catch{return ht(void 0)}const t=on(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const n=s.categories.map(V=>{const ae=(V!=null&&V.id&&typeof V.id=="string"?V.id:"")||Vu(String((V==null?void 0:V.label)??"cat")),ee=typeof(V==null?void 0:V.label)=="string"&&V.label.trim()!==""?V.label.trim():Eu(ae),Z=Rt(V==null?void 0:V.targetHours,0,1e4),X=!!(V!=null&&V.includeWeekend),me=(V==null?void 0:V.paceMode)==="time_aware"?"time_aware":"days_only",_e=Array.isArray(V==null?void 0:V.groupIds)?V.groupIds.map(he=>Number(he)).filter(he=>Number.isFinite(he)&&he>=0&&he<=9):[];return{id:ae,label:ee,targetHours:Z,includeWeekend:X,paceMode:me,groupIds:_e}}),a=n.length?n:t.categories;return{totalHours:Rt(s.totalHours,0,1e4),categories:a,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Rt(((h=(f=s.pace)==null?void 0:f.thresholds)==null?void 0:h.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Rt(((u=(p=s.pace)==null?void 0:p.thresholds)==null?void 0:u.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((d=s.forecast)==null?void 0:d.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var ae;const V=Math.round(((ae=s.forecast)==null?void 0:ae.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(V)?V:t.forecast.momentumLastNDays))})(),padding:Rt(((l=s.forecast)==null?void 0:l.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((v=s.ui)==null?void 0:v.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((w=s.ui)==null?void 0:w.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((E=s.ui)==null?void 0:E.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((W=s.ui)==null?void 0:W.badges)??t.ui.badges),includeWeekendToggle:!!((($=s.ui)==null?void 0:$.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((I=s.ui)==null?void 0:I.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((S=s.ui)==null?void 0:S.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},timeSummary:{showTotal:((F=s.timeSummary)==null?void 0:F.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((Q=s.timeSummary)==null?void 0:Q.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((se=s.timeSummary)==null?void 0:se.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((te=s.timeSummary)==null?void 0:te.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((fe=s.timeSummary)==null?void 0:fe.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((G=s.timeSummary)==null?void 0:G.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((ke=s.timeSummary)==null?void 0:ke.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:(($e=s.timeSummary)==null?void 0:$e.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((ge=s.timeSummary)==null?void 0:ge.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((Ae=s.timeSummary)==null?void 0:Ae.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:Nu(s.activityCard,t.activityCard),balance:Ou(s.balance,a,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Eu(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Rt(e,t,s){const n=Number(e);return Number.isFinite(n)?Math.min(s,Math.max(t,Math.round(n*100)/100)):t}function Gn(e,t,s){const n=Number(e);if(!Number.isFinite(n))return t;const a=Math.round(n);return a<t?t:a>s?s:a}function Nu(e,t){const s={...t};return!e||typeof e!="object"||Object.keys(t).forEach(n=>{Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=!!e[n])}),s}function Ou(e,t,s){var h,p,u,d;const n=t.map(l=>l.id),a=new Set([...n,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const l of r){const v=typeof l=="string"?l.trim():String(l??"").trim();v&&(a.size&&!a.has(v)||o.includes(v)||o.push(v))}o.length||(n.length?o.push(...n.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},f=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((h=e==null?void 0:e.index)==null?void 0:h.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Rt(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Rt(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Rt(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((p=e==null?void 0:e.relations)==null?void 0:p.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:Gn(((u=e==null?void 0:e.trend)==null?void 0:u.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((d=e==null?void 0:e.dayparts)==null?void 0:d.enabled)??s.dayparts.enabled)},ui:{roundPercent:Gn(f.roundPercent??s.ui.roundPercent,0,3),roundRatio:Gn(f.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(f.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(f.showInsights??s.ui.showInsights)}}}function Lu(e,t,s){if(!Array.isArray(t))return 0;const n=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let a=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),f=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);n&&!n.has(f)||(a+=o)}return a}function Kr(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),n=t>0?qn(s/t*100):0,a=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,a)/e.pace.daysLeft:0,i=n-e.pace.calendarPercent,f=Hu({percent:n,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:st(s),targetHours:st(t),percent:n,deltaHours:st(r),remainingHours:st(Math.max(0,a)),needPerDay:st(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:qn(e.pace.calendarPercent),gap:st(i),status:f,statusLabel:Fu(f),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function Hu(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function Fu(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function Gr(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const n=ln(new Date),a=Wt(t),r=Wt(s),o=ju(t,s).filter(u=>e.includeWeekend||!Uu(u)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Wt(n)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Wt(n)<a)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let f=0;for(const u of o){const d=Wt(u),l=e.dailyHours.get(d)??0;if(!(!e.includeZeroDays&&l<=0&&d!==Wt(n))){if(d<Wt(n))f+=1;else if(d===Wt(n))if(e.mode==="time_aware"){const w=Math.min(new Date().getTime(),u.getTime()+Kn)-u.getTime(),E=Math.max(0,Math.min(1,w/Kn));(e.includeZeroDays||l>0||E>0)&&(f+=E)}else(e.includeZeroDays||l>0)&&(f+=1)}}const h=qn(f/i*100),p=Math.max(0,i-f);return{totalEligible:i,elapsedEligible:f,daysLeft:p,calendarPercent:h}}function Ru(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,n=Math.max(0,Math.ceil(e.pace.daysLeft)),a=Wu(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+a*n,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,f=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",h=f==="momentum"?r:s,p=Math.max(0,h-e.config.forecast.padding),u=Math.max(0,h+e.config.forecast.padding),d=f==="momentum"?"Momentum":"Linear";return{linear:st(s),momentum:st(r),low:st(Math.max(0,o)),high:st(Math.max(0,i)),text:`${d} ${Jn(e.config.forecast.padding)}h  ${Jn(p)}${Jn(u)} h`,primaryMethod:f,primary:st(h),bandLow:st(p),bandHigh:st(u)}}function Wu(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const n=s.slice(-t),a=n.reduce((r,[,o])=>r+Math.max(0,o||0),0);return n.length?a/n.length:0}function Bu(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const n=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!n)continue;const a=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(a)&&t.set(n,a)}return t}function ju(e,t){const s=[];let n=ln(e);const a=ln(t).getTime();for(;n.getTime()<=a;)s.push(new Date(n)),n=new Date(n.getTime()+Kn);return s}function qr(e){if(!e)return null;const t=e.split("-").map(n=>Number(n));if(t.length!==3||t.some(n=>!Number.isInteger(n)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:ln(s)}function ln(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Wt(e){return e.toISOString().slice(0,10)}function Uu(e){const t=e.getUTCDay();return t===0||t===6}function qn(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function st(e){return isFinite(e)?Number(e.toFixed(2)):0}function Jn(e){if(!isFinite(e))return"0";const t=st(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function Vu(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const zu={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},Ku={class:"sb-actions"},Gu={class:"sb-list"},qu=["aria-pressed","onClick"],Ju={class:"cal-name"},Zu={class:"cal-fields"},Yu={class:"field"},Xu=["value","onChange"],Qu=["value"],ed={class:"field"},td=["value","title","aria-invalid","onInput"],sd=De({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:n,range:a,isLoading:r,categoryOptions:o,calendarTargetMessages:i,calendarCategoryId:f,getTarget:h}=t;return(p,u)=>(k(),C("div",zu,[c("div",Ku,[le(_(It),{type:"tertiary",disabled:_(r),onClick:u[0]||(u[0]=d=>p.$emit("select-all",!0))},{default:Ve(()=>[...u[2]||(u[2]=[we("All",-1)])]),_:1},8,["disabled"]),le(_(It),{type:"tertiary",disabled:_(r),onClick:u[1]||(u[1]=d=>p.$emit("select-all",!1))},{default:Ve(()=>[...u[3]||(u[3]=[we("None",-1)])]),_:1},8,["disabled"])]),u[8]||(u[8]=qi('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),c("div",Gu,[(k(!0),C(ue,null,ze(_(s),d=>{var l,v;return k(),C("div",{key:d.id,class:"cal-card"},[c("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":_(n).includes(d.id),onClick:w=>p.$emit("toggle-calendar",d.id)},[c("span",{class:"color-dot",style:St({background:d.color||"var(--brand)"})},null,4),c("span",Ju,L(d.displayname||d.id),1),c("span",{class:pe(["cal-state",{on:_(n).includes(d.id)}])},L(_(n).includes(d.id)?"Selected":"Hidden"),3)],8,qu),c("div",Zu,[c("label",Yu,[u[5]||(u[5]=c("span",{class:"label"},"Category",-1)),c("select",{value:_(f)(d.id),onChange:w=>p.$emit("set-category",{id:d.id,category:w.target.value})},[u[4]||(u[4]=c("option",{value:""},"Unassigned",-1)),(k(!0),C(ue,null,ze(_(o),w=>(k(),C("option",{key:w.id,value:w.id},L(w.label),9,Qu))),128))],40,Xu)]),c("label",ed,[u[6]||(u[6]=c("span",{class:"label"},"Target (h)",-1)),c("input",{type:"number",value:_(h)(d.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${_(a)==="week"?"week":"month"}) in hours`,"aria-invalid":!!_(i)[d.id],class:"target-input",onInput:w=>p.$emit("target-input",{id:d.id,value:w.target.value})},null,40,td),_(i)[d.id]?(k(),C("div",{key:0,class:pe(["input-message",(l=_(i)[d.id])==null?void 0:l.tone])},L((v=_(i)[d.id])==null?void 0:v.text),3)):z("",!0)])])])}),128)),u[7]||(u[7]=c("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),nd={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},ad={class:"target-config"},rd={class:"field"},od=["value","aria-invalid"],id={class:"preset-buttons"},ld={class:"cat-header"},cd=["value","onInput"],ud=["disabled","onClick"],dd={class:"cat-fields"},fd={class:"field"},hd=["value","aria-invalid","onInput"],pd={class:"field"},gd=["value","onChange"],md={class:"field checkbox"},vd=["checked","onChange"],yd={class:"target-section"},bd={class:"field checkbox"},wd=["checked"],_d={class:"field"},kd=["value"],xd={class:"field"},Sd=["value","aria-invalid"],Cd={class:"field"},$d=["value","aria-invalid"],Td={class:"target-section"},Md={class:"field"},Ad=["value"],Dd={class:"field"},Id=["value","aria-invalid"],Pd={class:"field"},Ed=["value","aria-invalid"],Nd={class:"target-section"},Od={class:"field checkbox"},Ld=["checked"],Hd={class:"field checkbox"},Fd=["checked"],Rd={class:"field checkbox"},Wd=["checked"],Bd={class:"field checkbox"},jd=["checked"],Ud={class:"field checkbox"},Vd=["checked"],zd={class:"field checkbox"},Kd=["checked"],Gd={class:"field checkbox"},qd=["checked"],Jd={class:"field checkbox"},Zd=["checked"],Yd=De({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days"],setup(e){return(t,s)=>{var n,a,r,o,i,f,h,p,u,d;return k(),C("div",nd,[s[47]||(s[47]=c("div",{class:"sb-title"},"Target Settings",-1)),c("div",ad,[c("div",rd,[s[19]||(s[19]=c("span",{class:"label"},"Total target (h)",-1)),c("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[0]||(s[0]=l=>t.$emit("total-target-input",l.target.value))},null,40,od),t.totalTargetMessage?(k(),C("div",{key:0,class:pe(["input-message",(n=t.totalTargetMessage)==null?void 0:n.tone])},L((a=t.totalTargetMessage)==null?void 0:a.text),3)):z("",!0)]),c("div",id,[le(_(It),{type:"tertiary",onClick:s[1]||(s[1]=l=>t.$emit("apply-preset","work-week"))},{default:Ve(()=>[...s[20]||(s[20]=[we("Preset: Work-Week",-1)])]),_:1}),le(_(It),{type:"tertiary",onClick:s[2]||(s[2]=l=>t.$emit("apply-preset","balanced-life"))},{default:Ve(()=>[...s[21]||(s[21]=[we("Preset: Balanced-Life",-1)])]),_:1})]),(k(!0),C(ue,null,ze(t.categoryOptions,l=>{var v,w;return k(),C("div",{class:"target-category",key:l.id},[c("div",ld,[c("input",{class:"cat-name",type:"text",value:l.label,placeholder:"Category name",onInput:E=>t.$emit("set-category-label",{id:l.id,label:E.target.value})},null,40,cd),c("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:E=>t.$emit("remove-category",l.id)},"  ",8,ud)]),c("div",dd,[c("label",fd,[s[22]||(s[22]=c("span",{class:"label"},"Target (h)",-1)),c("input",{type:"number",value:l.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[l.id],onInput:E=>t.$emit("set-category-target",{id:l.id,value:E.target.value})},null,40,hd),t.categoryTargetMessages[l.id]?(k(),C("div",{key:0,class:pe(["input-message",(v=t.categoryTargetMessages[l.id])==null?void 0:v.tone])},L((w=t.categoryTargetMessages[l.id])==null?void 0:w.text),3)):z("",!0)]),c("label",pd,[s[24]||(s[24]=c("span",{class:"label"},"Pace mode",-1)),c("select",{value:l.paceMode||t.targets.pace.mode,onChange:E=>t.$emit("set-category-pace",{id:l.id,mode:E.target.value})},[...s[23]||(s[23]=[c("option",{value:"days_only"},"Days only",-1),c("option",{value:"time_aware"},"Time aware",-1)])],40,gd)]),c("label",md,[c("input",{type:"checkbox",checked:l.includeWeekend,onChange:E=>t.$emit("set-category-weekend",{id:l.id,value:E.target.checked})},null,40,vd),s[25]||(s[25]=c("span",null,"Weekend",-1))])])])}),128)),le(_(It),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[3]||(s[3]=l=>t.$emit("add-category"))},{default:Ve(()=>[...s[26]||(s[26]=[we(" Add category ",-1)])]),_:1},8,["disabled"]),c("div",yd,[s[32]||(s[32]=c("div",{class:"section-title"},"Pace",-1)),c("label",bd,[c("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[4]||(s[4]=l=>t.$emit("set-include-weekend-total",l.target.checked))},null,40,wd),s[27]||(s[27]=c("span",null,"Count weekend in total pace",-1))]),c("label",_d,[s[29]||(s[29]=c("span",{class:"label"},"Mode",-1)),c("select",{value:t.targets.pace.mode,onChange:s[5]||(s[5]=l=>t.$emit("set-pace-mode",l.target.value))},[...s[28]||(s[28]=[c("option",{value:"days_only"},"Days only",-1),c("option",{value:"time_aware"},"Time aware",-1)])],40,kd)]),c("label",xd,[s[30]||(s[30]=c("span",{class:"label"},"On track  gap (%)",-1)),c("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[6]||(s[6]=l=>t.$emit("set-threshold",{key:"onTrack",value:l.target.value}))},null,40,Sd),t.paceThresholdMessages.onTrack?(k(),C("div",{key:0,class:pe(["input-message",(r=t.paceThresholdMessages.onTrack)==null?void 0:r.tone])},L((o=t.paceThresholdMessages.onTrack)==null?void 0:o.text),3)):z("",!0)]),c("label",Cd,[s[31]||(s[31]=c("span",{class:"label"},"At risk  gap (%)",-1)),c("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[7]||(s[7]=l=>t.$emit("set-threshold",{key:"atRisk",value:l.target.value}))},null,40,$d),t.paceThresholdMessages.atRisk?(k(),C("div",{key:0,class:pe(["input-message",(i=t.paceThresholdMessages.atRisk)==null?void 0:i.tone])},L((f=t.paceThresholdMessages.atRisk)==null?void 0:f.text),3)):z("",!0)])]),c("div",Td,[s[37]||(s[37]=c("div",{class:"section-title"},"Forecast",-1)),c("label",Md,[s[34]||(s[34]=c("span",{class:"label"},"Primary method",-1)),c("select",{value:t.targets.forecast.methodPrimary,onChange:s[8]||(s[8]=l=>t.$emit("set-forecast-method",l.target.value))},[...s[33]||(s[33]=[c("option",{value:"linear"},"Linear",-1),c("option",{value:"momentum"},"Momentum",-1)])],40,Ad)]),c("label",Dd,[s[35]||(s[35]=c("span",{class:"label"},"Momentum window (days)",-1)),c("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[9]||(s[9]=l=>t.$emit("set-forecast-momentum",l.target.value))},null,40,Id),t.forecastMomentumMessage?(k(),C("div",{key:0,class:pe(["input-message",(h=t.forecastMomentumMessage)==null?void 0:h.tone])},L((p=t.forecastMomentumMessage)==null?void 0:p.text),3)):z("",!0)]),c("label",Pd,[s[36]||(s[36]=c("span",{class:"label"},"Padding (h)",-1)),c("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[10]||(s[10]=l=>t.$emit("set-forecast-padding",l.target.value))},null,40,Ed),t.forecastPaddingMessage?(k(),C("div",{key:0,class:pe(["input-message",(u=t.forecastPaddingMessage)==null?void 0:u.tone])},L((d=t.forecastPaddingMessage)==null?void 0:d.text),3)):z("",!0)])]),c("div",Nd,[s[46]||(s[46]=c("div",{class:"section-title"},"Display",-1)),c("label",Od,[c("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[11]||(s[11]=l=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:l.target.checked}))},null,40,Ld),s[38]||(s[38]=c("span",null,"Show calendar charts",-1))]),c("label",Hd,[c("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[12]||(s[12]=l=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:l.target.checked}))},null,40,Fd),s[39]||(s[39]=c("span",null,"Show category charts",-1))]),c("label",Rd,[c("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[13]||(s[13]=l=>t.$emit("set-ui-option",{key:"showTotalDelta",value:l.target.checked}))},null,40,Wd),s[40]||(s[40]=c("span",null,"Show total delta",-1))]),c("label",Bd,[c("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[14]||(s[14]=l=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:l.target.checked}))},null,40,jd),s[41]||(s[41]=c("span",null,"Show need per day",-1))]),c("label",Ud,[c("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[15]||(s[15]=l=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:l.target.checked}))},null,40,Vd),s[42]||(s[42]=c("span",null,"Show categories",-1))]),c("label",zd,[c("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[16]||(s[16]=l=>t.$emit("set-ui-option",{key:"badges",value:l.target.checked}))},null,40,Kd),s[43]||(s[43]=c("span",null,"Status badges",-1))]),c("label",Gd,[c("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[17]||(s[17]=l=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:l.target.checked}))},null,40,qd),s[44]||(s[44]=c("span",null,"Weekend toggle",-1))]),c("label",Jd,[c("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[18]||(s[18]=l=>t.$emit("set-include-zero-days",l.target.checked))},null,40,Zd),s[45]||(s[45]=c("span",null,"Include zero days in pace",-1))])])])])}}}),Xd={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},Qd={class:"target-config"},ef={class:"field"},tf={class:"summary-mode-toggle"},sf={class:"target-section"},nf=["checked","onChange"],af=De({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,n=t,a={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=K(()=>({...a,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,f)=>(k(),C("div",Xd,[f[6]||(f[6]=c("div",{class:"sb-title"},"Time Summary",-1)),c("div",Qd,[c("div",ef,[f[4]||(f[4]=c("span",{class:"label"},"Average mode",-1)),c("div",tf,[le(_(an),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":f[0]||(f[0]=h=>{h&&n("update:activeMode","active")})},{default:Ve(()=>[...f[2]||(f[2]=[we(" Active days ",-1)])]),_:1},8,["checked"]),le(_(an),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":f[1]||(f[1]=h=>{h&&n("update:activeMode","all")})},{default:Ve(()=>[...f[3]||(f[3]=[we(" All days ",-1)])]),_:1},8,["checked"])])]),c("div",sf,[f[5]||(f[5]=c("div",{class:"section-title"},"Display",-1)),(k(),C(ue,null,ze(o,h=>c("label",{key:h.key,class:"field checkbox"},[c("input",{type:"checkbox",checked:r.value[h.key],onChange:p=>n("toggle-option",{key:h.key,value:p.target.checked})},null,40,nf),c("span",null,L(h.label),1)])),64))])])]))}}),rf={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},of={class:"section-title-row"},lf=["aria-expanded"],cf={key:0,class:"section-hint"},uf={class:"target-section toggle-grid"},df=["checked","onChange"],ff=De({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option"],setup(e,{emit:t}){const s=e,n=t,{activitySettings:a,activityToggles:r,helpOpen:o}=Ha(s);return(i,f)=>(k(),C("div",rf,[c("div",of,[f[2]||(f[2]=c("div",{class:"section-title"},"Activity & Schedule",-1)),c("button",{type:"button",class:"info-button","aria-expanded":_(o),"aria-label":"Activity & Schedule help",onClick:f[0]||(f[0]=h=>n("toggle-help"))},[...f[1]||(f[1]=[c("span",null,"?",-1)])],8,lf)]),_(o)?(k(),C("p",cf,"Choose which metrics appear on the Activity & Schedule card.")):z("",!0),c("div",uf,[(k(!0),C(ue,null,ze(_(r),([h,p])=>(k(),C("label",{key:h,class:"field checkbox toggle-field"},[c("input",{type:"checkbox",checked:_(a)[h],onChange:u=>n("toggle-option",{key:h,value:u.target.checked})},null,40,df),c("span",null,L(p),1)]))),128))])]))}}),hf={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},pf={class:"section-title-row"},gf=["aria-expanded"],mf={class:"target-section"},vf={class:"section-title-row"},yf=["aria-expanded"],bf={key:0,class:"section-hint"},wf={class:"field-grid"},_f={class:"field"},kf=["value","aria-invalid"],xf={class:"field"},Sf=["value","aria-invalid"],Cf={class:"field"},$f=["value","aria-invalid"],Tf={class:"target-section"},Mf={class:"section-title-row"},Af=["aria-expanded"],Df={key:0,class:"section-hint"},If={class:"field-grid"},Pf={class:"field"},Ef=["value"],Nf={class:"field"},Of=["value","aria-invalid"],Lf={class:"target-section"},Hf={class:"section-title-row"},Ff=["aria-expanded"],Rf={key:0,class:"section-hint"},Wf={class:"toggle-grid"},Bf={class:"field checkbox toggle-field"},jf=["checked"],Uf={class:"field checkbox toggle-field"},Vf=["checked"],zf={class:"field checkbox toggle-field"},Kf=["checked"],Gf={class:"field-grid mt-8"},qf={class:"field"},Jf=["value","aria-invalid"],Zf=["value"],Yf={class:"field"},Xf=["value","aria-invalid"],Qf=["value"],eh=De({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,n=t,{balanceSettings:a,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:f,helpThresholds:h,helpTrend:p,helpDisplay:u}=Ha(s);return(d,l)=>{var v,w,E,W,$,I,S,F,Q,se,te,fe;return k(),C("div",hf,[c("div",pf,[l[15]||(l[15]=c("div",{class:"section-title subtitle"},"Balance Overview",-1)),c("button",{type:"button",class:"info-button","aria-expanded":_(h)||_(p)||_(u),"aria-label":"Balance Overview help",onClick:l[0]||(l[0]=G=>n("toggle-help","all"))},[...l[14]||(l[14]=[c("span",null,"?",-1)])],8,gf)]),c("div",mf,[c("div",vf,[l[17]||(l[17]=c("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),c("button",{type:"button",class:"info-button","aria-expanded":_(h),"aria-label":"Thresholds help",onClick:l[1]||(l[1]=G=>n("toggle-help","thresholds"))},[...l[16]||(l[16]=[c("span",null,"?",-1)])],8,yf)]),_(h)?(k(),C("p",bf,"Set the share/index limits that trigger balance warnings.")):z("",!0),c("div",wf,[c("label",_f,[l[18]||(l[18]=c("span",{class:"label"},"Notice max share",-1)),c("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(a).thresholds.noticeMaxShare,"aria-invalid":!!_(r).noticeMaxShare,onInput:l[2]||(l[2]=G=>n("set-threshold",{key:"noticeMaxShare",value:G.target.value}))},null,40,kf),_(r).noticeMaxShare?(k(),C("div",{key:0,class:pe(["input-message",(v=_(r).noticeMaxShare)==null?void 0:v.tone])},L((w=_(r).noticeMaxShare)==null?void 0:w.text),3)):z("",!0)]),c("label",xf,[l[19]||(l[19]=c("span",{class:"label"},"Warn max share",-1)),c("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(a).thresholds.warnMaxShare,"aria-invalid":!!_(r).warnMaxShare,onInput:l[3]||(l[3]=G=>n("set-threshold",{key:"warnMaxShare",value:G.target.value}))},null,40,Sf),_(r).warnMaxShare?(k(),C("div",{key:0,class:pe(["input-message",(E=_(r).warnMaxShare)==null?void 0:E.tone])},L((W=_(r).warnMaxShare)==null?void 0:W.text),3)):z("",!0)]),c("label",Cf,[l[20]||(l[20]=c("span",{class:"label"},"Warn index",-1)),c("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(a).thresholds.warnIndex,"aria-invalid":!!_(r).warnIndex,onInput:l[4]||(l[4]=G=>n("set-threshold",{key:"warnIndex",value:G.target.value}))},null,40,$f),_(r).warnIndex?(k(),C("div",{key:0,class:pe(["input-message",($=_(r).warnIndex)==null?void 0:$.tone])},L((I=_(r).warnIndex)==null?void 0:I.text),3)):z("",!0)])])]),c("div",Tf,[c("div",Mf,[l[22]||(l[22]=c("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),c("button",{type:"button",class:"info-button","aria-expanded":_(p),"aria-label":"Trend help",onClick:l[5]||(l[5]=G=>n("toggle-help","trend"))},[...l[21]||(l[21]=[c("span",null,"?",-1)])],8,Af)]),_(p)?(k(),C("p",Df,"Control the comparison window and how ratios are expressed.")):z("",!0),c("div",If,[c("label",Pf,[l[24]||(l[24]=c("span",{class:"label"},"Relation display",-1)),c("select",{value:_(a).relations.displayMode,onChange:l[6]||(l[6]=G=>n("set-relation",G.target.value))},[...l[23]||(l[23]=[c("option",{value:"ratio"},"Ratio (A : B)",-1),c("option",{value:"factor"},"Factor (A)",-1)])],40,Ef)]),c("label",Nf,[l[25]||(l[25]=c("span",{class:"label"},"Trend lookback (weeks)",-1)),c("input",{type:"number",min:"1",max:"12",step:"1",value:_(a).trend.lookbackWeeks,"aria-invalid":!!_(o),onInput:l[7]||(l[7]=G=>n("set-lookback",G.target.value))},null,40,Of),_(o)?(k(),C("div",{key:0,class:pe(["input-message",(S=_(o))==null?void 0:S.tone])},L((F=_(o))==null?void 0:F.text),3)):z("",!0)])])]),c("div",Lf,[c("div",Hf,[l[27]||(l[27]=c("div",{class:"section-subtitle subtitle"},"Display",-1)),c("button",{type:"button",class:"info-button","aria-expanded":_(u),"aria-label":"Display help",onClick:l[8]||(l[8]=G=>n("toggle-help","display"))},[...l[26]||(l[26]=[c("span",null,"?",-1)])],8,Ff)]),_(u)?(k(),C("p",Rf,"Toggle optional insights and adjust rounding for the card values.")):z("",!0),c("div",Wf,[c("label",Bf,[c("input",{type:"checkbox",checked:_(a).ui.showInsights,onChange:l[9]||(l[9]=G=>n("set-ui-toggle",{key:"showInsights",value:G.target.checked}))},null,40,jf),l[28]||(l[28]=c("span",null,"Insights",-1))]),c("label",Uf,[c("input",{type:"checkbox",checked:_(a).ui.showDailyStacks,onChange:l[10]||(l[10]=G=>n("set-ui-toggle",{key:"showDailyStacks",value:G.target.checked}))},null,40,Vf),l[29]||(l[29]=c("span",null,"Daily mix (experimental)",-1))]),c("label",zf,[c("input",{type:"checkbox",checked:_(a).dayparts.enabled,onChange:l[11]||(l[11]=G=>n("set-ui-toggle",{key:"dayparts",value:G.target.checked}))},null,40,Kf),l[30]||(l[30]=c("span",null,"Dayparts",-1))])]),c("div",Gf,[c("label",qf,[l[31]||(l[31]=c("span",{class:"label"},"Percent precision",-1)),c("select",{value:_(a).ui.roundPercent,"aria-invalid":!!_(i).roundPercent,onChange:l[12]||(l[12]=G=>n("set-ui-precision",{key:"roundPercent",value:G.target.value}))},[(k(!0),C(ue,null,ze(_(f),G=>(k(),C("option",{key:`round-percent-${G}`,value:G},L(G),9,Zf))),128))],40,Jf),_(i).roundPercent?(k(),C("div",{key:0,class:pe(["input-message",(Q=_(i).roundPercent)==null?void 0:Q.tone])},L((se=_(i).roundPercent)==null?void 0:se.text),3)):z("",!0)]),c("label",Yf,[l[32]||(l[32]=c("span",{class:"label"},"Ratio precision",-1)),c("select",{value:_(a).ui.roundRatio,"aria-invalid":!!_(i).roundRatio,onChange:l[13]||(l[13]=G=>n("set-ui-precision",{key:"roundRatio",value:G.target.value}))},[(k(!0),C(ue,null,ze(_(f),G=>(k(),C("option",{key:`round-ratio-${G}`,value:G},L(G),9,Qf))),128))],40,Xf),_(i).roundRatio?(k(),C("div",{key:0,class:pe(["input-message",(te=_(i).roundRatio)==null?void 0:te.tone])},L((fe=_(i).roundRatio)==null?void 0:fe.text),3)):z("",!0)])])])])}}}),th={class:"notes-section"},sh=["title"],nh=["value"],ah=["title"],rh=["value"],oh={class:"notes-actions"},ih=Kt(De({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(k(),C("div",th,[c("div",{class:"hint",title:t.prevTitle},L(t.prevLabel),9,sh),c("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,nh),c("div",{class:"hint",title:t.currTitle},L(t.currLabel),9,ah),c("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,rh),c("div",oh,[le(_(It),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=n=>t.$emit("save"))},{default:Ve(()=>[...s[2]||(s[2]=[we("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),lh={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},ch=De({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,n=t,{previous:a,modelValue:r,prevLabel:o,currLabel:i,prevTitle:f,currTitle:h,saving:p}=s;return(u,d)=>(k(),C("div",lh,[d[2]||(d[2]=c("div",{class:"sb-title"},"Notes",-1)),le(ih,{previous:_(a),"model-value":_(r),"prev-label":_(o),"curr-label":_(i),"prev-title":_(f),"curr-title":_(h),saving:_(p),"onUpdate:modelValue":d[0]||(d[0]=l=>n("update:modelValue",l)),onSave:d[1]||(d[1]=l=>n("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}});function uh(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const n=Number(e);if(!Number.isFinite(n))return{value:null,error:"Enter a valid number"};let a=n,r;if(typeof t.min=="number"&&a<t.min&&(a=t.min,r=Zn(t)),typeof t.max=="number"&&a>t.max&&(a=t.max,r=Zn(t)),typeof t.step=="number"&&t.step>0){const i=fh(a,t.step);i!==a&&(a=i,r=Zn(t))}const o=Jr(t);return typeof o=="number"&&(a=Number(a.toFixed(o))),{value:a,warning:r}}function dh(e,t){const s=uh(e,t),n=[];return s.error&&n.push({severity:"error",message:s.error}),s.warning&&n.push({severity:"warning",message:s.warning}),{value:s.value,issues:n}}function fh(e,t){const s=Jr({step:t}),n=Math.round(e/t)*t;return typeof s=="number"?Number(n.toFixed(s)):n}function Jr(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return hh(e.step)}function hh(e){const t=e.toString();if(t.includes("e-")){const[,n]=t.split("e-");return Number(n)}const[,s=""]=t.split(".");return s.length}function Zn(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function ph(e,t,s="Enter a valid number"){const n=dh(e,t),a=n.issues.find(i=>i.severity==="error"),r=n.issues.find(i=>i.severity==="warning");let o=null;return a||n.value===null?o={text:(a==null?void 0:a.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!a&&n.value!==null,value:n.value,message:o}}function Pt(e,t,s,n,a){const{ok:r,value:o,message:i}=ph(e,t,a);return s(i),!r||o===null?!1:(n(o),!0)}const gh={class:"rangebar",title:"Time range"},mh={class:"range-actions"},vh={class:"range-toggle"},yh={class:"range-nav"},bh={class:"range-dates"},wh={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},_h=["aria-selected"],kh=["aria-selected"],xh=["aria-selected"],Sh={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},Ch=["aria-selected"],$h=["aria-selected"],Th=["aria-selected"],Mh=Kt(De({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode"],setup(e,{emit:t}){const s=e,n=t,a=ce("calendars"),r=K(()=>s.targetsConfig),o=K(()=>{var b;return((b=r.value)==null?void 0:b.categories)??[]});function i(b){const y=ht(JSON.parse(JSON.stringify(s.targetsConfig||{})));b(y),n("update:targets-config",y)}const f=K(()=>fe()!==null),h=K(()=>{var b;return((b=r.value)==null?void 0:b.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),p=K(()=>{var b;return{...rn(),...((b=r.value)==null?void 0:b.activityCard)??{}}}),u={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},d=K(()=>Object.entries(u)),l=K(()=>{var T;const b=zn(),y=((T=r.value)==null?void 0:T.balance)??b;return{...b,...y,thresholds:{...b.thresholds,...y.thresholds??{}},relations:{...b.relations,...y.relations??{}},trend:{...b.trend,...y.trend??{}},dayparts:{...b.dayparts,...y.dayparts??{}},ui:{...b.ui,...y.ui??{}}}}),v=[0,1,2,3],w=yt({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),E=yt({}),W=yt({}),$=ce(null),I=yt({onTrack:null,atRisk:null}),S=yt({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),F=ce(null),Q=ce(null),se=ce(null),te=yt({roundPercent:null,roundRatio:null});function fe(){const b=new Set;for(const y of o.value)(y.groupIds||[]).forEach(T=>b.add(Number(T)));Object.values(s.groupsById||{}).forEach(y=>b.add(Number(y)));for(let y=1;y<=9;y++)if(!b.has(y))return y;return null}function G(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function ke(b){const y=V(b),T=o.value.find(Y=>Array.isArray(Y.groupIds)&&Y.groupIds.includes(y));return T?T.id:""}function $e(b,y){if(!y){n("set-group",{id:b,n:0});return}const T=o.value.find(Ye=>Ye.id===y);if(!T){n("set-group",{id:b,n:0});return}const Y=ge(T.id);n("set-group",{id:b,n:Y})}function ge(b){const y=o.value.find(Ye=>Ye.id===b);if(!y)return 0;const T=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;if(T&&Number.isFinite(T))return T;const Y=fe()??0;return i(Ye=>{const Gt=Ye.categories.find(ta=>ta.id===b);Gt&&(Gt.groupIds=Y?[Y]:[])}),Y}function Ae(b,y){i(T=>{const Y=T.categories.find(Ye=>Ye.id===b);Y&&y(Y)})}function V(b){const y=Number((s.groupsById||{})[b]??0);return isFinite(y)?Math.max(0,Math.min(9,Math.trunc(y))):0}function ae(b){const y=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},T=Number(y[b]??"");return isFinite(T)?T:""}function ee(b){n("select-all",b)}function Z(b){n("toggle-calendar",b)}function X(b){$e(b.id,b.category)}function me(b){Le(b.id,b.value)}function _e(b){x(b.key,b.value)}function he(b){N(b.key,b.value)}function Ne(){w.activity=!w.activity}function We(b){if(b==="all"){const y=!(w.balanceThresholds&&w.balanceTrend&&w.balanceDisplay);w.balanceThresholds=y,w.balanceTrend=y,w.balanceDisplay=y;return}b==="thresholds"?w.balanceThresholds=!w.balanceThresholds:b==="trend"?w.balanceTrend=!w.balanceTrend:b==="display"&&(w.balanceDisplay=!w.balanceDisplay)}function Ie(b){R(b.key,b.value)}function Se(b){if(b.key==="dayparts"){i(y=>{y.balance.dayparts.enabled=b.value});return}U(b.key,b.value)}function Oe(b){J(b.key,b.value)}function Le(b,y){Pt(y,{min:0,max:1e4,step:.25,decimals:2},T=>{E[b]=T},T=>n("set-target",{id:b,h:T}))}function lt(b){Pt(b,{min:0,max:1e3,step:.5,decimals:2},y=>{$.value=y},y=>i(T=>{T.totalHours=y}))}function je(b,y){Pt(y,{min:0,max:1e3,step:.5,decimals:2},T=>{W[b]=T},T=>Ae(b,Y=>{Y.targetHours=T}))}function re(b,y){Ae(b,T=>{T.label=y.trim()||T.label})}function g(b,y){Ae(b,T=>{T.includeWeekend=y})}function m(b){s.activeDayMode!==b&&n("update:active-mode",b)}function x(b,y){i(T=>{T.timeSummary||(T.timeSummary=JSON.parse(JSON.stringify(h.value))),T.timeSummary[b]=y})}function N(b,y){i(T=>{T.activityCard||(T.activityCard=rn()),T.activityCard[b]=y})}function M(b,y){y!=="days_only"&&y!=="time_aware"||Ae(b,T=>{T.paceMode=y})}function A(b){i(y=>{y.pace.includeWeekendTotal=b})}function B(b){b!=="days_only"&&b!=="time_aware"||i(y=>{y.pace.mode=b})}function H(b,y){Pt(y,{min:-100,max:100,step:.1,decimals:1},T=>{I[b]=T},T=>i(Y=>{Y.pace.thresholds[b]=T}))}function R(b,y){Pt(y,{min:0,max:1,step:.01,decimals:2},T=>{S[b]=T},T=>i(Y=>{Y.balance.thresholds[b]=Number(T.toFixed(2))}))}function O(b){const y=b==="factor"?"factor":"ratio";i(T=>{T.balance.relations.displayMode=y})}function q(b){Pt(b,{min:1,max:12,step:1,decimals:0},y=>{se.value=y},y=>i(T=>{T.balance.trend.lookbackWeeks=y}))}function U(b,y){i(T=>{T.balance.ui[b]=y})}function J(b,y){Pt(y,{min:0,max:3,step:1,decimals:0},T=>{te[b]=T},T=>i(Y=>{Y.balance.ui[b]=T}))}function ne(b){const y=b==="momentum"?"momentum":"linear";i(T=>{T.forecast.methodPrimary=y})}function de(b){Pt(b,{min:1,max:14,step:1,decimals:0},y=>{F.value=y},y=>i(T=>{T.forecast.momentumLastNDays=y}))}function Ce(b){Pt(b,{min:0,max:100,step:.1,decimals:1},y=>{Q.value=y},y=>i(T=>{T.forecast.padding=y}))}function be(b,y){i(T=>{T.ui[b]=y})}function Fe(b){i(y=>{y.includeZeroDaysInStats=b})}function Re(b){i(y=>{b==="work-week"?(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],y.pace.includeWeekendTotal=!0,y.pace.mode="days_only",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0):b==="balanced-life"&&(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],y.pace.includeWeekendTotal=!0,y.pace.mode="time_aware",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0)})}function Ze(){var y;const b=fe();if(b===null){(y=window.alert)==null||y.call(window,"All category slots are currently in use (max 9).");return}i(T=>{T.categories=[...T.categories,{id:G(),label:`Category ${T.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[b]}]})}function at(b){if(o.value.length<=1)return;const y=o.value.find(Y=>Y.id===b);if(!y)return;const T=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;i(Y=>{Y.categories=Y.categories.filter(Ye=>Ye.id!==b)}),T!==null&&Object.entries(s.groupsById||{}).forEach(([Y,Ye])=>{Number(Ye)===T&&n("set-group",{id:Y,n:0})})}return(b,y)=>(k(),Ke(_(Ll),null,{default:Ve(()=>[gi(b.$slots,"actions",{},void 0,!0),y[24]||(y[24]=c("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),c("div",gh,[c("div",mh,[le(_(It),{class:"nav-btn",type:"primary",disabled:b.isLoading,onClick:y[0]||(y[0]=T=>b.$emit("load"))},{default:Ve(()=>[...y[19]||(y[19]=[we("Load",-1)])]),_:1},8,["disabled"])]),c("div",vh,[le(_(an),{type:"radio",name:"range-week",checked:b.range==="week","onUpdate:checked":y[1]||(y[1]=T=>{T&&b.$emit("update:range","week")})},{default:Ve(()=>[...y[20]||(y[20]=[we("Week",-1)])]),_:1},8,["checked"]),le(_(an),{type:"radio",name:"range-month",checked:b.range==="month","onUpdate:checked":y[2]||(y[2]=T=>{T&&b.$emit("update:range","month")})},{default:Ve(()=>[...y[21]||(y[21]=[we("Month",-1)])]),_:1},8,["checked"])]),c("div",yh,[le(_(It),{class:"nav-btn",type:"tertiary",disabled:b.isLoading,onClick:y[3]||(y[3]=T=>b.$emit("update:offset",b.offset-1)),title:"Previous"},{default:Ve(()=>[...y[22]||(y[22]=[we("",-1)])]),_:1},8,["disabled"]),c("span",bh,L(b.from)+"  "+L(b.to),1),le(_(It),{class:"nav-btn",type:"tertiary",disabled:b.isLoading,onClick:y[4]||(y[4]=T=>b.$emit("update:offset",b.offset+1)),title:"Next"},{default:Ve(()=>[...y[23]||(y[23]=[we("",-1)])]),_:1},8,["disabled"])])]),c("div",wh,[c("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:pe(["sb-tab",{active:a.value==="calendars"}]),role:"tab","aria-selected":a.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:y[5]||(y[5]=T=>a.value="calendars")}," Calendars ",10,_h),c("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:pe(["sb-tab",{active:a.value==="targets"}]),role:"tab","aria-selected":a.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:y[6]||(y[6]=T=>a.value="targets")}," Targets ",10,kh),c("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:pe(["sb-tab",{active:a.value==="summary"}]),role:"tab","aria-selected":a.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:y[7]||(y[7]=T=>a.value="summary")}," Summary ",10,xh)]),c("div",Sh,[c("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:pe(["sb-tab",{active:a.value==="activity"}]),role:"tab","aria-selected":a.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:y[8]||(y[8]=T=>a.value="activity")}," Activity & Schedule ",10,Ch),c("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:pe(["sb-tab",{active:a.value==="balance"}]),role:"tab","aria-selected":a.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:y[9]||(y[9]=T=>a.value="balance")}," Balance ",10,$h),c("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:pe(["sb-tab",{active:a.value==="notes"}]),role:"tab","aria-selected":a.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:y[10]||(y[10]=T=>a.value="notes")}," Notes ",10,Th)]),a.value==="calendars"?(k(),Ke(sd,{key:0,calendars:b.calendars,selected:b.selected,range:b.range,"is-loading":b.isLoading,"category-options":o.value,"calendar-target-messages":E,"calendar-category-id":ke,"get-target":ae,onSelectAll:ee,onToggleCalendar:Z,onSetCategory:X,onTargetInput:me},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):a.value==="targets"?(k(),Ke(Yd,{key:1,targets:r.value,"category-options":o.value,"total-target-message":$.value,"category-target-messages":W,"pace-threshold-messages":I,"forecast-momentum-message":F.value,"forecast-padding-message":Q.value,"can-add-category":f.value,onTotalTargetInput:lt,onApplyPreset:Re,onSetCategoryLabel:y[11]||(y[11]=({id:T,label:Y})=>re(T,Y)),onRemoveCategory:at,onSetCategoryTarget:y[12]||(y[12]=({id:T,value:Y})=>je(T,Y)),onSetCategoryPace:y[13]||(y[13]=({id:T,mode:Y})=>M(T,Y)),onSetCategoryWeekend:y[14]||(y[14]=({id:T,value:Y})=>g(T,Y)),onAddCategory:Ze,onSetIncludeWeekendTotal:A,onSetPaceMode:B,onSetThreshold:y[15]||(y[15]=({key:T,value:Y})=>H(T,Y)),onSetForecastMethod:ne,onSetForecastMomentum:de,onSetForecastPadding:Ce,onSetUiOption:y[16]||(y[16]=({key:T,value:Y})=>be(T,Y)),onSetIncludeZeroDays:Fe},null,8,["targets","category-options","total-target-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):a.value==="summary"?(k(),Ke(af,{key:2,"summary-options":h.value,"active-day-mode":b.activeDayMode,"onUpdate:activeMode":m,onToggleOption:_e},null,8,["summary-options","active-day-mode"])):a.value==="activity"?(k(),Ke(ff,{key:3,"activity-settings":p.value,"activity-toggles":d.value,"help-open":w.activity,onToggleHelp:Ne,onToggleOption:he},null,8,["activity-settings","activity-toggles","help-open"])):a.value==="balance"?(k(),Ke(eh,{key:4,"balance-settings":l.value,"balance-threshold-messages":S,"balance-lookback-message":se.value,"balance-ui-precision-messages":te,"rounding-options":v,"help-thresholds":w.balanceThresholds,"help-trend":w.balanceTrend,"help-display":w.balanceDisplay,onToggleHelp:We,onSetThreshold:Ie,onSetRelation:O,onSetLookback:q,onSetUiToggle:Se,onSetUiPrecision:Oe},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):a.value==="notes"?(k(),Ke(ch,{key:5,previous:b.notesPrev,"model-value":b.notesCurrDraft,"prev-label":b.notesLabelPrev,"curr-label":b.notesLabelCurr,"prev-title":b.notesLabelPrevTitle,"curr-title":b.notesLabelCurrTitle,saving:b.isSavingNote,"onUpdate:modelValue":y[17]||(y[17]=T=>n("update:notes",T)),onSave:y[18]||(y[18]=T=>n("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):z("",!0)]),_:3}))}}),[["__scopeId","data-v-352661e9"]]);function Ah(e){const t=ce(""),s=ce(""),n=ce(!1);async function a(){var i,f;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((f=o==null?void 0:o.notes)==null?void 0:f.current)??"")}async function r(){try{n.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await a()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{n.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:n,fetchNotes:a,saveNotes:r}}function Dh(e){const t=ce([]),s=ce({}),n=ce({}),a=ce({}),r=ce([]),o=ce(!1),i=ce(!1),f=ce(null),h=ce(""),p=ce(""),u=ce(""),d=yt({}),l=ce([]),v=ce([]),w=ce([]),E=ce({}),W=ce({}),$=ce({}),I=ce(ht(on()));let S=0,F=null;const Q=ce(!1);async function se(){var G,ke,$e,ge,Ae,V,ae,ee,Z,X,me,_e,he,Ne,We,Ie,Se,Oe,Le,lt;const fe=++S;o.value=!0;try{const je={range:e.range.value,offset:e.offset.value|0,save:!1},re=await e.getJson(e.route("load"),je);if(fe!==S){(G=e.isDebug)!=null&&G.call(e)&&console.warn("discarding stale load response",{currentSeq:fe,loadSeq:S});return}h.value=String(((ke=re.meta)==null?void 0:ke.uid)??""),p.value=String((($e=re.meta)==null?void 0:$e.from)??""),u.value=String(((ge=re.meta)==null?void 0:ge.to)??""),i.value=!!((Ae=re.meta)!=null&&Ae.truncated),f.value=((V=re.meta)==null?void 0:V.limits)??null,t.value=Array.isArray(re.calendars)?re.calendars:[],s.value=((ae=re.colors)==null?void 0:ae.byName)??{},n.value=((ee=re.colors)==null?void 0:ee.byId)??{};const g=((Z=re.groups)==null?void 0:Z.byId)??((X=re.groups)==null?void 0:X.byID)??((me=re.groups)==null?void 0:me.ids)??{},m={};t.value.forEach(M=>{const A=String((M==null?void 0:M.id)??""),B=Number((g==null?void 0:g[A])??0);m[A]=Number.isFinite(B)?Math.max(0,Math.min(9,Math.trunc(B))):0}),a.value=m;const x=((_e=re.targets)==null?void 0:_e.week)??{},N=((he=re.targets)==null?void 0:he.month)??{};if(W.value=x&&typeof x=="object"?x:{},$.value=N&&typeof N=="object"?N:{},I.value=ht(re.targetsConfig??on()),(Ne=e.isDebug)!=null&&Ne.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(M=>({id:M.id,name:M.displayname,color:M.color,raw:M.color_raw,src:M.color_src}))),console.log("colors.byId",n.value),console.log("colors.byName",s.value),re.calDebug&&console.log("server calDebug",re.calDebug),re.debug&&(console.group("[opsdash] server query debug"),console.log(re.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(A=>!A.color||A.color_src==="fallback").length)try{const A=await e.fetchDavColors(h.value,t.value.map(H=>String(H.id)));let B=!1;if(t.value=t.value.map(H=>{const R=A[H.id];return R&&R!==H.color&&(H.color_src="dav"(H).color_raw=R,H.color=R,B=!0),H}),Object.entries(A).forEach(([H,R])=>{R&&(n.value[H]=String(R))}),B){(We=e.isDebug)!=null&&We.call(e)&&console.log("[opsdash] dav colors applied",A);try{const H=((Ie=E.value)==null?void 0:Ie.pie)||{},R=H.ids||[],O=H.colors||[],q=R.map((U,J)=>n.value[U]||O[J]||"#60a5fa");E.value={...E.value||{},pie:{...H,colors:q}},(Se=e.isDebug)!=null&&Se.call(e)&&console.log("[opsdash] recomputed pie colors",q)}catch(H){(Oe=e.isDebug)!=null&&Oe.call(e)&&console.warn("recompute pie colors failed",H)}try{const H=(Le=E.value)==null?void 0:Le.perDaySeries;if(H&&Array.isArray(H.series)){const R=H.series.map(O=>({...O,color:n.value[O.id]||O.color||"#60a5fa"}));E.value={...E.value||{},perDaySeries:{labels:H.labels,series:R}}}}catch{}e.scheduleDraw()}}catch(A){(lt=e.isDebug)!=null&&lt.call(e)&&console.warn("dav colors failed",A)}r.value=Array.isArray(re.selected)?re.selected:Array.isArray(re.saved)?re.saved:[],e.userChangedSelection.value=!1,Object.assign(d,re.stats??{}),l.value=Array.isArray(re.byCal)?re.byCal:[],v.value=Array.isArray(re.byDay)?re.byDay:[],w.value=Array.isArray(re.longest)?re.longest:[],E.value=re.charts??{},await Bs(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(je){console.error(je),e.notifyError("Failed to load data")}finally{o.value=!1}}function te(fe=!0){F&&clearTimeout(F),F=setTimeout(async()=>{try{Q.value=!0;const G=await e.postJson(e.route("persist"),{cals:r.value,groups:a.value,targets_week:W.value,targets_month:$.value,targets_config:Iu(I.value)});Array.isArray(G.read)?r.value=G.read.map(ge=>String(ge)):Array.isArray(G.saved)&&(r.value=G.saved.map(ge=>String(ge)));const ke=G.targets_config_read,$e=G.targets_config_saved;ke?I.value=ht(ke):$e&&(I.value=ht($e)),fe&&await se(),e.notifySuccess("Selection saved")}catch(G){console.error(G),e.notifyError("Failed to save selection")}finally{Q.value=!1}},250)}return{calendars:t,colorsByName:s,colorsById:n,groupsById:a,selected:r,isLoading:o,isTruncated:i,truncLimits:f,uid:h,from:p,to:u,stats:d,byCal:l,byDay:v,longest:w,charts:E,targetsWeek:W,targetsMonth:$,targetsConfig:I,load:se,queueSave:te,isSaving:Q}}function Ih(e){const t=K(()=>{var n,a;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:((a=e.charts.value)==null?void 0:a.perDaySeries)||null}}),s=K(()=>{var v,w;const n={},a=(v=e.charts.value)==null?void 0:v.pie,r=(w=e.charts.value)==null?void 0:w.perDaySeries,o=a&&Array.isArray(a.data)&&Array.isArray(a.ids),i=r&&Array.isArray(r.series)&&Array.isArray(r.labels),f=e.calendarCategoryMap.value,h=o?(a.ids||[]).map(E=>String(E??"")):[],p=o?(a.labels||[]).map(E=>String(E??"")):[],u=o?(a.data||[]).map(E=>Number(E)||0):[],d=o?a.colors||[]:[],l=i?r.series:[];return e.calendarGroups.value.forEach(E=>{const W=[];o&&h.forEach((F,Q)=>{f[F]===E.id&&W.push(Q)});const $=W.length?{ids:W.map(F=>h[F]),labels:W.map(F=>p[F]),data:W.map(F=>u[F]),colors:W.map(F=>{var Q;return d[F]||((Q=e.colorsById.value)==null?void 0:Q[h[F]])||"#60a5fa"})}:null,I=i?l.filter(F=>f[String((F==null?void 0:F.id)??"")]===E.id):[],S=I.length?{labels:r.labels,series:I}:null;n[E.id]={pie:$,stacked:S}}),n});return{calendarChartData:t,categoryChartsById:s}}const Et="__uncategorized__",Zr="Unassigned";function Ph(e){const t=K(()=>{var p;const h=(p=e.targetsConfig.value)==null?void 0:p.categories;return Array.isArray(h)?h:[]}),s=K(()=>{const h={};return t.value.forEach(p=>{h[String(p.id)]=p.label||String(p.id)}),h}),n=K(()=>{var u;const h=new Map;return(((u=e.targetsSummary.value)==null?void 0:u.categories)||[]).forEach(d=>h.set(String(d.id),d)),h}),a=K(()=>{const h=new Map;return t.value.forEach(p=>{(Array.isArray(p.groupIds)?p.groupIds:[]).forEach(d=>{const l=Math.max(0,Math.min(9,Math.trunc(Number(d)||0)));h.set(l,String(p.id))})}),h}),r=K(()=>{var u;const h=e.calendars.value;if(!Array.isArray(h))return(u=e.isDebug)!=null&&u.call(e)&&console.warn("[opsdash] calendars not array",h),{};const p={};return h.forEach(d=>{var w;const l=String((d==null?void 0:d.id)??"");if(!l)return;const v=((w=e.colorsById.value)==null?void 0:w[l])||String((d==null?void 0:d.color)||"");p[l]={name:String((d==null?void 0:d.displayname)||(d==null?void 0:d.name)||(d==null?void 0:d.calendar)||l),color:v||void 0}}),p}),o=K(()=>{var v;const h={},p=a.value,u=e.groupsById.value||{},d=w=>{const E=u==null?void 0:u[w],W=Math.max(0,Math.min(9,Math.trunc(Number(E)||0))),$=p.get(W);h[w]=$||Et},l=e.calendars.value;return Array.isArray(l)?(l.forEach(w=>{const E=String((w==null?void 0:w.id)??"");E&&d(E)}),(e.selected.value||[]).forEach(w=>{const E=String(w??"");E&&(h[E]||d(E))}),h):((v=e.isDebug)!=null&&v.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",l),h)}),i=K(()=>{const h=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],p={};let u=0;const d=l=>{if(p[l])return p[l];const v=Object.entries(o.value).filter(([,E])=>E===l).map(([E])=>E);for(const E of v){const W=r.value[E];if(W!=null&&W.color)return p[l]=W.color,W.color}const w=h[u%h.length];return u+=1,p[l]=w,w};return t.value.forEach(l=>d(String(l.id))),Object.values(o.value||{}).some(l=>l===Et)&&d(Et),p}),f=K(()=>{var F,Q,se,te,fe,G,ke,$e,ge,Ae;const h=[],p=o.value,u=n.value,d=e.byCal.value;if(!Array.isArray(d))return(F=e.isDebug)!=null&&F.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",d),h;const l=new Map;d.forEach(V=>{const ae=String((V==null?void 0:V.id)??(V==null?void 0:V.calendar_id)??(V==null?void 0:V.calendar)??"");if(!ae)return;const ee=p[ae]||Et;l.has(ee)||l.set(ee,[]),l.get(ee).push({...V,calendarId:ae})}),(Q=e.isDebug)!=null&&Q.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(d),rowsSourceLength:d.length,byCat:l,assignments:p});const v=((te=(se=e.targetsSummary.value)==null?void 0:se.total)==null?void 0:te.daysLeft)??0,w=((G=(fe=e.targetsSummary.value)==null?void 0:fe.total)==null?void 0:G.calendarPercent)??0,E=(($e=(ke=e.targetsSummary.value)==null?void 0:ke.total)==null?void 0:$e.paceMode)??((Ae=(ge=e.targetsConfig.value)==null?void 0:ge.pace)==null?void 0:Ae.mode)??"days_only",W=V=>Math.round(V*100)/100,$=e.currentTargets.value||{},I=(V,ae,ee)=>{const Z=ee.reduce((Se,Oe)=>{const Le=Number($[Oe.calendarId]??0);return Number.isFinite(Le)?Se+Math.max(0,Le):Se},0),X=ee.reduce((Se,Oe)=>{const Le=Number((Oe==null?void 0:Oe.total_hours)??(Oe==null?void 0:Oe.hours)??0);return Number.isFinite(Le)?Se+Math.max(0,Le):Se},0),me=Z>0?Math.max(0,Math.min(100,X/Z*100)):0,_e=X-Z,he=Math.max(0,Z-X),Ne=Z<=0?"none":me>=100?"done":_e>=0?"on_track":"behind",We=Ne==="done"?"Done":Ne==="on_track"?"On Track":Ne==="behind"?"Behind":"",Ie=v>0?he/v:0;return{id:V,label:ae,actualHours:W(X),targetHours:W(Z),percent:me,deltaHours:W(_e),remainingHours:W(he),needPerDay:W(Ie),daysLeft:v,calendarPercent:Math.max(0,Math.min(100,w)),gap:W(me-w),status:Ne,statusLabel:We,includeWeekend:!0,paceMode:E}};if(t.value.map(V=>String(V.id)).forEach(V=>{const ae=s.value[V]||V,ee=l.get(V)||[],Z=u.get(V)||I(V,ae,ee);h.push({id:V,label:ae,rows:ee,summary:Z,color:i.value[V]})}),l.has(Et)){const V=l.get(Et)||[];h.push({id:Et,label:Zr,rows:V,summary:I(Et,Zr,V),color:i.value[Et]})}return h});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:f}}function Eh(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function nt(e){const t=Number(e);return Number.isFinite(t)?t:null}function as(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function Nh(e){const t=K(()=>{var $;const l=($=e.charts.value)==null?void 0:$.pie;if(!l||!Array.isArray(l.data)||!Array.isArray(l.labels))return[];const v=l.data.map(I=>Number(I)||0),w=l.labels.map(I=>String(I||"")),E=v.reduce((I,S)=>I+Math.max(0,S),0);if(E<=0)return[];const W=v.map((I,S)=>({name:w[S]||"",value:Math.max(0,I)}));return W.sort((I,S)=>S.value-I.value),W.slice(0,3).map(I=>({name:I.name,share:I.value/E*100}))}),s=K(()=>{var v;if(t.value.length)return t.value.map(w=>`${w.name} ${Xr(w.share)}`).join(", ");const l=(v=e.stats)==null?void 0:v.top_calendar;if(l&&l.calendar){const w=Number(l.share??0);return`${l.calendar} ${Xr(w)}`}return""}),n=K(()=>{var l;return e.selected.value.length||(((l=e.calendars.value)==null?void 0:l.length)??0)}),a=K(()=>(e.byDay.value||[]).map(l=>Number((l==null?void 0:l.total_hours)??(l==null?void 0:l.hours)??0))),r=K(()=>{const l=a.value.map(v=>Number(v)||0);return e.activeDayMode.value==="active"?l.filter(v=>v>0):l}),o=K(()=>(e.byDay.value||[]).filter(l=>{const v=Yr(String(l==null?void 0:l.date));return v>=1&&v<=5}).map(l=>Number((l==null?void 0:l.total_hours)??(l==null?void 0:l.hours)??0))),i=K(()=>(e.byDay.value||[]).filter(l=>{const v=Yr(String(l==null?void 0:l.date));return v===0||v===6}).map(l=>Number((l==null?void 0:l.total_hours)??(l==null?void 0:l.hours)??0))),f=K(()=>e.activeDayMode.value==="active"?o.value.filter(l=>l>0):o.value),h=K(()=>e.activeDayMode.value==="active"?i.value.filter(l=>l>0):i.value),p=K(()=>{var w,E,W,$;const l=((w=e.stats)==null?void 0:w.balance_index)??((E=e.stats)==null?void 0:E.balanceIndex)??(($=(W=e.stats)==null?void 0:W.balance_overview)==null?void 0:$.index),v=Number(l);return Number.isFinite(v)?v:null}),u=K(()=>{var l,v,w,E;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((l=e.stats)==null?void 0:l.total_hours)??0),avgDay:Yn(r.value),avgEvent:Number(((v=e.stats)==null?void 0:v.avg_per_event)??0),medianDay:Xn(r.value),busiest:((w=e.stats)==null?void 0:w.busiest_day)??null,workdayAvg:Yn(f.value),workdayMedian:Xn(f.value),weekendAvg:Yn(h.value),weekendMedian:Xn(h.value),weekendShare:((E=e.stats)==null?void 0:E.weekend_share)??null,activeCalendars:n.value,calendarSummary:s.value,balanceIndex:p.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),d=K(()=>{const l=e.stats;return{rangeLabel:e.rangeLabel.value,events:Eh(l.events),activeDays:nt(l.active_days),typicalStart:as(l.typical_start),typicalEnd:as(l.typical_end),weekendShare:nt(l.weekend_share),eveningShare:nt(l.evening_share),earliestStart:as(l.earliest_start),latestEnd:as(l.latest_end),overlapEvents:nt(l.overlap_events),longestSession:nt(l.longest_session),lastDayOff:as(l.last_day_off),lastHalfDayOff:as(l.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:u,activitySummary:d}}function Yn(e){return e.length?e.reduce((s,n)=>s+n,0)/e.length:0}function Xn(e){if(!e.length)return 0;const t=[...e].sort((n,a)=>n-a),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function Yr(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function Xr(e){return`${Number(e||0).toFixed(1)}%`}function Oh(e){return{balanceOverview:K(()=>{var u,d,l;const s=(u=e.stats)==null?void 0:u.balance_overview;if(!s||typeof s!="object")return null;const n=Array.isArray(s.categories)?s.categories.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),hours:nt(v==null?void 0:v.hours)??0,share:nt(v==null?void 0:v.share)??0,prevShare:nt(v==null?void 0:v.prev_share)??0,delta:nt(v==null?void 0:v.delta)??0,color:e.categoryColorMap.value[String((v==null?void 0:v.id)??"")]})):[],a=Array.isArray(s.relations)?s.relations.map(v=>({label:String((v==null?void 0:v.label)??""),value:String((v==null?void 0:v.value)??"")})):[],r={delta:Array.isArray((d=s.trend)==null?void 0:d.delta)?s.trend.delta.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),delta:nt(v==null?void 0:v.delta)??0})):[],badge:String(((l=s.trend)==null?void 0:l.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(v=>({date:String((v==null?void 0:v.date)??""),weekday:String((v==null?void 0:v.weekday)??""),total_hours:nt(v==null?void 0:v.total_hours)??0,categories:Array.isArray(v==null?void 0:v.categories)?v.categories.map(w=>({id:String((w==null?void 0:w.id)??""),label:String((w==null?void 0:w.label)??""),hours:nt(w==null?void 0:w.hours)??0,share:nt(w==null?void 0:w.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(v=>String(v)):[],f=Array.isArray(s.warnings)?s.warnings.map(v=>String(v)):[],h=nt(s.index)??0,p=e.balanceCardConfig.value.showInsights?i:[];return{index:h,categories:n,relations:a,trend:r,daily:o,insights:p,warnings:f}})}}const Lh={version:"0.4.2"},Hh={class:"app-shell"},Fh=["aria-expanded","aria-label"],Rh={key:0},Wh={key:1},Bh={class:"app-main"},jh={class:"app-container"},Uh={class:"appbar"},Vh={class:"title"},zh=["src"],Kh=["textContent"],Gh={class:"hint appbar-meta"},qh=["textContent"],Jh={key:1,title:"Results truncated for performance"},Zh=["title"],Yh={class:"cards"},Xh={class:"tabs"},Qh={class:"card full tab-panel"},ep={key:0,class:"chart-section"},tp={class:"grid2 mt-12"},sp={class:"card chart-card"},np={class:"card chart-card"},ap={key:1,class:"chart-section"},rp={key:0,class:"category-chart-block"},op={class:"category-chart-header"},ip={class:"name"},lp={class:"grid2 mt-8"},cp={class:"card chart-card"},up={class:"card chart-card"},dp={class:"card full tab-panel"},fp={class:"card full tab-panel"},hp={class:"card full tab-panel"},pp={class:"hint footer"},gp=["href"],Qr="opsdash.sidebarOpen",mp=De({__name:"App",setup(e){function t(P){var j,ve;const D=window;(ve=(j=D.OC)==null?void 0:j.Notification)!=null&&ve.showTemporary?D.OC.Notification.showTemporary(P):console.log("SUCCESS:",P)}function s(P){var j,ve;const D=window;(ve=(j=D.OC)==null?void 0:j.Notification)!=null&&ve.showTemporary?D.OC.Notification.showTemporary(P):(console.error("ERROR:",P),alert(P))}const n=ce((()=>{if(typeof window>"u")return!0;const P=window.localStorage.getItem(Qr);return P==null?!0:P==="1"})()),a=()=>{n.value=!n.value},r=K(()=>n.value?"Hide sidebar":"Show sidebar");ft(n,P=>{typeof window<"u"&&(window.localStorage.setItem(Qr,P?"1":"0"),Bs(()=>{window.dispatchEvent(new Event("resize"))}))});const o=ce("cal"),i=ce("week"),f=ce(0),h=K(()=>{const P=te.value;if(!P)return"Partial data due to caps";const D=[];return P.maxPerCal!=null&&D.push(`cap per calendar: ${P.maxPerCal}`),P.maxTotal!=null&&D.push(`cap total: ${P.maxTotal}`),P.totalProcessed!=null&&D.push(`processed: ${P.totalProcessed}`),D.join("  ")}),p=ce(!1),u=Ah({range:i,offset:f,route:P=>aa(P),getJson:na,postJson:to,notifySuccess:t,notifyError:s}),{notesPrev:d,notesCurrDraft:l,isSavingNote:v,fetchNotes:w,saveNotes:E}=u,{calendars:W,colorsByName:$,colorsById:I,groupsById:S,selected:F,isLoading:Q,isTruncated:se,truncLimits:te,uid:fe,from:G,to:ke,stats:$e,byCal:ge,byDay:Ae,longest:V,charts:ae,targetsWeek:ee,targetsMonth:Z,targetsConfig:X,load:me,queueSave:_e}=Dh({range:i,offset:f,userChangedSelection:p,route:P=>aa(P),getJson:na,postJson:to,notifyError:s,notifySuccess:t,scheduleDraw:Tp,fetchNotes:w,isDebug:Fe,fetchDavColors:$p});function he(P){return F.value.includes(P)}function Ne(P,D){const j=new Set(F.value);D?j.add(P):j.delete(P),F.value=Array.from(j)}function We(P){Ne(P,!he(P)),p.value=!0,_e()}function Ie(P,D){const j=Math.max(0,Math.min(9,Math.trunc(Number(D)||0)));S.value||(S.value={}),S.value={...S.value,[P]:j},_e(!1)}function Se(P,D){const j=Number(D);if(!isFinite(j)||j<0)return;const ve=Math.min(1e4,Math.round(j*100)/100);if(i.value==="month"){const Ee=Math.min(1e4,Math.round(ve/4*100)/100);Z.value={...Z.value||{},[P]:ve},ee.value={...ee.value||{},[P]:Ee}}else{const Ee=Math.min(1e4,Math.round(ve*4*100)/100);ee.value={...ee.value||{},[P]:ve},Z.value={...Z.value||{},[P]:Ee}}_e(!1)}function Oe(P){X.value=ht(P),_e(!1)}const Le=ce("active"),lt=K(()=>i.value==="month"?"Month":"Week"),je=K(()=>{try{return Pu({config:X.value,stats:$e,byDay:Ae.value||[],byCal:ge.value||[],groupsById:S.value||{},range:i.value,from:G.value,to:ke.value})}catch(P){return console.error("[opsdash] targets summary failed",P),Du(X.value)}}),re=K(()=>i.value==="month"?Z.value:ee.value),g=K(()=>{var P;return{...rn(),...((P=X.value)==null?void 0:P.activityCard)??{}}}),m=K(()=>{var j;const P=zn(),D=((j=X.value)==null?void 0:j.balance)??P;return{...P,...D,thresholds:{...P.thresholds,...D.thresholds??{}},relations:{...P.relations,...D.relations??{}},trend:{...P.trend,...D.trend??{}},dayparts:{...P.dayparts,...D.dayparts??{}},ui:{...P.ui,...D.ui??{}}}}),x=K(()=>({showInsights:!!m.value.ui.showInsights,showDailyStacks:!!m.value.ui.showDailyStacks})),{categoryLabelById:N,categoryColorMap:M,calendarCategoryMap:A,calendarGroups:B}=Ph({calendars:W,selected:F,groupsById:S,colorsById:I,targetsConfig:X,targetsSummary:je,byCal:ge,currentTargets:re,isDebug:Fe}),{balanceOverview:H}=Oh({stats:$e,categoryColorMap:M,balanceCardConfig:x}),R=K(()=>{var j,ve;if(!g.value.showHint)return"";const D=(Array.isArray((ve=(j=X.value)==null?void 0:j.balance)==null?void 0:ve.categories)?X.value.balance.categories:[]).map(Ee=>{const ct=String(Ee??"").trim();if(!ct)return"";const pt=N.value[ct];return pt||ct.toUpperCase()}).filter(Ee=>Ee);return D.length?`Mapping via Sidebar  ${D.join(" / ")}`:""}),{calendarChartData:O,categoryChartsById:q}=Ih({charts:ae,colorsById:I,calendarGroups:B,calendarCategoryMap:A}),U=K(()=>{const P=B.value||[];return P.length&&[...P].sort((j,ve)=>(ve.summary.actualHours||0)-(j.summary.actualHours||0))[0]||null}),{timeSummary:J,activitySummary:ne}=Nh({stats:$e,byDay:Ae,charts:ae,calendars:W,selected:F,rangeLabel:lt,activeDayMode:Le,topCategory:U}),de=ce(null);function Ce(P){de.value=de.value===P?null:P}function be(P){const D=window;return D.OC&&typeof D.OC.generateUrl=="function"?D.OC.generateUrl("/apps/calendar/timeGridDay/"+P):Cs()+"/index.php/apps/calendar/timeGridDay/"+P}function Fe(){return!1}const Re=ce(0),Ze=K(()=>{var ve;const P=window,D=[];try{if((ve=P.OC)!=null&&ve.imagePath){const Ee=P.OC.imagePath("opsdash","app.svg");Ee&&D.push(Ee)}}catch{}const j=Cs();return D.push(j+"/apps/opsdash/img/app.svg"),D.push(j+"/apps-extra/opsdash/img/app.svg"),D.push(j+"/apps-writable/opsdash/img/app.svg"),D}),at=K(()=>Ze.value[Math.min(Re.value,Ze.value.length-1)]||"");function b(){Re.value+1<Ze.value.length&&Re.value++}function y(P){const D=document.getElementById("app");return(D&&D.dataset?D.dataset[P]:"")||""}const T=ce(y("opsdashVersion")||String(Lh.version)),Y=ce(y("opsdashChangelog"));async function Ye(){if(!(T.value&&Y.value))try{const P=await na(aa("load").replace("/config_dashboard/load","/config_dashboard/ping"),{});!T.value&&typeof(P==null?void 0:P.version)=="string"&&(T.value=P.version),!Y.value&&typeof(P==null?void 0:P.changelog)=="string"&&(Y.value=P.changelog)}catch{}}Ye();const Gt=K(()=>i.value==="month"?"Last month":"Last week"),ta=K(()=>i.value==="month"?"This month":"This week"),_p=K(()=>i.value==="month"?"Notes for previous month":"Notes for previous week"),kp=K(()=>i.value==="month"?"Notes for current month":"Notes for current week");function sa(P){return Number(P??0).toFixed(2)}function Cs(){var D,j;const P=window;return P.OC&&(P.OC.webroot||((j=(D=P.OC).getRootPath)==null?void 0:j.call(D)))||P._oc_webroot||""}function xp(P){const D=new URLSearchParams;return Object.entries(P).forEach(([j,ve])=>{Array.isArray(ve)?ve.forEach(Ee=>D.append(j,String(Ee))):ve!=null&&D.set(j,String(ve))}),D.toString()}async function na(P,D){const j=xp(D||{}),ve=j?P+(P.includes("?")?"&":"?")+j:P,Ee=await fetch(ve,{method:"GET",credentials:"same-origin"});if(!Ee.ok)throw new Error("HTTP "+Ee.status);return await Ee.json()}async function to(P,D){var pt;const j=window,ve=((pt=j.OC)==null?void 0:pt.requestToken)||j.oc_requesttoken||"",Ee={"Content-Type":"application/json"};ve&&(Ee.requesttoken=ve);const ct=await fetch(P,{method:"POST",credentials:"same-origin",headers:Ee,body:JSON.stringify(D||{})});if(!ct.ok)throw new Error("HTTP "+ct.status);return await ct.json()}function aa(P){const D=window;if(D.OC&&typeof D.OC.generateUrl=="function")return P==="load"?D.OC.generateUrl("/apps/opsdash/config_dashboard/load"):P==="persist"?D.OC.generateUrl("/apps/opsdash/config_dashboard/persist"):P==="notes"||P==="notesSave"?D.OC.generateUrl("/apps/opsdash/config_dashboard/notes"):D.OC.generateUrl("/apps/opsdash/config_dashboard");const j=Cs()+"/apps/opsdash/config_dashboard";return P==="load"?j+"/load":P==="persist"?j+"/persist":P==="notes"||P==="notesSave"?j+"/notes":Cs()+"/apps/opsdash/config_dashboard"}function Sp(P){F.value=P?W.value.map(D=>D.id):[]}function Cp(P){Le.value!==P&&(Le.value=P)}async function $p(P,D){var ct;const j={};if(!P)return j;const ve=((ct=window.OC)==null?void 0:ct.requestToken)||window.oc_requesttoken||"",Ee=Cs();for(const pt of D)try{const so=`${Ee}/remote.php/dav/calendars/${encodeURIComponent(P)}/${encodeURIComponent(pt)}/`,Mp=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;Fe();const no=await fetch(so,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:ve},body:Mp});if(!no.ok)continue;const Ap=await no.text();Fe();const ao=Ap.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);ao&&(j[pt]=ao[1])}catch{}return j}function Tp(){}return ps(()=>{console.info("[opsdash] start"),me().catch(P=>{console.error(P),alert("Initial load failed")})}),ft(i,()=>{f.value=0,me().catch(console.error)}),(P,D)=>(k(),C("div",{id:"opsdash",class:pe(["opsdash",{"is-nav-collapsed":!n.value}])},[le(_(Ol),{"app-name":"Operational Dashboard","show-navigation":n.value},{navigation:Ve(()=>[le(Mh,{id:"opsdash-sidebar",calendars:_(W),selected:_(F),"groups-by-id":_(S),"is-loading":_(Q),range:i.value,offset:f.value,from:_(G),to:_(ke),"targets-week":_(ee),"targets-month":_(Z),"targets-config":_(X),"notes-prev":_(d),"notes-curr-draft":_(l),"notes-label-prev":Gt.value,"notes-label-curr":ta.value,"notes-label-prev-title":_p.value,"notes-label-curr-title":kp.value,"is-saving-note":_(v),"active-day-mode":Le.value,onLoad:_(me),"onUpdate:range":D[0]||(D[0]=j=>{i.value=j,f.value=0,_(me)()}),"onUpdate:offset":D[1]||(D[1]=j=>{f.value=j,_(me)()}),onSelectAll:D[2]||(D[2]=j=>Sp(j)),onToggleCalendar:D[3]||(D[3]=j=>We(j)),onSetGroup:D[4]||(D[4]=j=>Ie(j.id,j.n)),onSetTarget:D[5]||(D[5]=j=>Se(j.id,j.h)),"onUpdate:notes":D[6]||(D[6]=j=>l.value=j),onSaveNotes:_(E),"onUpdate:targetsConfig":Oe,"onUpdate:activeMode":Cp},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","onLoad","onSaveNotes"])]),default:Ve(()=>[c("div",Hh,[c("button",{class:"nav-toggle",type:"button",onClick:a,"aria-expanded":n.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},[n.value?(k(),C("span",Rh,"")):(k(),C("span",Wh,""))],8,Fh),c("div",Bh,[c("div",jh,[c("div",Uh,[c("div",Vh,[c("img",{src:at.value,onError:b,class:"app-icon",alt:"","aria-hidden":"true"},null,40,zh),D[11]||(D[11]=c("span",null,"Operational Dashboard",-1)),c("span",{class:"chip",textContent:L(i.value.toUpperCase())},null,8,Kh)]),c("div",Gh,[_(Q)?(k(),Ke(_(Hl),{key:0,size:16})):z("",!0),c("span",{textContent:L(_(fe))},null,8,qh),_(se)?(k(),C("span",Jh," Partial data")):z("",!0)])]),_(se)?(k(),C("div",{key:0,class:"banner warn",title:h.value},[D[12]||(D[12]=we(" Showing partial data to keep things fast. ",-1)),_(te)&&_(te).totalProcessed!=null?(k(),C(ue,{key:0},[we(" Processed "+L(_(te).totalProcessed)+" items. ",1)],64)):z("",!0)],8,Zh)):z("",!0),c("div",Yh,[le(Bc,{summary:_(J),mode:Le.value,config:_(X).timeSummary},null,8,["summary","mode","config"]),le(fu,{summary:je.value,config:_(X),groups:_(B)},null,8,["summary","config","groups"]),le(_u,{summary:_(ne),"range-label":lt.value,"category-hint":R.value,config:g.value},null,8,["summary","range-label","category-hint","config"]),le(Au,{overview:_(H),"range-label":lt.value,config:x.value},null,8,["overview","range-label","config"])]),c("div",Xh,[c("a",{href:"#",class:pe({active:o.value==="cal"}),onClick:D[7]||(D[7]=sn(j=>o.value="cal",["prevent"]))},"By Calendar",2),c("a",{href:"#",class:pe({active:o.value==="day"}),onClick:D[8]||(D[8]=sn(j=>o.value="day",["prevent"]))},"By Day",2),c("a",{href:"#",class:pe({active:o.value==="top"}),onClick:D[9]||(D[9]=sn(j=>o.value="top",["prevent"]))},"Longest Tasks",2),c("a",{href:"#",class:pe({active:o.value==="heat"}),onClick:D[10]||(D[10]=sn(j=>o.value="heat",["prevent"]))},"Heatmap",2)]),Us(c("div",Qh,[_(ge).length===0?(k(),Ke(_(nn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),C(ue,{key:1},[le(ic,{rows:_(ge),n2:sa,targets:re.value,groups:_(B)},null,8,["rows","targets","groups"]),_(X).ui.showCalendarCharts&&(_(O).pie||_(O).stacked)?(k(),C("div",ep,[D[15]||(D[15]=c("h3",{class:"section-title"},"Calendars (all)",-1)),c("div",tp,[c("div",sp,[D[13]||(D[13]=c("div",{class:"chart-card__title"},"Distribution by calendar",-1)),le(Vr,{data:_(O).pie,"colors-by-id":_(I),"colors-by-name":_($)},null,8,["data","colors-by-id","colors-by-name"])]),c("div",np,[D[14]||(D[14]=c("div",{class:"chart-card__title"},"Hours per day",-1)),le(zr,{stacked:_(O).stacked,legacy:_(ae).perDay,"colors-by-id":_(I)},null,8,["stacked","legacy","colors-by-id"])])])])):z("",!0),_(X).ui.showCategoryCharts&&_(B).length?(k(),C("div",ap,[D[18]||(D[18]=c("h3",{class:"section-title"},"Categories",-1)),(k(!0),C(ue,null,ze(_(B),j=>{var ve,Ee,ct,pt;return k(),C(ue,{key:"cat-charts-"+j.id},[(ve=_(q)[j.id])!=null&&ve.pie||(Ee=_(q)[j.id])!=null&&Ee.stacked?(k(),C("div",rp,[c("div",op,[c("span",{class:"dot",style:St({background:_(M)[j.id]||"var(--brand)"})},null,4),c("span",ip,L(j.label),1)]),c("div",lp,[c("div",cp,[D[16]||(D[16]=c("div",{class:"chart-card__title"},"Calendar share",-1)),le(Vr,{data:(ct=_(q)[j.id])==null?void 0:ct.pie,"colors-by-id":_(I),"colors-by-name":_($)},null,8,["data","colors-by-id","colors-by-name"])]),c("div",up,[D[17]||(D[17]=c("div",{class:"chart-card__title"},"Hours per day",-1)),le(zr,{stacked:(pt=_(q)[j.id])==null?void 0:pt.stacked,legacy:null,"colors-by-id":_(I)},null,8,["stacked","colors-by-id"])])])])):z("",!0)],64)}),128))])):z("",!0)],64))],512),[[en,o.value==="cal"]]),Us(c("div",dp,[_(Ae).length===0?(k(),Ke(_(nn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),Ke(hc,{key:1,rows:_(Ae),n2:sa,link:be},null,8,["rows"]))],512),[[en,o.value==="day"]]),Us(c("div",fp,[_(V).length===0?(k(),Ke(_(nn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),Ke(xc,{key:1,rows:_(V),n2:sa,"details-index":de.value,onToggle:Ce},null,8,["rows","details-index"]))],512),[[en,o.value==="top"]]),Us(c("div",hp,[!_(ae).hod||!_(ae).hod.matrix||_(ae).hod.matrix.length===0?(k(),Ke(_(nn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),C(ue,{key:1},[le(Rl,{hod:_(ae).hod},null,8,["hod"]),D[19]||(D[19]=c("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[en,o.value==="heat"]]),c("div",pp,[D[21]||(D[21]=we(" Powered by ",-1)),D[22]||(D[22]=c("strong",null,"Gellert Innovation",-1)),D[23]||(D[23]=we("  Built with ",-1)),D[24]||(D[24]=c("span",{class:"mono"},"opsdash",-1)),T.value?(k(),C(ue,{key:0},[we(" v"+L(T.value),1)],64)):z("",!0),Y.value?(k(),C(ue,{key:1},[D[20]||(D[20]=we("  ",-1)),c("a",{href:Y.value,target:"_blank",rel:"noreferrer noopener"},"Changelog",8,gp)],64)):z("",!0)])])])])]),_:1},8,["show-navigation"])],2))}});function Qn(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=Pl(mp);t.config.errorHandler=(a,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",f={err:a,info:o,name:i,stack:a instanceof Error?a.stack:void 0},h=window;Array.isArray(h.__opsdashErrors)||(h.__opsdashErrors=[]),h.__opsdashErrors.push(f),console.error("[opsdash] Vue error",f)};const s=t.mount(e),n=window;n.__opsdashApp=t,n.__opsdashRoot=s,vp(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(Qn,50):window.addEventListener("DOMContentLoaded",Qn,{once:!0})}Qn();let Ss=null,ea=null,eo=!1;function vp(){if(!(typeof window>"u"))try{cn(),yp()}catch{}}function yp(){if(Ss||ea||eo)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Ss=new MutationObserver(()=>cn()),e.forEach(s=>{Ss==null||Ss.observe(s,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const s=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>cn();typeof s.addEventListener=="function"?(s.addEventListener("change",n),ea=()=>s.removeEventListener("change",n)):typeof s.addListener=="function"&&(s.addListener(n),ea=()=>{s.removeListener(n)})}window.addEventListener("oc:theme:changed",cn),eo=!0}function cn(){const e=bp();if(!e)return;["icon","shortcut icon"].forEach(s=>{let n=document.querySelector(`link[rel="${s}"]`);n||(n=document.createElement("link"),n.rel=s,document.head.appendChild(n)),n.type="image/svg+xml",n.href=e})}function bp(){const e=window,s=wp()==="dark",n=o=>{var i;return typeof((i=e.OC)==null?void 0:i.imagePath)=="function"?e.OC.imagePath("opsdash",o):""},a=n("favicon.svg");if(a)return a;if(s){const o=n("app-dark.svg");if(o)return o}const r=n(s?"app-dark.svg":"app.svg");return r||"/apps-extra/opsdash/img/favicon.svg"}function wp(){var n,a,r,o,i;const e=(n=document.documentElement)==null?void 0:n.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(a=document.body)==null?void 0:a.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}})();
