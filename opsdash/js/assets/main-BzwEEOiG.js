(function(){"use strict";var da=document.createElement("style");da.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-1ab0985e]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-1ab0985e]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-1ab0985e]{font-size:12px}.activity-card__meta[data-v-1ab0985e],.activity-card__extra[data-v-1ab0985e]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-1ab0985e],.activity-card__extra strong[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-1ab0985e]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-1ab0985e]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.input-message[data-v-8ba06dba]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-8ba06dba]{color:var(--neg)}.input-message.warning[data-v-8ba06dba]{color:var(--warning)}
/*$vite$:1*/`,document.head.appendChild(da);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const De={},Jt=[],mt=()=>{},fa=()=>!1,As=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),vn=e=>e.startsWith("onUpdate:"),qe=Object.assign,yn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},go=Object.prototype.hasOwnProperty,$e=(e,t)=>go.call(e,t),ae=Array.isArray,Zt=e=>Is(e)==="[object Map]",ga=e=>Is(e)==="[object Set]",oe=e=>typeof e=="function",Re=e=>typeof e=="string",Ct=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",ha=e=>(Oe(e)||oe(e))&&oe(e.then)&&oe(e.catch),pa=Object.prototype.toString,Is=e=>pa.call(e),ho=e=>Is(e).slice(8,-1),ma=e=>Is(e)==="[object Object]",bn=e=>Re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,os=mn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ps=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},po=/-(\w)/g,ct=Ps(e=>e.replace(po,(t,s)=>s?s.toUpperCase():"")),mo=/\B([A-Z])/g,Ut=Ps(e=>e.replace(mo,"-$1").toLowerCase()),Es=Ps(e=>e.charAt(0).toUpperCase()+e.slice(1)),_n=Ps(e=>e?`on${Es(e)}`:""),Lt=(e,t)=>!Object.is(e,t),wn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},va=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},vo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ya;const Ns=()=>ya||(ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $t(e){if(ae(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=Re(n)?wo(n):$t(n);if(a)for(const r in a)t[r]=a[r]}return t}else if(Re(e)||Oe(e))return e}const yo=/;(?![^(]*\))/g,bo=/:([^]+)/,_o=/\/\*[^]*?\*\//g;function wo(e){const t={};return e.replace(_o,"").split(yo).forEach(s=>{if(s){const n=s.split(bo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function pe(e){let t="";if(Re(e))t=e;else if(ae(e))for(let s=0;s<e.length;s++){const n=pe(e[s]);n&&(t+=n+" ")}else if(Oe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ko=mn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ba(e){return!!e||e===""}const _a=e=>!!(e&&e.__v_isRef===!0),I=e=>Re(e)?e:e==null?"":ae(e)||Oe(e)&&(e.toString===pa||!oe(e.toString))?_a(e)?I(e.value):JSON.stringify(e,wa,2):String(e),wa=(e,t)=>_a(t)?wa(e,t.value):Zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,a],r)=>(s[kn(n,r)+" =>"]=a,s),{})}:ga(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>kn(s))}:Ct(t)?kn(t):Oe(t)&&!ae(t)&&!ma(t)?String(t):t,kn=(e,t="")=>{var s;return Ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class xo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=et;try{return et=this,t()}finally{et=s}}}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function So(){return et}let Ae;const xn=new WeakSet;class ka{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xn.has(this)&&(xn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Da(this),Ca(this);const t=Ae,s=ft;Ae=this,ft=!0;try{return this.fn()}finally{$a(this),Ae=t,ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Tn(t);this.deps=this.depsTail=void 0,Da(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$n(this)&&this.run()}get dirty(){return $n(this)}}let xa=0,ls,is;function Sa(e,t=!1){if(e.flags|=8,t){e.next=is,is=e;return}e.next=ls,ls=e}function Sn(){xa++}function Cn(){if(--xa>0)return;if(is){let t=is;for(is=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ls;){let t=ls;for(ls=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Ca(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function $a(e){let t,s=e.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),Tn(n),Co(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=s}function $n(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ta(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ta(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===us)||(e.globalVersion=us,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$n(e))))return;e.flags|=2;const t=e.dep,s=Ae,n=ft;Ae=e,ft=!0;try{Ca(e);const a=e.fn(e._value);(t.version===0||Lt(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ae=s,ft=n,$a(e),e.flags&=-3}}function Tn(e,t=!1){const{dep:s,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Tn(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Co(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ft=!0;const Ma=[];function vt(){Ma.push(ft),ft=!1}function yt(){const e=Ma.pop();ft=e===void 0?!0:e}function Da(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ae;Ae=void 0;try{t()}finally{Ae=s}}}let us=0;class $o{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!ft||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new $o(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,Aa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=n)}return s}trigger(t){this.version++,us++,this.notify(t)}notify(t){Sn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Cn()}}}function Aa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Aa(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Os=new WeakMap,Vt=Symbol(""),Dn=Symbol(""),cs=Symbol("");function Je(e,t,s){if(ft&&Ae){let n=Os.get(e);n||Os.set(e,n=new Map);let a=n.get(s);a||(n.set(s,a=new Mn),a.map=n,a.key=s),a.track()}}function Tt(e,t,s,n,a,r){const o=Os.get(e);if(!o){us++;return}const l=f=>{f&&f.trigger()};if(Sn(),t==="clear")o.forEach(l);else{const f=ae(e),g=f&&bn(s);if(f&&s==="length"){const h=Number(n);o.forEach((c,d)=>{(d==="length"||d===cs||!Ct(d)&&d>=h)&&l(c)})}else switch((s!==void 0||o.has(void 0))&&l(o.get(s)),g&&l(o.get(cs)),t){case"add":f?g&&l(o.get("length")):(l(o.get(Vt)),Zt(e)&&l(o.get(Dn)));break;case"delete":f||(l(o.get(Vt)),Zt(e)&&l(o.get(Dn)));break;case"set":Zt(e)&&l(o.get(Vt));break}}Cn()}function To(e,t){const s=Os.get(e);return s&&s.get(t)}function Yt(e){const t=_e(e);return t===e?t:(Je(t,"iterate",cs),dt(e)?t:t.map(je))}function Ls(e){return Je(e=_e(e),"iterate",cs),e}const Mo={__proto__:null,[Symbol.iterator](){return An(this,Symbol.iterator,je)},concat(...e){return Yt(this).concat(...e.map(t=>ae(t)?Yt(t):t))},entries(){return An(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return Mt(this,"every",e,t,void 0,arguments)},filter(e,t){return Mt(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return Mt(this,"find",e,t,je,arguments)},findIndex(e,t){return Mt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Mt(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return Mt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Mt(this,"forEach",e,t,void 0,arguments)},includes(...e){return In(this,"includes",e)},indexOf(...e){return In(this,"indexOf",e)},join(e){return Yt(this).join(e)},lastIndexOf(...e){return In(this,"lastIndexOf",e)},map(e,t){return Mt(this,"map",e,t,void 0,arguments)},pop(){return ds(this,"pop")},push(...e){return ds(this,"push",e)},reduce(e,...t){return Ia(this,"reduce",e,t)},reduceRight(e,...t){return Ia(this,"reduceRight",e,t)},shift(){return ds(this,"shift")},some(e,t){return Mt(this,"some",e,t,void 0,arguments)},splice(...e){return ds(this,"splice",e)},toReversed(){return Yt(this).toReversed()},toSorted(e){return Yt(this).toSorted(e)},toSpliced(...e){return Yt(this).toSpliced(...e)},unshift(...e){return ds(this,"unshift",e)},values(){return An(this,"values",je)}};function An(e,t,s){const n=Ls(e),a=n[t]();return n!==e&&!dt(e)&&(a._next=a.next,a.next=()=>{const r=a._next();return r.value&&(r.value=s(r.value)),r}),a}const Do=Array.prototype;function Mt(e,t,s,n,a,r){const o=Ls(e),l=o!==e&&!dt(e),f=o[t];if(f!==Do[t]){const c=f.apply(e,r);return l?je(c):c}let g=s;o!==e&&(l?g=function(c,d){return s.call(this,je(c),d,e)}:s.length>2&&(g=function(c,d){return s.call(this,c,d,e)}));const h=f.call(o,g,n);return l&&a?a(h):h}function Ia(e,t,s,n){const a=Ls(e);let r=s;return a!==e&&(dt(e)?s.length>3&&(r=function(o,l,f){return s.call(this,o,l,f,e)}):r=function(o,l,f){return s.call(this,o,je(l),f,e)}),a[t](r,...n)}function In(e,t,s){const n=_e(e);Je(n,"iterate",cs);const a=n[t](...s);return(a===-1||a===!1)&&En(s[0])?(s[0]=_e(s[0]),n[t](...s)):a}function ds(e,t,s=[]){vt(),Sn();const n=_e(e)[t].apply(e,s);return Cn(),yt(),n}const Ao=mn("__proto__,__v_isRef,__isVue"),Pa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function Io(e){Ct(e)||(e=String(e));const t=_e(this);return Je(t,"has",e),t.hasOwnProperty(e)}class Ea{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(a?r?Fa:Ra:r?Ha:La).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=ae(t);if(!a){let f;if(o&&(f=Mo[s]))return f;if(s==="hasOwnProperty")return Io}const l=Reflect.get(t,s,Be(t)?t:n);return(Ct(s)?Pa.has(s):Ao(s))||(a||Je(t,"get",s),r)?l:Be(l)?o&&bn(s)?l:l.value:Oe(l)?a?Wa(l):bt(l):l}}class Na extends Ea{constructor(t=!1){super(!1,t)}set(t,s,n,a){let r=t[s];if(!this._isShallow){const f=Ht(r);if(!dt(n)&&!Ht(n)&&(r=_e(r),n=_e(n)),!ae(t)&&Be(r)&&!Be(n))return f||(r.value=n),!0}const o=ae(t)&&bn(s)?Number(s)<t.length:$e(t,s),l=Reflect.set(t,s,n,Be(t)?t:a);return t===_e(a)&&(o?Lt(n,r)&&Tt(t,"set",s,n):Tt(t,"add",s,n)),l}deleteProperty(t,s){const n=$e(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&n&&Tt(t,"delete",s,void 0),a}has(t,s){const n=Reflect.has(t,s);return(!Ct(s)||!Pa.has(s))&&Je(t,"has",s),n}ownKeys(t){return Je(t,"iterate",ae(t)?"length":Vt),Reflect.ownKeys(t)}}class Oa extends Ea{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Po=new Na,Eo=new Oa,No=new Na(!0),Oo=new Oa(!0),Pn=e=>e,Hs=e=>Reflect.getPrototypeOf(e);function Lo(e,t,s){return function(...n){const a=this.__v_raw,r=_e(a),o=Zt(r),l=e==="entries"||e===Symbol.iterator&&o,f=e==="keys"&&o,g=a[e](...n),h=s?Pn:t?Bs:je;return!t&&Je(r,"iterate",f?Dn:Vt),{next(){const{value:c,done:d}=g.next();return d?{value:c,done:d}:{value:l?[h(c[0]),h(c[1])]:h(c),done:d}},[Symbol.iterator](){return this}}}}function Rs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ho(e,t){const s={get(a){const r=this.__v_raw,o=_e(r),l=_e(a);e||(Lt(a,l)&&Je(o,"get",a),Je(o,"get",l));const{has:f}=Hs(o),g=t?Pn:e?Bs:je;if(f.call(o,a))return g(r.get(a));if(f.call(o,l))return g(r.get(l));r!==o&&r.get(a)},get size(){const a=this.__v_raw;return!e&&Je(_e(a),"iterate",Vt),a.size},has(a){const r=this.__v_raw,o=_e(r),l=_e(a);return e||(Lt(a,l)&&Je(o,"has",a),Je(o,"has",l)),a===l?r.has(a):r.has(a)||r.has(l)},forEach(a,r){const o=this,l=o.__v_raw,f=_e(l),g=t?Pn:e?Bs:je;return!e&&Je(f,"iterate",Vt),l.forEach((h,c)=>a.call(r,g(h),g(c),o))}};return qe(s,e?{add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear")}:{add(a){!t&&!dt(a)&&!Ht(a)&&(a=_e(a));const r=_e(this);return Hs(r).has.call(r,a)||(r.add(a),Tt(r,"add",a,a)),this},set(a,r){!t&&!dt(r)&&!Ht(r)&&(r=_e(r));const o=_e(this),{has:l,get:f}=Hs(o);let g=l.call(o,a);g||(a=_e(a),g=l.call(o,a));const h=f.call(o,a);return o.set(a,r),g?Lt(r,h)&&Tt(o,"set",a,r):Tt(o,"add",a,r),this},delete(a){const r=_e(this),{has:o,get:l}=Hs(r);let f=o.call(r,a);f||(a=_e(a),f=o.call(r,a)),l&&l.call(r,a);const g=r.delete(a);return f&&Tt(r,"delete",a,void 0),g},clear(){const a=_e(this),r=a.size!==0,o=a.clear();return r&&Tt(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=Lo(a,e,t)}),s}function Fs(e,t){const s=Ho(e,t);return(n,a,r)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get($e(s,a)&&a in n?s:n,a,r)}const Ro={get:Fs(!1,!1)},Fo={get:Fs(!1,!0)},Wo={get:Fs(!0,!1)},Bo={get:Fs(!0,!0)},La=new WeakMap,Ha=new WeakMap,Ra=new WeakMap,Fa=new WeakMap;function jo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uo(e){return e.__v_skip||!Object.isExtensible(e)?0:jo(ho(e))}function bt(e){return Ht(e)?e:Ws(e,!1,Po,Ro,La)}function Vo(e){return Ws(e,!1,No,Fo,Ha)}function Wa(e){return Ws(e,!0,Eo,Wo,Ra)}function ep(e){return Ws(e,!0,Oo,Bo,Fa)}function Ws(e,t,s,n,a){if(!Oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Uo(e);if(r===0)return e;const o=a.get(e);if(o)return o;const l=new Proxy(e,r===2?n:s);return a.set(e,l),l}function Xt(e){return Ht(e)?Xt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function dt(e){return!!(e&&e.__v_isShallow)}function En(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function zo(e){return!$e(e,"__v_skip")&&Object.isExtensible(e)&&va(e,"__v_skip",!0),e}const je=e=>Oe(e)?bt(e):e,Bs=e=>Oe(e)?Wa(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function ce(e){return Ko(e,!1)}function Ko(e,t){return Be(e)?e:new Go(e,t)}class Go{constructor(t,s){this.dep=new Mn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:_e(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||dt(t)||Ht(t);t=n?t:_e(t),Lt(t,s)&&(this._rawValue=t,this._value=n?t:je(t),this.dep.trigger())}}function w(e){return Be(e)?e.value:e}const qo={get:(e,t,s)=>t==="__v_raw"?e:w(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const a=e[t];return Be(a)&&!Be(s)?(a.value=s,!0):Reflect.set(e,t,s,n)}};function Ba(e){return Xt(e)?e:new Proxy(e,qo)}function ja(e){const t=ae(e)?new Array(e.length):{};for(const s in e)t[s]=Zo(e,s);return t}class Jo{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return To(_e(this._object),this._key)}}function Zo(e,t,s){const n=e[t];return Be(n)?n:new Jo(e,t,s)}class Yo{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Mn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=us-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return Sa(this,!0),!0}get value(){const t=this.dep.track();return Ta(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Xo(e,t,s=!1){let n,a;return oe(e)?n=e:(n=e.get,a=e.set),new Yo(n,a,s)}const js={},Us=new WeakMap;let zt;function Qo(e,t=!1,s=zt){if(s){let n=Us.get(s);n||Us.set(s,n=[]),n.push(e)}}function el(e,t,s=De){const{immediate:n,deep:a,once:r,scheduler:o,augmentJob:l,call:f}=s,g=$=>a?$:dt($)||a===!1||a===0?Dt($,1):Dt($);let h,c,d,u,b=!1,m=!1;if(Be(e)?(c=()=>e.value,b=dt(e)):Xt(e)?(c=()=>g(e),b=!0):ae(e)?(m=!0,b=e.some($=>Xt($)||dt($)),c=()=>e.map($=>{if(Be($))return $.value;if(Xt($))return g($);if(oe($))return f?f($,2):$()})):oe(e)?t?c=f?()=>f(e,2):e:c=()=>{if(d){vt();try{d()}finally{yt()}}const $=zt;zt=h;try{return f?f(e,3,[u]):e(u)}finally{zt=$}}:c=mt,t&&a){const $=c,F=a===!0?1/0:a;c=()=>Dt($(),F)}const H=So(),W=()=>{h.stop(),H&&H.active&&yn(H.effects,h)};if(r&&t){const $=t;t=(...F)=>{$(...F),W()}}let S=m?new Array(e.length).fill(js):js;const E=$=>{if(!(!(h.flags&1)||!h.dirty&&!$))if(t){const F=h.run();if(a||b||(m?F.some((Y,ee)=>Lt(Y,S[ee])):Lt(F,S))){d&&d();const Y=zt;zt=h;try{const ee=[F,S===js?void 0:m&&S[0]===js?[]:S,u];S=F,f?f(t,3,ee):t(...ee)}finally{zt=Y}}}else h.run()};return l&&l(E),h=new ka(c),h.scheduler=o?()=>o(E,!1):E,u=$=>Qo($,!1,h),d=h.onStop=()=>{const $=Us.get(h);if($){if(f)f($,4);else for(const F of $)F();Us.delete(h)}},t?n?E(!0):S=h.run():o?o(E.bind(null,!0),!0):h.run(),W.pause=h.pause.bind(h),W.resume=h.resume.bind(h),W.stop=W,W}function Dt(e,t=1/0,s){if(t<=0||!Oe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Be(e))Dt(e.value,t,s);else if(ae(e))for(let n=0;n<e.length;n++)Dt(e[n],t,s);else if(ga(e)||Zt(e))e.forEach(n=>{Dt(n,t,s)});else if(ma(e)){for(const n in e)Dt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Dt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fs=[];let Nn=!1;function tp(e,...t){if(Nn)return;Nn=!0,vt();const s=fs.length?fs[fs.length-1].component:null,n=s&&s.appContext.config.warnHandler,a=tl();if(n)Qt(n,s,11,[e+t.map(r=>{var o,l;return(l=(o=r.toString)==null?void 0:o.call(r))!=null?l:JSON.stringify(r)}).join(""),s&&s.proxy,a.map(({vnode:r})=>`at <${Lr(s,r.type)}>`).join(`
`),a]);else{const r=[`[Vue warn]: ${e}`,...t];a.length&&r.push(`
`,...sl(a)),console.warn(...r)}yt(),Nn=!1}function tl(){let e=fs[fs.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function sl(e){const t=[];return e.forEach((s,n)=>{t.push(...n===0?[]:[`
`],...nl(s))}),t}function nl({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,a=` at <${Lr(e.component,e.type,n)}`,r=">"+s;return e.props?[a,...al(e.props),r]:[a+r]}function al(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(n=>{t.push(...Ua(n,e[n]))}),s.length>3&&t.push(" ..."),t}function Ua(e,t,s){return Re(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Be(t)?(t=Ua(e,_e(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):oe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=_e(t),s?t:[`${e}=`,t])}function Qt(e,t,s,n){try{return n?e(...n):e()}catch(a){Vs(a,t,s)}}function _t(e,t,s,n){if(oe(e)){const a=Qt(e,t,s,n);return a&&ha(a)&&a.catch(r=>{Vs(r,t,s)}),a}if(ae(e)){const a=[];for(let r=0;r<e.length;r++)a.push(_t(e[r],t,s,n));return a}}function Vs(e,t,s,n=!0){const a=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||De;if(t){let l=t.parent;const f=t.proxy,g=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const h=l.ec;if(h){for(let c=0;c<h.length;c++)if(h[c](e,f,g)===!1)return}l=l.parent}if(r){vt(),Qt(r,null,10,[e,f,g]),yt();return}}rl(e,s,a,n,o)}function rl(e,t,s,n=!0,a=!1){if(a)throw e;console.error(e)}const Ye=[];let wt=-1;const es=[];let Rt=null,ts=0;const Va=Promise.resolve();let zs=null;function Ks(e){const t=zs||Va;return e?t.then(this?e.bind(this):e):t}function ol(e){let t=wt+1,s=Ye.length;for(;t<s;){const n=t+s>>>1,a=Ye[n],r=gs(a);r<e||r===e&&a.flags&2?t=n+1:s=n}return t}function On(e){if(!(e.flags&1)){const t=gs(e),s=Ye[Ye.length-1];!s||!(e.flags&2)&&t>=gs(s)?Ye.push(e):Ye.splice(ol(t),0,e),e.flags|=1,za()}}function za(){zs||(zs=Va.then(qa))}function ll(e){ae(e)?es.push(...e):Rt&&e.id===-1?Rt.splice(ts+1,0,e):e.flags&1||(es.push(e),e.flags|=1),za()}function Ka(e,t,s=wt+1){for(;s<Ye.length;s++){const n=Ye[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ye.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ga(e){if(es.length){const t=[...new Set(es)].sort((s,n)=>gs(s)-gs(n));if(es.length=0,Rt){Rt.push(...t);return}for(Rt=t,ts=0;ts<Rt.length;ts++){const s=Rt[ts];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Rt=null,ts=0}}const gs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function qa(e){try{for(wt=0;wt<Ye.length;wt++){const t=Ye[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Qt(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<Ye.length;wt++){const t=Ye[wt];t&&(t.flags&=-2)}wt=-1,Ye.length=0,Ga(),zs=null,(Ye.length||es.length)&&qa()}}let Ue=null,Ja=null;function Gs(e){const t=Ue;return Ue=e,Ja=e&&e.type.__scopeId||null,t}function Ve(e,t=Ue,s){if(!t||e._n)return e;const n=(...a)=>{n._d&&Mr(-1);const r=Gs(t);let o;try{o=e(...a)}finally{Gs(r),n._d&&Mr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function qs(e,t){if(Ue===null)return e;const s=nn(Ue),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[r,o,l,f=De]=t[a];r&&(oe(r)&&(r={mounted:r,updated:r}),r.deep&&Dt(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:l,modifiers:f}))}return e}function Kt(e,t,s,n){const a=e.dirs,r=t&&t.dirs;for(let o=0;o<a.length;o++){const l=a[o];r&&(l.oldValue=r[o].value);let f=l.dir[n];f&&(vt(),_t(f,s,8,[e.el,l,e,t]),yt())}}const il=Symbol("_vte"),ul=e=>e.__isTeleport,cl=Symbol("_leaveCb");function Ln(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ln(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Pe(e,t){return oe(e)?qe({name:e.name},t,{setup:e}):e}function Za(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function hs(e,t,s,n,a=!1){if(ae(e)){e.forEach((b,m)=>hs(b,t&&(ae(t)?t[m]:t),s,n,a));return}if(ss(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&hs(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?nn(n.component):n.el,o=a?null:r,{i:l,r:f}=e,g=t&&t.r,h=l.refs===De?l.refs={}:l.refs,c=l.setupState,d=_e(c),u=c===De?fa:b=>$e(d,b);if(g!=null&&g!==f){if(Re(g))h[g]=null,u(g)&&(c[g]=null);else if(Be(g)){g.value=null;const b=t;b.k&&(h[b.k]=null)}}if(oe(f))Qt(f,l,12,[o,h]);else{const b=Re(f),m=Be(f);if(b||m){const H=()=>{if(e.f){const W=b?u(f)?c[f]:h[f]:f.value;if(a)ae(W)&&yn(W,r);else if(ae(W))W.includes(r)||W.push(r);else if(b)h[f]=[r],u(f)&&(c[f]=h[f]);else{const S=[r];f.value=S,e.k&&(h[e.k]=S)}}else b?(h[f]=o,u(f)&&(c[f]=o)):m&&(f.value=o,e.k&&(h[e.k]=o))};o?(H.id=-1,ot(H,s)):H()}}}Ns().requestIdleCallback,Ns().cancelIdleCallback;const ss=e=>!!e.type.__asyncLoader,Ya=e=>e.type.__isKeepAlive;function dl(e,t){Xa(e,"a",t)}function fl(e,t){Xa(e,"da",t)}function Xa(e,t,s=Ze){const n=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Js(t,n,s),s){let a=s.parent;for(;a&&a.parent;)Ya(a.parent.vnode)&&gl(n,t,s,a),a=a.parent}}function gl(e,t,s,n){const a=Js(t,e,n,!0);er(()=>{yn(n[t],a)},s)}function Js(e,t,s=Ze,n=!1){if(s){const a=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{vt();const l=ks(s),f=_t(t,s,e,o);return l(),yt(),f});return n?a.unshift(r):a.push(r),r}}const At=e=>(t,s=Ze)=>{(!xs||e==="sp")&&Js(e,(...n)=>t(...n),s)},hl=At("bm"),ps=At("m"),pl=At("bu"),ml=At("u"),Qa=At("bum"),er=At("um"),vl=At("sp"),yl=At("rtg"),bl=At("rtc");function _l(e,t=Ze){Js("ec",e,t)}const wl="components";function kl(e,t){return Sl(wl,e,!0,t)||e}const xl=Symbol.for("v-ndc");function Sl(e,t,s=!0,n=!1){const a=Ue||Ze;if(a){const r=a.type;{const l=Or(r,!1);if(l&&(l===t||l===ct(t)||l===Es(ct(t))))return r}const o=tr(a[e]||r[e],t)||tr(a.appContext[e],t);return!o&&n?r:o}}function tr(e,t){return e&&(e[t]||e[ct(t)]||e[Es(ct(t))])}function ze(e,t,s,n){let a;const r=s,o=ae(e);if(o||Re(e)){const l=o&&Xt(e);let f=!1,g=!1;l&&(f=!dt(e),g=Ht(e),e=Ls(e)),a=new Array(e.length);for(let h=0,c=e.length;h<c;h++)a[h]=t(f?g?Bs(je(e[h])):je(e[h]):e[h],h,void 0,r)}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,r)}else if(Oe(e))if(e[Symbol.iterator])a=Array.from(e,(l,f)=>t(l,f,void 0,r));else{const l=Object.keys(e);a=new Array(l.length);for(let f=0,g=l.length;f<g;f++){const h=l[f];a[f]=t(e[h],h,f,r)}}else a=[];return a}function Cl(e,t,s={},n,a){if(Ue.ce||Ue.parent&&ss(Ue.parent)&&Ue.parent.ce)return s.name=t,k(),Ke(fe,null,[de("slot",s,n)],64);let r=e[t];r&&r._c&&(r._d=!1),k();const o=r&&sr(r(s)),l=s.key||o&&o.key,f=Ke(fe,{key:(l&&!Ct(l)?l:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),f}function sr(e){return e.some(t=>_s(t)?!(t.type===It||t.type===fe&&!sr(t.children)):!0)?e:null}const Hn=e=>e?Pr(e)?nn(e):Hn(e.parent):null,ms=qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hn(e.parent),$root:e=>Hn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>or(e),$forceUpdate:e=>e.f||(e.f=()=>{On(e.update)}),$nextTick:e=>e.n||(e.n=Ks.bind(e.proxy)),$watch:e=>Gl.bind(e)}),Rn=(e,t)=>e!==De&&!e.__isScriptSetup&&$e(e,t),$l={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:r,accessCache:o,type:l,appContext:f}=e;let g;if(t[0]!=="$"){const u=o[t];if(u!==void 0)switch(u){case 1:return n[t];case 2:return a[t];case 4:return s[t];case 3:return r[t]}else{if(Rn(n,t))return o[t]=1,n[t];if(a!==De&&$e(a,t))return o[t]=2,a[t];if((g=e.propsOptions[0])&&$e(g,t))return o[t]=3,r[t];if(s!==De&&$e(s,t))return o[t]=4,s[t];Fn&&(o[t]=0)}}const h=ms[t];let c,d;if(h)return t==="$attrs"&&Je(e.attrs,"get",""),h(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(s!==De&&$e(s,t))return o[t]=4,s[t];if(d=f.config.globalProperties,$e(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:a,ctx:r}=e;return Rn(a,t)?(a[t]=s,!0):n!==De&&$e(n,t)?(n[t]=s,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:a,propsOptions:r,type:o}},l){let f,g;return!!(s[l]||e!==De&&l[0]!=="$"&&$e(e,l)||Rn(t,l)||(f=r[0])&&$e(f,l)||$e(n,l)||$e(ms,l)||$e(a.config.globalProperties,l)||(g=o.__cssModules)&&g[l])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:$e(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function nr(e){return ae(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Fn=!0;function Tl(e){const t=or(e),s=e.proxy,n=e.ctx;Fn=!1,t.beforeCreate&&ar(t.beforeCreate,e,"bc");const{data:a,computed:r,methods:o,watch:l,provide:f,inject:g,created:h,beforeMount:c,mounted:d,beforeUpdate:u,updated:b,activated:m,deactivated:H,beforeDestroy:W,beforeUnmount:S,destroyed:E,unmounted:$,render:F,renderTracked:Y,renderTriggered:ee,errorCaptured:te,serverPrefetch:ge,expose:K,inheritAttrs:ve,components:ke,directives:me,filters:Ee}=t;if(g&&Ml(g,n,null),o)for(const se in o){const Z=o[se];oe(Z)&&(n[se]=Z.bind(s))}if(a){const se=a.call(s,s);Oe(se)&&(e.data=bt(se))}if(Fn=!0,r)for(const se in r){const Z=r[se],ie=oe(Z)?Z.bind(s,s):oe(Z.get)?Z.get.bind(s,s):mt,xe=!oe(Z)&&oe(Z.set)?Z.set.bind(s):mt,Se=V({get:ie,set:xe});Object.defineProperty(n,se,{enumerable:!0,configurable:!0,get:()=>Se.value,set:he=>Se.value=he})}if(l)for(const se in l)rr(l[se],n,s,se);if(f){const se=oe(f)?f.call(s):f;Reflect.ownKeys(se).forEach(Z=>{Nl(Z,se[Z])})}h&&ar(h,e,"c");function le(se,Z){ae(Z)?Z.forEach(ie=>se(ie.bind(s))):Z&&se(Z.bind(s))}if(le(hl,c),le(ps,d),le(pl,u),le(ml,b),le(dl,m),le(fl,H),le(_l,te),le(bl,Y),le(yl,ee),le(Qa,S),le(er,$),le(vl,ge),ae(K))if(K.length){const se=e.exposed||(e.exposed={});K.forEach(Z=>{Object.defineProperty(se,Z,{get:()=>s[Z],set:ie=>s[Z]=ie,enumerable:!0})})}else e.exposed||(e.exposed={});F&&e.render===mt&&(e.render=F),ve!=null&&(e.inheritAttrs=ve),ke&&(e.components=ke),me&&(e.directives=me),ge&&Za(e)}function Ml(e,t,s=mt){ae(e)&&(e=Wn(e));for(const n in e){const a=e[n];let r;Oe(a)?"default"in a?r=Ys(a.from||n,a.default,!0):r=Ys(a.from||n):r=Ys(a),Be(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function ar(e,t,s){_t(ae(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function rr(e,t,s,n){let a=n.includes(".")?xr(s,n):()=>s[n];if(Re(e)){const r=t[e];oe(r)&&gt(a,r)}else if(oe(e))gt(a,e.bind(s));else if(Oe(e))if(ae(e))e.forEach(r=>rr(r,t,s,n));else{const r=oe(e.handler)?e.handler.bind(s):t[e.handler];oe(r)&&gt(a,r,e)}}function or(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:a,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,l=r.get(t);let f;return l?f=l:!a.length&&!s&&!n?f=t:(f={},a.length&&a.forEach(g=>Zs(f,g,o,!0)),Zs(f,t,o)),Oe(t)&&r.set(t,f),f}function Zs(e,t,s,n=!1){const{mixins:a,extends:r}=t;r&&Zs(e,r,s,!0),a&&a.forEach(o=>Zs(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const l=Dl[o]||s&&s[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Dl={data:lr,props:ir,emits:ir,methods:vs,computed:vs,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:vs,directives:vs,watch:Il,provide:lr,inject:Al};function lr(e,t){return t?e?function(){return qe(oe(e)?e.call(this,this):e,oe(t)?t.call(this,this):t)}:t:e}function Al(e,t){return vs(Wn(e),Wn(t))}function Wn(e){if(ae(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Xe(e,t){return e?[...new Set([].concat(e,t))]:t}function vs(e,t){return e?qe(Object.create(null),e,t):t}function ir(e,t){return e?ae(e)&&ae(t)?[...new Set([...e,...t])]:qe(Object.create(null),nr(e),nr(t??{})):t}function Il(e,t){if(!e)return t;if(!t)return e;const s=qe(Object.create(null),e);for(const n in t)s[n]=Xe(e[n],t[n]);return s}function ur(){return{app:null,config:{isNativeTag:fa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pl=0;function El(e,t){return function(n,a=null){oe(n)||(n=qe({},n)),a!=null&&!Oe(a)&&(a=null);const r=ur(),o=new WeakSet,l=[];let f=!1;const g=r.app={_uid:Pl++,_component:n,_props:a,_container:null,_context:r,_instance:null,version:vi,get config(){return r.config},set config(h){},use(h,...c){return o.has(h)||(h&&oe(h.install)?(o.add(h),h.install(g,...c)):oe(h)&&(o.add(h),h(g,...c))),g},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),g},component(h,c){return c?(r.components[h]=c,g):r.components[h]},directive(h,c){return c?(r.directives[h]=c,g):r.directives[h]},mount(h,c,d){if(!f){const u=g._ceVNode||de(n,a);return u.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(u,h,d),f=!0,g._container=h,h.__vue_app__=g,nn(u.component)}},onUnmount(h){l.push(h)},unmount(){f&&(_t(l,g._instance,16),e(null,g._container),delete g._container.__vue_app__)},provide(h,c){return r.provides[h]=c,g},runWithContext(h){const c=ns;ns=g;try{return h()}finally{ns=c}}};return g}}let ns=null;function Nl(e,t){if(Ze){let s=Ze.provides;const n=Ze.parent&&Ze.parent.provides;n===s&&(s=Ze.provides=Object.create(n)),s[e]=t}}function Ys(e,t,s=!1){const n=ui();if(n||ns){let a=ns?ns._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&oe(t)?t.call(n&&n.proxy):t}}const cr={},dr=()=>Object.create(cr),fr=e=>Object.getPrototypeOf(e)===cr;function Ol(e,t,s,n=!1){const a={},r=dr();e.propsDefaults=Object.create(null),gr(e,t,a,r);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);s?e.props=n?a:Vo(a):e.type.props?e.props=a:e.props=r,e.attrs=r}function Ll(e,t,s,n){const{props:a,attrs:r,vnode:{patchFlag:o}}=e,l=_e(a),[f]=e.propsOptions;let g=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let c=0;c<h.length;c++){let d=h[c];if(Xs(e.emitsOptions,d))continue;const u=t[d];if(f)if($e(r,d))u!==r[d]&&(r[d]=u,g=!0);else{const b=ct(d);a[b]=Bn(f,l,b,u,e,!1)}else u!==r[d]&&(r[d]=u,g=!0)}}}else{gr(e,t,a,r)&&(g=!0);let h;for(const c in l)(!t||!$e(t,c)&&((h=Ut(c))===c||!$e(t,h)))&&(f?s&&(s[c]!==void 0||s[h]!==void 0)&&(a[c]=Bn(f,l,c,void 0,e,!0)):delete a[c]);if(r!==l)for(const c in r)(!t||!$e(t,c))&&(delete r[c],g=!0)}g&&Tt(e.attrs,"set","")}function gr(e,t,s,n){const[a,r]=e.propsOptions;let o=!1,l;if(t)for(let f in t){if(os(f))continue;const g=t[f];let h;a&&$e(a,h=ct(f))?!r||!r.includes(h)?s[h]=g:(l||(l={}))[h]=g:Xs(e.emitsOptions,f)||(!(f in n)||g!==n[f])&&(n[f]=g,o=!0)}if(r){const f=_e(s),g=l||De;for(let h=0;h<r.length;h++){const c=r[h];s[c]=Bn(a,f,c,g[c],e,!$e(g,c))}}return o}function Bn(e,t,s,n,a,r){const o=e[s];if(o!=null){const l=$e(o,"default");if(l&&n===void 0){const f=o.default;if(o.type!==Function&&!o.skipFactory&&oe(f)){const{propsDefaults:g}=a;if(s in g)n=g[s];else{const h=ks(a);n=g[s]=f.call(null,t),h()}}else n=f;a.ce&&a.ce._setProp(s,n)}o[0]&&(r&&!l?n=!1:o[1]&&(n===""||n===Ut(s))&&(n=!0))}return n}const Hl=new WeakMap;function hr(e,t,s=!1){const n=s?Hl:t.propsCache,a=n.get(e);if(a)return a;const r=e.props,o={},l=[];let f=!1;if(!oe(e)){const h=c=>{f=!0;const[d,u]=hr(c,t,!0);qe(o,d),u&&l.push(...u)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!f)return Oe(e)&&n.set(e,Jt),Jt;if(ae(r))for(let h=0;h<r.length;h++){const c=ct(r[h]);pr(c)&&(o[c]=De)}else if(r)for(const h in r){const c=ct(h);if(pr(c)){const d=r[h],u=o[c]=ae(d)||oe(d)?{type:d}:qe({},d),b=u.type;let m=!1,H=!0;if(ae(b))for(let W=0;W<b.length;++W){const S=b[W],E=oe(S)&&S.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(H=!1)}else m=oe(b)&&b.name==="Boolean";u[0]=m,u[1]=H,(m||$e(u,"default"))&&l.push(c)}}const g=[o,l];return Oe(e)&&n.set(e,g),g}function pr(e){return e[0]!=="$"&&!os(e)}const jn=e=>e==="_"||e==="_ctx"||e==="$stable",Un=e=>ae(e)?e.map(kt):[kt(e)],Rl=(e,t,s)=>{if(t._n)return t;const n=Ve((...a)=>Un(t(...a)),s);return n._c=!1,n},mr=(e,t,s)=>{const n=e._ctx;for(const a in e){if(jn(a))continue;const r=e[a];if(oe(r))t[a]=Rl(a,r,n);else if(r!=null){const o=Un(r);t[a]=()=>o}}},vr=(e,t)=>{const s=Un(t);e.slots.default=()=>s},yr=(e,t,s)=>{for(const n in t)(s||!jn(n))&&(e[n]=t[n])},Fl=(e,t,s)=>{const n=e.slots=dr();if(e.vnode.shapeFlag&32){const a=t._;a?(yr(n,t,s),s&&va(n,"_",a,!0)):mr(t,n)}else t&&vr(e,t)},Wl=(e,t,s)=>{const{vnode:n,slots:a}=e;let r=!0,o=De;if(n.shapeFlag&32){const l=t._;l?s&&l===1?r=!1:yr(a,t,s):(r=!t.$stable,mr(t,a)),o=t}else t&&(vr(e,t),o={default:1});if(r)for(const l in a)!jn(l)&&o[l]==null&&delete a[l]},ot=ei;function Bl(e){return jl(e)}function jl(e,t){const s=Ns();s.__VUE__=!0;const{insert:n,remove:a,patchProp:r,createElement:o,createText:l,createComment:f,setText:g,setElementText:h,parentNode:c,nextSibling:d,setScopeId:u=mt,insertStaticContent:b}=e,m=(p,v,x,N=null,T=null,M=null,B=void 0,O=null,R=!!v.dynamicChildren)=>{if(p===v)return;p&&!ws(p,v)&&(N=be(p),he(p,T,M,!0),p=null),v.patchFlag===-2&&(R=!1,v.dynamicChildren=null);const{type:L,ref:G,shapeFlag:U}=v;switch(L){case Qs:H(p,v,x,N);break;case It:W(p,v,x,N);break;case en:p==null&&S(v,x,N,B);break;case fe:ke(p,v,x,N,T,M,B,O,R);break;default:U&1?F(p,v,x,N,T,M,B,O,R):U&6?me(p,v,x,N,T,M,B,O,R):(U&64||U&128)&&L.process(p,v,x,N,T,M,B,O,R,Ge)}G!=null&&T?hs(G,p&&p.ref,M,v||p,!v):G==null&&p&&p.ref!=null&&hs(p.ref,null,M,p,!0)},H=(p,v,x,N)=>{if(p==null)n(v.el=l(v.children),x,N);else{const T=v.el=p.el;v.children!==p.children&&g(T,v.children)}},W=(p,v,x,N)=>{p==null?n(v.el=f(v.children||""),x,N):v.el=p.el},S=(p,v,x,N)=>{[p.el,p.anchor]=b(p.children,v,x,N,p.el,p.anchor)},E=({el:p,anchor:v},x,N)=>{let T;for(;p&&p!==v;)T=d(p),n(p,x,N),p=T;n(v,x,N)},$=({el:p,anchor:v})=>{let x;for(;p&&p!==v;)x=d(p),a(p),p=x;a(v)},F=(p,v,x,N,T,M,B,O,R)=>{v.type==="svg"?B="svg":v.type==="math"&&(B="mathml"),p==null?Y(v,x,N,T,M,B,O,R):ge(p,v,T,M,B,O,R)},Y=(p,v,x,N,T,M,B,O)=>{let R,L;const{props:G,shapeFlag:U,transition:q,dirs:Q}=p;if(R=p.el=o(p.type,M,G&&G.is,G),U&8?h(R,p.children):U&16&&te(p.children,R,null,N,T,Vn(p,M),B,O),Q&&Kt(p,null,N,"created"),ee(R,p,p.scopeId,B,N),G){for(const Me in G)Me!=="value"&&!os(Me)&&r(R,Me,null,G[Me],M,N);"value"in G&&r(R,"value",null,G.value,M),(L=G.onVnodeBeforeMount)&&xt(L,N,p)}Q&&Kt(p,null,N,"beforeMount");const ue=Ul(T,q);ue&&q.beforeEnter(R),n(R,v,x),((L=G&&G.onVnodeMounted)||ue||Q)&&ot(()=>{L&&xt(L,N,p),ue&&q.enter(R),Q&&Kt(p,null,N,"mounted")},T)},ee=(p,v,x,N,T)=>{if(x&&u(p,x),N)for(let M=0;M<N.length;M++)u(p,N[M]);if(T){let M=T.subTree;if(v===M||Tr(M.type)&&(M.ssContent===v||M.ssFallback===v)){const B=T.vnode;ee(p,B,B.scopeId,B.slotScopeIds,T.parent)}}},te=(p,v,x,N,T,M,B,O,R=0)=>{for(let L=R;L<p.length;L++){const G=p[L]=O?Ft(p[L]):kt(p[L]);m(null,G,v,x,N,T,M,B,O)}},ge=(p,v,x,N,T,M,B)=>{const O=v.el=p.el;let{patchFlag:R,dynamicChildren:L,dirs:G}=v;R|=p.patchFlag&16;const U=p.props||De,q=v.props||De;let Q;if(x&&Gt(x,!1),(Q=q.onVnodeBeforeUpdate)&&xt(Q,x,v,p),G&&Kt(v,p,x,"beforeUpdate"),x&&Gt(x,!0),(U.innerHTML&&q.innerHTML==null||U.textContent&&q.textContent==null)&&h(O,""),L?K(p.dynamicChildren,L,O,x,N,Vn(v,T),M):B||Z(p,v,O,null,x,N,Vn(v,T),M,!1),R>0){if(R&16)ve(O,U,q,x,T);else if(R&2&&U.class!==q.class&&r(O,"class",null,q.class,T),R&4&&r(O,"style",U.style,q.style,T),R&8){const ue=v.dynamicProps;for(let Me=0;Me<ue.length;Me++){const we=ue[Me],Fe=U[we],We=q[we];(We!==Fe||we==="value")&&r(O,we,Fe,We,T,x)}}R&1&&p.children!==v.children&&h(O,v.children)}else!B&&L==null&&ve(O,U,q,x,T);((Q=q.onVnodeUpdated)||G)&&ot(()=>{Q&&xt(Q,x,v,p),G&&Kt(v,p,x,"updated")},N)},K=(p,v,x,N,T,M,B)=>{for(let O=0;O<v.length;O++){const R=p[O],L=v[O],G=R.el&&(R.type===fe||!ws(R,L)||R.shapeFlag&198)?c(R.el):x;m(R,L,G,null,N,T,M,B,!0)}},ve=(p,v,x,N,T)=>{if(v!==x){if(v!==De)for(const M in v)!os(M)&&!(M in x)&&r(p,M,v[M],null,T,N);for(const M in x){if(os(M))continue;const B=x[M],O=v[M];B!==O&&M!=="value"&&r(p,M,O,B,T,N)}"value"in x&&r(p,"value",v.value,x.value,T)}},ke=(p,v,x,N,T,M,B,O,R)=>{const L=v.el=p?p.el:l(""),G=v.anchor=p?p.anchor:l("");let{patchFlag:U,dynamicChildren:q,slotScopeIds:Q}=v;Q&&(O=O?O.concat(Q):Q),p==null?(n(L,x,N),n(G,x,N),te(v.children||[],x,G,T,M,B,O,R)):U>0&&U&64&&q&&p.dynamicChildren?(K(p.dynamicChildren,q,x,T,M,B,O),(v.key!=null||T&&v===T.subTree)&&br(p,v,!0)):Z(p,v,x,G,T,M,B,O,R)},me=(p,v,x,N,T,M,B,O,R)=>{v.slotScopeIds=O,p==null?v.shapeFlag&512?T.ctx.activate(v,x,N,B,R):Ee(v,x,N,T,M,B,R):j(p,v,R)},Ee=(p,v,x,N,T,M,B)=>{const O=p.component=ii(p,N,T);if(Ya(p)&&(O.ctx.renderer=Ge),ci(O,!1,B),O.asyncDep){if(T&&T.registerDep(O,le,B),!p.el){const R=O.subTree=de(It);W(null,R,v,x),p.placeholder=R.el}}else le(O,p,v,x,T,M,B)},j=(p,v,x)=>{const N=v.component=p.component;if(Xl(p,v,x))if(N.asyncDep&&!N.asyncResolved){se(N,v,x);return}else N.next=v,N.update();else v.el=p.el,N.vnode=v},le=(p,v,x,N,T,M,B)=>{const O=()=>{if(p.isMounted){let{next:U,bu:q,u:Q,parent:ue,vnode:Me}=p;{const rt=_r(p);if(rt){U&&(U.el=Me.el,se(p,U,B)),rt.asyncDep.then(()=>{p.isUnmounted||O()});return}}let we=U,Fe;Gt(p,!1),U?(U.el=Me.el,se(p,U,B)):U=Me,q&&wn(q),(Fe=U.props&&U.props.onVnodeBeforeUpdate)&&xt(Fe,ue,U,Me),Gt(p,!0);const We=Cr(p),at=p.subTree;p.subTree=We,m(at,We,c(at.el),be(at),p,T,M),U.el=We.el,we===null&&Ql(p,We.el),Q&&ot(Q,T),(Fe=U.props&&U.props.onVnodeUpdated)&&ot(()=>xt(Fe,ue,U,Me),T)}else{let U;const{el:q,props:Q}=v,{bm:ue,m:Me,parent:we,root:Fe,type:We}=p,at=ss(v);Gt(p,!1),ue&&wn(ue),!at&&(U=Q&&Q.onVnodeBeforeMount)&&xt(U,we,v),Gt(p,!0);{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(We);const rt=p.subTree=Cr(p);m(null,rt,x,N,p,T,M),v.el=rt.el}if(Me&&ot(Me,T),!at&&(U=Q&&Q.onVnodeMounted)){const rt=v;ot(()=>xt(U,we,rt),T)}(v.shapeFlag&256||we&&ss(we.vnode)&&we.vnode.shapeFlag&256)&&p.a&&ot(p.a,T),p.isMounted=!0,v=x=N=null}};p.scope.on();const R=p.effect=new ka(O);p.scope.off();const L=p.update=R.run.bind(R),G=p.job=R.runIfDirty.bind(R);G.i=p,G.id=p.uid,R.scheduler=()=>On(G),Gt(p,!0),L()},se=(p,v,x)=>{v.component=p;const N=p.vnode.props;p.vnode=v,p.next=null,Ll(p,v.props,N,x),Wl(p,v.children,x),vt(),Ka(p),yt()},Z=(p,v,x,N,T,M,B,O,R=!1)=>{const L=p&&p.children,G=p?p.shapeFlag:0,U=v.children,{patchFlag:q,shapeFlag:Q}=v;if(q>0){if(q&128){xe(L,U,x,N,T,M,B,O,R);return}else if(q&256){ie(L,U,x,N,T,M,B,O,R);return}}Q&8?(G&16&&ye(L,T,M),U!==L&&h(x,U)):G&16?Q&16?xe(L,U,x,N,T,M,B,O,R):ye(L,T,M,!0):(G&8&&h(x,""),Q&16&&te(U,x,N,T,M,B,O,R))},ie=(p,v,x,N,T,M,B,O,R)=>{p=p||Jt,v=v||Jt;const L=p.length,G=v.length,U=Math.min(L,G);let q;for(q=0;q<U;q++){const Q=v[q]=R?Ft(v[q]):kt(v[q]);m(p[q],Q,x,null,T,M,B,O,R)}L>G?ye(p,T,M,!0,!1,U):te(v,x,N,T,M,B,O,R,U)},xe=(p,v,x,N,T,M,B,O,R)=>{let L=0;const G=v.length;let U=p.length-1,q=G-1;for(;L<=U&&L<=q;){const Q=p[L],ue=v[L]=R?Ft(v[L]):kt(v[L]);if(ws(Q,ue))m(Q,ue,x,null,T,M,B,O,R);else break;L++}for(;L<=U&&L<=q;){const Q=p[U],ue=v[q]=R?Ft(v[q]):kt(v[q]);if(ws(Q,ue))m(Q,ue,x,null,T,M,B,O,R);else break;U--,q--}if(L>U){if(L<=q){const Q=q+1,ue=Q<G?v[Q].el:N;for(;L<=q;)m(null,v[L]=R?Ft(v[L]):kt(v[L]),x,ue,T,M,B,O,R),L++}}else if(L>q)for(;L<=U;)he(p[L],T,M,!0),L++;else{const Q=L,ue=L,Me=new Map;for(L=ue;L<=q;L++){const _=v[L]=R?Ft(v[L]):kt(v[L]);_.key!=null&&Me.set(_.key,L)}let we,Fe=0;const We=q-ue+1;let at=!1,rt=0;const Ot=new Array(We);for(L=0;L<We;L++)Ot[L]=0;for(L=Q;L<=U;L++){const _=p[L];if(Fe>=We){he(_,T,M,!0);continue}let y;if(_.key!=null)y=Me.get(_.key);else for(we=ue;we<=q;we++)if(Ot[we-ue]===0&&ws(_,v[we])){y=we;break}y===void 0?he(_,T,M,!0):(Ot[y-ue]=L+1,y>=rt?rt=y:at=!0,m(_,v[y],x,null,T,M,B,O,R),Fe++)}const jt=at?Vl(Ot):Jt;for(we=jt.length-1,L=We-1;L>=0;L--){const _=ue+L,y=v[_],A=v[_+1],re=_+1<G?A.el||A.placeholder:N;Ot[L]===0?m(null,y,x,re,T,M,B,O,R):at&&(we<0||L!==jt[we]?Se(y,x,re,2):we--)}}},Se=(p,v,x,N,T=null)=>{const{el:M,type:B,transition:O,children:R,shapeFlag:L}=p;if(L&6){Se(p.component.subTree,v,x,N);return}if(L&128){p.suspense.move(v,x,N);return}if(L&64){B.move(p,v,x,Ge);return}if(B===fe){n(M,v,x);for(let U=0;U<R.length;U++)Se(R[U],v,x,N);n(p.anchor,v,x);return}if(B===en){E(p,v,x);return}if(N!==2&&L&1&&O)if(N===0)O.beforeEnter(M),n(M,v,x),ot(()=>O.enter(M),T);else{const{leave:U,delayLeave:q,afterLeave:Q}=O,ue=()=>{p.ctx.isUnmounted?a(M):n(M,v,x)},Me=()=>{M._isLeaving&&M[cl](!0),U(M,()=>{ue(),Q&&Q()})};q?q(M,ue,Me):Me()}else n(M,v,x)},he=(p,v,x,N=!1,T=!1)=>{const{type:M,props:B,ref:O,children:R,dynamicChildren:L,shapeFlag:G,patchFlag:U,dirs:q,cacheIndex:Q}=p;if(U===-2&&(T=!1),O!=null&&(vt(),hs(O,null,x,p,!0),yt()),Q!=null&&(v.renderCache[Q]=void 0),G&256){v.ctx.deactivate(p);return}const ue=G&1&&q,Me=!ss(p);let we;if(Me&&(we=B&&B.onVnodeBeforeUnmount)&&xt(we,v,p),G&6)Te(p.component,x,N);else{if(G&128){p.suspense.unmount(x,N);return}ue&&Kt(p,null,v,"beforeUnmount"),G&64?p.type.remove(p,v,x,Ge,N):L&&!L.hasOnce&&(M!==fe||U>0&&U&64)?ye(L,v,x,!1,!0):(M===fe&&U&384||!T&&G&16)&&ye(R,v,x),N&&Le(p)}(Me&&(we=B&&B.onVnodeUnmounted)||ue)&&ot(()=>{we&&xt(we,v,p),ue&&Kt(p,null,v,"unmounted")},x)},Le=p=>{const{type:v,el:x,anchor:N,transition:T}=p;if(v===fe){Ne(x,N);return}if(v===en){$(p);return}const M=()=>{a(x),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(p.shapeFlag&1&&T&&!T.persisted){const{leave:B,delayLeave:O}=T,R=()=>B(x,M);O?O(p.el,M,R):R()}else M()},Ne=(p,v)=>{let x;for(;p!==v;)x=d(p),a(p),p=x;a(v)},Te=(p,v,x)=>{const{bum:N,scope:T,job:M,subTree:B,um:O,m:R,a:L}=p;wr(R),wr(L),N&&wn(N),T.stop(),M&&(M.flags|=8,he(B,p,v,x)),O&&ot(O,v),ot(()=>{p.isUnmounted=!0},v)},ye=(p,v,x,N=!1,T=!1,M=0)=>{for(let B=M;B<p.length;B++)he(p[B],v,x,N,T)},be=p=>{if(p.shapeFlag&6)return be(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const v=d(p.anchor||p.el),x=v&&v[il];return x?d(x):v};let Ie=!1;const nt=(p,v,x)=>{p==null?v._vnode&&he(v._vnode,null,null,!0):m(v._vnode||null,p,v,null,null,null,x),v._vnode=p,Ie||(Ie=!0,Ka(),Ga(),Ie=!1)},Ge={p:m,um:he,m:Se,r:Le,mt:Ee,mc:te,pc:Z,pbc:K,n:be,o:e};return{render:nt,hydrate:void 0,createApp:El(nt)}}function Vn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Gt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ul(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function br(e,t,s=!1){const n=e.children,a=t.children;if(ae(n)&&ae(a))for(let r=0;r<n.length;r++){const o=n[r];let l=a[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[r]=Ft(a[r]),l.el=o.el),!s&&l.patchFlag!==-2&&br(o,l)),l.type===Qs&&l.patchFlag!==-1&&(l.el=o.el),l.type===It&&!l.el&&(l.el=o.el)}}function Vl(e){const t=e.slice(),s=[0];let n,a,r,o,l;const f=e.length;for(n=0;n<f;n++){const g=e[n];if(g!==0){if(a=s[s.length-1],e[a]<g){t[n]=a,s.push(n);continue}for(r=0,o=s.length-1;r<o;)l=r+o>>1,e[s[l]]<g?r=l+1:o=l;g<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function _r(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_r(t)}function wr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const zl=Symbol.for("v-scx"),Kl=()=>Ys(zl);function gt(e,t,s){return kr(e,t,s)}function kr(e,t,s=De){const{immediate:n,deep:a,flush:r,once:o}=s,l=qe({},s),f=t&&n||!t&&r!=="post";let g;if(xs){if(r==="sync"){const u=Kl();g=u.__watcherHandles||(u.__watcherHandles=[])}else if(!f){const u=()=>{};return u.stop=mt,u.resume=mt,u.pause=mt,u}}const h=Ze;l.call=(u,b,m)=>_t(u,h,b,m);let c=!1;r==="post"?l.scheduler=u=>{ot(u,h&&h.suspense)}:r!=="sync"&&(c=!0,l.scheduler=(u,b)=>{b?u():On(u)}),l.augmentJob=u=>{t&&(u.flags|=4),c&&(u.flags|=2,h&&(u.id=h.uid,u.i=h))};const d=el(e,t,l);return xs&&(g?g.push(d):f&&d()),d}function Gl(e,t,s){const n=this.proxy,a=Re(e)?e.includes(".")?xr(n,e):()=>n[e]:e.bind(n,n);let r;oe(t)?r=t:(r=t.handler,s=t);const o=ks(this),l=kr(a,r.bind(n),s);return o(),l}function xr(e,t){const s=t.split(".");return()=>{let n=e;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const ql=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ct(t)}Modifiers`]||e[`${Ut(t)}Modifiers`];function Jl(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||De;let a=s;const r=t.startsWith("update:"),o=r&&ql(n,t.slice(7));o&&(o.trim&&(a=s.map(h=>Re(h)?h.trim():h)),o.number&&(a=s.map(vo)));let l,f=n[l=_n(t)]||n[l=_n(ct(t))];!f&&r&&(f=n[l=_n(Ut(t))]),f&&_t(f,e,6,a);const g=n[l+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,_t(g,e,6,a)}}function Sr(e,t,s=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const r=e.emits;let o={},l=!1;if(!oe(e)){const f=g=>{const h=Sr(g,t,!0);h&&(l=!0,qe(o,h))};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!r&&!l?(Oe(e)&&n.set(e,null),null):(ae(r)?r.forEach(f=>o[f]=null):qe(o,r),Oe(e)&&n.set(e,o),o)}function Xs(e,t){return!e||!As(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,Ut(t))||$e(e,t))}function sp(){}function Cr(e){const{type:t,vnode:s,proxy:n,withProxy:a,propsOptions:[r],slots:o,attrs:l,emit:f,render:g,renderCache:h,props:c,data:d,setupState:u,ctx:b,inheritAttrs:m}=e,H=Gs(e);let W,S;try{if(s.shapeFlag&4){const $=a||n,F=$;W=kt(g.call(F,$,h,c,u,d,b)),S=l}else{const $=t;W=kt($.length>1?$(c,{attrs:l,slots:o,emit:f}):$(c,null)),S=t.props?l:Zl(l)}}catch($){ys.length=0,Vs($,e,1),W=de(It)}let E=W;if(S&&m!==!1){const $=Object.keys(S),{shapeFlag:F}=E;$.length&&F&7&&(r&&$.some(vn)&&(S=Yl(S,r)),E=as(E,S,!1,!0))}return s.dirs&&(E=as(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&Ln(E,s.transition),W=E,Gs(H),W}const Zl=e=>{let t;for(const s in e)(s==="class"||s==="style"||As(s))&&((t||(t={}))[s]=e[s]);return t},Yl=(e,t)=>{const s={};for(const n in e)(!vn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Xl(e,t,s){const{props:n,children:a,component:r}=e,{props:o,children:l,patchFlag:f}=t,g=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&f>=0){if(f&1024)return!0;if(f&16)return n?$r(n,o,g):!!o;if(f&8){const h=t.dynamicProps;for(let c=0;c<h.length;c++){const d=h[c];if(o[d]!==n[d]&&!Xs(g,d))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?$r(n,o,g):!0:!!o;return!1}function $r(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const r=n[a];if(t[r]!==e[r]&&!Xs(s,r))return!0}return!1}function Ql({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Tr=e=>e.__isSuspense;function ei(e,t){t&&t.pendingBranch?ae(e)?t.effects.push(...e):t.effects.push(e):ll(e)}const fe=Symbol.for("v-fgt"),Qs=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),en=Symbol.for("v-stc"),ys=[];let lt=null;function k(e=!1){ys.push(lt=e?null:[])}function ti(){ys.pop(),lt=ys[ys.length-1]||null}let bs=1;function Mr(e,t=!1){bs+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function Dr(e){return e.dynamicChildren=bs>0?lt||Jt:null,ti(),bs>0&&lt&&lt.push(e),e}function C(e,t,s,n,a,r){return Dr(i(e,t,s,n,a,r,!0))}function Ke(e,t,s,n,a){return Dr(de(e,t,s,n,a,!0))}function _s(e){return e?e.__v_isVNode===!0:!1}function ws(e,t){return e.type===t.type&&e.key===t.key}const Ar=({key:e})=>e??null,tn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Re(e)||Be(e)||oe(e)?{i:Ue,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,n=0,a=null,r=e===fe?0:1,o=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ar(t),ref:t&&tn(t),scopeId:Ja,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ue};return l?(zn(f,s),r&128&&e.normalize(f)):s&&(f.shapeFlag|=Re(s)?8:16),bs>0&&!o&&lt&&(f.patchFlag>0||r&6)&&f.patchFlag!==32&&lt.push(f),f}const de=si;function si(e,t=null,s=null,n=0,a=null,r=!1){if((!e||e===xl)&&(e=It),_s(e)){const l=as(e,t,!0);return s&&zn(l,s),bs>0&&!r&&lt&&(l.shapeFlag&6?lt[lt.indexOf(e)]=l:lt.push(l)),l.patchFlag=-2,l}if(mi(e)&&(e=e.__vccOpts),t){t=ni(t);let{class:l,style:f}=t;l&&!Re(l)&&(t.class=pe(l)),Oe(f)&&(En(f)&&!ae(f)&&(f=qe({},f)),t.style=$t(f))}const o=Re(e)?1:Tr(e)?128:ul(e)?64:Oe(e)?4:oe(e)?2:0;return i(e,t,s,n,a,o,r,!0)}function ni(e){return e?En(e)||fr(e)?qe({},e):e:null}function as(e,t,s=!1,n=!1){const{props:a,ref:r,patchFlag:o,children:l,transition:f}=e,g=t?ri(a||{},t):a,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:g,key:g&&Ar(g),ref:t&&t.ref?s&&r?ae(r)?r.concat(tn(t)):[r,tn(t)]:tn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&as(e.ssContent),ssFallback:e.ssFallback&&as(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&n&&Ln(h,f.clone(h)),h}function Ce(e=" ",t=0){return de(Qs,null,e,t)}function ai(e,t){const s=de(en,null,e);return s.staticCount=t,s}function z(e="",t=!1){return t?(k(),Ke(It,null,e)):de(It,null,e)}function kt(e){return e==null||typeof e=="boolean"?de(It):ae(e)?de(fe,null,e.slice()):_s(e)?Ft(e):de(Qs,null,String(e))}function Ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:as(e)}function zn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ae(t))s=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),zn(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!fr(t)?t._ctx=Ue:a===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else oe(t)?(t={default:t,_ctx:Ue},s=32):(t=String(t),n&64?(s=16,t=[Ce(t)]):s=8);e.children=t,e.shapeFlag|=s}function ri(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=pe([t.class,n.class]));else if(a==="style")t.style=$t([t.style,n.style]);else if(As(a)){const r=t[a],o=n[a];o&&r!==o&&!(ae(r)&&r.includes(o))&&(t[a]=r?[].concat(r,o):o)}else a!==""&&(t[a]=n[a])}return t}function xt(e,t,s,n=null){_t(e,t,7,[s,n])}const oi=ur();let li=0;function ii(e,t,s){const n=e.type,a=(t?t.appContext:e.appContext)||oi,r={uid:li++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hr(n,a),emitsOptions:Sr(n,a),emit:null,emitted:null,propsDefaults:De,inheritAttrs:n.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Jl.bind(null,r),e.ce&&e.ce(r),r}let Ze=null;const ui=()=>Ze||Ue;let sn,Kn;{const e=Ns(),t=(s,n)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(n),r=>{a.length>1?a.forEach(o=>o(r)):a[0](r)}};sn=t("__VUE_INSTANCE_SETTERS__",s=>Ze=s),Kn=t("__VUE_SSR_SETTERS__",s=>xs=s)}const ks=e=>{const t=Ze;return sn(e),e.scope.on(),()=>{e.scope.off(),sn(t)}},Ir=()=>{Ze&&Ze.scope.off(),sn(null)};function Pr(e){return e.vnode.shapeFlag&4}let xs=!1;function ci(e,t=!1,s=!1){t&&Kn(t);const{props:n,children:a}=e.vnode,r=Pr(e);Ol(e,n,r,t),Fl(e,a,s||t);const o=r?di(e,t):void 0;return t&&Kn(!1),o}function di(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$l);const{setup:n}=s;if(n){vt();const a=e.setupContext=n.length>1?gi(e):null,r=ks(e),o=Qt(n,e,0,[e.props,a]),l=ha(o);if(yt(),r(),(l||e.sp)&&!ss(e)&&Za(e),l){if(o.then(Ir,Ir),t)return o.then(f=>{Er(e,f)}).catch(f=>{Vs(f,e,0)});e.asyncDep=o}else Er(e,o)}else Nr(e)}function Er(e,t,s){oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=Ba(t)),Nr(e)}function Nr(e,t,s){const n=e.type;e.render||(e.render=n.render||mt);{const a=ks(e);vt();try{Tl(e)}finally{yt(),a()}}}const fi={get(e,t){return Je(e,"get",""),e[t]}};function gi(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,fi),slots:e.slots,emit:e.emit,expose:t}}function nn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ba(zo(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ms)return ms[s](e)},has(t,s){return s in t||s in ms}})):e.proxy}const hi=/(?:^|[-_])(\w)/g,pi=e=>e.replace(hi,t=>t.toUpperCase()).replace(/[-_]/g,"");function Or(e,t=!0){return oe(e)?e.displayName||e.name:e.name||t&&e.__name}function Lr(e,t,s=!1){let n=Or(t);if(!n&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(n=a[1])}if(!n&&e&&e.parent){const a=r=>{for(const o in r)if(r[o]===t)return o};n=a(e.components||e.parent.type.components)||a(e.appContext.components)}return n?pi(n):s?"App":"Anonymous"}function mi(e){return oe(e)&&"__vccOpts"in e}const V=(e,t)=>Xo(e,t,xs);function it(e,t,s){const n=arguments.length;return n===2?Oe(t)&&!ae(t)?_s(t)?de(e,null,[t]):de(e,t):de(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&_s(s)&&(s=[s]),de(e,t,s))}const vi="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gn;const Hr=typeof window<"u"&&window.trustedTypes;if(Hr)try{Gn=Hr.createPolicy("vue",{createHTML:e=>e})}catch{}const Rr=Gn?e=>Gn.createHTML(e):e=>e,yi="http://www.w3.org/2000/svg",bi="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,Fr=Pt&&Pt.createElement("template"),_i={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const a=t==="svg"?Pt.createElementNS(yi,e):t==="mathml"?Pt.createElementNS(bi,e):s?Pt.createElement(e,{is:s}):Pt.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,a,r){const o=s?s.previousSibling:t.lastChild;if(a&&(a===r||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===r||!(a=a.nextSibling)););else{Fr.innerHTML=Rr(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const l=Fr.content;if(n==="svg"||n==="mathml"){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},wi=Symbol("_vtc");function ki(e,t,s){const n=e[wi];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const an=Symbol("_vod"),Wr=Symbol("_vsh"),rn={name:"show",beforeMount(e,{value:t},{transition:s}){e[an]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ss(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Ss(e,!0),n.enter(e)):n.leave(e,()=>{Ss(e,!1)}):Ss(e,t))},beforeUnmount(e,{value:t}){Ss(e,t)}};function Ss(e,t){e.style.display=t?e[an]:"none",e[Wr]=!t}const xi=Symbol(""),Si=/(^|;)\s*display\s*:/;function Ci(e,t,s){const n=e.style,a=Re(s);let r=!1;if(s&&!a){if(t)if(Re(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();s[l]==null&&on(n,l,"")}else for(const o in t)s[o]==null&&on(n,o,"");for(const o in s)o==="display"&&(r=!0),on(n,o,s[o])}else if(a){if(t!==s){const o=n[xi];o&&(s+=";"+o),n.cssText=s,r=Si.test(s)}}else t&&e.removeAttribute("style");an in e&&(e[an]=r?n.display:"",e[Wr]&&(n.display="none"))}const Br=/\s*!important$/;function on(e,t,s){if(ae(s))s.forEach(n=>on(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=$i(e,t);Br.test(s)?e.setProperty(Ut(n),s.replace(Br,""),"important"):e[n]=s}}const jr=["Webkit","Moz","ms"],qn={};function $i(e,t){const s=qn[t];if(s)return s;let n=ct(t);if(n!=="filter"&&n in e)return qn[t]=n;n=Es(n);for(let a=0;a<jr.length;a++){const r=jr[a]+n;if(r in e)return qn[t]=r}return t}const Ur="http://www.w3.org/1999/xlink";function Vr(e,t,s,n,a,r=ko(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ur,t.slice(6,t.length)):e.setAttributeNS(Ur,t,s):s==null||r&&!ba(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Ct(s)?String(s):s)}function zr(e,t,s,n,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Rr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,f=s==null?e.type==="checkbox"?"on":"":String(s);(l!==f||!("_value"in e))&&(e.value=f),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=ba(s):s==null&&l==="string"?(s="",o=!0):l==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(a||t)}function Ti(e,t,s,n){e.addEventListener(t,s,n)}function Mi(e,t,s,n){e.removeEventListener(t,s,n)}const Kr=Symbol("_vei");function Di(e,t,s,n,a=null){const r=e[Kr]||(e[Kr]={}),o=r[t];if(n&&o)o.value=n;else{const[l,f]=Ai(t);if(n){const g=r[t]=Ei(n,a);Ti(e,l,g,f)}else o&&(Mi(e,l,o,f),r[t]=void 0)}}const Gr=/(?:Once|Passive|Capture)$/;function Ai(e){let t;if(Gr.test(e)){t={};let n;for(;n=e.match(Gr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ut(e.slice(2)),t]}let Jn=0;const Ii=Promise.resolve(),Pi=()=>Jn||(Ii.then(()=>Jn=0),Jn=Date.now());function Ei(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;_t(Ni(n,s.value),t,5,[n])};return s.value=e,s.attached=Pi(),s}function Ni(e,t){if(ae(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const qr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Oi=(e,t,s,n,a,r)=>{const o=a==="svg";t==="class"?ki(e,n,o):t==="style"?Ci(e,s,n):As(t)?vn(t)||Di(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Li(e,t,n,o))?(zr(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Vr(e,t,n,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Re(n))?zr(e,ct(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Vr(e,t,n,o))};function Li(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&qr(t)&&oe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return qr(t)&&Re(s)?!1:t in e}const Hi=["ctrl","shift","alt","meta"],Ri={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Hi.some(s=>e[`${s}Key`]&&!t.includes(s))},ln=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(a,...r)=>{for(let o=0;o<t.length;o++){const l=Ri[t[o]];if(l&&l(a,t))return}return e(a,...r)})},Fi=qe({patchProp:Oi},_i);let Jr;function Wi(){return Jr||(Jr=Bl(Fi))}const Bi=(...e)=>{const t=Wi().createApp(...e),{mount:s}=t;return t.mount=n=>{const a=Ui(n);if(!a)return;const r=t._component;!oe(r)&&!r.render&&!r.template&&(r.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=s(a,!1,ji(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function ji(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ui(e){return Re(e)?document.querySelector(e):e}const Vi=Pe({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const n=e.showNavigation!==!1,a={...s,class:[s.class,"app-content",n?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":n?"false":"true"};return it("div",a,[it("aside",r,t.navigation?t.navigation():[]),it("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),zi=Pe({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const n={...s,class:[s.class,"app-navigation"]};"role"in n||(n.role="navigation");const a=[];return t.actions&&a.push(it("div",{class:"app-navigation__actions"},t.actions())),t.default&&a.push(...t.default()),it("nav",n,a)}}}),Wt=Pe({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:n}){return()=>{const a={...n,class:[n.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in a||(a.type="button"),it("button",a,s.default?s.default():[])}}}),un=Pe({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>it("div",{...t,class:[t.class,"card empty"]},[it("div",{class:"value"},e.name),it("div",{class:"hint"},e.description)])}}),cn=Pe({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:n}){const a=o=>{var l;return t("update:checked",!!((l=o==null?void 0:o.target)!=null&&l.checked))},r={...n,class:[n.class,"nc-checkbox-radio-switch"]};return()=>it("label",r,[it("input",{type:e.type,name:e.name,checked:e.checked,onInput:a}),it("span",{},s.default?s.default():[])])}}),Ki=Pe({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>it("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function Zn(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const n=Math.floor(s.width*t),a=Math.floor(s.height*t);e.width!==n&&(e.width=n),e.height!==a&&(e.height=a);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function Zr(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Gi(e){const s=Math.pow((g=>g<0?0:g>1?1:g)(e),.6),n=Zr("#e0f2fe"),a=Zr("#7c3aed");if(!n||!a)return"#7c3aed";const r=(g,h,c)=>Math.round(g+(h-g)*c),o=r(n.r,a.r,s),l=r(n.g,a.g,s),f=r(n.b,a.b,s);return`rgb(${o}, ${l}, ${f})`}const Yr=Pe({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=ce(null);function n(){const a=t.data,r=s.value;if(!r||!a)return;const o=Zn(r);if(!o)return;const l=r.clientWidth,f=r.clientHeight,g=l/2,h=f/2,c=Math.min(l,f)*.35,d=a.data||[],u=a.labels||[],b=a.ids||[],m=a.colors||[],H=[];for(let te=0;te<d.length;te++)(Number(d[te])||0)>0&&H.push(te);if(o.clearRect(0,0,l,f),H.length===0)return;const W=H.map(te=>Number(d[te])||0),S=H.map(te=>String(u[te]||"")),E=H.map(te=>String(b[te]||"")),$=H.map(te=>m[te]),F=W.reduce((te,ge)=>te+Math.max(0,ge),0)||1;let Y=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const ee=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];W.forEach((te,ge)=>{var Le,Ne;const K=Math.max(0,te)/F,ve=Y+K*2*Math.PI,ke=String((S==null?void 0:S[ge])||""),me=String((E==null?void 0:E[ge])||""),Ee=$[ge],j=(Le=t.colorsById)==null?void 0:Le[me],le=(Ne=t.colorsByName)==null?void 0:Ne[ke];let se=j||le||Ee||ee[ge%ee.length];o.beginPath(),o.moveTo(g,h),o.arc(g,h,c,Y,ve),o.closePath(),o.fillStyle=se,o.fill(),o.stroke();const Z=(Y+ve)/2,ie=g+Math.cos(Z)*(c+12),xe=h+Math.sin(Z)*(c+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const Se=Math.max(0,Number(te)||0)/F*100,he=`${S!=null&&S[ge]?S[ge]+" ":""}${Number(te).toFixed(2)}h  ${Se.toFixed(1)}%`;o.strokeText(he,ie,xe),o.fillText(he,ie,xe),o.restore(),Y=ve})}return ps(()=>{n(),window.addEventListener("resize",n)}),gt(()=>t.data,()=>n(),{deep:!0}),gt(()=>t.colorsById,()=>n(),{deep:!0}),(a,r)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Xr=Pe({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=ce(null);function n(c,d,u,b,m){c.save(),m!=null&&m.font&&(c.font=m.font),m!=null&&m.align&&(c.textAlign=m.align),m!=null&&m.baseline&&(c.textBaseline=m.baseline),c.lineWidth=3,c.strokeStyle="rgba(0,0,0,0.55)",c.strokeText(d,u,b),c.fillStyle="#ffffff",c.fillText(d,u,b),c.restore()}function a(c){const d=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(c||"");return d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16)}:null}function r(c,d){const u=a(c);return u&&(.2126*u.r+.7152*u.g+.0722*u.b)/255<.55?"#ffffff":d}function o(){var se,Z;const c=s.value;if(!c)return;const d=Zn(c);if(!d)return;const u=c.clientWidth,b=c.clientHeight,m=28,H=m*1.4,W=b-m,S=u-m,E=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",$=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";d.clearRect(0,0,u,b),d.strokeStyle=E,d.lineWidth=1,d.beginPath(),d.moveTo(H,W),d.lineTo(S,W),d.moveTo(H,W),d.lineTo(H,m),d.stroke();const F=t.stacked;if(F&&F.labels&&F.series){let ie=F.labels||[],xe=F.series||[];const Se=f(ie,xe);ie=Se.labels,xe=Se.series;const he=ie.map((Ge,ne)=>xe.reduce((p,v)=>{var x;return p+Math.max(0,Number(((x=v.data)==null?void 0:x[ne])||0))},0)),Le=Math.max(1,...he),Ne=ie.length||1,Te=8,ye=Math.max(6,(S-H-Te*(Ne+1))/Ne),be=(W-m)/Le;ie.forEach((Ge,ne)=>{let p=W,v=0;xe.forEach(N=>{var R;const T=Math.max(0,Number(((R=N.data)==null?void 0:R[ne])||0)),M=T*be,B=H+Te+ne*(ye+Te);p=p-M;const O=t.colorsById[N.id]||N.color||"#93c5fd";if(d.fillStyle=O,M>.5&&(d.fillRect(B,p,ye,M),M>14&&ye>22&&T>.01)){const L=String((Math.round(T*100)/100).toFixed(1));d.fillStyle=r(O,$),d.font="11px ui-sans-serif,system-ui";const G=d.measureText(L).width;d.fillText(L,B+ye/2-G/2,p+M/2+4)}v+=T}),d.fillStyle=$,d.font="12px ui-sans-serif,system-ui";const x=l(String(ie[ne]||""));if(ye>26){const N=d.measureText(x).width;d.fillText(x,H+Te+ne*(ye+Te)+ye/2-N/2,W+14)}if(v>.01){const N=H+Te+ne*(ye+Te),T=`${(Math.round(v*100)/100).toFixed(1)}h`;n(d,T,N+ye/2,Math.max(m+4,p-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const Ie=he.reduce((Ge,ne)=>Ge+ne,0),nt=`${(Math.round(Ie*100)/100).toFixed(1)}h total`;n(d,nt,S-4,m+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const Y=t.legacy;if(!Y)return;let ee=Y.data||[],te=Y.labels||[];const ge=f(te,[{id:"__legacy__",data:ee}]);te=ge.labels,ee=((Z=(se=ge.series)==null?void 0:se[0])==null?void 0:Z.data)||ee;const K=Math.max(1,...ee.map(ie=>Math.max(0,ie))),ve=ee.length||1,ke=8,me=Math.max(6,(S-H-ke*(ve+1))/ve),Ee=(W-m)/K;d.fillStyle="#93c5fd",ee.forEach((ie,xe)=>{const Se=Math.max(0,ie*Ee),he=H+ke+xe*(me+ke),Le=W-Se;if(d.fillRect(he,Le,me,Se),Se>14&&me>22&&ie>.01){const Te=String((Math.round(ie*100)/100).toFixed(1));d.fillStyle=r("#93c5fd",$),d.font="11px ui-sans-serif,system-ui";const ye=d.measureText(Te).width;d.fillText(Te,he+me/2-ye/2,Le+Se/2+4)}d.fillStyle=$,d.font="12px ui-sans-serif,system-ui";const Ne=l(String(te[xe]||""));if(me>26){const Te=d.measureText(Ne).width;d.fillText(Ne,he+me/2-Te/2,W+14)}if(ie>.01){const Te=`${(Math.round(ie*100)/100).toFixed(1)}h`;n(d,Te,he+me/2,Math.max(m+4,Le-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const j=ee.reduce((ie,xe)=>ie+Math.max(0,Number(xe)||0),0),le=`${(Math.round(j*100)/100).toFixed(1)}h total`;n(d,le,S-4,m+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}ps(()=>{o(),window.addEventListener("resize",o)}),gt(()=>t.stacked,()=>o(),{deep:!0}),gt(()=>t.legacy,()=>o(),{deep:!0}),gt(()=>t.colorsById,()=>o(),{deep:!0});function l(c){const d=/^(\d{4})-(\d{2})-(\d{2})$/.exec(c);if(!d)return c;const u=new Date(`${d[1]}-${d[2]}-${d[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][u.getDay()]||c}function f(c,d){if(!Array.isArray(c)||c.length!==7)return{labels:c,series:d};const u=c.map($=>g($));if(u.some($=>!$))return{labels:c,series:d};const b=u.map($=>h($)),m=[1,2,3,4,5,6,7];if(b.join(",")===m.join(","))return{labels:c,series:d};const H={};if(b.forEach(($,F)=>{H[$]=F}),!m.every($=>$ in H))return{labels:c,series:d};const W=m.map($=>H[$]),S=W.map($=>c[$]),E=(d||[]).map($=>({...$,data:($.data||[]).map((F,Y)=>($.data||[])[W[Y]])}));return{labels:S,series:E}}function g(c){const d=/^(\d{4})-(\d{2})-(\d{2})$/.exec(c);if(!d)return null;const u=new Date(`${d[1]}-${d[2]}-${d[3]}T00:00:00`);return isNaN(u.getTime())?null:u}function h(c){const d=c.getDay();return d===0?7:d}return(c,d)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),qi=Pe({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=ce(null);let n=null;function a(){var F;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const l=Zn(r);if(!l)return;const f=r.clientWidth,g=r.clientHeight,h=o.dows||[],c=o.hours||[],d=o.matrix||[];l.clearRect(0,0,f,g);const u=36,b=u,m=u,H=f-u,W=g-u,S=(H-b)/Math.max(1,c.length),E=(W-m)/Math.max(1,h.length),$=Math.max(0,...d.flat())||1;h.length&&c.length&&console.info("[opsdash] heatmap draw",{rows:h.length,cols:c.length,vmax:$});for(let Y=0;Y<h.length;Y++)for(let ee=0;ee<c.length;ee++){const ge=(((F=d[Y])==null?void 0:F[ee])||0)/$,K=b+ee*S,ve=m+Y*E;l.fillStyle=Gi(ge),l.fillRect(K,ve,S-1,E-1)}l.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",l.font="12px ui-sans-serif,system-ui",h.forEach((Y,ee)=>l.fillText(Y,8,m+ee*E+12)),c.forEach((Y,ee)=>{ee%2===0&&l.fillText(String(Y),b+ee*S+2,m-6)})}return ps(async()=>{await Ks(),a();try{n=new ResizeObserver(()=>a()),s.value&&n.observe(s.value)}catch{}window.addEventListener("resize",a)}),Qa(()=>{try{window.removeEventListener("resize",a)}catch{}try{n&&s.value&&n.unobserve(s.value)}catch{}n=null}),gt(()=>t.hod,()=>a(),{deep:!0}),(r,o)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Ji={class:"group-row"},Zi={colspan:"5"},Yi={class:"group-header"},Xi={class:"group-label"},Qi={class:"name"},eu={key:0,class:"group-meta"},tu={class:"summary"},su={key:0,class:"summary-percent"},nu={key:1,class:"group-meta"},au={class:"summary"},ru={key:0},ou=["title"],lu={class:"row-name"},iu={key:0,class:"progress"},uu={class:"num"},cu={class:"num"},du={class:"num"},fu={class:"num"},gu={key:0,class:"hint"},hu={key:0,class:"empty-row"},pu=Pe({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=V(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(S=>({id:S.id,label:S.label,summary:S.summary??null,color:S.color,rows:(S.rows||[]).map(n)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(n)}]);function n(S){const E=a(S);return{...S,calendarId:E}}function a(S){return S?S.calendarId?String(S.calendarId):S.id?String(S.id):S.calendar_id?String(S.calendar_id):S.calendar?String(S.calendar):"":""}function r(S){return String(S.calendar||S.displayname||S.name||S.calendarId||"")}function o(S){return a(S)||r(S)}function l(S){const E=b(S);if(!E)return!1;const $=t.targets||{},F=Number($[E]);return isFinite(F)&&F>0}function f(S){const E=b(S);if(!E)return 0;const $=t.targets||{},F=Number($[E]);return isFinite(F)?F:0}function g(S){const E=f(S);return E>0?(Math.round(E*100)/100).toFixed(2):""}function h(S,E){return S-E>=0?"delta pos":"delta neg"}function c(S,E){const $=S-E,F=Math.abs(Math.round($*100)/100).toFixed(2);return($>=0?"+":"-")+F+"h"}function d(S,E){return Math.max(0,Math.min(100,E>0?S/E*100:0)).toFixed(0)+"%"}function u(S,E){return Math.max(0,Math.min(100,E>0?S/E*100:0))}function b(S){return S==null?"":String(S)}function m(S){const E=S.summary;if(!E)return`${S.rows.length} calendar${S.rows.length===1?"":"s"}`;const $=t.n2(E.actualHours);return E.targetHours>0?`${$} h / ${t.n2(E.targetHours)} h`:`${$} h`}function H(S){const E=S.summary;return!E||E.targetHours<=0?"":`${Math.round(E.percent)}%`}function W(S){switch(S){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(S,E)=>(k(),C("table",null,[E[1]||(E[1]=i("colgroup",null,[i("col",{class:"col-w-42"}),i("col",{class:"col-w-12"}),i("col",{class:"col-w-14"}),i("col",{class:"col-w-14"}),i("col",{class:"col-w-18"})],-1)),E[2]||(E[2]=i("thead",null,[i("tr",null,[i("th",{class:"nowrap"},"Calendar"),i("th",{class:"num"},"Events"),i("th",{class:"num"},"Hours"),i("th",{class:"num"},"Target"),i("th",{class:"num"}," / %")])],-1)),i("tbody",null,[(k(!0),C(fe,null,ze(s.value,$=>(k(),C(fe,{key:$.id},[i("tr",Ji,[i("td",Zi,[i("div",Yi,[i("div",Xi,[i("span",{class:"dot",style:$t({background:$.color||"var(--brand)"})},null,4),i("span",Qi,I($.label),1)]),$.summary?(k(),C("div",eu,[i("span",tu,I(m($)),1),H($)?(k(),C("span",su,I(H($)),1)):z("",!0),$.summary.statusLabel?(k(),C("span",{key:1,class:pe(["badge",W($.summary.status)])},I($.summary.statusLabel),3)):z("",!0)])):(k(),C("div",nu,[i("span",au,[Ce(I($.rows.length)+" calendar",1),$.rows.length!==1?(k(),C("span",ru,"s")):z("",!0)])]))])])]),(k(!0),C(fe,null,ze($.rows,F=>(k(),C("tr",{key:o(F)},[i("td",null,[i("div",{class:"cell",title:r(F)},[i("div",lu,I(r(F)),1),l(a(F))&&f(a(F))>0?(k(),C("div",iu,[i("div",{class:"progress-bar",style:$t({width:u(F.total_hours,f(a(F)))+"%",background:$.color||void 0})},null,4)])):z("",!0)],8,ou)]),i("td",uu,I(F.events_count),1),i("td",cu,I(S.n2(F.total_hours)),1),i("td",du,I(g(a(F))),1),i("td",fu,[l(a(F))?(k(),C(fe,{key:0},[i("span",{class:pe(h(F.total_hours,f(a(F))))},I(c(F.total_hours,f(a(F)))),3),f(a(F))>0?(k(),C("span",gu," ("+I(d(F.total_hours,f(a(F))))+")",1)):z("",!0)],64)):(k(),C(fe,{key:1},[Ce("")],64))])]))),128)),$.rows.length?z("",!0):(k(),C("tr",hu,[...E[0]||(E[0]=[i("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),qt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},mu=qt(pu,[["__scopeId","data-v-69f095b4"]]),vu={class:"mono nowrap"},yu=["href"],bu={class:"hint"},_u={class:"num"},wu={class:"num"},ku=Pe({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!n)return"";const a=new Date(`${n[1]}-${n[2]}-${n[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getUTCDay()]||""}return(s,n)=>(k(),C("table",null,[n[0]||(n[0]=i("colgroup",null,[i("col",{class:"col-w-40"}),i("col",{class:"col-w-30"}),i("col",{class:"col-w-30"})],-1)),n[1]||(n[1]=i("thead",null,[i("tr",null,[i("th",{class:"nowrap"},"Date"),i("th",{class:"num"},"Events"),i("th",{class:"num"},"Hours")])],-1)),i("tbody",null,[(k(!0),C(fe,null,ze(s.rows,a=>(k(),C("tr",{key:a.date},[i("td",vu,[i("a",{href:s.link(a.date),target:"_blank"},I(a.date),9,yu),i("span",bu," ("+I(t(a.date))+")",1)]),i("td",_u,I(a.events_count),1),i("td",wu,I(s.n2(a.total_hours)),1)]))),128))])]))}}),xu=["onClick"],Su=["title"],Cu={class:"num"},$u={class:"mono nowrap"},Tu={class:"mono nowrap"},Mu={key:0},Du={colspan:"5",class:"mono cell-details"},Au={key:0},Iu={key:1,class:"hint"},Pu=Pe({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(k(),C("table",null,[s[1]||(s[1]=i("colgroup",null,[i("col",{class:"col-w-22"}),i("col"),i("col",{class:"col-w-12"}),i("col",{class:"col-w-18"}),i("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=i("thead",null,[i("tr",null,[i("th",null,"Calendar"),i("th",null,"Summary"),i("th",{class:"num"},"Hours"),i("th",{class:"nowrap"},"Start date"),i("th",{class:"nowrap"},"Start time")])],-1)),i("tbody",null,[(k(!0),C(fe,null,ze(t.rows,(n,a)=>{var r;return k(),C(fe,{key:a},[i("tr",{onClick:o=>t.$emit("toggle",a),class:"cursor-pointer"},[i("td",null,I(n.calendar),1),i("td",null,[i("span",{class:"cell",title:n.summary},I(n.summary),9,Su)]),i("td",Cu,I(t.n2(n.duration_h)),1),i("td",$u,I((n.start||"").split(" ")[0]),1),i("td",Tu,I((r=(n.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,xu),t.detailsIndex===a?(k(),C("tr",Mu,[i("td",Du,[s[0]||(s[0]=i("div",null,[i("strong",null,"Details")],-1)),n.desc?(k(),C("div",Au,I(n.desc),1)):(k(),C("div",Iu,"No description"))])])):z("",!0)],64)}),128))])]))}}),Eu={class:"card time-summary compact"},Nu={class:"time-summary-firstline"},Ou={class:"time-summary-metrics"},Lu={key:0},Hu={key:1},Ru={key:2},Fu={key:3},Wu={key:4},Bu={key:0,class:"time-summary-row"},ju={key:1,class:"time-summary-row"},Uu={key:0,class:"share"},Vu={key:2,class:"time-summary-row calendars"},zu={class:"label"},Ku={class:"text"},Gu={key:3,class:"time-summary-row top-category"},qu={class:"text"},Ju={key:4,class:"time-summary-row"},Zu=qt(Pe({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,n=V(()=>Object.assign({},t,s.config??{})),a=V(()=>s.mode==="active"?"active days":"all days"),r=V(()=>{if(!n.value.showWeekendShare)return"";const c=s.summary.weekendShare;return c==null?"":`${f(c)}%`}),o=V(()=>{if(!n.value.showTopCategory)return null;const c=s.summary.topCategory;if(!c)return null;const d=g(c.actualHours),u=Number(c.percent??0).toFixed(0),b=c.targetHours>0?` (${u}% of ${g(c.targetHours)} h)`:"";return{text:`${c.label}  ${d} h${b}`,badge:c.statusLabel||"",badgeClass:h(c.status)}}),l=V(()=>{if(!n.value.showBusiest)return"";const c=s.summary.busiest;if(!c||!c.date)return"";const d=Number(c.hours??0);return`Busiest ${c.date}  ${g(d)} h`});function f(c){return Number(c??0).toFixed(1)}function g(c){return Number(c??0).toFixed(2)}function h(c){switch(c){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(c,d)=>(k(),C("div",Eu,[i("div",Nu,[i("em",null,"Time Summary  "+I(c.summary.rangeLabel),1)]),i("ul",Ou,[n.value.showTotal?(k(),C("li",Lu,[i("strong",null,I(g(c.summary.totalHours))+" h",1),d[0]||(d[0]=Ce(" total",-1))])):z("",!0),n.value.showAverage?(k(),C("li",Hu,I(g(c.summary.avgDay))+" h/day ("+I(a.value)+")",1)):z("",!0),n.value.showAverage?(k(),C("li",Ru,I(g(c.summary.avgEvent))+" h/event",1)):z("",!0),n.value.showMedian?(k(),C("li",Fu,I(g(c.summary.medianDay))+" h median/day",1)):z("",!0),n.value.showBusiest&&l.value?(k(),C("li",Wu,I(l.value),1)):z("",!0)]),n.value.showWorkday?(k(),C("div",Bu,[d[1]||(d[1]=i("span",{class:"label"},"Workdays",-1)),Ce(" "+I(g(c.summary.workdayAvg))+" h avg  "+I(g(c.summary.workdayMedian))+" h median ",1)])):z("",!0),n.value.showWeekend?(k(),C("div",ju,[d[2]||(d[2]=i("span",{class:"label"},"Weekend",-1)),Ce(" "+I(g(c.summary.weekendAvg))+" h avg  "+I(g(c.summary.weekendMedian))+" h median ",1),n.value.showWeekendShare&&r.value?(k(),C("span",Uu,"("+I(r.value)+")",1)):z("",!0)])):z("",!0),n.value.showCalendarSummary?(k(),C("div",Vu,[i("span",zu,I(c.summary.activeCalendars)+" calendars",1),c.summary.calendarSummary?(k(),C(fe,{key:0},[d[3]||(d[3]=i("span",{class:"sep"},"",-1)),i("span",Ku,I(c.summary.calendarSummary),1)],64)):z("",!0)])):z("",!0),n.value.showTopCategory&&o.value?(k(),C("div",Gu,[d[4]||(d[4]=i("span",{class:"label"},"Top category",-1)),i("span",qu,I(o.value.text),1),o.value.badge?(k(),C("span",{key:0,class:pe(["summary-badge",o.value.badgeClass])},I(o.value.badge),3)):z("",!0)])):z("",!0),n.value.showBalance&&c.summary.balanceIndex!=null?(k(),C("div",Ju,[d[5]||(d[5]=i("span",{class:"label"},"Balance",-1)),Ce(" "+I(g(c.summary.balanceIndex))+" ",1),d[6]||(d[6]=i("span",{class:"hint"},"(1 = perfekt)",-1))])):z("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),Yu={class:"card targets-card"},Xu={class:"targets-header"},Qu={key:0,class:"hint"},ec={class:"targets-main"},tc={class:"line total-line"},sc={class:"value"},nc={key:0,class:"line"},ac={key:1,class:"line"},rc={class:"line forecast"},oc={class:"hint"},lc={key:0,class:"targets-badges"},ic={key:1,class:"targets-categories"},uc={class:"cat-top"},cc={class:"cat-label"},dc={class:"name"},fc={class:"cat-meta"},gc={class:"percent"},hc={class:"cat-progress"},pc={class:"bar"},mc={class:"cat-metrics"},vc={class:"hint"},yc={key:1,class:"hint"},bc={key:0,class:"cat-footer"},_c={class:"hint"},wc=qt(Pe({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=V(()=>{var c;return((c=t.summary)==null?void 0:c.total)??f("total","Total")}),n=V(()=>{var d;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(u=>({id:u.id,label:u.label,summary:u.summary??f(u.id,u.label),color:u.color,rows:u.rows})):(((d=t.summary)==null?void 0:d.categories)??[]).map(u=>({id:u.id,label:u.label,summary:u,color:void 0,rows:[]}))}),a=V(()=>n.value.map(c=>{const d=c.summary??f(c.id,c.label);return{id:c.id,label:c.label||d.label,actualHours:d.actualHours,targetHours:d.targetHours,percent:d.percent,deltaHours:d.deltaHours,needPerDay:d.needPerDay,daysLeft:d.daysLeft,calendarPercent:d.calendarPercent,gap:d.gap,status:d.status,statusLabel:d.statusLabel,color:c.color,calendarCount:Array.isArray(c.rows)?c.rows.length:0,progress:g(d.percent,0,140),calendarLabel:Array.isArray(c.rows)&&c.rows.length===1?"calendar":"calendars"}}).filter(c=>c.targetHours>0||c.actualHours>0||c.calendarCount>0));function r(c){if(!isFinite(c))return"0";const d=Math.round(c*10)/10;return Math.abs(d-Math.round(d))<.05?String(Math.round(d)):d.toFixed(1)}function o(c){return!isFinite(c)||Math.abs(c)<.005?"0.0":(c>=0?"+":"")+r(Math.abs(c))}function l(c){switch(c){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function f(c,d){return{id:c,label:d,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function g(c,d,u){return!isFinite(c)||c<d?d:c>u?u:c}function h(c){return c==="momentum"?"Momentum":"Linear"}return(c,d)=>(k(),C("div",Yu,[i("div",Xu,[d[0]||(d[0]=i("strong",null,"Targets",-1)),s.value.targetHours>0?(k(),C("span",Qu,I(s.value.percent.toFixed(0))+"%",1)):z("",!0)]),i("div",ec,[i("div",tc,[i("span",sc,[i("strong",null,I(r(s.value.actualHours)),1),Ce(" / "+I(r(s.value.targetHours))+" h",1)]),c.config.ui.showTotalDelta&&s.value.targetHours>0?(k(),C("span",{key:0,class:pe(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+I(o(s.value.deltaHours))+"h ",3)):z("",!0)]),c.config.ui.showNeedPerDay&&s.value.targetHours>0?(k(),C("div",nc," Days left "+I(s.value.daysLeft)+"  Need "+I(r(s.value.needPerDay))+" h/day ",1)):z("",!0),s.value.targetHours>0?(k(),C("div",ac,[Ce(" Pace: "+I(s.value.percent.toFixed(0))+"% vs "+I(s.value.calendarPercent.toFixed(0))+"%  ",1),i("span",{class:pe(["status-label",l(s.value.status)])},I(s.value.statusLabel),3)])):z("",!0),i("div",rc,[Ce(" Forecast: "+I(c.summary.forecast.text)+" ",1),i("span",oc," Linear "+I(r(c.summary.forecast.linear))+"h  Momentum "+I(r(c.summary.forecast.momentum))+"h  Primary: "+I(h(c.summary.forecast.primaryMethod)),1)])]),c.config.ui.badges&&s.value.targetHours>0?(k(),C("div",lc,[i("span",{class:pe(["badge",l(s.value.status)])},I(s.value.statusLabel),3)])):z("",!0),c.config.ui.showCategoryBlocks&&a.value.length?(k(),C("div",ic,[(k(!0),C(fe,null,ze(a.value,u=>(k(),C("div",{class:"category",key:u.id},[i("div",uc,[i("div",cc,[i("span",{class:"dot",style:$t({background:u.color||"var(--brand)"})},null,4),i("span",dc,I(u.label),1)]),i("div",fc,[i("span",gc,I(u.percent.toFixed(0))+"%",1),c.config.ui.badges&&u.targetHours>0?(k(),C("span",{key:0,class:pe(["badge",l(u.status)])},I(u.statusLabel),3)):z("",!0)])]),i("div",hc,[i("div",pc,[i("div",{class:"fill",style:$t({width:u.progress+"%",background:u.color||"var(--brand)"})},null,4)])]),i("div",mc,[i("strong",null,I(r(u.actualHours))+"h",1),i("span",vc,"/ "+I(r(u.targetHours))+"h",1),u.targetHours>0?(k(),C("span",{key:0,class:pe(["delta",u.deltaHours>=0?"pos":"neg"])},"  "+I(o(u.deltaHours))+"h ",3)):z("",!0),c.config.ui.showNeedPerDay&&u.targetHours>0?(k(),C("span",yc," Need "+I(r(u.needPerDay))+"h/day  "+I(u.daysLeft)+" days left ",1)):z("",!0)]),u.calendarCount>0?(k(),C("div",bc,[i("span",_c,I(u.calendarCount)+" "+I(u.calendarLabel),1)])):z("",!0)]))),128))])):z("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]),kc={class:"card activity-card"},xc={class:"activity-card__header"},Sc={key:0,class:"pill"},Cc={key:0,class:"activity-card__hero"},$c={key:1,class:"activity-card__subline"},Tc={key:2,class:"activity-card__meta"},Mc={key:3,class:"activity-card__extra"},Dc={key:4,class:"activity-card__hint"},Ac=qt(Pe({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t={showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0},s=e,n=V(()=>Object.assign({},t,s.config??{})),a=V(()=>{const d=[];d.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&d.push(`Active Days ${s.summary.activeDays}`);const u=f(s.summary.typicalStart,s.summary.typicalEnd);return u&&d.push(`Typical ${u}`),d.join("  ")}),r=V(()=>{const d=[];return n.value.showWeekendShare&&s.summary.weekendShare!=null&&d.push(`Weekend ${g(s.summary.weekendShare)}`),n.value.showEveningShare&&s.summary.eveningShare!=null&&d.push(`Evening ${g(s.summary.eveningShare)}`),d.join("  ")}),o=V(()=>{const d=[];if(n.value.showEarliestLatest){const u=h(s.summary.earliestStart),b=h(s.summary.latestEnd);(u||b)&&d.push({label:"Earliest/Late",value:`${u||""} / ${b||""}`})}return n.value.showOverlaps&&s.summary.overlapEvents!=null&&d.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),d}),l=V(()=>{const d=[];return n.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&d.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),n.value.showLastDayOff&&s.summary.lastDayOff&&d.push({label:"Last day off",value:c(s.summary.lastDayOff)}),n.value.showLastDayOff&&s.summary.lastHalfDayOff&&d.push({label:"Last half day",value:c(s.summary.lastHalfDayOff)}),d});function f(d,u){return d&&u?`${d}${u}`:d?`${d}`:u?`${u}`:""}function g(d){return`${Number(d||0).toFixed(1)}%`}function h(d){return d?d.length>=16?d.slice(11,16):d.length>=5?d.slice(0,5):null:null}function c(d){const u=d.trim();if(!u)return"";if(u.split("-").length>=2){const m=new Date(u.length===10?`${u}T00:00:00`:u);if(!Number.isNaN(m.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(m)}return u}return(d,u)=>(k(),C("div",kc,[i("div",xc,[i("span",null,"Activity & Schedule ("+I(d.rangeLabel)+")",1),d.summary.rangeLabel?(k(),C("span",Sc,I(d.summary.rangeLabel),1)):z("",!0)]),a.value?(k(),C("div",Cc,[i("span",null,I(a.value),1)])):z("",!0),r.value?(k(),C("div",$c,[i("span",null,I(r.value),1)])):z("",!0),o.value.length?(k(),C("div",Tc,[(k(!0),C(fe,null,ze(o.value,b=>(k(),C("span",{key:b.label},[i("strong",null,I(b.label),1),Ce(" "+I(b.value),1)]))),128))])):z("",!0),l.value.length?(k(),C("div",Mc,[(k(!0),C(fe,null,ze(l.value,b=>(k(),C("span",{key:b.label},[i("strong",null,I(b.label),1),Ce(" "+I(b.value),1)]))),128))])):z("",!0),n.value.showHint&&d.categoryHint?(k(),C("div",Dc,I(d.categoryHint),1)):z("",!0)]))}}),[["__scopeId","data-v-1ab0985e"]]),Ic={class:"card balance-card"},Pc={class:"balance-card__header"},Ec={key:0,class:"balance-card__hero"},Nc={key:1,class:"balance-card__relations"},Oc={key:2,class:"balance-card__trend"},Lc={key:3,class:"balance-card__insights"},Hc={key:4,class:"balance-card__warnings"},Rc=qt(Pe({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,n=V(()=>Object.assign({},t,s.config??{})),a=V(()=>{if(!s.overview)return"";const g=s.overview.index??0,h=s.overview.categories.filter(d=>d.share>.1).slice(0,4).map(d=>`${d.label} ${d.share.toFixed(0)}%`),c=h.length?`  ${h.join(" | ")}`:"";return`Balance Index ${g.toFixed(2)}${c}`}),r=V(()=>{var g;return!s.overview||!((g=s.overview.relations)!=null&&g.length)?"":s.overview.relations.map(h=>`${h.label} ${h.value}`).join("  ")}),o=V(()=>{var h;if(!s.overview)return"";const g=((h=s.overview.trend)==null?void 0:h.delta)??[];return g.length?g.map(c=>{const d=c.delta>0?"+":c.delta<0?"":"";return`${c.label} ${d}${Math.abs(c.delta).toFixed(1)} pp`}).join(", "):""}),l=V(()=>{var g;return n.value.showInsights?((g=s.overview)==null?void 0:g.insights)??[]:[]}),f=V(()=>{var g;return((g=s.overview)==null?void 0:g.warnings)??[]});return(g,h)=>(k(),C("div",Ic,[i("div",Pc,[i("span",null,"Balance Overview ("+I(g.rangeLabel)+")",1)]),a.value?(k(),C("div",Ec,[i("span",null,I(a.value),1)])):z("",!0),r.value?(k(),C("div",Nc,I(r.value),1)):z("",!0),o.value?(k(),C("div",Oc,[h[0]||(h[0]=i("strong",null,"WoW-:",-1)),Ce(" "+I(o.value),1)])):z("",!0),l.value.length?(k(),C("ul",Lc,[(k(!0),C(fe,null,ze(l.value,c=>(k(),C("li",{key:c}," "+I(c),1))),128))])):z("",!0),f.value.length?(k(),C("ul",Hc,[(k(!0),C(fe,null,ze(f.value,c=>(k(),C("li",{key:c}," "+I(c),1))),128))])):z("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]);function Fc(e){const t=e?ht(e):fn(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(n=>({...s,id:n.id,label:n.label,targetHours:n.targetHours,remainingHours:n.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function Yn(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function dn(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0}}const Xn=24*60*60*1e3;function fn(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:dn(),balance:Yn(),includeZeroDaysInStats:!1}}function Wc(e){return JSON.parse(JSON.stringify(ht(e)))}function Bc(e){const t=ht(e.config),s=to(e.from),n=to(e.to),a=Zc(e.byDay),r=(e.byCal||[]).reduce((c,d)=>{const u=Number((d==null?void 0:d.total_hours)??(d==null?void 0:d.hours)??0);return Number.isFinite(u)?c+u:c},0),o=t.totalHours||0,l=eo({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a}),f=Qr({id:"total",label:"Total",actual:r,target:o,pace:l,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),g=t.categories.map(c=>{const d=zc(c,e.byCal,e.groupsById),u=c.paceMode||t.pace.mode,b=eo({includeWeekend:c.includeWeekend,mode:u,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a});return Qr({id:c.id,label:c.label,actual:d,target:c.targetHours,pace:b,thresholds:t.pace.thresholds,includeWeekend:c.includeWeekend,paceMode:u})}),h=qc({config:t,totalProgress:f,dailyHours:a,pace:l});return{total:f,categories:g,forecast:h}}function ht(e){var o,l,f,g,h,c,d,u,b,m,H,W,S,E,$,F,Y,ee,te,ge,K,ve,ke,me,Ee;if(typeof e=="string")try{const j=JSON.parse(e);return ht(j)}catch{return ht(void 0)}const t=fn(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const n=s.categories.map(j=>{const le=(j!=null&&j.id&&typeof j.id=="string"?j.id:"")||Qc(String((j==null?void 0:j.label)??"cat")),se=typeof(j==null?void 0:j.label)=="string"&&j.label.trim()!==""?j.label.trim():jc(le),Z=Et(j==null?void 0:j.targetHours,0,1e4),ie=!!(j!=null&&j.includeWeekend),xe=(j==null?void 0:j.paceMode)==="time_aware"?"time_aware":"days_only",Se=Array.isArray(j==null?void 0:j.groupIds)?j.groupIds.map(he=>Number(he)).filter(he=>Number.isFinite(he)&&he>=0&&he<=9):[];return{id:le,label:se,targetHours:Z,includeWeekend:ie,paceMode:xe,groupIds:Se}}),a=n.length?n:t.categories;return{totalHours:Et(s.totalHours,0,1e4),categories:a,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((l=s.pace)==null?void 0:l.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Et(((g=(f=s.pace)==null?void 0:f.thresholds)==null?void 0:g.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Et(((c=(h=s.pace)==null?void 0:h.thresholds)==null?void 0:c.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((d=s.forecast)==null?void 0:d.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var le;const j=Math.round(((le=s.forecast)==null?void 0:le.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(j)?j:t.forecast.momentumLastNDays))})(),padding:Et(((u=s.forecast)==null?void 0:u.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((b=s.ui)==null?void 0:b.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((m=s.ui)==null?void 0:m.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((H=s.ui)==null?void 0:H.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((W=s.ui)==null?void 0:W.badges)??t.ui.badges),includeWeekendToggle:!!(((S=s.ui)==null?void 0:S.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((E=s.ui)==null?void 0:E.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:(($=s.ui)==null?void 0:$.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Et(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((F=s.timeSummary)==null?void 0:F.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((Y=s.timeSummary)==null?void 0:Y.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((ee=s.timeSummary)==null?void 0:ee.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((te=s.timeSummary)==null?void 0:te.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((ge=s.timeSummary)==null?void 0:ge.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((K=s.timeSummary)==null?void 0:K.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((ve=s.timeSummary)==null?void 0:ve.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((ke=s.timeSummary)==null?void 0:ke.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((me=s.timeSummary)==null?void 0:me.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((Ee=s.timeSummary)==null?void 0:Ee.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:Uc(s.activityCard,t.activityCard),balance:Vc(s.balance,a,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function jc(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Et(e,t,s){const n=Number(e);return Number.isFinite(n)?Math.min(s,Math.max(t,Math.round(n*100)/100)):t}function Qn(e,t,s){const n=Number(e);if(!Number.isFinite(n))return t;const a=Math.round(n);return a<t?t:a>s?s:a}function Uc(e,t){const s={...t};return!e||typeof e!="object"||Object.keys(t).forEach(n=>{Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=!!e[n])}),s}function Vc(e,t,s){var g,h,c,d;const n=t.map(u=>u.id),a=new Set([...n,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const u of r){const b=typeof u=="string"?u.trim():String(u??"").trim();b&&(a.size&&!a.has(b)||o.includes(b)||o.push(b))}o.length||(n.length?o.push(...n.slice(0,s.categories.length)):o.push(...s.categories));const l=(e==null?void 0:e.thresholds)??{},f=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((g=e==null?void 0:e.index)==null?void 0:g.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Et(l.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Et(l.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Et(l.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((h=e==null?void 0:e.relations)==null?void 0:h.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:Qn(((c=e==null?void 0:e.trend)==null?void 0:c.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((d=e==null?void 0:e.dayparts)==null?void 0:d.enabled)??s.dayparts.enabled)},ui:{roundPercent:Qn(f.roundPercent??s.ui.roundPercent,0,3),roundRatio:Qn(f.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(f.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(f.showInsights??s.ui.showInsights)}}}function zc(e,t,s){if(!Array.isArray(t))return 0;const n=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let a=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const l=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),f=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[l])??0);n&&!n.has(f)||(a+=o)}return a}function Qr(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),n=t>0?ea(s/t*100):0,a=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,a)/e.pace.daysLeft:0,l=n-e.pace.calendarPercent,f=Kc({percent:n,target:t,gap:l,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:tt(s),targetHours:tt(t),percent:n,deltaHours:tt(r),remainingHours:tt(Math.max(0,a)),needPerDay:tt(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:ea(e.pace.calendarPercent),gap:tt(l),status:f,statusLabel:Gc(f),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function Kc(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function Gc(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function eo(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const n=gn(new Date),a=Bt(t),r=Bt(s),o=Yc(t,s).filter(c=>e.includeWeekend||!Xc(c)),l=o.length;if(l===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Bt(n)>r)return{totalEligible:l,elapsedEligible:l,daysLeft:0,calendarPercent:100};if(Bt(n)<a)return{totalEligible:l,elapsedEligible:0,daysLeft:l,calendarPercent:0};let f=0;for(const c of o){const d=Bt(c),u=e.dailyHours.get(d)??0;if(!(!e.includeZeroDays&&u<=0&&d!==Bt(n))){if(d<Bt(n))f+=1;else if(d===Bt(n))if(e.mode==="time_aware"){const m=Math.min(new Date().getTime(),c.getTime()+Xn)-c.getTime(),H=Math.max(0,Math.min(1,m/Xn));(e.includeZeroDays||u>0||H>0)&&(f+=H)}else(e.includeZeroDays||u>0)&&(f+=1)}}const g=ea(f/l*100),h=Math.max(0,l-f);return{totalEligible:l,elapsedEligible:f,daysLeft:h,calendarPercent:g}}function qc(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,n=Math.max(0,Math.ceil(e.pace.daysLeft)),a=Jc(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+a*n,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),l=Math.max(s,r)+e.config.forecast.padding,f=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",g=f==="momentum"?r:s,h=Math.max(0,g-e.config.forecast.padding),c=Math.max(0,g+e.config.forecast.padding),d=f==="momentum"?"Momentum":"Linear";return{linear:tt(s),momentum:tt(r),low:tt(Math.max(0,o)),high:tt(Math.max(0,l)),text:`${d} ${ta(e.config.forecast.padding)}h  ${ta(h)}${ta(c)} h`,primaryMethod:f,primary:tt(g),bandLow:tt(h),bandHigh:tt(c)}}function Jc(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const n=s.slice(-t),a=n.reduce((r,[,o])=>r+Math.max(0,o||0),0);return n.length?a/n.length:0}function Zc(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const n=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!n)continue;const a=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(a)&&t.set(n,a)}return t}function Yc(e,t){const s=[];let n=gn(e);const a=gn(t).getTime();for(;n.getTime()<=a;)s.push(new Date(n)),n=new Date(n.getTime()+Xn);return s}function to(e){if(!e)return null;const t=e.split("-").map(n=>Number(n));if(t.length!==3||t.some(n=>!Number.isInteger(n)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:gn(s)}function gn(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Bt(e){return e.toISOString().slice(0,10)}function Xc(e){const t=e.getUTCDay();return t===0||t===6}function ea(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function tt(e){return isFinite(e)?Number(e.toFixed(2)):0}function ta(e){if(!isFinite(e))return"0";const t=tt(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function Qc(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const ed={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},td={class:"sb-actions"},sd={class:"sb-list"},nd=["aria-pressed","onClick"],ad={class:"cal-name"},rd={class:"cal-fields"},od={class:"field"},ld=["value","onChange"],id=["value"],ud={class:"field"},cd=["value","title","aria-invalid","onInput"],dd=Pe({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:n,range:a,isLoading:r,categoryOptions:o,calendarTargetMessages:l,calendarCategoryId:f,getTarget:g}=t;return(h,c)=>(k(),C("div",ed,[i("div",td,[de(w(Wt),{type:"tertiary",disabled:w(r),onClick:c[0]||(c[0]=d=>h.$emit("select-all",!0))},{default:Ve(()=>[...c[2]||(c[2]=[Ce("All",-1)])]),_:1},8,["disabled"]),de(w(Wt),{type:"tertiary",disabled:w(r),onClick:c[1]||(c[1]=d=>h.$emit("select-all",!1))},{default:Ve(()=>[...c[3]||(c[3]=[Ce("None",-1)])]),_:1},8,["disabled"])]),c[8]||(c[8]=ai('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),i("div",sd,[(k(!0),C(fe,null,ze(w(s),d=>{var u,b;return k(),C("div",{key:d.id,class:"cal-card"},[i("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":w(n).includes(d.id),onClick:m=>h.$emit("toggle-calendar",d.id)},[i("span",{class:"color-dot",style:$t({background:d.color||"var(--brand)"})},null,4),i("span",ad,I(d.displayname||d.id),1),i("span",{class:pe(["cal-state",{on:w(n).includes(d.id)}])},I(w(n).includes(d.id)?"Selected":"Hidden"),3)],8,nd),i("div",rd,[i("label",od,[c[5]||(c[5]=i("span",{class:"label"},"Category",-1)),i("select",{value:w(f)(d.id),onChange:m=>h.$emit("set-category",{id:d.id,category:m.target.value})},[c[4]||(c[4]=i("option",{value:""},"Unassigned",-1)),(k(!0),C(fe,null,ze(w(o),m=>(k(),C("option",{key:m.id,value:m.id},I(m.label),9,id))),128))],40,ld)]),i("label",ud,[c[6]||(c[6]=i("span",{class:"label"},"Target (h)",-1)),i("input",{type:"number",value:w(g)(d.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${w(a)==="week"?"week":"month"}) in hours`,"aria-invalid":!!w(l)[d.id],class:"target-input",onInput:m=>h.$emit("target-input",{id:d.id,value:m.target.value})},null,40,cd),w(l)[d.id]?(k(),C("div",{key:0,class:pe(["input-message",(u=w(l)[d.id])==null?void 0:u.tone])},I((b=w(l)[d.id])==null?void 0:b.text),3)):z("",!0)])])])}),128)),c[7]||(c[7]=i("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),fd={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},gd={class:"target-config"},hd={class:"field"},pd=["value","aria-invalid"],md={class:"field"},vd=["value","aria-invalid"],yd={class:"preset-buttons"},bd={class:"cat-header"},_d=["value","onInput"],wd=["disabled","onClick"],kd={class:"cat-fields"},xd={class:"field"},Sd=["value","aria-invalid","onInput"],Cd={class:"field"},$d=["value","onChange"],Td={class:"field checkbox"},Md=["checked","onChange"],Dd={class:"target-section"},Ad={class:"field checkbox"},Id=["checked"],Pd={class:"field"},Ed=["value"],Nd={class:"field"},Od=["value","aria-invalid"],Ld={class:"field"},Hd=["value","aria-invalid"],Rd={class:"target-section"},Fd={class:"field"},Wd=["value"],Bd={class:"field"},jd=["value","aria-invalid"],Ud={class:"field"},Vd=["value","aria-invalid"],zd={class:"target-section"},Kd={class:"field checkbox"},Gd=["checked"],qd={class:"field checkbox"},Jd=["checked"],Zd={class:"field checkbox"},Yd=["checked"],Xd={class:"field checkbox"},Qd=["checked"],ef={class:"field checkbox"},tf=["checked"],sf={class:"field checkbox"},nf=["checked"],af={class:"field checkbox"},rf=["checked"],of={class:"field checkbox"},lf=["checked"],uf=Pe({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days"],setup(e){return(t,s)=>{var n,a,r,o,l,f,g,h,c,d,u,b;return k(),C("div",fd,[s[49]||(s[49]=i("div",{class:"sb-title"},"Target Settings",-1)),i("div",gd,[i("div",hd,[s[20]||(s[20]=i("span",{class:"label"},"Total target (h)",-1)),i("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[0]||(s[0]=m=>t.$emit("total-target-input",m.target.value))},null,40,pd),t.totalTargetMessage?(k(),C("div",{key:0,class:pe(["input-message",(n=t.totalTargetMessage)==null?void 0:n.tone])},I((a=t.totalTargetMessage)==null?void 0:a.text),3)):z("",!0)]),i("div",md,[s[21]||(s[21]=i("span",{class:"label"},"All-day event (h per day)",-1)),i("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[1]||(s[1]=m=>t.$emit("set-all-day-hours",m.target.value))},null,40,vd),t.allDayHoursMessage?(k(),C("div",{key:0,class:pe(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},I((o=t.allDayHoursMessage)==null?void 0:o.text),3)):z("",!0)]),i("div",yd,[de(w(Wt),{type:"tertiary",onClick:s[2]||(s[2]=m=>t.$emit("apply-preset","work-week"))},{default:Ve(()=>[...s[22]||(s[22]=[Ce("Preset: Work-Week",-1)])]),_:1}),de(w(Wt),{type:"tertiary",onClick:s[3]||(s[3]=m=>t.$emit("apply-preset","balanced-life"))},{default:Ve(()=>[...s[23]||(s[23]=[Ce("Preset: Balanced-Life",-1)])]),_:1})]),(k(!0),C(fe,null,ze(t.categoryOptions,m=>{var H,W;return k(),C("div",{class:"target-category",key:m.id},[i("div",bd,[i("input",{class:"cat-name",type:"text",value:m.label,placeholder:"Category name",onInput:S=>t.$emit("set-category-label",{id:m.id,label:S.target.value})},null,40,_d),i("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:S=>t.$emit("remove-category",m.id)},"  ",8,wd)]),i("div",kd,[i("label",xd,[s[24]||(s[24]=i("span",{class:"label"},"Target (h)",-1)),i("input",{type:"number",value:m.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[m.id],onInput:S=>t.$emit("set-category-target",{id:m.id,value:S.target.value})},null,40,Sd),t.categoryTargetMessages[m.id]?(k(),C("div",{key:0,class:pe(["input-message",(H=t.categoryTargetMessages[m.id])==null?void 0:H.tone])},I((W=t.categoryTargetMessages[m.id])==null?void 0:W.text),3)):z("",!0)]),i("label",Cd,[s[26]||(s[26]=i("span",{class:"label"},"Pace mode",-1)),i("select",{value:m.paceMode||t.targets.pace.mode,onChange:S=>t.$emit("set-category-pace",{id:m.id,mode:S.target.value})},[...s[25]||(s[25]=[i("option",{value:"days_only"},"Days only",-1),i("option",{value:"time_aware"},"Time aware",-1)])],40,$d)]),i("label",Td,[i("input",{type:"checkbox",checked:m.includeWeekend,onChange:S=>t.$emit("set-category-weekend",{id:m.id,value:S.target.checked})},null,40,Md),s[27]||(s[27]=i("span",null,"Weekend",-1))])])])}),128)),de(w(Wt),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[4]||(s[4]=m=>t.$emit("add-category"))},{default:Ve(()=>[...s[28]||(s[28]=[Ce(" Add category ",-1)])]),_:1},8,["disabled"]),i("div",Dd,[s[34]||(s[34]=i("div",{class:"section-title"},"Pace",-1)),i("label",Ad,[i("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[5]||(s[5]=m=>t.$emit("set-include-weekend-total",m.target.checked))},null,40,Id),s[29]||(s[29]=i("span",null,"Count weekend in total pace",-1))]),i("label",Pd,[s[31]||(s[31]=i("span",{class:"label"},"Mode",-1)),i("select",{value:t.targets.pace.mode,onChange:s[6]||(s[6]=m=>t.$emit("set-pace-mode",m.target.value))},[...s[30]||(s[30]=[i("option",{value:"days_only"},"Days only",-1),i("option",{value:"time_aware"},"Time aware",-1)])],40,Ed)]),i("label",Nd,[s[32]||(s[32]=i("span",{class:"label"},"On track  gap (%)",-1)),i("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[7]||(s[7]=m=>t.$emit("set-threshold",{key:"onTrack",value:m.target.value}))},null,40,Od),t.paceThresholdMessages.onTrack?(k(),C("div",{key:0,class:pe(["input-message",(l=t.paceThresholdMessages.onTrack)==null?void 0:l.tone])},I((f=t.paceThresholdMessages.onTrack)==null?void 0:f.text),3)):z("",!0)]),i("label",Ld,[s[33]||(s[33]=i("span",{class:"label"},"At risk  gap (%)",-1)),i("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[8]||(s[8]=m=>t.$emit("set-threshold",{key:"atRisk",value:m.target.value}))},null,40,Hd),t.paceThresholdMessages.atRisk?(k(),C("div",{key:0,class:pe(["input-message",(g=t.paceThresholdMessages.atRisk)==null?void 0:g.tone])},I((h=t.paceThresholdMessages.atRisk)==null?void 0:h.text),3)):z("",!0)])]),i("div",Rd,[s[39]||(s[39]=i("div",{class:"section-title"},"Forecast",-1)),i("label",Fd,[s[36]||(s[36]=i("span",{class:"label"},"Primary method",-1)),i("select",{value:t.targets.forecast.methodPrimary,onChange:s[9]||(s[9]=m=>t.$emit("set-forecast-method",m.target.value))},[...s[35]||(s[35]=[i("option",{value:"linear"},"Linear",-1),i("option",{value:"momentum"},"Momentum",-1)])],40,Wd)]),i("label",Bd,[s[37]||(s[37]=i("span",{class:"label"},"Momentum window (days)",-1)),i("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[10]||(s[10]=m=>t.$emit("set-forecast-momentum",m.target.value))},null,40,jd),t.forecastMomentumMessage?(k(),C("div",{key:0,class:pe(["input-message",(c=t.forecastMomentumMessage)==null?void 0:c.tone])},I((d=t.forecastMomentumMessage)==null?void 0:d.text),3)):z("",!0)]),i("label",Ud,[s[38]||(s[38]=i("span",{class:"label"},"Padding (h)",-1)),i("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[11]||(s[11]=m=>t.$emit("set-forecast-padding",m.target.value))},null,40,Vd),t.forecastPaddingMessage?(k(),C("div",{key:0,class:pe(["input-message",(u=t.forecastPaddingMessage)==null?void 0:u.tone])},I((b=t.forecastPaddingMessage)==null?void 0:b.text),3)):z("",!0)])]),i("div",zd,[s[48]||(s[48]=i("div",{class:"section-title"},"Display",-1)),i("label",Kd,[i("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[12]||(s[12]=m=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:m.target.checked}))},null,40,Gd),s[40]||(s[40]=i("span",null,"Show calendar charts",-1))]),i("label",qd,[i("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[13]||(s[13]=m=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:m.target.checked}))},null,40,Jd),s[41]||(s[41]=i("span",null,"Show category charts",-1))]),i("label",Zd,[i("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[14]||(s[14]=m=>t.$emit("set-ui-option",{key:"showTotalDelta",value:m.target.checked}))},null,40,Yd),s[42]||(s[42]=i("span",null,"Show total delta",-1))]),i("label",Xd,[i("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[15]||(s[15]=m=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:m.target.checked}))},null,40,Qd),s[43]||(s[43]=i("span",null,"Show need per day",-1))]),i("label",ef,[i("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[16]||(s[16]=m=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:m.target.checked}))},null,40,tf),s[44]||(s[44]=i("span",null,"Show categories",-1))]),i("label",sf,[i("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[17]||(s[17]=m=>t.$emit("set-ui-option",{key:"badges",value:m.target.checked}))},null,40,nf),s[45]||(s[45]=i("span",null,"Status badges",-1))]),i("label",af,[i("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[18]||(s[18]=m=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:m.target.checked}))},null,40,rf),s[46]||(s[46]=i("span",null,"Weekend toggle",-1))]),i("label",of,[i("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[19]||(s[19]=m=>t.$emit("set-include-zero-days",m.target.checked))},null,40,lf),s[47]||(s[47]=i("span",null,"Include zero days in pace",-1))])])])])}}}),cf={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},df={class:"target-config"},ff={class:"field"},gf={class:"summary-mode-toggle"},hf={class:"target-section"},pf=["checked","onChange"],mf=Pe({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,n=t,a={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=V(()=>({...a,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(l,f)=>(k(),C("div",cf,[f[6]||(f[6]=i("div",{class:"sb-title"},"Time Summary",-1)),i("div",df,[i("div",ff,[f[4]||(f[4]=i("span",{class:"label"},"Average mode",-1)),i("div",gf,[de(w(cn),{type:"radio",name:"summary-mode-active",checked:l.activeDayMode==="active","onUpdate:checked":f[0]||(f[0]=g=>{g&&n("update:activeMode","active")})},{default:Ve(()=>[...f[2]||(f[2]=[Ce(" Active days ",-1)])]),_:1},8,["checked"]),de(w(cn),{type:"radio",name:"summary-mode-all",checked:l.activeDayMode==="all","onUpdate:checked":f[1]||(f[1]=g=>{g&&n("update:activeMode","all")})},{default:Ve(()=>[...f[3]||(f[3]=[Ce(" All days ",-1)])]),_:1},8,["checked"])])]),i("div",hf,[f[5]||(f[5]=i("div",{class:"section-title"},"Display",-1)),(k(),C(fe,null,ze(o,g=>i("label",{key:g.key,class:"field checkbox"},[i("input",{type:"checkbox",checked:r.value[g.key],onChange:h=>n("toggle-option",{key:g.key,value:h.target.checked})},null,40,pf),i("span",null,I(g.label),1)])),64))])])]))}}),vf={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},yf={class:"section-title-row"},bf=["aria-expanded"],_f={key:0,class:"section-hint"},wf={class:"target-section toggle-grid"},kf=["checked","onChange"],xf=Pe({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option"],setup(e,{emit:t}){const s=e,n=t,{activitySettings:a,activityToggles:r,helpOpen:o}=ja(s);return(l,f)=>(k(),C("div",vf,[i("div",yf,[f[2]||(f[2]=i("div",{class:"section-title"},"Activity & Schedule",-1)),i("button",{type:"button",class:"info-button","aria-expanded":w(o),"aria-label":"Activity & Schedule help",onClick:f[0]||(f[0]=g=>n("toggle-help"))},[...f[1]||(f[1]=[i("span",null,"?",-1)])],8,bf)]),w(o)?(k(),C("p",_f,"Choose which metrics appear on the Activity & Schedule card.")):z("",!0),i("div",wf,[(k(!0),C(fe,null,ze(w(r),([g,h])=>(k(),C("label",{key:g,class:"field checkbox toggle-field"},[i("input",{type:"checkbox",checked:w(a)[g],onChange:c=>n("toggle-option",{key:g,value:c.target.checked})},null,40,kf),i("span",null,I(h),1)]))),128))])]))}}),Sf={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},Cf={class:"section-title-row"},$f=["aria-expanded"],Tf={class:"target-section"},Mf={class:"section-title-row"},Df=["aria-expanded"],Af={key:0,class:"section-hint"},If={class:"field-grid"},Pf={class:"field"},Ef=["value","aria-invalid"],Nf={class:"field"},Of=["value","aria-invalid"],Lf={class:"field"},Hf=["value","aria-invalid"],Rf={class:"target-section"},Ff={class:"section-title-row"},Wf=["aria-expanded"],Bf={key:0,class:"section-hint"},jf={class:"field-grid"},Uf={class:"field"},Vf=["value"],zf={class:"field"},Kf=["value","aria-invalid"],Gf={class:"target-section"},qf={class:"section-title-row"},Jf=["aria-expanded"],Zf={key:0,class:"section-hint"},Yf={class:"toggle-grid"},Xf={class:"field checkbox toggle-field"},Qf=["checked"],eg={class:"field checkbox toggle-field"},tg=["checked"],sg={class:"field checkbox toggle-field"},ng=["checked"],ag={class:"field-grid mt-8"},rg={class:"field"},og=["value","aria-invalid"],lg=["value"],ig={class:"field"},ug=["value","aria-invalid"],cg=["value"],dg=Pe({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,n=t,{balanceSettings:a,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:l,roundingOptions:f,helpThresholds:g,helpTrend:h,helpDisplay:c}=ja(s);return(d,u)=>{var b,m,H,W,S,E,$,F,Y,ee,te,ge;return k(),C("div",Sf,[i("div",Cf,[u[15]||(u[15]=i("div",{class:"section-title subtitle"},"Balance Overview",-1)),i("button",{type:"button",class:"info-button","aria-expanded":w(g)||w(h)||w(c),"aria-label":"Balance Overview help",onClick:u[0]||(u[0]=K=>n("toggle-help","all"))},[...u[14]||(u[14]=[i("span",null,"?",-1)])],8,$f)]),i("div",Tf,[i("div",Mf,[u[17]||(u[17]=i("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),i("button",{type:"button",class:"info-button","aria-expanded":w(g),"aria-label":"Thresholds help",onClick:u[1]||(u[1]=K=>n("toggle-help","thresholds"))},[...u[16]||(u[16]=[i("span",null,"?",-1)])],8,Df)]),w(g)?(k(),C("p",Af,"Set the share/index limits that trigger balance warnings.")):z("",!0),i("div",If,[i("label",Pf,[u[18]||(u[18]=i("span",{class:"label"},"Notice max share",-1)),i("input",{type:"number",min:"0",max:"1",step:"0.01",value:w(a).thresholds.noticeMaxShare,"aria-invalid":!!w(r).noticeMaxShare,onInput:u[2]||(u[2]=K=>n("set-threshold",{key:"noticeMaxShare",value:K.target.value}))},null,40,Ef),w(r).noticeMaxShare?(k(),C("div",{key:0,class:pe(["input-message",(b=w(r).noticeMaxShare)==null?void 0:b.tone])},I((m=w(r).noticeMaxShare)==null?void 0:m.text),3)):z("",!0)]),i("label",Nf,[u[19]||(u[19]=i("span",{class:"label"},"Warn max share",-1)),i("input",{type:"number",min:"0",max:"1",step:"0.01",value:w(a).thresholds.warnMaxShare,"aria-invalid":!!w(r).warnMaxShare,onInput:u[3]||(u[3]=K=>n("set-threshold",{key:"warnMaxShare",value:K.target.value}))},null,40,Of),w(r).warnMaxShare?(k(),C("div",{key:0,class:pe(["input-message",(H=w(r).warnMaxShare)==null?void 0:H.tone])},I((W=w(r).warnMaxShare)==null?void 0:W.text),3)):z("",!0)]),i("label",Lf,[u[20]||(u[20]=i("span",{class:"label"},"Warn index",-1)),i("input",{type:"number",min:"0",max:"1",step:"0.01",value:w(a).thresholds.warnIndex,"aria-invalid":!!w(r).warnIndex,onInput:u[4]||(u[4]=K=>n("set-threshold",{key:"warnIndex",value:K.target.value}))},null,40,Hf),w(r).warnIndex?(k(),C("div",{key:0,class:pe(["input-message",(S=w(r).warnIndex)==null?void 0:S.tone])},I((E=w(r).warnIndex)==null?void 0:E.text),3)):z("",!0)])])]),i("div",Rf,[i("div",Ff,[u[22]||(u[22]=i("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),i("button",{type:"button",class:"info-button","aria-expanded":w(h),"aria-label":"Trend help",onClick:u[5]||(u[5]=K=>n("toggle-help","trend"))},[...u[21]||(u[21]=[i("span",null,"?",-1)])],8,Wf)]),w(h)?(k(),C("p",Bf,"Control the comparison window and how ratios are expressed.")):z("",!0),i("div",jf,[i("label",Uf,[u[24]||(u[24]=i("span",{class:"label"},"Relation display",-1)),i("select",{value:w(a).relations.displayMode,onChange:u[6]||(u[6]=K=>n("set-relation",K.target.value))},[...u[23]||(u[23]=[i("option",{value:"ratio"},"Ratio (A : B)",-1),i("option",{value:"factor"},"Factor (A)",-1)])],40,Vf)]),i("label",zf,[u[25]||(u[25]=i("span",{class:"label"},"Trend lookback (weeks)",-1)),i("input",{type:"number",min:"1",max:"12",step:"1",value:w(a).trend.lookbackWeeks,"aria-invalid":!!w(o),onInput:u[7]||(u[7]=K=>n("set-lookback",K.target.value))},null,40,Kf),w(o)?(k(),C("div",{key:0,class:pe(["input-message",($=w(o))==null?void 0:$.tone])},I((F=w(o))==null?void 0:F.text),3)):z("",!0)])])]),i("div",Gf,[i("div",qf,[u[27]||(u[27]=i("div",{class:"section-subtitle subtitle"},"Display",-1)),i("button",{type:"button",class:"info-button","aria-expanded":w(c),"aria-label":"Display help",onClick:u[8]||(u[8]=K=>n("toggle-help","display"))},[...u[26]||(u[26]=[i("span",null,"?",-1)])],8,Jf)]),w(c)?(k(),C("p",Zf,"Toggle optional insights and adjust rounding for the card values.")):z("",!0),i("div",Yf,[i("label",Xf,[i("input",{type:"checkbox",checked:w(a).ui.showInsights,onChange:u[9]||(u[9]=K=>n("set-ui-toggle",{key:"showInsights",value:K.target.checked}))},null,40,Qf),u[28]||(u[28]=i("span",null,"Insights",-1))]),i("label",eg,[i("input",{type:"checkbox",checked:w(a).ui.showDailyStacks,onChange:u[10]||(u[10]=K=>n("set-ui-toggle",{key:"showDailyStacks",value:K.target.checked}))},null,40,tg),u[29]||(u[29]=i("span",null,"Daily mix (experimental)",-1))]),i("label",sg,[i("input",{type:"checkbox",checked:w(a).dayparts.enabled,onChange:u[11]||(u[11]=K=>n("set-ui-toggle",{key:"dayparts",value:K.target.checked}))},null,40,ng),u[30]||(u[30]=i("span",null,"Dayparts",-1))])]),i("div",ag,[i("label",rg,[u[31]||(u[31]=i("span",{class:"label"},"Percent precision",-1)),i("select",{value:w(a).ui.roundPercent,"aria-invalid":!!w(l).roundPercent,onChange:u[12]||(u[12]=K=>n("set-ui-precision",{key:"roundPercent",value:K.target.value}))},[(k(!0),C(fe,null,ze(w(f),K=>(k(),C("option",{key:`round-percent-${K}`,value:K},I(K),9,lg))),128))],40,og),w(l).roundPercent?(k(),C("div",{key:0,class:pe(["input-message",(Y=w(l).roundPercent)==null?void 0:Y.tone])},I((ee=w(l).roundPercent)==null?void 0:ee.text),3)):z("",!0)]),i("label",ig,[u[32]||(u[32]=i("span",{class:"label"},"Ratio precision",-1)),i("select",{value:w(a).ui.roundRatio,"aria-invalid":!!w(l).roundRatio,onChange:u[13]||(u[13]=K=>n("set-ui-precision",{key:"roundRatio",value:K.target.value}))},[(k(!0),C(fe,null,ze(w(f),K=>(k(),C("option",{key:`round-ratio-${K}`,value:K},I(K),9,cg))),128))],40,ug),w(l).roundRatio?(k(),C("div",{key:0,class:pe(["input-message",(te=w(l).roundRatio)==null?void 0:te.tone])},I((ge=w(l).roundRatio)==null?void 0:ge.text),3)):z("",!0)])])])])}}}),fg={class:"notes-section"},gg=["title"],hg=["value"],pg=["title"],mg=["value"],vg={class:"notes-actions"},yg=qt(Pe({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(k(),C("div",fg,[i("div",{class:"hint",title:t.prevTitle},I(t.prevLabel),9,gg),i("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,hg),i("div",{class:"hint",title:t.currTitle},I(t.currLabel),9,pg),i("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,mg),i("div",vg,[de(w(Wt),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=n=>t.$emit("save"))},{default:Ve(()=>[...s[2]||(s[2]=[Ce("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),bg={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},_g=Pe({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,n=t,{previous:a,modelValue:r,prevLabel:o,currLabel:l,prevTitle:f,currTitle:g,saving:h}=s;return(c,d)=>(k(),C("div",bg,[d[2]||(d[2]=i("div",{class:"sb-title"},"Notes",-1)),de(yg,{previous:w(a),"model-value":w(r),"prev-label":w(o),"curr-label":w(l),"prev-title":w(f),"curr-title":w(g),saving:w(h),"onUpdate:modelValue":d[0]||(d[0]=u=>n("update:modelValue",u)),onSave:d[1]||(d[1]=u=>n("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}});function wg(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const n=Number(e);if(!Number.isFinite(n))return{value:null,error:"Enter a valid number"};let a=n,r;if(typeof t.min=="number"&&a<t.min&&(a=t.min,r=sa(t)),typeof t.max=="number"&&a>t.max&&(a=t.max,r=sa(t)),typeof t.step=="number"&&t.step>0){const l=xg(a,t.step);l!==a&&(a=l,r=sa(t))}const o=so(t);return typeof o=="number"&&(a=Number(a.toFixed(o))),{value:a,warning:r}}function kg(e,t){const s=wg(e,t),n=[];return s.error&&n.push({severity:"error",message:s.error}),s.warning&&n.push({severity:"warning",message:s.warning}),{value:s.value,issues:n}}function xg(e,t){const s=so({step:t}),n=Math.round(e/t)*t;return typeof s=="number"?Number(n.toFixed(s)):n}function so(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return Sg(e.step)}function Sg(e){const t=e.toString();if(t.includes("e-")){const[,n]=t.split("e-");return Number(n)}const[,s=""]=t.split(".");return s.length}function sa(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function Cg(e,t,s="Enter a valid number"){const n=kg(e,t),a=n.issues.find(l=>l.severity==="error"),r=n.issues.find(l=>l.severity==="warning");let o=null;return a||n.value===null?o={text:(a==null?void 0:a.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!a&&n.value!==null,value:n.value,message:o}}function St(e,t,s,n,a){const{ok:r,value:o,message:l}=Cg(e,t,a);return s(l),!r||o===null?!1:(n(o),!0)}const $g={class:"rangebar",title:"Time range"},Tg={class:"range-actions"},Mg=["disabled"],Dg=["aria-label"],Ag={class:"range-toggle"},Ig={class:"range-nav"},Pg={class:"range-dates"},Eg={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},Ng=["aria-selected"],Og=["aria-selected"],Lg=["aria-selected"],Hg={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},Rg=["aria-selected"],Fg=["aria-selected"],Wg=["aria-selected"],Bg=qt(Pe({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav"],setup(e,{emit:t}){const s=e,n=t,a=ce("calendars"),r=V(()=>s.targetsConfig),o=V(()=>{var _;return((_=r.value)==null?void 0:_.categories)??[]});function l(_){const y=ht(JSON.parse(JSON.stringify(s.targetsConfig||{})));_(y),n("update:targets-config",y)}const f=V(()=>K()!==null),g=V(()=>{var _;return((_=r.value)==null?void 0:_.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),h=V(()=>{var _;return{...dn(),...((_=r.value)==null?void 0:_.activityCard)??{}}}),c={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},d=V(()=>Object.entries(c)),u=V(()=>{var A;const _=Yn(),y=((A=r.value)==null?void 0:A.balance)??_;return{..._,...y,thresholds:{..._.thresholds,...y.thresholds??{}},relations:{..._.relations,...y.relations??{}},trend:{..._.trend,...y.trend??{}},dayparts:{..._.dayparts,...y.dayparts??{}},ui:{..._.ui,...y.ui??{}}}}),b=[0,1,2,3],m=bt({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),H=bt({}),W=bt({}),S=ce(null),E=ce(null),$=bt({onTrack:null,atRisk:null}),F=bt({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),Y=ce(null),ee=ce(null),te=ce(null),ge=bt({roundPercent:null,roundRatio:null});function K(){const _=new Set;for(const y of o.value)(y.groupIds||[]).forEach(A=>_.add(Number(A)));Object.values(s.groupsById||{}).forEach(y=>_.add(Number(y)));for(let y=1;y<=9;y++)if(!_.has(y))return y;return null}function ve(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function ke(_){const y=le(_),A=o.value.find(re=>Array.isArray(re.groupIds)&&re.groupIds.includes(y));return A?A.id:""}function me(_,y){if(!y){n("set-group",{id:_,n:0});return}const A=o.value.find(Qe=>Qe.id===y);if(!A){n("set-group",{id:_,n:0});return}const re=Ee(A.id);n("set-group",{id:_,n:re})}function Ee(_){const y=o.value.find(Qe=>Qe.id===_);if(!y)return 0;const A=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;if(A&&Number.isFinite(A))return A;const re=K()??0;return l(Qe=>{const pn=Qe.categories.find(la=>la.id===_);pn&&(pn.groupIds=re?[re]:[])}),re}function j(_,y){l(A=>{const re=A.categories.find(Qe=>Qe.id===_);re&&y(re)})}function le(_){const y=Number((s.groupsById||{})[_]??0);return isFinite(y)?Math.max(0,Math.min(9,Math.trunc(y))):0}function se(_){const y=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},A=Number(y[_]??"");return isFinite(A)?A:""}function Z(_){n("select-all",_)}function ie(_){n("toggle-calendar",_)}function xe(_){me(_.id,_.category)}function Se(_){nt(_.id,_.value)}function he(_){T(_.key,_.value)}function Le(_){M(_.key,_.value)}function Ne(){m.activity=!m.activity}function Te(_){if(_==="all"){const y=!(m.balanceThresholds&&m.balanceTrend&&m.balanceDisplay);m.balanceThresholds=y,m.balanceTrend=y,m.balanceDisplay=y;return}_==="thresholds"?m.balanceThresholds=!m.balanceThresholds:_==="trend"?m.balanceTrend=!m.balanceTrend:_==="display"&&(m.balanceDisplay=!m.balanceDisplay)}function ye(_){G(_.key,_.value)}function be(_){if(_.key==="dayparts"){l(y=>{y.balance.dayparts.enabled=_.value});return}Q(_.key,_.value)}function Ie(_){ue(_.key,_.value)}function nt(_,y){St(y,{min:0,max:1e4,step:.25,decimals:2},A=>{H[_]=A},A=>n("set-target",{id:_,h:A}))}function Ge(_){St(_,{min:0,max:1e3,step:.5,decimals:2},y=>{S.value=y},y=>l(A=>{A.totalHours=y}))}function ne(_){St(_,{min:0,max:24,step:.25,decimals:2},y=>{E.value=y},y=>l(A=>{A.allDayHours=y}),"024 hours per day")}function p(_,y){St(y,{min:0,max:1e3,step:.5,decimals:2},A=>{W[_]=A},A=>j(_,re=>{re.targetHours=A}))}function v(_,y){j(_,A=>{A.label=y.trim()||A.label})}function x(_,y){j(_,A=>{A.includeWeekend=y})}function N(_){s.activeDayMode!==_&&n("update:active-mode",_)}function T(_,y){l(A=>{A.timeSummary||(A.timeSummary=JSON.parse(JSON.stringify(g.value))),A.timeSummary[_]=y})}function M(_,y){l(A=>{A.activityCard||(A.activityCard=dn()),A.activityCard[_]=y})}function B(_,y){y!=="days_only"&&y!=="time_aware"||j(_,A=>{A.paceMode=y})}function O(_){l(y=>{y.pace.includeWeekendTotal=_})}function R(_){_!=="days_only"&&_!=="time_aware"||l(y=>{y.pace.mode=_})}function L(_,y){St(y,{min:-100,max:100,step:.1,decimals:1},A=>{$[_]=A},A=>l(re=>{re.pace.thresholds[_]=A}))}function G(_,y){St(y,{min:0,max:1,step:.01,decimals:2},A=>{F[_]=A},A=>l(re=>{re.balance.thresholds[_]=Number(A.toFixed(2))}))}function U(_){const y=_==="factor"?"factor":"ratio";l(A=>{A.balance.relations.displayMode=y})}function q(_){St(_,{min:1,max:12,step:1,decimals:0},y=>{te.value=y},y=>l(A=>{A.balance.trend.lookbackWeeks=y}))}function Q(_,y){l(A=>{A.balance.ui[_]=y})}function ue(_,y){St(y,{min:0,max:3,step:1,decimals:0},A=>{ge[_]=A},A=>l(re=>{re.balance.ui[_]=A}))}function Me(_){const y=_==="momentum"?"momentum":"linear";l(A=>{A.forecast.methodPrimary=y})}function we(_){St(_,{min:1,max:14,step:1,decimals:0},y=>{Y.value=y},y=>l(A=>{A.forecast.momentumLastNDays=y}))}function Fe(_){St(_,{min:0,max:100,step:.1,decimals:1},y=>{ee.value=y},y=>l(A=>{A.forecast.padding=y}))}function We(_,y){l(A=>{A.ui[_]=y})}function at(_){l(y=>{y.includeZeroDaysInStats=_})}function rt(_){l(y=>{_==="work-week"?(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],y.allDayHours=8,y.pace.includeWeekendTotal=!0,y.pace.mode="days_only",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0):_==="balanced-life"&&(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],y.allDayHours=8,y.pace.includeWeekendTotal=!0,y.pace.mode="time_aware",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0)})}function Ot(){var y;const _=K();if(_===null){(y=window.alert)==null||y.call(window,"All category slots are currently in use (max 9).");return}l(A=>{A.categories=[...A.categories,{id:ve(),label:`Category ${A.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[_]}]})}function jt(_){if(o.value.length<=1)return;const y=o.value.find(re=>re.id===_);if(!y)return;const A=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;l(re=>{re.categories=re.categories.filter(Qe=>Qe.id!==_)}),A!==null&&Object.entries(s.groupsById||{}).forEach(([re,Qe])=>{Number(Qe)===A&&n("set-group",{id:re,n:0})})}return(_,y)=>(k(),Ke(w(zi),null,{default:Ve(()=>[Cl(_.$slots,"actions",{},void 0,!0),y[24]||(y[24]=i("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),i("div",$g,[i("div",Tg,[i("button",{class:"sidebar-action-btn",type:"button",disabled:_.isLoading,onClick:y[0]||(y[0]=A=>_.$emit("load"))}," Refresh ",8,Mg),i("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:y[1]||(y[1]=A=>_.$emit("toggle-nav")),"aria-label":_.navToggleLabel},I(_.navToggleIcon),9,Dg)]),i("div",Ag,[de(w(cn),{type:"radio",name:"range-week",checked:_.range==="week","onUpdate:checked":y[2]||(y[2]=A=>{A&&_.$emit("update:range","week")})},{default:Ve(()=>[...y[20]||(y[20]=[Ce("Week",-1)])]),_:1},8,["checked"]),de(w(cn),{type:"radio",name:"range-month",checked:_.range==="month","onUpdate:checked":y[3]||(y[3]=A=>{A&&_.$emit("update:range","month")})},{default:Ve(()=>[...y[21]||(y[21]=[Ce("Month",-1)])]),_:1},8,["checked"])]),i("div",Ig,[de(w(Wt),{class:"nav-btn",type:"tertiary",disabled:_.isLoading,onClick:y[4]||(y[4]=A=>_.$emit("update:offset",_.offset-1)),title:"Previous"},{default:Ve(()=>[...y[22]||(y[22]=[Ce("",-1)])]),_:1},8,["disabled"]),i("span",Pg,I(_.from)+"  "+I(_.to),1),de(w(Wt),{class:"nav-btn",type:"tertiary",disabled:_.isLoading,onClick:y[5]||(y[5]=A=>_.$emit("update:offset",_.offset+1)),title:"Next"},{default:Ve(()=>[...y[23]||(y[23]=[Ce("",-1)])]),_:1},8,["disabled"])])]),i("div",Eg,[i("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:pe(["sb-tab",{active:a.value==="calendars"}]),role:"tab","aria-selected":a.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:y[6]||(y[6]=A=>a.value="calendars")}," Calendars ",10,Ng),i("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:pe(["sb-tab",{active:a.value==="targets"}]),role:"tab","aria-selected":a.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:y[7]||(y[7]=A=>a.value="targets")}," Targets ",10,Og),i("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:pe(["sb-tab",{active:a.value==="summary"}]),role:"tab","aria-selected":a.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:y[8]||(y[8]=A=>a.value="summary")}," Summary ",10,Lg)]),i("div",Hg,[i("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:pe(["sb-tab",{active:a.value==="activity"}]),role:"tab","aria-selected":a.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:y[9]||(y[9]=A=>a.value="activity")}," Activity & Schedule ",10,Rg),i("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:pe(["sb-tab",{active:a.value==="balance"}]),role:"tab","aria-selected":a.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:y[10]||(y[10]=A=>a.value="balance")}," Balance ",10,Fg),i("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:pe(["sb-tab",{active:a.value==="notes"}]),role:"tab","aria-selected":a.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:y[11]||(y[11]=A=>a.value="notes")}," Notes ",10,Wg)]),a.value==="calendars"?(k(),Ke(dd,{key:0,calendars:_.calendars,selected:_.selected,range:_.range,"is-loading":_.isLoading,"category-options":o.value,"calendar-target-messages":H,"calendar-category-id":ke,"get-target":se,onSelectAll:Z,onToggleCalendar:ie,onSetCategory:xe,onTargetInput:Se},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):a.value==="targets"?(k(),Ke(uf,{key:1,targets:r.value,"category-options":o.value,"total-target-message":S.value,"all-day-hours-message":E.value,"category-target-messages":W,"pace-threshold-messages":$,"forecast-momentum-message":Y.value,"forecast-padding-message":ee.value,"can-add-category":f.value,onTotalTargetInput:Ge,onApplyPreset:rt,onSetAllDayHours:ne,onSetCategoryLabel:y[12]||(y[12]=({id:A,label:re})=>v(A,re)),onRemoveCategory:jt,onSetCategoryTarget:y[13]||(y[13]=({id:A,value:re})=>p(A,re)),onSetCategoryPace:y[14]||(y[14]=({id:A,mode:re})=>B(A,re)),onSetCategoryWeekend:y[15]||(y[15]=({id:A,value:re})=>x(A,re)),onAddCategory:Ot,onSetIncludeWeekendTotal:O,onSetPaceMode:R,onSetThreshold:y[16]||(y[16]=({key:A,value:re})=>L(A,re)),onSetForecastMethod:Me,onSetForecastMomentum:we,onSetForecastPadding:Fe,onSetUiOption:y[17]||(y[17]=({key:A,value:re})=>We(A,re)),onSetIncludeZeroDays:at},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):a.value==="summary"?(k(),Ke(mf,{key:2,"summary-options":g.value,"active-day-mode":_.activeDayMode,"onUpdate:activeMode":N,onToggleOption:he},null,8,["summary-options","active-day-mode"])):a.value==="activity"?(k(),Ke(xf,{key:3,"activity-settings":h.value,"activity-toggles":d.value,"help-open":m.activity,onToggleHelp:Ne,onToggleOption:Le},null,8,["activity-settings","activity-toggles","help-open"])):a.value==="balance"?(k(),Ke(dg,{key:4,"balance-settings":u.value,"balance-threshold-messages":F,"balance-lookback-message":te.value,"balance-ui-precision-messages":ge,"rounding-options":b,"help-thresholds":m.balanceThresholds,"help-trend":m.balanceTrend,"help-display":m.balanceDisplay,onToggleHelp:Te,onSetThreshold:ye,onSetRelation:U,onSetLookback:q,onSetUiToggle:be,onSetUiPrecision:Ie},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):a.value==="notes"?(k(),Ke(_g,{key:5,previous:_.notesPrev,"model-value":_.notesCurrDraft,"prev-label":_.notesLabelPrev,"curr-label":_.notesLabelCurr,"prev-title":_.notesLabelPrevTitle,"curr-title":_.notesLabelCurrTitle,saving:_.isSavingNote,"onUpdate:modelValue":y[18]||(y[18]=A=>_.$emit("update:notes",A)),onSave:y[19]||(y[19]=A=>_.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):z("",!0)]),_:3}))}}),[["__scopeId","data-v-8ba06dba"]]);function jg(e){const t=ce(""),s=ce(""),n=ce(!1);async function a(){var l,f;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((l=o==null?void 0:o.notes)==null?void 0:l.previous)??""),s.value=String(((f=o==null?void 0:o.notes)==null?void 0:f.current)??"")}async function r(){try{n.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await a()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{n.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:n,fetchNotes:a,saveNotes:r}}function Ug(e){const t=ce([]),s=ce({}),n=ce({}),a=ce({}),r=ce([]),o=ce(!1),l=ce(!1),f=ce(null),g=ce(""),h=ce(""),c=ce(""),d=bt({}),u=ce([]),b=ce([]),m=ce([]),H=ce({}),W=ce({}),S=ce({}),E=ce(ht(fn()));let $=0,F=null;const Y=ce(!1);async function ee(){var K,ve,ke,me,Ee,j,le,se,Z,ie,xe,Se,he,Le,Ne,Te,ye,be,Ie,nt;const ge=++$;o.value=!0;try{const Ge={range:e.range.value,offset:e.offset.value|0,save:!1},ne=await e.getJson(e.route("load"),Ge);if(ge!==$){(K=e.isDebug)!=null&&K.call(e)&&console.warn("discarding stale load response",{currentSeq:ge,loadSeq:$});return}g.value=String(((ve=ne.meta)==null?void 0:ve.uid)??""),h.value=String(((ke=ne.meta)==null?void 0:ke.from)??""),c.value=String(((me=ne.meta)==null?void 0:me.to)??""),l.value=!!((Ee=ne.meta)!=null&&Ee.truncated),f.value=((j=ne.meta)==null?void 0:j.limits)??null,t.value=Array.isArray(ne.calendars)?ne.calendars:[],s.value=((le=ne.colors)==null?void 0:le.byName)??{},n.value=((se=ne.colors)==null?void 0:se.byId)??{};const p=((Z=ne.groups)==null?void 0:Z.byId)??((ie=ne.groups)==null?void 0:ie.byID)??((xe=ne.groups)==null?void 0:xe.ids)??{},v={};t.value.forEach(T=>{const M=String((T==null?void 0:T.id)??""),B=Number((p==null?void 0:p[M])??0);v[M]=Number.isFinite(B)?Math.max(0,Math.min(9,Math.trunc(B))):0}),a.value=v;const x=((Se=ne.targets)==null?void 0:Se.week)??{},N=((he=ne.targets)==null?void 0:he.month)??{};if(W.value=x&&typeof x=="object"?x:{},S.value=N&&typeof N=="object"?N:{},E.value=ht(ne.targetsConfig??fn()),(Le=e.isDebug)!=null&&Le.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(T=>({id:T.id,name:T.displayname,color:T.color,raw:T.color_raw,src:T.color_src}))),console.log("colors.byId",n.value),console.log("colors.byName",s.value),ne.calDebug&&console.log("server calDebug",ne.calDebug),ne.debug&&(console.group("[opsdash] server query debug"),console.log(ne.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(M=>!M.color||M.color_src==="fallback").length)try{const M=await e.fetchDavColors(g.value,t.value.map(O=>String(O.id)));let B=!1;if(t.value=t.value.map(O=>{const R=M[O.id];return R&&R!==O.color&&(O.color_src="dav"(O).color_raw=R,O.color=R,B=!0),O}),Object.entries(M).forEach(([O,R])=>{R&&(n.value[O]=String(R))}),B){(Ne=e.isDebug)!=null&&Ne.call(e)&&console.log("[opsdash] dav colors applied",M);try{const O=((Te=H.value)==null?void 0:Te.pie)||{},R=O.ids||[],L=O.colors||[],G=R.map((U,q)=>n.value[U]||L[q]||"#60a5fa");H.value={...H.value||{},pie:{...O,colors:G}},(ye=e.isDebug)!=null&&ye.call(e)&&console.log("[opsdash] recomputed pie colors",G)}catch(O){(be=e.isDebug)!=null&&be.call(e)&&console.warn("recompute pie colors failed",O)}try{const O=(Ie=H.value)==null?void 0:Ie.perDaySeries;if(O&&Array.isArray(O.series)){const R=O.series.map(L=>({...L,color:n.value[L.id]||L.color||"#60a5fa"}));H.value={...H.value||{},perDaySeries:{labels:O.labels,series:R}}}}catch{}e.scheduleDraw()}}catch(M){(nt=e.isDebug)!=null&&nt.call(e)&&console.warn("dav colors failed",M)}r.value=Array.isArray(ne.selected)?ne.selected:Array.isArray(ne.saved)?ne.saved:[],e.userChangedSelection.value=!1,Object.assign(d,ne.stats??{}),u.value=Array.isArray(ne.byCal)?ne.byCal:[],b.value=Array.isArray(ne.byDay)?ne.byDay:[],m.value=Array.isArray(ne.longest)?ne.longest:[],H.value=ne.charts??{},await Ks(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(Ge){console.error(Ge),e.notifyError("Failed to load data")}finally{o.value=!1}}function te(ge=!0){F&&clearTimeout(F),F=setTimeout(async()=>{try{Y.value=!0;const K=await e.postJson(e.route("persist"),{cals:r.value,groups:a.value,targets_week:W.value,targets_month:S.value,targets_config:Wc(E.value)});Array.isArray(K.read)?r.value=K.read.map(me=>String(me)):Array.isArray(K.saved)&&(r.value=K.saved.map(me=>String(me)));const ve=K.targets_config_read,ke=K.targets_config_saved;ve?E.value=ht(ve):ke&&(E.value=ht(ke)),ge&&await ee(),e.notifySuccess("Selection saved")}catch(K){console.error(K),e.notifyError("Failed to save selection")}finally{Y.value=!1}},250)}return{calendars:t,colorsByName:s,colorsById:n,groupsById:a,selected:r,isLoading:o,isTruncated:l,truncLimits:f,uid:g,from:h,to:c,stats:d,byCal:u,byDay:b,longest:m,charts:H,targetsWeek:W,targetsMonth:S,targetsConfig:E,load:ee,queueSave:te,isSaving:Y}}function Vg(e){const t=V(()=>{var n,a;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:((a=e.charts.value)==null?void 0:a.perDaySeries)||null}}),s=V(()=>{var b,m;const n={},a=(b=e.charts.value)==null?void 0:b.pie,r=(m=e.charts.value)==null?void 0:m.perDaySeries,o=a&&Array.isArray(a.data)&&Array.isArray(a.ids),l=r&&Array.isArray(r.series)&&Array.isArray(r.labels),f=e.calendarCategoryMap.value,g=o?(a.ids||[]).map(H=>String(H??"")):[],h=o?(a.labels||[]).map(H=>String(H??"")):[],c=o?(a.data||[]).map(H=>Number(H)||0):[],d=o?a.colors||[]:[],u=l?r.series:[];return e.calendarGroups.value.forEach(H=>{const W=[];o&&g.forEach((F,Y)=>{f[F]===H.id&&W.push(Y)});const S=W.length?{ids:W.map(F=>g[F]),labels:W.map(F=>h[F]),data:W.map(F=>c[F]),colors:W.map(F=>{var Y;return d[F]||((Y=e.colorsById.value)==null?void 0:Y[g[F]])||"#60a5fa"})}:null,E=l?u.filter(F=>f[String((F==null?void 0:F.id)??"")]===H.id):[],$=E.length?{labels:r.labels,series:E}:null;n[H.id]={pie:S,stacked:$}}),n});return{calendarChartData:t,categoryChartsById:s}}const Nt="__uncategorized__",no="Unassigned";function zg(e){const t=V(()=>{var h;const g=(h=e.targetsConfig.value)==null?void 0:h.categories;return Array.isArray(g)?g:[]}),s=V(()=>{const g={};return t.value.forEach(h=>{g[String(h.id)]=h.label||String(h.id)}),g}),n=V(()=>{var c;const g=new Map;return(((c=e.targetsSummary.value)==null?void 0:c.categories)||[]).forEach(d=>g.set(String(d.id),d)),g}),a=V(()=>{const g=new Map;return t.value.forEach(h=>{(Array.isArray(h.groupIds)?h.groupIds:[]).forEach(d=>{const u=Math.max(0,Math.min(9,Math.trunc(Number(d)||0)));g.set(u,String(h.id))})}),g}),r=V(()=>{var c;const g=e.calendars.value;if(!Array.isArray(g))return(c=e.isDebug)!=null&&c.call(e)&&console.warn("[opsdash] calendars not array",g),{};const h={};return g.forEach(d=>{var m;const u=String((d==null?void 0:d.id)??"");if(!u)return;const b=((m=e.colorsById.value)==null?void 0:m[u])||String((d==null?void 0:d.color)||"");h[u]={name:String((d==null?void 0:d.displayname)||(d==null?void 0:d.name)||(d==null?void 0:d.calendar)||u),color:b||void 0}}),h}),o=V(()=>{var b;const g={},h=a.value,c=e.groupsById.value||{},d=m=>{const H=c==null?void 0:c[m],W=Math.max(0,Math.min(9,Math.trunc(Number(H)||0))),S=h.get(W);g[m]=S||Nt},u=e.calendars.value;return Array.isArray(u)?(u.forEach(m=>{const H=String((m==null?void 0:m.id)??"");H&&d(H)}),(e.selected.value||[]).forEach(m=>{const H=String(m??"");H&&(g[H]||d(H))}),g):((b=e.isDebug)!=null&&b.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",u),g)}),l=V(()=>{const g=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],h={};let c=0;const d=u=>{if(h[u])return h[u];const b=Object.entries(o.value).filter(([,H])=>H===u).map(([H])=>H);for(const H of b){const W=r.value[H];if(W!=null&&W.color)return h[u]=W.color,W.color}const m=g[c%g.length];return c+=1,h[u]=m,m};return t.value.forEach(u=>d(String(u.id))),Object.values(o.value||{}).some(u=>u===Nt)&&d(Nt),h}),f=V(()=>{var F,Y,ee,te,ge,K,ve,ke,me,Ee;const g=[],h=o.value,c=n.value,d=e.byCal.value;if(!Array.isArray(d))return(F=e.isDebug)!=null&&F.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",d),g;const u=new Map;d.forEach(j=>{const le=String((j==null?void 0:j.id)??(j==null?void 0:j.calendar_id)??(j==null?void 0:j.calendar)??"");if(!le)return;const se=h[le]||Nt;u.has(se)||u.set(se,[]),u.get(se).push({...j,calendarId:le})}),(Y=e.isDebug)!=null&&Y.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(d),rowsSourceLength:d.length,byCat:u,assignments:h});const b=((te=(ee=e.targetsSummary.value)==null?void 0:ee.total)==null?void 0:te.daysLeft)??0,m=((K=(ge=e.targetsSummary.value)==null?void 0:ge.total)==null?void 0:K.calendarPercent)??0,H=((ke=(ve=e.targetsSummary.value)==null?void 0:ve.total)==null?void 0:ke.paceMode)??((Ee=(me=e.targetsConfig.value)==null?void 0:me.pace)==null?void 0:Ee.mode)??"days_only",W=j=>Math.round(j*100)/100,S=e.currentTargets.value||{},E=(j,le,se)=>{const Z=se.reduce((ye,be)=>{const Ie=Number(S[be.calendarId]??0);return Number.isFinite(Ie)?ye+Math.max(0,Ie):ye},0),ie=se.reduce((ye,be)=>{const Ie=Number((be==null?void 0:be.total_hours)??(be==null?void 0:be.hours)??0);return Number.isFinite(Ie)?ye+Math.max(0,Ie):ye},0),xe=Z>0?Math.max(0,Math.min(100,ie/Z*100)):0,Se=ie-Z,he=Math.max(0,Z-ie),Le=Z<=0?"none":xe>=100?"done":Se>=0?"on_track":"behind",Ne=Le==="done"?"Done":Le==="on_track"?"On Track":Le==="behind"?"Behind":"",Te=b>0?he/b:0;return{id:j,label:le,actualHours:W(ie),targetHours:W(Z),percent:xe,deltaHours:W(Se),remainingHours:W(he),needPerDay:W(Te),daysLeft:b,calendarPercent:Math.max(0,Math.min(100,m)),gap:W(xe-m),status:Le,statusLabel:Ne,includeWeekend:!0,paceMode:H}};if(t.value.map(j=>String(j.id)).forEach(j=>{const le=s.value[j]||j,se=u.get(j)||[],Z=c.get(j)||E(j,le,se);g.push({id:j,label:le,rows:se,summary:Z,color:l.value[j]})}),u.has(Nt)){const j=u.get(Nt)||[];g.push({id:Nt,label:no,rows:j,summary:E(Nt,no,j),color:l.value[Nt]})}return g});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:l,calendarCategoryMap:o,calendarGroups:f}}function Kg(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function st(e){const t=Number(e);return Number.isFinite(t)?t:null}function rs(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function Gg(e){const t=V(()=>{var S;const u=(S=e.charts.value)==null?void 0:S.pie;if(!u||!Array.isArray(u.data)||!Array.isArray(u.labels))return[];const b=u.data.map(E=>Number(E)||0),m=u.labels.map(E=>String(E||"")),H=b.reduce((E,$)=>E+Math.max(0,$),0);if(H<=0)return[];const W=b.map((E,$)=>({name:m[$]||"",value:Math.max(0,E)}));return W.sort((E,$)=>$.value-E.value),W.slice(0,3).map(E=>({name:E.name,share:E.value/H*100}))}),s=V(()=>{var b;if(t.value.length)return t.value.map(m=>`${m.name} ${ro(m.share)}`).join(", ");const u=(b=e.stats)==null?void 0:b.top_calendar;if(u&&u.calendar){const m=Number(u.share??0);return`${u.calendar} ${ro(m)}`}return""}),n=V(()=>{var u;return e.selected.value.length||(((u=e.calendars.value)==null?void 0:u.length)??0)}),a=V(()=>(e.byDay.value||[]).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),r=V(()=>{const u=a.value.map(b=>Number(b)||0);return e.activeDayMode.value==="active"?u.filter(b=>b>0):u}),o=V(()=>(e.byDay.value||[]).filter(u=>{const b=ao(String(u==null?void 0:u.date));return b>=1&&b<=5}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),l=V(()=>(e.byDay.value||[]).filter(u=>{const b=ao(String(u==null?void 0:u.date));return b===0||b===6}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),f=V(()=>e.activeDayMode.value==="active"?o.value.filter(u=>u>0):o.value),g=V(()=>e.activeDayMode.value==="active"?l.value.filter(u=>u>0):l.value),h=V(()=>{var m,H,W,S;const u=((m=e.stats)==null?void 0:m.balance_index)??((H=e.stats)==null?void 0:H.balanceIndex)??((S=(W=e.stats)==null?void 0:W.balance_overview)==null?void 0:S.index),b=Number(u);return Number.isFinite(b)?b:null}),c=V(()=>{var u,b,m,H;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((u=e.stats)==null?void 0:u.total_hours)??0),avgDay:na(r.value),avgEvent:Number(((b=e.stats)==null?void 0:b.avg_per_event)??0),medianDay:aa(r.value),busiest:((m=e.stats)==null?void 0:m.busiest_day)??null,workdayAvg:na(f.value),workdayMedian:aa(f.value),weekendAvg:na(g.value),weekendMedian:aa(g.value),weekendShare:((H=e.stats)==null?void 0:H.weekend_share)??null,activeCalendars:n.value,calendarSummary:s.value,balanceIndex:h.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),d=V(()=>{const u=e.stats;return{rangeLabel:e.rangeLabel.value,events:Kg(u.events),activeDays:st(u.active_days),typicalStart:rs(u.typical_start),typicalEnd:rs(u.typical_end),weekendShare:st(u.weekend_share),eveningShare:st(u.evening_share),earliestStart:rs(u.earliest_start),latestEnd:rs(u.latest_end),overlapEvents:st(u.overlap_events),longestSession:st(u.longest_session),lastDayOff:rs(u.last_day_off),lastHalfDayOff:rs(u.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:c,activitySummary:d}}function na(e){return e.length?e.reduce((s,n)=>s+n,0)/e.length:0}function aa(e){if(!e.length)return 0;const t=[...e].sort((n,a)=>n-a),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function ao(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function ro(e){return`${Number(e||0).toFixed(1)}%`}function qg(e){return{balanceOverview:V(()=>{var c,d,u;const s=(c=e.stats)==null?void 0:c.balance_overview;if(!s||typeof s!="object")return null;const n=Array.isArray(s.categories)?s.categories.map(b=>({id:String((b==null?void 0:b.id)??""),label:String((b==null?void 0:b.label)??""),hours:st(b==null?void 0:b.hours)??0,share:st(b==null?void 0:b.share)??0,prevShare:st(b==null?void 0:b.prev_share)??0,delta:st(b==null?void 0:b.delta)??0,color:e.categoryColorMap.value[String((b==null?void 0:b.id)??"")]})):[],a=Array.isArray(s.relations)?s.relations.map(b=>({label:String((b==null?void 0:b.label)??""),value:String((b==null?void 0:b.value)??"")})):[],r={delta:Array.isArray((d=s.trend)==null?void 0:d.delta)?s.trend.delta.map(b=>({id:String((b==null?void 0:b.id)??""),label:String((b==null?void 0:b.label)??""),delta:st(b==null?void 0:b.delta)??0})):[],badge:String(((u=s.trend)==null?void 0:u.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(b=>({date:String((b==null?void 0:b.date)??""),weekday:String((b==null?void 0:b.weekday)??""),total_hours:st(b==null?void 0:b.total_hours)??0,categories:Array.isArray(b==null?void 0:b.categories)?b.categories.map(m=>({id:String((m==null?void 0:m.id)??""),label:String((m==null?void 0:m.label)??""),hours:st(m==null?void 0:m.hours)??0,share:st(m==null?void 0:m.share)??0})):[]})):[],l=Array.isArray(s.insights)?s.insights.map(b=>String(b)):[],f=Array.isArray(s.warnings)?s.warnings.map(b=>String(b)):[],g=st(s.index)??0,h=e.balanceCardConfig.value.showInsights?l:[];return{index:g,categories:n,relations:a,trend:r,daily:o,insights:h,warnings:f}})}}const Jg={version:"0.4.3"},Zg={class:"app-shell"},Yg={class:"app-main"},Xg={class:"app-container"},Qg={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},eh=["aria-expanded","aria-label"],th=["disabled"],sh=["disabled","aria-pressed"],nh={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},ah=["disabled"],rh=["title"],oh=["disabled"],lh={class:"appbar"},ih={class:"title"},uh=["src"],ch=["textContent"],dh={class:"hint appbar-meta"},fh=["textContent"],gh={key:1,title:"Results truncated for performance"},hh=["title"],ph={class:"cards"},mh={class:"tabs"},vh={class:"card full tab-panel"},yh={key:0,class:"chart-section"},bh={class:"grid2 mt-12"},_h={class:"card chart-card"},wh={class:"card chart-card"},kh={key:1,class:"chart-section"},xh={key:0,class:"category-chart-block"},Sh={class:"category-chart-header"},Ch={class:"name"},$h={class:"grid2 mt-8"},Th={class:"card chart-card"},Mh={class:"card chart-card"},Dh={class:"card full tab-panel"},Ah={class:"card full tab-panel"},Ih={class:"card full tab-panel"},Ph={class:"hint footer"},Eh=["href"],oo="opsdash.sidebarOpen",Nh=Pe({__name:"App",setup(e){function t(P){var X,J;const D=window;(J=(X=D.OC)==null?void 0:X.Notification)!=null&&J.showTemporary?D.OC.Notification.showTemporary(P):console.log("SUCCESS:",P)}function s(P){var X,J;const D=window;(J=(X=D.OC)==null?void 0:X.Notification)!=null&&J.showTemporary?D.OC.Notification.showTemporary(P):(console.error("ERROR:",P),alert(P))}const n=ce((()=>{if(typeof window>"u")return!0;const P=window.localStorage.getItem(oo);return P==null?!0:P==="1"})()),a=()=>{n.value=!n.value},r=V(()=>n.value?"Hide sidebar":"Show sidebar"),o=V(()=>n.value?"":"");gt(n,P=>{typeof window<"u"&&(window.localStorage.setItem(oo,P?"1":"0"),Ks(()=>{window.dispatchEvent(new Event("resize"))}))});const l=ce("cal"),f=ce("week"),g=ce(0),h=V(()=>!n.value),c=V(()=>f.value==="week"?"Switch to month":"Switch to week"),d=V(()=>!Z.value||!ie.value?"":`${Z.value}  ${ie.value}`);function u(){Ie().catch(console.error)}function b(){f.value=f.value==="week"?"month":"week",g.value=0,Ie().catch(console.error)}function m(){g.value=(g.value||0)-1,Ie().catch(console.error)}function H(){g.value=(g.value||0)+1,Ie().catch(console.error)}const W=V(()=>{const P=le.value;if(!P)return"Partial data due to caps";const D=[];return P.maxPerCal!=null&&D.push(`cap per calendar: ${P.maxPerCal}`),P.maxTotal!=null&&D.push(`cap total: ${P.maxTotal}`),P.totalProcessed!=null&&D.push(`processed: ${P.totalProcessed}`),D.join("  ")}),S=ce(!1),E=jg({range:f,offset:g,route:P=>ca(P),getJson:ua,postJson:uo,notifySuccess:t,notifyError:s}),{notesPrev:$,notesCurrDraft:F,isSavingNote:Y,fetchNotes:ee,saveNotes:te}=E,{calendars:ge,colorsByName:K,colorsById:ve,groupsById:ke,selected:me,isLoading:Ee,isTruncated:j,truncLimits:le,uid:se,from:Z,to:ie,stats:xe,byCal:Se,byDay:he,longest:Le,charts:Ne,targetsWeek:Te,targetsMonth:ye,targetsConfig:be,load:Ie,queueSave:nt}=Ug({range:f,offset:g,userChangedSelection:S,route:P=>ca(P),getJson:ua,postJson:uo,notifyError:s,notifySuccess:t,scheduleDraw:Zh,fetchNotes:ee,isDebug:A,fetchDavColors:Jh});function Ge(P){return me.value.includes(P)}function ne(P,D){const X=new Set(me.value);D?X.add(P):X.delete(P),me.value=Array.from(X)}function p(P){ne(P,!Ge(P)),S.value=!0,nt()}function v(P,D){const X=Math.max(0,Math.min(9,Math.trunc(Number(D)||0)));ke.value||(ke.value={}),ke.value={...ke.value,[P]:X},nt(!1)}function x(P,D){const X=Number(D);if(!isFinite(X)||X<0)return;const J=Math.min(1e4,Math.round(X*100)/100);if(f.value==="month"){const He=Math.min(1e4,Math.round(J/4*100)/100);ye.value={...ye.value||{},[P]:J},Te.value={...Te.value||{},[P]:He}}else{const He=Math.min(1e4,Math.round(J*4*100)/100);Te.value={...Te.value||{},[P]:J},ye.value={...ye.value||{},[P]:He}}nt(!1)}function N(P){be.value=ht(P),nt(!1)}const T=ce("active"),M=V(()=>f.value==="month"?"Month":"Week"),B=V(()=>{try{return Bc({config:be.value,stats:xe,byDay:he.value||[],byCal:Se.value||[],groupsById:ke.value||{},range:f.value,from:Z.value,to:ie.value})}catch(P){return console.error("[opsdash] targets summary failed",P),Fc(be.value)}}),O=V(()=>f.value==="month"?ye.value:Te.value),R=V(()=>{var P;return{...dn(),...((P=be.value)==null?void 0:P.activityCard)??{}}}),L=V(()=>{var X;const P=Yn(),D=((X=be.value)==null?void 0:X.balance)??P;return{...P,...D,thresholds:{...P.thresholds,...D.thresholds??{}},relations:{...P.relations,...D.relations??{}},trend:{...P.trend,...D.trend??{}},dayparts:{...P.dayparts,...D.dayparts??{}},ui:{...P.ui,...D.ui??{}}}}),G=V(()=>({showInsights:!!L.value.ui.showInsights,showDailyStacks:!!L.value.ui.showDailyStacks})),{categoryLabelById:U,categoryColorMap:q,calendarCategoryMap:Q,calendarGroups:ue}=zg({calendars:ge,selected:me,groupsById:ke,colorsById:ve,targetsConfig:be,targetsSummary:B,byCal:Se,currentTargets:O,isDebug:A}),{balanceOverview:Me}=qg({stats:xe,categoryColorMap:q,balanceCardConfig:G}),we=V(()=>{var X,J;if(!R.value.showHint)return"";const D=(Array.isArray((J=(X=be.value)==null?void 0:X.balance)==null?void 0:J.categories)?be.value.balance.categories:[]).map(He=>{const ut=String(He??"").trim();if(!ut)return"";const pt=U.value[ut];return pt||ut.toUpperCase()}).filter(He=>He);return D.length?`Mapping via Sidebar  ${D.join(" / ")}`:""}),{calendarChartData:Fe,categoryChartsById:We}=Vg({charts:Ne,colorsById:ve,calendarGroups:ue,calendarCategoryMap:Q}),at=V(()=>{const P=ue.value||[];return P.length&&[...P].sort((X,J)=>(J.summary.actualHours||0)-(X.summary.actualHours||0))[0]||null}),{timeSummary:rt,activitySummary:Ot}=Gg({stats:xe,byDay:he,charts:Ne,calendars:ge,selected:me,rangeLabel:M,activeDayMode:T,topCategory:at}),jt=ce(null);function _(P){jt.value=jt.value===P?null:P}function y(P){const D=window;return D.OC&&typeof D.OC.generateUrl=="function"?D.OC.generateUrl("/apps/calendar/timeGridDay/"+P):Ms()+"/index.php/apps/calendar/timeGridDay/"+P}function A(){return!1}const re=ce(0),Qe=V(()=>{var J;const P=window,D=[];try{if((J=P.OC)!=null&&J.imagePath){const He=P.OC.imagePath("opsdash","app.svg");He&&D.push(He)}}catch{}const X=Ms();return D.push(X+"/apps/opsdash/img/app.svg"),D.push(X+"/apps-extra/opsdash/img/app.svg"),D.push(X+"/apps-writable/opsdash/img/app.svg"),D}),pn=V(()=>Qe.value[Math.min(re.value,Qe.value.length-1)]||"");function la(){re.value+1<Qe.value.length&&re.value++}function io(P){const D=document.getElementById("app");return(D&&D.dataset?D.dataset[P]:"")||""}const $s=ce(io("opsdashVersion")||String(Jg.version)),Ts=ce(io("opsdashChangelog"));async function Bh(){if(!($s.value&&Ts.value))try{const P=await ua(ca("load").replace("/config_dashboard/load","/config_dashboard/ping"),{});!$s.value&&typeof(P==null?void 0:P.version)=="string"&&($s.value=P.version),!Ts.value&&typeof(P==null?void 0:P.changelog)=="string"&&(Ts.value=P.changelog)}catch{}}Bh();const jh=V(()=>f.value==="month"?"Last month":"Last week"),Uh=V(()=>f.value==="month"?"This month":"This week"),Vh=V(()=>f.value==="month"?"Notes for previous month":"Notes for previous week"),zh=V(()=>f.value==="month"?"Notes for current month":"Notes for current week");function ia(P){return Number(P??0).toFixed(2)}function Ms(){var D,X;const P=window;return P.OC&&(P.OC.webroot||((X=(D=P.OC).getRootPath)==null?void 0:X.call(D)))||P._oc_webroot||""}function Kh(P){const D=new URLSearchParams;return Object.entries(P).forEach(([X,J])=>{Array.isArray(J)?J.forEach(He=>D.append(X,String(He))):J!=null&&D.set(X,String(J))}),D.toString()}async function ua(P,D){const X=Kh(D||{}),J=X?P+(P.includes("?")?"&":"?")+X:P,He=await fetch(J,{method:"GET",credentials:"same-origin"});if(!He.ok)throw new Error("HTTP "+He.status);return await He.json()}async function uo(P,D){var pt;const X=window,J=((pt=X.OC)==null?void 0:pt.requestToken)||X.oc_requesttoken||"",He={"Content-Type":"application/json"};J&&(He.requesttoken=J);const ut=await fetch(P,{method:"POST",credentials:"same-origin",headers:He,body:JSON.stringify(D||{})});if(!ut.ok)throw new Error("HTTP "+ut.status);return await ut.json()}function ca(P){const D=window;if(D.OC&&typeof D.OC.generateUrl=="function")return P==="load"?D.OC.generateUrl("/apps/opsdash/config_dashboard/load"):P==="persist"?D.OC.generateUrl("/apps/opsdash/config_dashboard/persist"):P==="notes"||P==="notesSave"?D.OC.generateUrl("/apps/opsdash/config_dashboard/notes"):D.OC.generateUrl("/apps/opsdash/config_dashboard");const X=Ms()+"/apps/opsdash/config_dashboard";return P==="load"?X+"/load":P==="persist"?X+"/persist":P==="notes"||P==="notesSave"?X+"/notes":Ms()+"/apps/opsdash/config_dashboard"}function Gh(P){me.value=P?ge.value.map(D=>D.id):[]}function qh(P){T.value!==P&&(T.value=P)}async function Jh(P,D){var ut;const X={};if(!P)return X;const J=((ut=window.OC)==null?void 0:ut.requestToken)||window.oc_requesttoken||"",He=Ms();for(const pt of D)try{const Ds=`${He}/remote.php/dav/calendars/${encodeURIComponent(P)}/${encodeURIComponent(pt)}/`,Yh=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;A();const co=await fetch(Ds,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:J},body:Yh});if(!co.ok)continue;const Xh=await co.text();A();const fo=Xh.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);fo&&(X[pt]=fo[1])}catch{}return X}function Zh(){}return ps(()=>{console.info("[opsdash] start"),Ie().catch(P=>{console.error(P),alert("Initial load failed")})}),gt(f,()=>{g.value=0,Ie().catch(console.error)}),(P,D)=>{const X=kl("NcAppSidebarToggle");return k(),C("div",{id:"opsdash",class:pe(["opsdash",{"is-nav-collapsed":!n.value}])},[de(w(Vi),{"app-name":"Operational Dashboard","show-navigation":n.value},{navigation:Ve(()=>[de(Bg,{id:"opsdash-sidebar",calendars:w(ge),selected:w(me),"groups-by-id":w(ke),"is-loading":w(Ee),range:f.value,offset:g.value,from:w(Z),to:w(ie),"targets-week":w(Te),"targets-month":w(ye),"targets-config":w(be),"notes-prev":w($),"notes-curr-draft":w(F),"notes-label-prev":jh.value,"notes-label-curr":Uh.value,"notes-label-prev-title":Vh.value,"notes-label-curr-title":zh.value,"is-saving-note":w(Y),"active-day-mode":T.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,onLoad:w(Ie),"onUpdate:range":D[0]||(D[0]=J=>{f.value=J,g.value=0,w(Ie)()}),"onUpdate:offset":D[1]||(D[1]=J=>{g.value=J,w(Ie)()}),onSelectAll:D[2]||(D[2]=J=>Gh(J)),onToggleCalendar:D[3]||(D[3]=J=>p(J)),onSetGroup:D[4]||(D[4]=J=>v(J.id,J.n)),onSetTarget:D[5]||(D[5]=J=>x(J.id,J.h)),"onUpdate:notes":D[6]||(D[6]=J=>F.value=J),onSaveNotes:w(te),"onUpdate:targetsConfig":N,"onUpdate:activeMode":qh,onToggleNav:a},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","onLoad","onSaveNotes"])]),"sidebar-toggle":Ve(()=>[de(X,{open:n.value,onToggle:a},null,8,["open"])]),default:Ve(()=>[i("div",Zg,[i("div",Yg,[i("div",Xg,[h.value?(k(),C("div",Qg,[i("button",{class:"range-toolbar__btn",type:"button",onClick:a,"aria-expanded":n.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},I(o.value),9,eh),i("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:u}," Refresh ",8,th),D[11]||(D[11]=i("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),i("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:b,"aria-pressed":f.value==="month"},I(c.value),9,sh),i("div",nh,[i("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:m},"  ",8,ah),i("span",{class:"range-toolbar__label",title:d.value},I(d.value),9,rh),i("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:H},"  ",8,oh)])])):z("",!0),i("div",lh,[i("div",ih,[i("img",{src:pn.value,onError:la,class:"app-icon",alt:"","aria-hidden":"true"},null,40,uh),D[12]||(D[12]=i("span",null,"Operational Dashboard",-1)),i("span",{class:"chip",textContent:I(f.value.toUpperCase())},null,8,ch)]),i("div",dh,[w(Ee)?(k(),Ke(w(Ki),{key:0,size:16})):z("",!0),i("span",{textContent:I(w(se))},null,8,fh),w(j)?(k(),C("span",gh," Partial data")):z("",!0)])]),w(j)?(k(),C("div",{key:1,class:"banner warn",title:W.value},[D[13]||(D[13]=Ce(" Showing partial data to keep things fast. ",-1)),w(le)&&w(le).totalProcessed!=null?(k(),C(fe,{key:0},[Ce(" Processed "+I(w(le).totalProcessed)+" items. ",1)],64)):z("",!0)],8,hh)):z("",!0),i("div",ph,[de(Zu,{summary:w(rt),mode:T.value,config:w(be).timeSummary},null,8,["summary","mode","config"]),de(wc,{summary:B.value,config:w(be),groups:w(ue)},null,8,["summary","config","groups"]),de(Ac,{summary:w(Ot),"range-label":M.value,"category-hint":we.value,config:R.value},null,8,["summary","range-label","category-hint","config"]),de(Rc,{overview:w(Me),"range-label":M.value,config:G.value},null,8,["overview","range-label","config"])]),i("div",mh,[i("a",{href:"#",class:pe({active:l.value==="cal"}),onClick:D[7]||(D[7]=ln(J=>l.value="cal",["prevent"]))},"By Calendar",2),i("a",{href:"#",class:pe({active:l.value==="day"}),onClick:D[8]||(D[8]=ln(J=>l.value="day",["prevent"]))},"By Day",2),i("a",{href:"#",class:pe({active:l.value==="top"}),onClick:D[9]||(D[9]=ln(J=>l.value="top",["prevent"]))},"Longest Tasks",2),i("a",{href:"#",class:pe({active:l.value==="heat"}),onClick:D[10]||(D[10]=ln(J=>l.value="heat",["prevent"]))},"Heatmap",2)]),qs(i("div",vh,[w(Se).length===0?(k(),Ke(w(un),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),C(fe,{key:1},[de(mu,{rows:w(Se),n2:ia,targets:O.value,groups:w(ue)},null,8,["rows","targets","groups"]),w(be).ui.showCalendarCharts&&(w(Fe).pie||w(Fe).stacked)?(k(),C("div",yh,[D[16]||(D[16]=i("h3",{class:"section-title"},"Calendars (all)",-1)),i("div",bh,[i("div",_h,[D[14]||(D[14]=i("div",{class:"chart-card__title"},"Distribution by calendar",-1)),de(Yr,{data:w(Fe).pie,"colors-by-id":w(ve),"colors-by-name":w(K)},null,8,["data","colors-by-id","colors-by-name"])]),i("div",wh,[D[15]||(D[15]=i("div",{class:"chart-card__title"},"Hours per day",-1)),de(Xr,{stacked:w(Fe).stacked,legacy:w(Ne).perDay,"colors-by-id":w(ve)},null,8,["stacked","legacy","colors-by-id"])])])])):z("",!0),w(be).ui.showCategoryCharts&&w(ue).length?(k(),C("div",kh,[D[19]||(D[19]=i("h3",{class:"section-title"},"Categories",-1)),(k(!0),C(fe,null,ze(w(ue),J=>{var He,ut,pt,Ds;return k(),C(fe,{key:"cat-charts-"+J.id},[(He=w(We)[J.id])!=null&&He.pie||(ut=w(We)[J.id])!=null&&ut.stacked?(k(),C("div",xh,[i("div",Sh,[i("span",{class:"dot",style:$t({background:w(q)[J.id]||"var(--brand)"})},null,4),i("span",Ch,I(J.label),1)]),i("div",$h,[i("div",Th,[D[17]||(D[17]=i("div",{class:"chart-card__title"},"Calendar share",-1)),de(Yr,{data:(pt=w(We)[J.id])==null?void 0:pt.pie,"colors-by-id":w(ve),"colors-by-name":w(K)},null,8,["data","colors-by-id","colors-by-name"])]),i("div",Mh,[D[18]||(D[18]=i("div",{class:"chart-card__title"},"Hours per day",-1)),de(Xr,{stacked:(Ds=w(We)[J.id])==null?void 0:Ds.stacked,legacy:null,"colors-by-id":w(ve)},null,8,["stacked","colors-by-id"])])])])):z("",!0)],64)}),128))])):z("",!0)],64))],512),[[rn,l.value==="cal"]]),qs(i("div",Dh,[w(he).length===0?(k(),Ke(w(un),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),Ke(ku,{key:1,rows:w(he),n2:ia,link:y},null,8,["rows"]))],512),[[rn,l.value==="day"]]),qs(i("div",Ah,[w(Le).length===0?(k(),Ke(w(un),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),Ke(Pu,{key:1,rows:w(Le),n2:ia,"details-index":jt.value,onToggle:_},null,8,["rows","details-index"]))],512),[[rn,l.value==="top"]]),qs(i("div",Ih,[!w(Ne).hod||!w(Ne).hod.matrix||w(Ne).hod.matrix.length===0?(k(),Ke(w(un),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),C(fe,{key:1},[de(qi,{hod:w(Ne).hod},null,8,["hod"]),D[20]||(D[20]=i("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[rn,l.value==="heat"]]),i("div",Ph,[D[22]||(D[22]=Ce(" Powered by ",-1)),D[23]||(D[23]=i("strong",null,"Gellert Innovation",-1)),D[24]||(D[24]=Ce("  Built with ",-1)),D[25]||(D[25]=i("span",{class:"mono"},"opsdash",-1)),$s.value?(k(),C(fe,{key:0},[Ce(" v"+I($s.value),1)],64)):z("",!0),Ts.value?(k(),C(fe,{key:1},[D[21]||(D[21]=Ce("  ",-1)),i("a",{href:Ts.value,target:"_blank",rel:"noreferrer noopener"},"Changelog",8,Eh)],64)):z("",!0)])])])])]),_:1},8,["show-navigation"])],2)}}});let Cs=null,ra=null,lo=!1;function Oh(){if(!(typeof window>"u"))try{hn(),Lh()}catch(e){Wh()&&console.warn("[opsdash] theme boot install failed",e)}}function Lh(){if(Cs||ra||lo)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Cs=new MutationObserver(()=>hn()),e.forEach(t=>{Cs==null||Cs.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>hn();typeof t.addEventListener=="function"?(t.addEventListener("change",s),ra=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),ra=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",hn),lo=!0}function hn(){const e=Hh();if(!e)return;["icon","shortcut icon"].forEach(s=>{let n=document.querySelector(`link[rel="${s}"]`);n||(n=document.createElement("link"),n.rel=s,document.head.appendChild(n)),n.type="image/svg+xml",n.href=e})}function Hh(){const e=Rh()==="dark",t=Fh(),s=t("favicon.svg");if(s)return s;if(e){const a=t("app-dark.svg");if(a)return a}const n=t(e?"app-dark.svg":"app.svg");return n||"/apps-extra/opsdash/img/favicon.svg"}function Rh(){var n,a,r,o,l;const e=(n=document.documentElement)==null?void 0:n.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(a=document.body)==null?void 0:a.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(l=window.matchMedia)==null?void 0:l.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function Fh(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function Wh(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function oa(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=Bi(Nh);t.config.errorHandler=(a,r,o)=>{const l=r!=null&&r.type&&r.type.name?r.type.name:"",f={err:a,info:o,name:l,stack:a instanceof Error?a.stack:void 0},g=window;Array.isArray(g.__opsdashErrors)||(g.__opsdashErrors=[]),g.__opsdashErrors.push(f),console.error("[opsdash] Vue error",f)};const s=t.mount(e),n=window;n.__opsdashApp=t,n.__opsdashRoot=s,Oh(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(oa,50):window.addEventListener("DOMContentLoaded",oa,{once:!0})}oa()})();
