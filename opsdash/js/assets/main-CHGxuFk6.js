(function(){"use strict";var wn=document.createElement("style");wn.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-054cbd84]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-054cbd84]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-054cbd84]{font-size:12px}.activity-card__meta[data-v-054cbd84],.activity-card__extra[data-v-054cbd84]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-054cbd84],.activity-card__extra strong[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-054cbd84]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-054cbd84]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.forecast-block[data-v-4d86aa83]{margin-top:16px;display:flex;flex-direction:column;gap:8px}.forecast-block .field[data-v-4d86aa83]{max-width:100%}.forecast-block select[data-v-4d86aa83]{width:100%}.forecast-hint[data-v-4d86aa83]{margin:0}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.sb-title[data-v-d602d23c]{font-weight:600;margin-bottom:6px}.sb-description[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.preset-form[data-v-d602d23c]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.preset-label[data-v-d602d23c]{font-size:12px;font-weight:600}.preset-form input[data-v-d602d23c]{width:100%;padding:6px 8px;border-radius:4px;border:1px solid var(--color-border);background:var(--color-main-background);color:var(--color-main-text)}.preset-save[data-v-d602d23c]{align-self:flex-start}.preset-error[data-v-d602d23c]{color:var(--color-error);font-size:12px}.preset-warnings[data-v-d602d23c]{border:1px solid var(--color-warning);background:color-mix(in srgb,var(--color-warning) 10%,transparent);border-radius:6px;padding:8px;margin-bottom:12px}.warnings-title[data-v-d602d23c]{font-weight:600;margin-bottom:4px}.preset-warnings ul[data-v-d602d23c]{padding-left:18px;margin:0 0 6px}.preset-clear[data-v-d602d23c]{padding:2px 6px}.preset-header[data-v-d602d23c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.preset-header h3[data-v-d602d23c]{margin:0;font-size:13px;font-weight:600}.preset-empty[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary)}.preset-list[data-v-d602d23c]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.preset-item[data-v-d602d23c]{border:1px solid var(--color-border);border-radius:6px;padding:8px;display:flex;flex-direction:column;gap:6px;background:var(--color-main-background)}.preset-meta[data-v-d602d23c]{display:flex;flex-direction:column;gap:2px}.preset-name[data-v-d602d23c]{font-weight:600}.preset-info[data-v-d602d23c]{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:var(--text-color-tertiary)}.preset-actions[data-v-d602d23c]{display:flex;gap:6px}.input-message[data-v-4d654bff]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-4d654bff]{color:var(--neg)}.input-message.warning[data-v-4d654bff]{color:var(--warning)}
/*$vite$:1*/`,document.head.appendChild(wn);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wa(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ae={},Xt=[],vt=()=>{},_n=()=>!1,Ns=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),_a=e=>e.startsWith("onUpdate:"),Ze=Object.assign,ka=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},xo=Object.prototype.hasOwnProperty,ke=(e,t)=>xo.call(e,t),ne=Array.isArray,Qt=e=>Ls(e)==="[object Map]",kn=e=>Ls(e)==="[object Set]",oe=e=>typeof e=="function",Fe=e=>typeof e=="string",$t=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",xn=e=>(Ne(e)||oe(e))&&oe(e.then)&&oe(e.catch),Sn=Object.prototype.toString,Ls=e=>Sn.call(e),So=e=>Ls(e).slice(8,-1),Cn=e=>Ls(e)==="[object Object]",xa=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=wa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Os=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Co=/-(\w)/g,ft=Os(e=>e.replace(Co,(t,s)=>s?s.toUpperCase():"")),$o=/\B([A-Z])/g,Ft=Os(e=>e.replace($o,"-$1").toLowerCase()),Hs=Os(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sa=Os(e=>e?`on${Hs(e)}`:""),Rt=(e,t)=>!Object.is(e,t),Fs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},$n=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},Ca=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Mn;const Rs=()=>Mn||(Mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mt(e){if(ne(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=Fe(a)?Do(a):Mt(a);if(n)for(const r in n)t[r]=n[r]}return t}else if(Fe(e)||Ne(e))return e}const Mo=/;(?![^(]*\))/g,To=/:([^]+)/,Ao=/\/\*[^]*?\*\//g;function Do(e){const t={};return e.replace(Ao,"").split(Mo).forEach(s=>{if(s){const a=s.split(To);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function he(e){let t="";if(Fe(e))t=e;else if(ne(e))for(let s=0;s<e.length;s++){const a=he(e[s]);a&&(t+=a+" ")}else if(Ne(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Po=wa("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Tn(e){return!!e||e===""}const An=e=>!!(e&&e.__v_isRef===!0),P=e=>Fe(e)?e:e==null?"":ne(e)||Ne(e)&&(e.toString===Sn||!oe(e.toString))?An(e)?P(e.value):JSON.stringify(e,Dn,2):String(e),Dn=(e,t)=>An(t)?Dn(e,t.value):Qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],r)=>(s[$a(a,r)+" =>"]=n,s),{})}:kn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>$a(s))}:$t(t)?$a(t):Ne(t)&&!ne(t)&&!Cn(t)?String(t):t,$a=(e,t="")=>{var s;return $t(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let at;class Eo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=at,!t&&at&&(this.index=(at.scopes||(at.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=at;try{return at=this,t()}finally{at=s}}}on(){++this._on===1&&(this.prevScope=at,at=this)}off(){this._on>0&&--this._on===0&&(at=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Io(){return at}let Pe;const Ma=new WeakSet;class Pn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,at&&at.active&&at.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ma.has(this)&&(Ma.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||In(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fn(this),Nn(this);const t=Pe,s=ht;Pe=this,ht=!0;try{return this.fn()}finally{Ln(this),Pe=t,ht=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Pa(t);this.deps=this.depsTail=void 0,Fn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ma.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Da(this)&&this.run()}get dirty(){return Da(this)}}let En=0,gs,ps;function In(e,t=!1){if(e.flags|=8,t){e.next=ps,ps=e;return}e.next=gs,gs=e}function Ta(){En++}function Aa(){if(--En>0)return;if(ps){let t=ps;for(ps=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;gs;){let t=gs;for(gs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Nn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ln(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),Pa(a),No(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function Da(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(On(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function On(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hs)||(e.globalVersion=hs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Da(e))))return;e.flags|=2;const t=e.dep,s=Pe,a=ht;Pe=e,ht=!0;try{Nn(e);const n=e.fn(e._value);(t.version===0||Rt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Pe=s,ht=a,Ln(e),e.flags&=-3}}function Pa(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Pa(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function No(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ht=!0;const Hn=[];function yt(){Hn.push(ht),ht=!1}function bt(){const e=Hn.pop();ht=e===void 0?!0:e}function Fn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Pe;Pe=void 0;try{t()}finally{Pe=s}}}let hs=0;class Lo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ea{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pe||!ht||Pe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Pe)s=this.activeLink=new Lo(Pe,this),Pe.deps?(s.prevDep=Pe.depsTail,Pe.depsTail.nextDep=s,Pe.depsTail=s):Pe.deps=Pe.depsTail=s,Rn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=Pe.depsTail,s.nextDep=void 0,Pe.depsTail.nextDep=s,Pe.depsTail=s,Pe.deps===s&&(Pe.deps=a)}return s}trigger(t){this.version++,hs++,this.notify(t)}notify(t){Ta();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Aa()}}}function Rn(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Rn(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ws=new WeakMap,Jt=Symbol(""),Ia=Symbol(""),ms=Symbol("");function Ye(e,t,s){if(ht&&Pe){let a=Ws.get(e);a||Ws.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Ea),n.map=a,n.key=s),n.track()}}function Tt(e,t,s,a,n,r){const o=Ws.get(e);if(!o){hs++;return}const i=l=>{l&&l.trigger()};if(Ta(),t==="clear")o.forEach(i);else{const l=ne(e),f=l&&xa(s);if(l&&s==="length"){const g=Number(a);o.forEach((d,p)=>{(p==="length"||p===ms||!$t(p)&&p>=g)&&i(d)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),f&&i(o.get(ms)),t){case"add":l?f&&i(o.get("length")):(i(o.get(Jt)),Qt(e)&&i(o.get(Ia)));break;case"delete":l||(i(o.get(Jt)),Qt(e)&&i(o.get(Ia)));break;case"set":Qt(e)&&i(o.get(Jt));break}}Aa()}function Oo(e,t){const s=Ws.get(e);return s&&s.get(t)}function es(e){const t=be(e);return t===e?t:(Ye(t,"iterate",ms),gt(e)?t:t.map(qe))}function Bs(e){return Ye(e=be(e),"iterate",ms),e}const Ho={__proto__:null,[Symbol.iterator](){return Na(this,Symbol.iterator,qe)},concat(...e){return es(this).concat(...e.map(t=>ne(t)?es(t):t))},entries(){return Na(this,"entries",e=>(e[1]=qe(e[1]),e))},every(e,t){return At(this,"every",e,t,void 0,arguments)},filter(e,t){return At(this,"filter",e,t,s=>s.map(qe),arguments)},find(e,t){return At(this,"find",e,t,qe,arguments)},findIndex(e,t){return At(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return At(this,"findLast",e,t,qe,arguments)},findLastIndex(e,t){return At(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return At(this,"forEach",e,t,void 0,arguments)},includes(...e){return La(this,"includes",e)},indexOf(...e){return La(this,"indexOf",e)},join(e){return es(this).join(e)},lastIndexOf(...e){return La(this,"lastIndexOf",e)},map(e,t){return At(this,"map",e,t,void 0,arguments)},pop(){return vs(this,"pop")},push(...e){return vs(this,"push",e)},reduce(e,...t){return Wn(this,"reduce",e,t)},reduceRight(e,...t){return Wn(this,"reduceRight",e,t)},shift(){return vs(this,"shift")},some(e,t){return At(this,"some",e,t,void 0,arguments)},splice(...e){return vs(this,"splice",e)},toReversed(){return es(this).toReversed()},toSorted(e){return es(this).toSorted(e)},toSpliced(...e){return es(this).toSpliced(...e)},unshift(...e){return vs(this,"unshift",e)},values(){return Na(this,"values",qe)}};function Na(e,t,s){const a=Bs(e),n=a[t]();return a!==e&&!gt(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.value&&(r.value=s(r.value)),r}),n}const Fo=Array.prototype;function At(e,t,s,a,n,r){const o=Bs(e),i=o!==e&&!gt(e),l=o[t];if(l!==Fo[t]){const d=l.apply(e,r);return i?qe(d):d}let f=s;o!==e&&(i?f=function(d,p){return s.call(this,qe(d),p,e)}:s.length>2&&(f=function(d,p){return s.call(this,d,p,e)}));const g=l.call(o,f,a);return i&&n?n(g):g}function Wn(e,t,s,a){const n=Bs(e);let r=s;return n!==e&&(gt(e)?s.length>3&&(r=function(o,i,l){return s.call(this,o,i,l,e)}):r=function(o,i,l){return s.call(this,o,qe(i),l,e)}),n[t](r,...a)}function La(e,t,s){const a=be(e);Ye(a,"iterate",ms);const n=a[t](...s);return(n===-1||n===!1)&&Ha(s[0])?(s[0]=be(s[0]),a[t](...s)):n}function vs(e,t,s=[]){yt(),Ta();const a=be(e)[t].apply(e,s);return Aa(),bt(),a}const Ro=wa("__proto__,__v_isRef,__isVue"),Bn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function Wo(e){$t(e)||(e=String(e));const t=be(this);return Ye(t,"has",e),t.hasOwnProperty(e)}class jn{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return a===(n?r?Jn:qn:r?Kn:zn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const o=ne(t);if(!n){let l;if(o&&(l=Ho[s]))return l;if(s==="hasOwnProperty")return Wo}const i=Reflect.get(t,s,Ue(t)?t:a);return($t(s)?Bn.has(s):Ro(s))||(n||Ye(t,"get",s),r)?i:Ue(i)?o&&xa(s)?i:i.value:Ne(i)?n?Gn(i):wt(i):i}}class Un extends jn{constructor(t=!1){super(!1,t)}set(t,s,a,n){let r=t[s];if(!this._isShallow){const l=Wt(r);if(!gt(a)&&!Wt(a)&&(r=be(r),a=be(a)),!ne(t)&&Ue(r)&&!Ue(a))return l||(r.value=a),!0}const o=ne(t)&&xa(s)?Number(s)<t.length:ke(t,s),i=Reflect.set(t,s,a,Ue(t)?t:n);return t===be(n)&&(o?Rt(a,r)&&Tt(t,"set",s,a):Tt(t,"add",s,a)),i}deleteProperty(t,s){const a=ke(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Tt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!$t(s)||!Bn.has(s))&&Ye(t,"has",s),a}ownKeys(t){return Ye(t,"iterate",ne(t)?"length":Jt),Reflect.ownKeys(t)}}class Vn extends jn{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Bo=new Un,jo=new Vn,Uo=new Un(!0),Vo=new Vn(!0),Oa=e=>e,js=e=>Reflect.getPrototypeOf(e);function zo(e,t,s){return function(...a){const n=this.__v_raw,r=be(n),o=Qt(r),i=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,f=n[e](...a),g=s?Oa:t?Ks:qe;return!t&&Ye(r,"iterate",l?Ia:Jt),{next(){const{value:d,done:p}=f.next();return p?{value:d,done:p}:{value:i?[g(d[0]),g(d[1])]:g(d),done:p}},[Symbol.iterator](){return this}}}}function Us(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ko(e,t){const s={get(n){const r=this.__v_raw,o=be(r),i=be(n);e||(Rt(n,i)&&Ye(o,"get",n),Ye(o,"get",i));const{has:l}=js(o),f=t?Oa:e?Ks:qe;if(l.call(o,n))return f(r.get(n));if(l.call(o,i))return f(r.get(i));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!e&&Ye(be(n),"iterate",Jt),n.size},has(n){const r=this.__v_raw,o=be(r),i=be(n);return e||(Rt(n,i)&&Ye(o,"has",n),Ye(o,"has",i)),n===i?r.has(n):r.has(n)||r.has(i)},forEach(n,r){const o=this,i=o.__v_raw,l=be(i),f=t?Oa:e?Ks:qe;return!e&&Ye(l,"iterate",Jt),i.forEach((g,d)=>n.call(r,f(g),f(d),o))}};return Ze(s,e?{add:Us("add"),set:Us("set"),delete:Us("delete"),clear:Us("clear")}:{add(n){!t&&!gt(n)&&!Wt(n)&&(n=be(n));const r=be(this);return js(r).has.call(r,n)||(r.add(n),Tt(r,"add",n,n)),this},set(n,r){!t&&!gt(r)&&!Wt(r)&&(r=be(r));const o=be(this),{has:i,get:l}=js(o);let f=i.call(o,n);f||(n=be(n),f=i.call(o,n));const g=l.call(o,n);return o.set(n,r),f?Rt(r,g)&&Tt(o,"set",n,r):Tt(o,"add",n,r),this},delete(n){const r=be(this),{has:o,get:i}=js(r);let l=o.call(r,n);l||(n=be(n),l=o.call(r,n)),i&&i.call(r,n);const f=r.delete(n);return l&&Tt(r,"delete",n,void 0),f},clear(){const n=be(this),r=n.size!==0,o=n.clear();return r&&Tt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=zo(n,e,t)}),s}function Vs(e,t){const s=Ko(e,t);return(a,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(ke(s,n)&&n in a?s:a,n,r)}const qo={get:Vs(!1,!1)},Jo={get:Vs(!1,!0)},Go={get:Vs(!0,!1)},Zo={get:Vs(!0,!0)},zn=new WeakMap,Kn=new WeakMap,qn=new WeakMap,Jn=new WeakMap;function Yo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xo(e){return e.__v_skip||!Object.isExtensible(e)?0:Yo(So(e))}function wt(e){return Wt(e)?e:zs(e,!1,Bo,qo,zn)}function Qo(e){return zs(e,!1,Uo,Jo,Kn)}function Gn(e){return zs(e,!0,jo,Go,qn)}function Gh(e){return zs(e,!0,Vo,Zo,Jn)}function zs(e,t,s,a,n){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Xo(e);if(r===0)return e;const o=n.get(e);if(o)return o;const i=new Proxy(e,r===2?a:s);return n.set(e,i),i}function ts(e){return Wt(e)?ts(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function gt(e){return!!(e&&e.__v_isShallow)}function Ha(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function ei(e){return!ke(e,"__v_skip")&&Object.isExtensible(e)&&$n(e,"__v_skip",!0),e}const qe=e=>Ne(e)?wt(e):e,Ks=e=>Ne(e)?Gn(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function se(e){return ti(e,!1)}function ti(e,t){return Ue(e)?e:new si(e,t)}class si{constructor(t,s){this.dep=new Ea,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:be(t),this._value=s?t:qe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||gt(t)||Wt(t);t=a?t:be(t),Rt(t,s)&&(this._rawValue=t,this._value=a?t:qe(t),this.dep.trigger())}}function _(e){return Ue(e)?e.value:e}const ai={get:(e,t,s)=>t==="__v_raw"?e:_(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return Ue(n)&&!Ue(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function Zn(e){return ts(e)?e:new Proxy(e,ai)}function Fa(e){const t=ne(e)?new Array(e.length):{};for(const s in e)t[s]=ri(e,s);return t}class ni{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Oo(be(this._object),this._key)}}function ri(e,t,s){const a=e[t];return Ue(a)?a:new ni(e,t,s)}class oi{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ea(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&Pe!==this)return In(this,!0),!0}get value(){const t=this.dep.track();return On(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ii(e,t,s=!1){let a,n;return oe(e)?a=e:(a=e.get,n=e.set),new oi(a,n,s)}const qs={},Js=new WeakMap;let Gt;function li(e,t=!1,s=Gt){if(s){let a=Js.get(s);a||Js.set(s,a=[]),a.push(e)}}function ci(e,t,s=Ae){const{immediate:a,deep:n,once:r,scheduler:o,augmentJob:i,call:l}=s,f=T=>n?T:gt(T)||n===!1||n===0?Dt(T,1):Dt(T);let g,d,p,c,v=!1,h=!1;if(Ue(e)?(d=()=>e.value,v=gt(e)):ts(e)?(d=()=>f(e),v=!0):ne(e)?(h=!0,v=e.some(T=>ts(T)||gt(T)),d=()=>e.map(T=>{if(Ue(T))return T.value;if(ts(T))return f(T);if(oe(T))return l?l(T,2):T()})):oe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){yt();try{p()}finally{bt()}}const T=Gt;Gt=g;try{return l?l(e,3,[c]):e(c)}finally{Gt=T}}:d=vt,t&&n){const T=d,O=n===!0?1/0:n;d=()=>Dt(T(),O)}const b=Io(),M=()=>{g.stop(),b&&b.active&&ka(b.effects,g)};if(r&&t){const T=t;t=(...O)=>{T(...O),M()}}let x=h?new Array(e.length).fill(qs):qs;const S=T=>{if(!(!(g.flags&1)||!g.dirty&&!T))if(t){const O=g.run();if(n||v||(h?O.some((G,K)=>Rt(G,x[K])):Rt(O,x))){p&&p();const G=Gt;Gt=g;try{const K=[O,x===qs?void 0:h&&x[0]===qs?[]:x,c];x=O,l?l(t,3,K):t(...K)}finally{Gt=G}}}else g.run()};return i&&i(S),g=new Pn(d),g.scheduler=o?()=>o(S,!1):S,c=T=>li(T,!1,g),p=g.onStop=()=>{const T=Js.get(g);if(T){if(l)l(T,4);else for(const O of T)O();Js.delete(g)}},t?a?S(!0):x=g.run():o?o(S.bind(null,!0),!0):g.run(),M.pause=g.pause.bind(g),M.resume=g.resume.bind(g),M.stop=M,M}function Dt(e,t=1/0,s){if(t<=0||!Ne(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ue(e))Dt(e.value,t,s);else if(ne(e))for(let a=0;a<e.length;a++)Dt(e[a],t,s);else if(kn(e)||Qt(e))e.forEach(a=>{Dt(a,t,s)});else if(Cn(e)){for(const a in e)Dt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Dt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ys=[];let Ra=!1;function Zh(e,...t){if(Ra)return;Ra=!0,yt();const s=ys.length?ys[ys.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=ui();if(a)ss(a,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${Ur(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...di(n)),console.warn(...r)}bt(),Ra=!1}function ui(){let e=ys[ys.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function di(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...fi(s))}),t}function fi({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${Ur(e.component,e.type,a)}`,r=">"+s;return e.props?[n,...gi(e.props),r]:[n+r]}function gi(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...Yn(a,e[a]))}),s.length>3&&t.push(" ..."),t}function Yn(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Ue(t)?(t=Yn(e,be(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):oe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=be(t),s?t:[`${e}=`,t])}function ss(e,t,s,a){try{return a?e(...a):e()}catch(n){Gs(n,t,s)}}function _t(e,t,s,a){if(oe(e)){const n=ss(e,t,s,a);return n&&xn(n)&&n.catch(r=>{Gs(r,t,s)}),n}if(ne(e)){const n=[];for(let r=0;r<e.length;r++)n.push(_t(e[r],t,s,a));return n}}function Gs(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Ae;if(t){let i=t.parent;const l=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const g=i.ec;if(g){for(let d=0;d<g.length;d++)if(g[d](e,l,f)===!1)return}i=i.parent}if(r){yt(),ss(r,null,10,[e,l,f]),bt();return}}pi(e,s,n,a,o)}function pi(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let kt=-1;const as=[];let Bt=null,ns=0;const Xn=Promise.resolve();let Zs=null;function Ys(e){const t=Zs||Xn;return e?t.then(this?e.bind(this):e):t}function hi(e){let t=kt+1,s=Qe.length;for(;t<s;){const a=t+s>>>1,n=Qe[a],r=bs(n);r<e||r===e&&n.flags&2?t=a+1:s=a}return t}function Wa(e){if(!(e.flags&1)){const t=bs(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=bs(s)?Qe.push(e):Qe.splice(hi(t),0,e),e.flags|=1,Qn()}}function Qn(){Zs||(Zs=Xn.then(sr))}function mi(e){ne(e)?as.push(...e):Bt&&e.id===-1?Bt.splice(ns+1,0,e):e.flags&1||(as.push(e),e.flags|=1),Qn()}function er(e,t,s=kt+1){for(;s<Qe.length;s++){const a=Qe[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;Qe.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function tr(e){if(as.length){const t=[...new Set(as)].sort((s,a)=>bs(s)-bs(a));if(as.length=0,Bt){Bt.push(...t);return}for(Bt=t,ns=0;ns<Bt.length;ns++){const s=Bt[ns];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Bt=null,ns=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sr(e){try{for(kt=0;kt<Qe.length;kt++){const t=Qe[kt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;kt<Qe.length;kt++){const t=Qe[kt];t&&(t.flags&=-2)}kt=-1,Qe.length=0,tr(),Zs=null,(Qe.length||as.length)&&sr()}}let Je=null,ar=null;function Xs(e){const t=Je;return Je=e,ar=e&&e.type.__scopeId||null,t}function Oe(e,t=Je,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&Lr(-1);const r=Xs(t);let o;try{o=e(...n)}finally{Xs(r),a._d&&Lr(1)}return o};return a._n=!0,a._c=!0,a._d=!0,a}function ws(e,t){if(Je===null)return e;const s=ia(Je),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,o,i,l=Ae]=t[n];r&&(oe(r)&&(r={mounted:r,updated:r}),r.deep&&Dt(o),a.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:l}))}return e}function Zt(e,t,s,a){const n=e.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const i=n[o];r&&(i.oldValue=r[o].value);let l=i.dir[a];l&&(yt(),_t(l,s,8,[e.el,i,e,t]),bt())}}const vi=Symbol("_vte"),yi=e=>e.__isTeleport,bi=Symbol("_leaveCb");function Ba(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ba(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ee(e,t){return oe(e)?Ze({name:e.name},t,{setup:e}):e}function nr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function _s(e,t,s,a,n=!1){if(ne(e)){e.forEach((v,h)=>_s(v,t&&(ne(t)?t[h]:t),s,a,n));return}if(rs(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&_s(e,t,s,a.component.subTree);return}const r=a.shapeFlag&4?ia(a.component):a.el,o=n?null:r,{i,r:l}=e,f=t&&t.r,g=i.refs===Ae?i.refs={}:i.refs,d=i.setupState,p=be(d),c=d===Ae?_n:v=>ke(p,v);if(f!=null&&f!==l){if(Fe(f))g[f]=null,c(f)&&(d[f]=null);else if(Ue(f)){f.value=null;const v=t;v.k&&(g[v.k]=null)}}if(oe(l))ss(l,i,12,[o,g]);else{const v=Fe(l),h=Ue(l);if(v||h){const b=()=>{if(e.f){const M=v?c(l)?d[l]:g[l]:l.value;if(n)ne(M)&&ka(M,r);else if(ne(M))M.includes(r)||M.push(r);else if(v)g[l]=[r],c(l)&&(d[l]=g[l]);else{const x=[r];l.value=x,e.k&&(g[e.k]=x)}}else v?(g[l]=o,c(l)&&(d[l]=o)):h&&(l.value=o,e.k&&(g[e.k]=o))};o?(b.id=-1,it(b,s)):b()}}}Rs().requestIdleCallback,Rs().cancelIdleCallback;const rs=e=>!!e.type.__asyncLoader,rr=e=>e.type.__isKeepAlive;function wi(e,t){or(e,"a",t)}function _i(e,t){or(e,"da",t)}function or(e,t,s=Xe){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Qs(t,a,s),s){let n=s.parent;for(;n&&n.parent;)rr(n.parent.vnode)&&ki(a,t,s,n),n=n.parent}}function ki(e,t,s,a){const n=Qs(t,e,a,!0);ir(()=>{ka(a[t],n)},s)}function Qs(e,t,s=Xe,a=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{yt();const i=Ts(s),l=_t(t,s,e,o);return i(),bt(),l});return a?n.unshift(r):n.push(r),r}}const Pt=e=>(t,s=Xe)=>{(!As||e==="sp")&&Qs(e,(...a)=>t(...a),s)},xi=Pt("bm"),os=Pt("m"),Si=Pt("bu"),Ci=Pt("u"),ja=Pt("bum"),ir=Pt("um"),$i=Pt("sp"),Mi=Pt("rtg"),Ti=Pt("rtc");function Ai(e,t=Xe){Qs("ec",e,t)}const Di="components";function Pi(e,t){return Ii(Di,e,!0,t)||e}const Ei=Symbol.for("v-ndc");function Ii(e,t,s=!0,a=!1){const n=Je||Xe;if(n){const r=n.type;{const i=jr(r,!1);if(i&&(i===t||i===ft(t)||i===Hs(ft(t))))return r}const o=lr(n[e]||r[e],t)||lr(n.appContext[e],t);return!o&&a?r:o}}function lr(e,t){return e&&(e[t]||e[ft(t)]||e[Hs(ft(t))])}function Re(e,t,s,a){let n;const r=s,o=ne(e);if(o||Fe(e)){const i=o&&ts(e);let l=!1,f=!1;i&&(l=!gt(e),f=Wt(e),e=Bs(e)),n=new Array(e.length);for(let g=0,d=e.length;g<d;g++)n[g]=t(l?f?Ks(qe(e[g])):qe(e[g]):e[g],g,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i,void 0,r)}else if(Ne(e))if(e[Symbol.iterator])n=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);n=new Array(i.length);for(let l=0,f=i.length;l<f;l++){const g=i[l];n[l]=t(e[g],g,l,r)}}else n=[];return n}function Ni(e,t,s={},a,n){if(Je.ce||Je.parent&&rs(Je.parent)&&Je.parent.ce)return s.name=t,C(),Ve(le,null,[re("slot",s,a)],64);let r=e[t];r&&r._c&&(r._d=!1),C();const o=r&&cr(r(s)),i=s.key||o&&o.key,l=Ve(le,{key:(i&&!$t(i)?i:`_${t}`)+(!o&&a?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function cr(e){return e.some(t=>$s(t)?!(t.type===Et||t.type===le&&!cr(t.children)):!0)?e:null}const Ua=e=>e?Rr(e)?ia(e):Ua(e.parent):null,ks=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ua(e.parent),$root:e=>Ua(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>gr(e),$forceUpdate:e=>e.f||(e.f=()=>{Wa(e.update)}),$nextTick:e=>e.n||(e.n=Ys.bind(e.proxy)),$watch:e=>sl.bind(e)}),Va=(e,t)=>e!==Ae&&!e.__isScriptSetup&&ke(e,t),Li={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:r,accessCache:o,type:i,appContext:l}=e;let f;if(t[0]!=="$"){const c=o[t];if(c!==void 0)switch(c){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(Va(a,t))return o[t]=1,a[t];if(n!==Ae&&ke(n,t))return o[t]=2,n[t];if((f=e.propsOptions[0])&&ke(f,t))return o[t]=3,r[t];if(s!==Ae&&ke(s,t))return o[t]=4,s[t];za&&(o[t]=0)}}const g=ks[t];let d,p;if(g)return t==="$attrs"&&Ye(e.attrs,"get",""),g(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(s!==Ae&&ke(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,ke(p,t))return p[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:r}=e;return Va(n,t)?(n[t]=s,!0):a!==Ae&&ke(a,t)?(a[t]=s,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:r,type:o}},i){let l,f;return!!(s[i]||e!==Ae&&i[0]!=="$"&&ke(e,i)||Va(t,i)||(l=r[0])&&ke(l,i)||ke(a,i)||ke(ks,i)||ke(n.config.globalProperties,i)||(f=o.__cssModules)&&f[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ke(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ur(e){return ne(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let za=!0;function Oi(e){const t=gr(e),s=e.proxy,a=e.ctx;za=!1,t.beforeCreate&&dr(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:o,watch:i,provide:l,inject:f,created:g,beforeMount:d,mounted:p,beforeUpdate:c,updated:v,activated:h,deactivated:b,beforeDestroy:M,beforeUnmount:x,destroyed:S,unmounted:T,render:O,renderTracked:G,renderTriggered:K,errorCaptured:W,serverPrefetch:ae,expose:q,inheritAttrs:ie,components:we,directives:Se,filters:Ie}=t;if(f&&Hi(f,a,null),o)for(const Y in o){const te=o[Y];oe(te)&&(a[Y]=te.bind(s))}if(n){const Y=n.call(s,s);Ne(Y)&&(e.data=wt(Y))}if(za=!0,r)for(const Y in r){const te=r[Y],_e=oe(te)?te.bind(s,s):oe(te.get)?te.get.bind(s,s):vt,De=!oe(te)&&oe(te.set)?te.set.bind(s):vt,Ce=B({get:_e,set:De});Object.defineProperty(a,Y,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:me=>Ce.value=me})}if(i)for(const Y in i)fr(i[Y],a,s,Y);if(l){const Y=oe(l)?l.call(s):l;Reflect.ownKeys(Y).forEach(te=>{Ui(te,Y[te])})}g&&dr(g,e,"c");function ce(Y,te){ne(te)?te.forEach(_e=>Y(_e.bind(s))):te&&Y(te.bind(s))}if(ce(xi,d),ce(os,p),ce(Si,c),ce(Ci,v),ce(wi,h),ce(_i,b),ce(Ai,W),ce(Ti,G),ce(Mi,K),ce(ja,x),ce(ir,T),ce($i,ae),ne(q))if(q.length){const Y=e.exposed||(e.exposed={});q.forEach(te=>{Object.defineProperty(Y,te,{get:()=>s[te],set:_e=>s[te]=_e,enumerable:!0})})}else e.exposed||(e.exposed={});O&&e.render===vt&&(e.render=O),ie!=null&&(e.inheritAttrs=ie),we&&(e.components=we),Se&&(e.directives=Se),ae&&nr(e)}function Hi(e,t,s=vt){ne(e)&&(e=Ka(e));for(const a in e){const n=e[a];let r;Ne(n)?"default"in n?r=ta(n.from||a,n.default,!0):r=ta(n.from||a):r=ta(n),Ue(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[a]=r}}function dr(e,t,s){_t(ne(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function fr(e,t,s,a){let n=a.includes(".")?Dr(s,a):()=>s[a];if(Fe(e)){const r=t[e];oe(r)&&mt(n,r)}else if(oe(e))mt(n,e.bind(s));else if(Ne(e))if(ne(e))e.forEach(r=>fr(r,t,s,a));else{const r=oe(e.handler)?e.handler.bind(s):t[e.handler];oe(r)&&mt(n,r,e)}}function gr(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let l;return i?l=i:!n.length&&!s&&!a?l=t:(l={},n.length&&n.forEach(f=>ea(l,f,o,!0)),ea(l,t,o)),Ne(t)&&r.set(t,l),l}function ea(e,t,s,a=!1){const{mixins:n,extends:r}=t;r&&ea(e,r,s,!0),n&&n.forEach(o=>ea(e,o,s,!0));for(const o in t)if(!(a&&o==="expose")){const i=Fi[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Fi={data:pr,props:hr,emits:hr,methods:xs,computed:xs,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:xs,directives:xs,watch:Wi,provide:pr,inject:Ri};function pr(e,t){return t?e?function(){return Ze(oe(e)?e.call(this,this):e,oe(t)?t.call(this,this):t)}:t:e}function Ri(e,t){return xs(Ka(e),Ka(t))}function Ka(e){if(ne(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function xs(e,t){return e?Ze(Object.create(null),e,t):t}function hr(e,t){return e?ne(e)&&ne(t)?[...new Set([...e,...t])]:Ze(Object.create(null),ur(e),ur(t??{})):t}function Wi(e,t){if(!e)return t;if(!t)return e;const s=Ze(Object.create(null),e);for(const a in t)s[a]=et(e[a],t[a]);return s}function mr(){return{app:null,config:{isNativeTag:_n,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bi=0;function ji(e,t){return function(a,n=null){oe(a)||(a=Ze({},a)),n!=null&&!Ne(n)&&(n=null);const r=mr(),o=new WeakSet,i=[];let l=!1;const f=r.app={_uid:Bi++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:$l,get config(){return r.config},set config(g){},use(g,...d){return o.has(g)||(g&&oe(g.install)?(o.add(g),g.install(f,...d)):oe(g)&&(o.add(g),g(f,...d))),f},mixin(g){return r.mixins.includes(g)||r.mixins.push(g),f},component(g,d){return d?(r.components[g]=d,f):r.components[g]},directive(g,d){return d?(r.directives[g]=d,f):r.directives[g]},mount(g,d,p){if(!l){const c=f._ceVNode||re(a,n);return c.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),e(c,g,p),l=!0,f._container=g,g.__vue_app__=f,ia(c.component)}},onUnmount(g){i.push(g)},unmount(){l&&(_t(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(g,d){return r.provides[g]=d,f},runWithContext(g){const d=is;is=f;try{return g()}finally{is=d}}};return f}}let is=null;function Ui(e,t){if(Xe){let s=Xe.provides;const a=Xe.parent&&Xe.parent.provides;a===s&&(s=Xe.provides=Object.create(a)),s[e]=t}}function ta(e,t,s=!1){const a=yl();if(a||is){let n=is?is._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&oe(t)?t.call(a&&a.proxy):t}}const vr={},yr=()=>Object.create(vr),br=e=>Object.getPrototypeOf(e)===vr;function Vi(e,t,s,a=!1){const n={},r=yr();e.propsDefaults=Object.create(null),wr(e,t,n,r);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=a?n:Qo(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function zi(e,t,s,a){const{props:n,attrs:r,vnode:{patchFlag:o}}=e,i=be(n),[l]=e.propsOptions;let f=!1;if((a||o>0)&&!(o&16)){if(o&8){const g=e.vnode.dynamicProps;for(let d=0;d<g.length;d++){let p=g[d];if(sa(e.emitsOptions,p))continue;const c=t[p];if(l)if(ke(r,p))c!==r[p]&&(r[p]=c,f=!0);else{const v=ft(p);n[v]=qa(l,i,v,c,e,!1)}else c!==r[p]&&(r[p]=c,f=!0)}}}else{wr(e,t,n,r)&&(f=!0);let g;for(const d in i)(!t||!ke(t,d)&&((g=Ft(d))===d||!ke(t,g)))&&(l?s&&(s[d]!==void 0||s[g]!==void 0)&&(n[d]=qa(l,i,d,void 0,e,!0)):delete n[d]);if(r!==i)for(const d in r)(!t||!ke(t,d))&&(delete r[d],f=!0)}f&&Tt(e.attrs,"set","")}function wr(e,t,s,a){const[n,r]=e.propsOptions;let o=!1,i;if(t)for(let l in t){if(fs(l))continue;const f=t[l];let g;n&&ke(n,g=ft(l))?!r||!r.includes(g)?s[g]=f:(i||(i={}))[g]=f:sa(e.emitsOptions,l)||(!(l in a)||f!==a[l])&&(a[l]=f,o=!0)}if(r){const l=be(s),f=i||Ae;for(let g=0;g<r.length;g++){const d=r[g];s[d]=qa(n,l,d,f[d],e,!ke(f,d))}}return o}function qa(e,t,s,a,n,r){const o=e[s];if(o!=null){const i=ke(o,"default");if(i&&a===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&oe(l)){const{propsDefaults:f}=n;if(s in f)a=f[s];else{const g=Ts(n);a=f[s]=l.call(null,t),g()}}else a=l;n.ce&&n.ce._setProp(s,a)}o[0]&&(r&&!i?a=!1:o[1]&&(a===""||a===Ft(s))&&(a=!0))}return a}const Ki=new WeakMap;function _r(e,t,s=!1){const a=s?Ki:t.propsCache,n=a.get(e);if(n)return n;const r=e.props,o={},i=[];let l=!1;if(!oe(e)){const g=d=>{l=!0;const[p,c]=_r(d,t,!0);Ze(o,p),c&&i.push(...c)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!r&&!l)return Ne(e)&&a.set(e,Xt),Xt;if(ne(r))for(let g=0;g<r.length;g++){const d=ft(r[g]);kr(d)&&(o[d]=Ae)}else if(r)for(const g in r){const d=ft(g);if(kr(d)){const p=r[g],c=o[d]=ne(p)||oe(p)?{type:p}:Ze({},p),v=c.type;let h=!1,b=!0;if(ne(v))for(let M=0;M<v.length;++M){const x=v[M],S=oe(x)&&x.name;if(S==="Boolean"){h=!0;break}else S==="String"&&(b=!1)}else h=oe(v)&&v.name==="Boolean";c[0]=h,c[1]=b,(h||ke(c,"default"))&&i.push(d)}}const f=[o,i];return Ne(e)&&a.set(e,f),f}function kr(e){return e[0]!=="$"&&!fs(e)}const Ja=e=>e==="_"||e==="_ctx"||e==="$stable",Ga=e=>ne(e)?e.map(xt):[xt(e)],qi=(e,t,s)=>{if(t._n)return t;const a=Oe((...n)=>Ga(t(...n)),s);return a._c=!1,a},xr=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Ja(n))continue;const r=e[n];if(oe(r))t[n]=qi(n,r,a);else if(r!=null){const o=Ga(r);t[n]=()=>o}}},Sr=(e,t)=>{const s=Ga(t);e.slots.default=()=>s},Cr=(e,t,s)=>{for(const a in t)(s||!Ja(a))&&(e[a]=t[a])},Ji=(e,t,s)=>{const a=e.slots=yr();if(e.vnode.shapeFlag&32){const n=t._;n?(Cr(a,t,s),s&&$n(a,"_",n,!0)):xr(t,a)}else t&&Sr(e,t)},Gi=(e,t,s)=>{const{vnode:a,slots:n}=e;let r=!0,o=Ae;if(a.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:Cr(n,t,s):(r=!t.$stable,xr(t,n)),o=t}else t&&(Sr(e,t),o={default:1});if(r)for(const i in n)!Ja(i)&&o[i]==null&&delete n[i]},it=cl;function Zi(e){return Yi(e)}function Yi(e,t){const s=Rs();s.__VUE__=!0;const{insert:a,remove:n,patchProp:r,createElement:o,createText:i,createComment:l,setText:f,setElementText:g,parentNode:d,nextSibling:p,setScopeId:c=vt,insertStaticContent:v}=e,h=(m,y,$,I=null,D=null,E=null,R=void 0,F=null,H=!!y.dynamicChildren)=>{if(m===y)return;m&&!Ms(m,y)&&(I=xe(m),me(m,D,E,!0),m=null),y.patchFlag===-2&&(H=!1,y.dynamicChildren=null);const{type:L,ref:X,shapeFlag:j}=y;switch(L){case aa:b(m,y,$,I);break;case Et:M(m,y,$,I);break;case na:m==null&&x(y,$,I,R);break;case le:we(m,y,$,I,D,E,R,F,H);break;default:j&1?O(m,y,$,I,D,E,R,F,H):j&6?Se(m,y,$,I,D,E,R,F,H):(j&64||j&128)&&L.process(m,y,$,I,D,E,R,F,H,We)}X!=null&&D?_s(X,m&&m.ref,E,y||m,!y):X==null&&m&&m.ref!=null&&_s(m.ref,null,E,m,!0)},b=(m,y,$,I)=>{if(m==null)a(y.el=i(y.children),$,I);else{const D=y.el=m.el;y.children!==m.children&&f(D,y.children)}},M=(m,y,$,I)=>{m==null?a(y.el=l(y.children||""),$,I):y.el=m.el},x=(m,y,$,I)=>{[m.el,m.anchor]=v(m.children,y,$,I,m.el,m.anchor)},S=({el:m,anchor:y},$,I)=>{let D;for(;m&&m!==y;)D=p(m),a(m,$,I),m=D;a(y,$,I)},T=({el:m,anchor:y})=>{let $;for(;m&&m!==y;)$=p(m),n(m),m=$;n(y)},O=(m,y,$,I,D,E,R,F,H)=>{y.type==="svg"?R="svg":y.type==="math"&&(R="mathml"),m==null?G(y,$,I,D,E,R,F,H):ae(m,y,D,E,R,F,H)},G=(m,y,$,I,D,E,R,F)=>{let H,L;const{props:X,shapeFlag:j,transition:Z,dirs:ee}=m;if(H=m.el=o(m.type,E,X&&X.is,X),j&8?g(H,m.children):j&16&&W(m.children,H,null,I,D,Za(m,E),R,F),ee&&Zt(m,null,I,"created"),K(H,m,m.scopeId,R,I),X){for(const ge in X)ge!=="value"&&!fs(ge)&&r(H,ge,null,X[ge],E,I);"value"in X&&r(H,"value",null,X.value,E),(L=X.onVnodeBeforeMount)&&St(L,I,m)}ee&&Zt(m,null,I,"beforeMount");const fe=Xi(D,Z);fe&&Z.beforeEnter(H),a(H,y,$),((L=X&&X.onVnodeMounted)||fe||ee)&&it(()=>{L&&St(L,I,m),fe&&Z.enter(H),ee&&Zt(m,null,I,"mounted")},D)},K=(m,y,$,I,D)=>{if($&&c(m,$),I)for(let E=0;E<I.length;E++)c(m,I[E]);if(D){let E=D.subTree;if(y===E||Nr(E.type)&&(E.ssContent===y||E.ssFallback===y)){const R=D.vnode;K(m,R,R.scopeId,R.slotScopeIds,D.parent)}}},W=(m,y,$,I,D,E,R,F,H=0)=>{for(let L=H;L<m.length;L++){const X=m[L]=F?jt(m[L]):xt(m[L]);h(null,X,y,$,I,D,E,R,F)}},ae=(m,y,$,I,D,E,R)=>{const F=y.el=m.el;let{patchFlag:H,dynamicChildren:L,dirs:X}=y;H|=m.patchFlag&16;const j=m.props||Ae,Z=y.props||Ae;let ee;if($&&Yt($,!1),(ee=Z.onVnodeBeforeUpdate)&&St(ee,$,y,m),X&&Zt(y,m,$,"beforeUpdate"),$&&Yt($,!0),(j.innerHTML&&Z.innerHTML==null||j.textContent&&Z.textContent==null)&&g(F,""),L?q(m.dynamicChildren,L,F,$,I,Za(y,D),E):R||te(m,y,F,null,$,I,Za(y,D),E,!1),H>0){if(H&16)ie(F,j,Z,$,D);else if(H&2&&j.class!==Z.class&&r(F,"class",null,Z.class,D),H&4&&r(F,"style",j.style,Z.style,D),H&8){const fe=y.dynamicProps;for(let ge=0;ge<fe.length;ge++){const ue=fe[ge],Te=j[ue],Le=Z[ue];(Le!==Te||ue==="value")&&r(F,ue,Te,Le,D,$)}}H&1&&m.children!==y.children&&g(F,y.children)}else!R&&L==null&&ie(F,j,Z,$,D);((ee=Z.onVnodeUpdated)||X)&&it(()=>{ee&&St(ee,$,y,m),X&&Zt(y,m,$,"updated")},I)},q=(m,y,$,I,D,E,R)=>{for(let F=0;F<y.length;F++){const H=m[F],L=y[F],X=H.el&&(H.type===le||!Ms(H,L)||H.shapeFlag&198)?d(H.el):$;h(H,L,X,null,I,D,E,R,!0)}},ie=(m,y,$,I,D)=>{if(y!==$){if(y!==Ae)for(const E in y)!fs(E)&&!(E in $)&&r(m,E,y[E],null,D,I);for(const E in $){if(fs(E))continue;const R=$[E],F=y[E];R!==F&&E!=="value"&&r(m,E,F,R,D,I)}"value"in $&&r(m,"value",y.value,$.value,D)}},we=(m,y,$,I,D,E,R,F,H)=>{const L=y.el=m?m.el:i(""),X=y.anchor=m?m.anchor:i("");let{patchFlag:j,dynamicChildren:Z,slotScopeIds:ee}=y;ee&&(F=F?F.concat(ee):ee),m==null?(a(L,$,I),a(X,$,I),W(y.children||[],$,X,D,E,R,F,H)):j>0&&j&64&&Z&&m.dynamicChildren?(q(m.dynamicChildren,Z,$,D,E,R,F),(y.key!=null||D&&y===D.subTree)&&$r(m,y,!0)):te(m,y,$,X,D,E,R,F,H)},Se=(m,y,$,I,D,E,R,F,H)=>{y.slotScopeIds=F,m==null?y.shapeFlag&512?D.ctx.activate(y,$,I,R,H):Ie(y,$,I,D,E,R,H):V(m,y,H)},Ie=(m,y,$,I,D,E,R)=>{const F=m.component=vl(m,I,D);if(rr(m)&&(F.ctx.renderer=We),bl(F,!1,R),F.asyncDep){if(D&&D.registerDep(F,ce,R),!m.el){const H=F.subTree=re(Et);M(null,H,y,$),m.placeholder=H.el}}else ce(F,m,y,$,D,E,R)},V=(m,y,$)=>{const I=y.component=m.component;if(il(m,y,$))if(I.asyncDep&&!I.asyncResolved){Y(I,y,$);return}else I.next=y,I.update();else y.el=m.el,I.vnode=y},ce=(m,y,$,I,D,E,R)=>{const F=()=>{if(m.isMounted){let{next:j,bu:Z,u:ee,parent:fe,vnode:ge}=m;{const Ge=Mr(m);if(Ge){j&&(j.el=ge.el,Y(m,j,R)),Ge.asyncDep.then(()=>{m.isUnmounted||F()});return}}let ue=j,Te;Yt(m,!1),j?(j.el=ge.el,Y(m,j,R)):j=ge,Z&&Fs(Z),(Te=j.props&&j.props.onVnodeBeforeUpdate)&&St(Te,fe,j,ge),Yt(m,!0);const Le=Er(m),Be=m.subTree;m.subTree=Le,h(Be,Le,d(Be.el),xe(Be),m,D,E),j.el=Le.el,ue===null&&ll(m,Le.el),ee&&it(ee,D),(Te=j.props&&j.props.onVnodeUpdated)&&it(()=>St(Te,fe,j,ge),D)}else{let j;const{el:Z,props:ee}=y,{bm:fe,m:ge,parent:ue,root:Te,type:Le}=m,Be=rs(y);Yt(m,!1),fe&&Fs(fe),!Be&&(j=ee&&ee.onVnodeBeforeMount)&&St(j,ue,y),Yt(m,!0);{Te.ce&&Te.ce._def.shadowRoot!==!1&&Te.ce._injectChildStyle(Le);const Ge=m.subTree=Er(m);h(null,Ge,$,I,m,D,E),y.el=Ge.el}if(ge&&it(ge,D),!Be&&(j=ee&&ee.onVnodeMounted)){const Ge=y;it(()=>St(j,ue,Ge),D)}(y.shapeFlag&256||ue&&rs(ue.vnode)&&ue.vnode.shapeFlag&256)&&m.a&&it(m.a,D),m.isMounted=!0,y=$=I=null}};m.scope.on();const H=m.effect=new Pn(F);m.scope.off();const L=m.update=H.run.bind(H),X=m.job=H.runIfDirty.bind(H);X.i=m,X.id=m.uid,H.scheduler=()=>Wa(X),Yt(m,!0),L()},Y=(m,y,$)=>{y.component=m;const I=m.vnode.props;m.vnode=y,m.next=null,zi(m,y.props,I,$),Gi(m,y.children,$),yt(),er(m),bt()},te=(m,y,$,I,D,E,R,F,H=!1)=>{const L=m&&m.children,X=m?m.shapeFlag:0,j=y.children,{patchFlag:Z,shapeFlag:ee}=y;if(Z>0){if(Z&128){De(L,j,$,I,D,E,R,F,H);return}else if(Z&256){_e(L,j,$,I,D,E,R,F,H);return}}ee&8?(X&16&&Me(L,D,E),j!==L&&g($,j)):X&16?ee&16?De(L,j,$,I,D,E,R,F,H):Me(L,D,E,!0):(X&8&&g($,""),ee&16&&W(j,$,I,D,E,R,F,H))},_e=(m,y,$,I,D,E,R,F,H)=>{m=m||Xt,y=y||Xt;const L=m.length,X=y.length,j=Math.min(L,X);let Z;for(Z=0;Z<j;Z++){const ee=y[Z]=H?jt(y[Z]):xt(y[Z]);h(m[Z],ee,$,null,D,E,R,F,H)}L>X?Me(m,D,E,!0,!1,j):W(y,$,I,D,E,R,F,H,j)},De=(m,y,$,I,D,E,R,F,H)=>{let L=0;const X=y.length;let j=m.length-1,Z=X-1;for(;L<=j&&L<=Z;){const ee=m[L],fe=y[L]=H?jt(y[L]):xt(y[L]);if(Ms(ee,fe))h(ee,fe,$,null,D,E,R,F,H);else break;L++}for(;L<=j&&L<=Z;){const ee=m[j],fe=y[Z]=H?jt(y[Z]):xt(y[Z]);if(Ms(ee,fe))h(ee,fe,$,null,D,E,R,F,H);else break;j--,Z--}if(L>j){if(L<=Z){const ee=Z+1,fe=ee<X?y[ee].el:I;for(;L<=Z;)h(null,y[L]=H?jt(y[L]):xt(y[L]),$,fe,D,E,R,F,H),L++}}else if(L>Z)for(;L<=j;)me(m[L],D,E,!0),L++;else{const ee=L,fe=L,ge=new Map;for(L=fe;L<=Z;L++){const je=y[L]=H?jt(y[L]):xt(y[L]);je.key!=null&&ge.set(je.key,L)}let ue,Te=0;const Le=Z-fe+1;let Be=!1,Ge=0;const tt=new Array(Le);for(L=0;L<Le;L++)tt[L]=0;for(L=ee;L<=j;L++){const je=m[L];if(Te>=Le){me(je,D,E,!0);continue}let st;if(je.key!=null)st=ge.get(je.key);else for(ue=fe;ue<=Z;ue++)if(tt[ue-fe]===0&&Ms(je,y[ue])){st=ue;break}st===void 0?me(je,D,E,!0):(tt[st-fe]=L+1,st>=Ge?Ge=st:Be=!0,h(je,y[st],$,null,D,E,R,F,H),Te++)}const Vt=Be?Qi(tt):Xt;for(ue=Vt.length-1,L=Le-1;L>=0;L--){const je=fe+L,st=y[je],zt=y[je+1],k=je+1<X?zt.el||zt.placeholder:I;tt[L]===0?h(null,st,$,k,D,E,R,F,H):Be&&(ue<0||L!==Vt[ue]?Ce(st,$,k,2):ue--)}}},Ce=(m,y,$,I,D=null)=>{const{el:E,type:R,transition:F,children:H,shapeFlag:L}=m;if(L&6){Ce(m.component.subTree,y,$,I);return}if(L&128){m.suspense.move(y,$,I);return}if(L&64){R.move(m,y,$,We);return}if(R===le){a(E,y,$);for(let j=0;j<H.length;j++)Ce(H[j],y,$,I);a(m.anchor,y,$);return}if(R===na){S(m,y,$);return}if(I!==2&&L&1&&F)if(I===0)F.beforeEnter(E),a(E,y,$),it(()=>F.enter(E),D);else{const{leave:j,delayLeave:Z,afterLeave:ee}=F,fe=()=>{m.ctx.isUnmounted?n(E):a(E,y,$)},ge=()=>{E._isLeaving&&E[bi](!0),j(E,()=>{fe(),ee&&ee()})};Z?Z(E,fe,ge):ge()}else a(E,y,$)},me=(m,y,$,I=!1,D=!1)=>{const{type:E,props:R,ref:F,children:H,dynamicChildren:L,shapeFlag:X,patchFlag:j,dirs:Z,cacheIndex:ee}=m;if(j===-2&&(D=!1),F!=null&&(yt(),_s(F,null,$,m,!0),bt()),ee!=null&&(y.renderCache[ee]=void 0),X&256){y.ctx.deactivate(m);return}const fe=X&1&&Z,ge=!rs(m);let ue;if(ge&&(ue=R&&R.onVnodeBeforeUnmount)&&St(ue,y,m),X&6)ze(m.component,$,I);else{if(X&128){m.suspense.unmount($,I);return}fe&&Zt(m,null,y,"beforeUnmount"),X&64?m.type.remove(m,y,$,We,I):L&&!L.hasOnce&&(E!==le||j>0&&j&64)?Me(L,y,$,!1,!0):(E===le&&j&384||!D&&X&16)&&Me(H,y,$),I&&ve(m)}(ge&&(ue=R&&R.onVnodeUnmounted)||fe)&&it(()=>{ue&&St(ue,y,m),fe&&Zt(m,null,y,"unmounted")},$)},ve=m=>{const{type:y,el:$,anchor:I,transition:D}=m;if(y===le){$e($,I);return}if(y===na){T(m);return}const E=()=>{n($),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(m.shapeFlag&1&&D&&!D.persisted){const{leave:R,delayLeave:F}=D,H=()=>R($,E);F?F(m.el,E,H):H()}else E()},$e=(m,y)=>{let $;for(;m!==y;)$=p(m),n(m),m=$;n(y)},ze=(m,y,$)=>{const{bum:I,scope:D,job:E,subTree:R,um:F,m:H,a:L}=m;Tr(H),Tr(L),I&&Fs(I),D.stop(),E&&(E.flags|=8,me(R,m,y,$)),F&&it(F,y),it(()=>{m.isUnmounted=!0},y)},Me=(m,y,$,I=!1,D=!1,E=0)=>{for(let R=E;R<m.length;R++)me(m[R],y,$,I,D)},xe=m=>{if(m.shapeFlag&6)return xe(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const y=p(m.anchor||m.el),$=y&&y[vi];return $?p($):y};let Q=!1;const He=(m,y,$)=>{m==null?y._vnode&&me(y._vnode,null,null,!0):h(y._vnode||null,m,y,null,null,null,$),y._vnode=m,Q||(Q=!0,er(),tr(),Q=!1)},We={p:h,um:me,m:Ce,r:ve,mt:Ie,mc:W,pc:te,pbc:q,n:xe,o:e};return{render:He,hydrate:void 0,createApp:ji(He)}}function Za({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Yt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xi(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function $r(e,t,s=!1){const a=e.children,n=t.children;if(ne(a)&&ne(n))for(let r=0;r<a.length;r++){const o=a[r];let i=n[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=n[r]=jt(n[r]),i.el=o.el),!s&&i.patchFlag!==-2&&$r(o,i)),i.type===aa&&i.patchFlag!==-1&&(i.el=o.el),i.type===Et&&!i.el&&(i.el=o.el)}}function Qi(e){const t=e.slice(),s=[0];let a,n,r,o,i;const l=e.length;for(a=0;a<l;a++){const f=e[a];if(f!==0){if(n=s[s.length-1],e[n]<f){t[a]=n,s.push(a);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<f?r=i+1:o=i;f<e[s[r]]&&(r>0&&(t[a]=s[r-1]),s[r]=a)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Mr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Mr(t)}function Tr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const el=Symbol.for("v-scx"),tl=()=>ta(el);function mt(e,t,s){return Ar(e,t,s)}function Ar(e,t,s=Ae){const{immediate:a,deep:n,flush:r,once:o}=s,i=Ze({},s),l=t&&a||!t&&r!=="post";let f;if(As){if(r==="sync"){const c=tl();f=c.__watcherHandles||(c.__watcherHandles=[])}else if(!l){const c=()=>{};return c.stop=vt,c.resume=vt,c.pause=vt,c}}const g=Xe;i.call=(c,v,h)=>_t(c,g,v,h);let d=!1;r==="post"?i.scheduler=c=>{it(c,g&&g.suspense)}:r!=="sync"&&(d=!0,i.scheduler=(c,v)=>{v?c():Wa(c)}),i.augmentJob=c=>{t&&(c.flags|=4),d&&(c.flags|=2,g&&(c.id=g.uid,c.i=g))};const p=ci(e,t,i);return As&&(f?f.push(p):l&&p()),p}function sl(e,t,s){const a=this.proxy,n=Fe(e)?e.includes(".")?Dr(a,e):()=>a[e]:e.bind(a,a);let r;oe(t)?r=t:(r=t.handler,s=t);const o=Ts(this),i=Ar(n,r.bind(a),s);return o(),i}function Dr(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const al=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ft(t)}Modifiers`]||e[`${Ft(t)}Modifiers`];function nl(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Ae;let n=s;const r=t.startsWith("update:"),o=r&&al(a,t.slice(7));o&&(o.trim&&(n=s.map(g=>Fe(g)?g.trim():g)),o.number&&(n=s.map(Ca)));let i,l=a[i=Sa(t)]||a[i=Sa(ft(t))];!l&&r&&(l=a[i=Sa(Ft(t))]),l&&_t(l,e,6,n);const f=a[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,_t(f,e,6,n)}}function Pr(e,t,s=!1){const a=t.emitsCache,n=a.get(e);if(n!==void 0)return n;const r=e.emits;let o={},i=!1;if(!oe(e)){const l=f=>{const g=Pr(f,t,!0);g&&(i=!0,Ze(o,g))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!i?(Ne(e)&&a.set(e,null),null):(ne(r)?r.forEach(l=>o[l]=null):Ze(o,r),Ne(e)&&a.set(e,o),o)}function sa(e,t){return!e||!Ns(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,Ft(t))||ke(e,t))}function Yh(){}function Er(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[r],slots:o,attrs:i,emit:l,render:f,renderCache:g,props:d,data:p,setupState:c,ctx:v,inheritAttrs:h}=e,b=Xs(e);let M,x;try{if(s.shapeFlag&4){const T=n||a,O=T;M=xt(f.call(O,T,g,d,c,p,v)),x=i}else{const T=t;M=xt(T.length>1?T(d,{attrs:i,slots:o,emit:l}):T(d,null)),x=t.props?i:rl(i)}}catch(T){Ss.length=0,Gs(T,e,1),M=re(Et)}let S=M;if(x&&h!==!1){const T=Object.keys(x),{shapeFlag:O}=S;T.length&&O&7&&(r&&T.some(_a)&&(x=ol(x,r)),S=ls(S,x,!1,!0))}return s.dirs&&(S=ls(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&Ba(S,s.transition),M=S,Xs(b),M}const rl=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ns(s))&&((t||(t={}))[s]=e[s]);return t},ol=(e,t)=>{const s={};for(const a in e)(!_a(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function il(e,t,s){const{props:a,children:n,component:r}=e,{props:o,children:i,patchFlag:l}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return a?Ir(a,o,f):!!o;if(l&8){const g=t.dynamicProps;for(let d=0;d<g.length;d++){const p=g[d];if(o[p]!==a[p]&&!sa(f,p))return!0}}}else return(n||i)&&(!i||!i.$stable)?!0:a===o?!1:a?o?Ir(a,o,f):!0:!!o;return!1}function Ir(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const r=a[n];if(t[r]!==e[r]&&!sa(s,r))return!0}return!1}function ll({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Nr=e=>e.__isSuspense;function cl(e,t){t&&t.pendingBranch?ne(e)?t.effects.push(...e):t.effects.push(e):mi(e)}const le=Symbol.for("v-fgt"),aa=Symbol.for("v-txt"),Et=Symbol.for("v-cmt"),na=Symbol.for("v-stc"),Ss=[];let lt=null;function C(e=!1){Ss.push(lt=e?null:[])}function ul(){Ss.pop(),lt=Ss[Ss.length-1]||null}let Cs=1;function Lr(e,t=!1){Cs+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function Or(e){return e.dynamicChildren=Cs>0?lt||Xt:null,ul(),Cs>0&&lt&&lt.push(e),e}function A(e,t,s,a,n,r){return Or(u(e,t,s,a,n,r,!0))}function Ve(e,t,s,a,n){return Or(re(e,t,s,a,n,!0))}function $s(e){return e?e.__v_isVNode===!0:!1}function Ms(e,t){return e.type===t.type&&e.key===t.key}const Hr=({key:e})=>e??null,ra=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||Ue(e)||oe(e)?{i:Je,r:e,k:t,f:!!s}:e:null);function u(e,t=null,s=null,a=0,n=null,r=e===le?0:1,o=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Hr(t),ref:t&&ra(t),scopeId:ar,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Je};return i?(Ya(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=Fe(s)?8:16),Cs>0&&!o&&lt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&lt.push(l),l}const re=dl;function dl(e,t=null,s=null,a=0,n=null,r=!1){if((!e||e===Ei)&&(e=Et),$s(e)){const i=ls(e,t,!0);return s&&Ya(i,s),Cs>0&&!r&&lt&&(i.shapeFlag&6?lt[lt.indexOf(e)]=i:lt.push(i)),i.patchFlag=-2,i}if(Cl(e)&&(e=e.__vccOpts),t){t=fl(t);let{class:i,style:l}=t;i&&!Fe(i)&&(t.class=he(i)),Ne(l)&&(Ha(l)&&!ne(l)&&(l=Ze({},l)),t.style=Mt(l))}const o=Fe(e)?1:Nr(e)?128:yi(e)?64:Ne(e)?4:oe(e)?2:0;return u(e,t,s,a,n,o,r,!0)}function fl(e){return e?Ha(e)||br(e)?Ze({},e):e:null}function ls(e,t,s=!1,a=!1){const{props:n,ref:r,patchFlag:o,children:i,transition:l}=e,f=t?pl(n||{},t):n,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Hr(f),ref:t&&t.ref?s&&r?ne(r)?r.concat(ra(t)):[r,ra(t)]:ra(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ls(e.ssContent),ssFallback:e.ssFallback&&ls(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&a&&Ba(g,l.clone(g)),g}function ye(e=" ",t=0){return re(aa,null,e,t)}function gl(e,t){const s=re(na,null,e);return s.staticCount=t,s}function z(e="",t=!1){return t?(C(),Ve(Et,null,e)):re(Et,null,e)}function xt(e){return e==null||typeof e=="boolean"?re(Et):ne(e)?re(le,null,e.slice()):$s(e)?jt(e):re(aa,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ls(e)}function Ya(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(ne(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),Ya(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!br(t)?t._ctx=Je:n===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else oe(t)?(t={default:t,_ctx:Je},s=32):(t=String(t),a&64?(s=16,t=[ye(t)]):s=8);e.children=t,e.shapeFlag|=s}function pl(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=he([t.class,a.class]));else if(n==="style")t.style=Mt([t.style,a.style]);else if(Ns(n)){const r=t[n],o=a[n];o&&r!==o&&!(ne(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=a[n])}return t}function St(e,t,s,a=null){_t(e,t,7,[s,a])}const hl=mr();let ml=0;function vl(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||hl,r={uid:ml++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Eo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_r(a,n),emitsOptions:Pr(a,n),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:a.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=nl.bind(null,r),e.ce&&e.ce(r),r}let Xe=null;const yl=()=>Xe||Je;let oa,Xa;{const e=Rs(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};oa=t("__VUE_INSTANCE_SETTERS__",s=>Xe=s),Xa=t("__VUE_SSR_SETTERS__",s=>As=s)}const Ts=e=>{const t=Xe;return oa(e),e.scope.on(),()=>{e.scope.off(),oa(t)}},Fr=()=>{Xe&&Xe.scope.off(),oa(null)};function Rr(e){return e.vnode.shapeFlag&4}let As=!1;function bl(e,t=!1,s=!1){t&&Xa(t);const{props:a,children:n}=e.vnode,r=Rr(e);Vi(e,a,r,t),Ji(e,n,s||t);const o=r?wl(e,t):void 0;return t&&Xa(!1),o}function wl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Li);const{setup:a}=s;if(a){yt();const n=e.setupContext=a.length>1?kl(e):null,r=Ts(e),o=ss(a,e,0,[e.props,n]),i=xn(o);if(bt(),r(),(i||e.sp)&&!rs(e)&&nr(e),i){if(o.then(Fr,Fr),t)return o.then(l=>{Wr(e,l)}).catch(l=>{Gs(l,e,0)});e.asyncDep=o}else Wr(e,o)}else Br(e)}function Wr(e,t,s){oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=Zn(t)),Br(e)}function Br(e,t,s){const a=e.type;e.render||(e.render=a.render||vt);{const n=Ts(e);yt();try{Oi(e)}finally{bt(),n()}}}const _l={get(e,t){return Ye(e,"get",""),e[t]}};function kl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,_l),slots:e.slots,emit:e.emit,expose:t}}function ia(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zn(ei(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ks)return ks[s](e)},has(t,s){return s in t||s in ks}})):e.proxy}const xl=/(?:^|[-_])(\w)/g,Sl=e=>e.replace(xl,t=>t.toUpperCase()).replace(/[-_]/g,"");function jr(e,t=!0){return oe(e)?e.displayName||e.name:e.name||t&&e.__name}function Ur(e,t,s=!1){let a=jr(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=r=>{for(const o in r)if(r[o]===t)return o};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?Sl(a):s?"App":"Anonymous"}function Cl(e){return oe(e)&&"__vccOpts"in e}const B=(e,t)=>ii(e,t,As);function ct(e,t,s){const a=arguments.length;return a===2?Ne(t)&&!ne(t)?$s(t)?re(e,null,[t]):re(e,t):re(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&$s(s)&&(s=[s]),re(e,t,s))}const $l="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qa;const Vr=typeof window<"u"&&window.trustedTypes;if(Vr)try{Qa=Vr.createPolicy("vue",{createHTML:e=>e})}catch{}const zr=Qa?e=>Qa.createHTML(e):e=>e,Ml="http://www.w3.org/2000/svg",Tl="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Kr=It&&It.createElement("template"),Al={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?It.createElementNS(Ml,e):t==="mathml"?It.createElementNS(Tl,e):s?It.createElement(e,{is:s}):It.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>It.createTextNode(e),createComment:e=>It.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>It.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,r){const o=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{Kr.innerHTML=zr(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const i=Kr.content;if(a==="svg"||a==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Dl=Symbol("_vtc");function Pl(e,t,s){const a=e[Dl];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const la=Symbol("_vod"),qr=Symbol("_vsh"),ca={name:"show",beforeMount(e,{value:t},{transition:s}){e[la]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ds(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Ds(e,!0),a.enter(e)):a.leave(e,()=>{Ds(e,!1)}):Ds(e,t))},beforeUnmount(e,{value:t}){Ds(e,t)}};function Ds(e,t){e.style.display=t?e[la]:"none",e[qr]=!t}const El=Symbol(""),Il=/(^|;)\s*display\s*:/;function Nl(e,t,s){const a=e.style,n=Fe(s);let r=!1;if(s&&!n){if(t)if(Fe(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&ua(a,i,"")}else for(const o in t)s[o]==null&&ua(a,o,"");for(const o in s)o==="display"&&(r=!0),ua(a,o,s[o])}else if(n){if(t!==s){const o=a[El];o&&(s+=";"+o),a.cssText=s,r=Il.test(s)}}else t&&e.removeAttribute("style");la in e&&(e[la]=r?a.display:"",e[qr]&&(a.display="none"))}const Jr=/\s*!important$/;function ua(e,t,s){if(ne(s))s.forEach(a=>ua(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=Ll(e,t);Jr.test(s)?e.setProperty(Ft(a),s.replace(Jr,""),"important"):e[a]=s}}const Gr=["Webkit","Moz","ms"],en={};function Ll(e,t){const s=en[t];if(s)return s;let a=ft(t);if(a!=="filter"&&a in e)return en[t]=a;a=Hs(a);for(let n=0;n<Gr.length;n++){const r=Gr[n]+a;if(r in e)return en[t]=r}return t}const Zr="http://www.w3.org/1999/xlink";function Yr(e,t,s,a,n,r=Po(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Zr,t.slice(6,t.length)):e.setAttributeNS(Zr,t,s):s==null||r&&!Tn(s)?e.removeAttribute(t):e.setAttribute(t,r?"":$t(s)?String(s):s)}function Xr(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?zr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(i!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Tn(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function cs(e,t,s,a){e.addEventListener(t,s,a)}function Ol(e,t,s,a){e.removeEventListener(t,s,a)}const Qr=Symbol("_vei");function Hl(e,t,s,a,n=null){const r=e[Qr]||(e[Qr]={}),o=r[t];if(a&&o)o.value=a;else{const[i,l]=Fl(t);if(a){const f=r[t]=Bl(a,n);cs(e,i,f,l)}else o&&(Ol(e,i,o,l),r[t]=void 0)}}const eo=/(?:Once|Passive|Capture)$/;function Fl(e){let t;if(eo.test(e)){t={};let a;for(;a=e.match(eo);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ft(e.slice(2)),t]}let tn=0;const Rl=Promise.resolve(),Wl=()=>tn||(Rl.then(()=>tn=0),tn=Date.now());function Bl(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;_t(jl(a,s.value),t,5,[a])};return s.value=e,s.attached=Wl(),s}function jl(e,t){if(ne(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const to=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ul=(e,t,s,a,n,r)=>{const o=n==="svg";t==="class"?Pl(e,a,o):t==="style"?Nl(e,s,a):Ns(t)?_a(t)||Hl(e,t,s,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vl(e,t,a,o))?(Xr(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Yr(e,t,a,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(a))?Xr(e,ft(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Yr(e,t,a,o))};function Vl(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&to(t)&&oe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return to(t)&&Fe(s)?!1:t in e}const so=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ne(t)?s=>Fs(t,s):t};function zl(e){e.target.composing=!0}function ao(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sn=Symbol("_assign"),Kl={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[sn]=so(n);const r=a||n.props&&n.props.type==="number";cs(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;s&&(i=i.trim()),r&&(i=Ca(i)),e[sn](i)}),s&&cs(e,"change",()=>{e.value=e.value.trim()}),t||(cs(e,"compositionstart",zl),cs(e,"compositionend",ao),cs(e,"change",ao))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:r}},o){if(e[sn]=so(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ca(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===l)||(e.value=l))}},ql=["ctrl","shift","alt","meta"],Jl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ql.some(s=>e[`${s}Key`]&&!t.includes(s))},da=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...r)=>{for(let o=0;o<t.length;o++){const i=Jl[t[o]];if(i&&i(n,t))return}return e(n,...r)})},Gl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zl=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const r=Ft(n.key);if(t.some(o=>o===r||Gl[o]===r))return e(n)})},Yl=Ze({patchProp:Ul},Al);let no;function Xl(){return no||(no=Zi(Yl))}const Ql=(...e)=>{const t=Xl().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=tc(a);if(!n)return;const r=t._component;!oe(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,ec(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function ec(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function tc(e){return Fe(e)?document.querySelector(e):e}const sc=Ee({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const a=e.showNavigation!==!1,n={...s,class:[s.class,"app-content",a?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":a?"false":"true"};return ct("div",n,[ct("aside",r,t.navigation?t.navigation():[]),ct("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),ac=Ee({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const a={...s,class:[s.class,"app-navigation"]};"role"in a||(a.role="navigation");const n=[];return t.actions&&n.push(ct("div",{class:"app-navigation__actions"},t.actions())),t.default&&n.push(...t.default()),ct("nav",a,n)}}}),ut=Ee({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:a}){return()=>{const n={...a,class:[a.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in n||(n.type="button"),ct("button",n,s.default?s.default():[])}}}),fa=Ee({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>ct("div",{...t,class:[t.class,"card empty"]},[ct("div",{class:"value"},e.name),ct("div",{class:"hint"},e.description)])}}),ga=Ee({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:a}){const n=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...a,class:[a.class,"nc-checkbox-radio-switch"]};return()=>ct("label",r,[ct("input",{type:e.type,name:e.name,checked:e.checked,onInput:n}),ct("span",{},s.default?s.default():[])])}}),nc=Ee({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>ct("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function an(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const a=Math.floor(s.width*t),n=Math.floor(s.height*t);e.width!==a&&(e.width=a),e.height!==n&&(e.height=n);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function ro(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function rc(e){const s=Math.pow((f=>f<0?0:f>1?1:f)(e),.6),a=ro("#e0f2fe"),n=ro("#7c3aed");if(!a||!n)return"#7c3aed";const r=(f,g,d)=>Math.round(f+(g-f)*d),o=r(a.r,n.r,s),i=r(a.g,n.g,s),l=r(a.b,n.b,s);return`rgb(${o}, ${i}, ${l})`}const oo=Ee({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=se(null);function a(){const n=t.data,r=s.value;if(!r||!n)return;const o=an(r);if(!o)return;const i=r.clientWidth,l=r.clientHeight,f=i/2,g=l/2,d=Math.min(i,l)*.35,p=n.data||[],c=n.labels||[],v=n.ids||[],h=n.colors||[],b=[];for(let W=0;W<p.length;W++)(Number(p[W])||0)>0&&b.push(W);if(o.clearRect(0,0,i,l),b.length===0)return;const M=b.map(W=>Number(p[W])||0),x=b.map(W=>String(c[W]||"")),S=b.map(W=>String(v[W]||"")),T=b.map(W=>h[W]),O=M.reduce((W,ae)=>W+Math.max(0,ae),0)||1;let G=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const K=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];M.forEach((W,ae)=>{var ve,$e;const q=Math.max(0,W)/O,ie=G+q*2*Math.PI,we=String((x==null?void 0:x[ae])||""),Se=String((S==null?void 0:S[ae])||""),Ie=T[ae],V=(ve=t.colorsById)==null?void 0:ve[Se],ce=($e=t.colorsByName)==null?void 0:$e[we];let Y=V||ce||Ie||K[ae%K.length];o.beginPath(),o.moveTo(f,g),o.arc(f,g,d,G,ie),o.closePath(),o.fillStyle=Y,o.fill(),o.stroke();const te=(G+ie)/2,_e=f+Math.cos(te)*(d+12),De=g+Math.sin(te)*(d+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const Ce=Math.max(0,Number(W)||0)/O*100,me=`${x!=null&&x[ae]?x[ae]+" ":""}${Number(W).toFixed(2)}h  ${Ce.toFixed(1)}%`;o.strokeText(me,_e,De),o.fillText(me,_e,De),o.restore(),G=ie})}return os(()=>{a(),window.addEventListener("resize",a)}),mt(()=>t.data,()=>a(),{deep:!0}),mt(()=>t.colorsById,()=>a(),{deep:!0}),(n,r)=>(C(),A("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),io=Ee({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=se(null);function a(h,b,M,x,S){h.save(),S!=null&&S.font&&(h.font=S.font),S!=null&&S.align&&(h.textAlign=S.align),S!=null&&S.baseline&&(h.textBaseline=S.baseline),h.lineWidth=3,h.strokeStyle="rgba(0,0,0,0.55)",h.strokeText(b,M,x),h.fillStyle="#ffffff",h.fillText(b,M,x),h.restore()}function n(h){const b=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(h||"");return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null}function r(h,b){const M=n(h);return M&&(.2126*M.r+.7152*M.g+.0722*M.b)/255<.55?"#ffffff":b}function o(h){const b=Math.max(0,Number(h)||0);return(Math.round(b*10)/10).toFixed(1)}function i(h,b=.5){const M=n(h);if(!M)return h;const x=Math.max(0,Math.min(1,b)),S=Math.round(M.r+(255-M.r)*x),T=Math.round(M.g+(255-M.g)*x),O=Math.round(M.b+(255-M.b)*x);return`rgb(${S},${T},${O})`}function l(h,b=.5){const M=n(h);if(!M)return h;const x=Math.max(0,Math.min(1,b)),S=Math.round(M.r*(1-x)),T=Math.round(M.g*(1-x)),O=Math.round(M.b*(1-x));return`rgb(${S},${T},${O})`}function f(h,b){const{x:M,y:x,width:S,height:T,baseColor:O}=b,G=Math.min(S*.25,6),K=M+G,W=Math.max(2,S-G*2),ae=i(O,.4),q=l(O,.35);h.save(),h.fillStyle=ae,h.globalAlpha=.18,h.fillRect(K,x,W,T),h.restore(),h.save(),h.strokeStyle=q,h.lineWidth=1.5,h.setLineDash([4,3]),h.strokeRect(K,x,W,T),h.restore()}function g(){var Ce,me;const h=s.value;if(!h)return;const b=an(h);if(!b)return;const M=h.clientWidth,x=h.clientHeight,S=28,T=S*1.4,O=x-S,G=M-S,K=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",W=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";b.clearRect(0,0,M,x),b.strokeStyle=K,b.lineWidth=1,b.beginPath(),b.moveTo(T,O),b.lineTo(G,O),b.moveTo(T,O),b.lineTo(T,S),b.stroke();const ae=t.stacked;if(ae&&ae.labels&&ae.series){let ve=ae.labels||[],$e=ae.series||[];const ze=p(ve,$e);ve=ze.labels,$e=ze.series;const Me=ve.map((E,R)=>$e.reduce((F,H)=>{var L;return F+Math.max(0,Number(((L=H.data)==null?void 0:L[R])||0))},0)),xe=ve.map((E,R)=>$e.reduce((F,H)=>{var L;return F+Math.max(0,Number(((L=H.forecast)==null?void 0:L[R])||0))},0)),Q=Me.map((E,R)=>E+xe[R]),He=Math.max(1,...Q),We=ve.length||1,dt=8,m=Math.max(6,(G-T-dt*(We+1))/We),y=(O-S)/He;let $=0,I=0;ve.forEach((E,R)=>{const F=T+dt+R*(m+dt);let H=O,L=0;$e.forEach(ge=>{var Be;const ue=Math.max(0,Number(((Be=ge.data)==null?void 0:Be[R])||0)),Te=ue*y;H-=Te;const Le=t.colorsById[ge.id]||ge.color||"#93c5fd";if(Te>.5&&(b.fillStyle=Le,b.fillRect(F,H,m,Te),Te>14&&m>22&&ue>.01)){const Ge=o(ue);b.fillStyle=r(Le,W),b.font="11px ui-sans-serif,system-ui";const tt=b.measureText(Ge).width;b.fillText(Ge,F+m/2-tt/2,H+Te/2+4)}L+=ue});let j=H,Z=0;$e.forEach(ge=>{var Be;const ue=Math.max(0,Number(((Be=ge.forecast)==null?void 0:Be[R])||0));if(ue<=0)return;const Te=ue*y;if(j-=Te,Z+=ue,Te<=.5)return;const Le=t.colorsById[ge.id]||ge.color||"#93c5fd";f(b,{x:F,y:j,width:m,height:Te,baseColor:Le})}),$+=L,I+=Z,b.fillStyle=W,b.font="12px ui-sans-serif,system-ui";const ee=d(String(ve[R]||""));if(m>26){const ge=b.measureText(ee).width;b.fillText(ee,F+m/2-ge/2,O+14)}const fe=Z>.01?`~${o(L+Z)}h`:L>.01?`${o(L)}h`:"";fe&&a(b,fe,F+m/2,Math.max(S+4,j-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})});const D=I>.01?`~${o($+I)}h expected`:`${o($)}h total`;a(b,D,G-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const q=t.legacy;if(!q)return;let ie=q.data||[],we=q.labels||[];const Se=p(we,[{id:"__legacy__",data:ie}]);we=Se.labels,ie=((me=(Ce=Se.series)==null?void 0:Ce[0])==null?void 0:me.data)||ie;const Ie=Math.max(1,...ie.map(ve=>Math.max(0,ve))),V=ie.length||1,ce=8,Y=Math.max(6,(G-T-ce*(V+1))/V),te=(O-S)/Ie;b.fillStyle="#93c5fd",ie.forEach((ve,$e)=>{const ze=Math.max(0,ve*te),Me=T+ce+$e*(Y+ce),xe=O-ze;if(b.fillRect(Me,xe,Y,ze),ze>14&&Y>22&&ve>.01){const He=String((Math.round(ve*100)/100).toFixed(1));b.fillStyle=r("#93c5fd",W),b.font="11px ui-sans-serif,system-ui";const We=b.measureText(He).width;b.fillText(He,Me+Y/2-We/2,xe+ze/2+4)}b.fillStyle=W,b.font="12px ui-sans-serif,system-ui";const Q=d(String(we[$e]||""));if(Y>26){const He=b.measureText(Q).width;b.fillText(Q,Me+Y/2-He/2,O+14)}if(ve>.01){const He=`${(Math.round(ve*100)/100).toFixed(1)}h`;a(b,He,Me+Y/2,Math.max(S+4,xe-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const _e=ie.reduce((ve,$e)=>ve+Math.max(0,Number($e)||0),0),De=`${(Math.round(_e*100)/100).toFixed(1)}h total`;a(b,De,G-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}os(()=>{g(),window.addEventListener("resize",g)}),mt(()=>t.stacked,()=>g(),{deep:!0}),mt(()=>t.legacy,()=>g(),{deep:!0}),mt(()=>t.colorsById,()=>g(),{deep:!0});function d(h){const b=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!b)return h;const M=new Date(`${b[1]}-${b[2]}-${b[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][M.getDay()]||h}function p(h,b){if(!Array.isArray(h)||h.length!==7)return{labels:h,series:b};const M=h.map(W=>c(W));if(M.some(W=>!W))return{labels:h,series:b};const x=M.map(W=>v(W)),S=[1,2,3,4,5,6,7];if(x.join(",")===S.join(","))return{labels:h,series:b};const T={};if(x.forEach((W,ae)=>{T[W]=ae}),!S.every(W=>W in T))return{labels:h,series:b};const O=S.map(W=>T[W]),G=O.map(W=>h[W]),K=(b||[]).map(W=>{const ae=Array.isArray(W.data)?W.data:[],q=Array.isArray(W.forecast)?W.forecast:null,ie=O.map(Ie=>ae[Ie]??0),we=q?O.map(Ie=>q[Ie]??0):void 0,Se={...W,data:ie};return we&&(Se.forecast=we),Se});return{labels:G,series:K}}function c(h){const b=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!b)return null;const M=new Date(`${b[1]}-${b[2]}-${b[3]}T00:00:00`);return isNaN(M.getTime())?null:M}function v(h){const b=h.getDay();return b===0?7:b}return(h,b)=>(C(),A("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),oc=Ee({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=se(null);let a=null;function n(){var O;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=an(r);if(!i)return;const l=r.clientWidth,f=r.clientHeight,g=o.dows||[],d=o.hours||[],p=o.matrix||[];i.clearRect(0,0,l,f);const c=36,v=c,h=c,b=l-c,M=f-c,x=(b-v)/Math.max(1,d.length),S=(M-h)/Math.max(1,g.length),T=Math.max(0,...p.flat())||1;g.length&&d.length&&console.info("[opsdash] heatmap draw",{rows:g.length,cols:d.length,vmax:T});for(let G=0;G<g.length;G++)for(let K=0;K<d.length;K++){const ae=(((O=p[G])==null?void 0:O[K])||0)/T,q=v+K*x,ie=h+G*S;i.fillStyle=rc(ae),i.fillRect(q,ie,x-1,S-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",g.forEach((G,K)=>i.fillText(G,8,h+K*S+12)),d.forEach((G,K)=>{K%2===0&&i.fillText(String(G),v+K*x+2,h-6)})}return os(async()=>{await Ys(),n();try{a=new ResizeObserver(()=>n()),s.value&&a.observe(s.value)}catch{}window.addEventListener("resize",n)}),ja(()=>{try{window.removeEventListener("resize",n)}catch{}try{a&&s.value&&a.unobserve(s.value)}catch{}a=null}),mt(()=>t.hod,()=>n(),{deep:!0}),(r,o)=>(C(),A("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),ic={class:"group-row"},lc={colspan:"5"},cc={class:"group-header"},uc={class:"group-label"},dc={class:"name"},fc={key:0,class:"group-meta"},gc={class:"summary"},pc={key:0,class:"summary-percent"},hc={key:1,class:"group-meta"},mc={class:"summary"},vc={key:0},yc=["title"],bc={class:"row-name"},wc={key:0,class:"progress"},_c={class:"num"},kc={class:"num"},xc={class:"num"},Sc={class:"num"},Cc={key:0,class:"hint"},$c={key:0,class:"empty-row"},Mc=Ee({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=B(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(x=>({id:x.id,label:x.label,summary:x.summary??null,color:x.color,rows:(x.rows||[]).map(a)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(a)}]);function a(x){const S=n(x);return{...x,calendarId:S}}function n(x){return x?x.calendarId?String(x.calendarId):x.id?String(x.id):x.calendar_id?String(x.calendar_id):x.calendar?String(x.calendar):"":""}function r(x){return String(x.calendar||x.displayname||x.name||x.calendarId||"")}function o(x){return n(x)||r(x)}function i(x){const S=v(x);if(!S)return!1;const T=t.targets||{},O=Number(T[S]);return isFinite(O)&&O>0}function l(x){const S=v(x);if(!S)return 0;const T=t.targets||{},O=Number(T[S]);return isFinite(O)?O:0}function f(x){const S=l(x);return S>0?(Math.round(S*100)/100).toFixed(2):""}function g(x,S){return x-S>=0?"delta pos":"delta neg"}function d(x,S){const T=x-S,O=Math.abs(Math.round(T*100)/100).toFixed(2);return(T>=0?"+":"-")+O+"h"}function p(x,S){return Math.max(0,Math.min(100,S>0?x/S*100:0)).toFixed(0)+"%"}function c(x,S){return Math.max(0,Math.min(100,S>0?x/S*100:0))}function v(x){return x==null?"":String(x)}function h(x){const S=x.summary;if(!S)return`${x.rows.length} calendar${x.rows.length===1?"":"s"}`;const T=t.n2(S.actualHours);return S.targetHours>0?`${T} h / ${t.n2(S.targetHours)} h`:`${T} h`}function b(x){const S=x.summary;return!S||S.targetHours<=0?"":`${Math.round(S.percent)}%`}function M(x){switch(x){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(x,S)=>(C(),A("table",null,[S[1]||(S[1]=u("colgroup",null,[u("col",{class:"col-w-42"}),u("col",{class:"col-w-12"}),u("col",{class:"col-w-14"}),u("col",{class:"col-w-14"}),u("col",{class:"col-w-18"})],-1)),S[2]||(S[2]=u("thead",null,[u("tr",null,[u("th",{class:"nowrap"},"Calendar"),u("th",{class:"num"},"Events"),u("th",{class:"num"},"Hours"),u("th",{class:"num"},"Target"),u("th",{class:"num"}," / %")])],-1)),u("tbody",null,[(C(!0),A(le,null,Re(s.value,T=>(C(),A(le,{key:T.id},[u("tr",ic,[u("td",lc,[u("div",cc,[u("div",uc,[u("span",{class:"dot",style:Mt({background:T.color||"var(--brand)"})},null,4),u("span",dc,P(T.label),1)]),T.summary?(C(),A("div",fc,[u("span",gc,P(h(T)),1),b(T)?(C(),A("span",pc,P(b(T)),1)):z("",!0),T.summary.statusLabel?(C(),A("span",{key:1,class:he(["badge",M(T.summary.status)])},P(T.summary.statusLabel),3)):z("",!0)])):(C(),A("div",hc,[u("span",mc,[ye(P(T.rows.length)+" calendar",1),T.rows.length!==1?(C(),A("span",vc,"s")):z("",!0)])]))])])]),(C(!0),A(le,null,Re(T.rows,O=>(C(),A("tr",{key:o(O)},[u("td",null,[u("div",{class:"cell",title:r(O)},[u("div",bc,P(r(O)),1),i(n(O))&&l(n(O))>0?(C(),A("div",wc,[u("div",{class:"progress-bar",style:Mt({width:c(O.total_hours,l(n(O)))+"%",background:T.color||void 0})},null,4)])):z("",!0)],8,yc)]),u("td",_c,P(O.events_count),1),u("td",kc,P(x.n2(O.total_hours)),1),u("td",xc,P(f(n(O))),1),u("td",Sc,[i(n(O))?(C(),A(le,{key:0},[u("span",{class:he(g(O.total_hours,l(n(O))))},P(d(O.total_hours,l(n(O)))),3),l(n(O))>0?(C(),A("span",Cc," ("+P(p(O.total_hours,l(n(O))))+")",1)):z("",!0)],64)):(C(),A(le,{key:1},[ye("")],64))])]))),128)),T.rows.length?z("",!0):(C(),A("tr",$c,[...S[0]||(S[0]=[u("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),Nt=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},Tc=Nt(Mc,[["__scopeId","data-v-69f095b4"]]),Ac={class:"mono nowrap"},Dc=["href"],Pc={class:"hint"},Ec={class:"num"},Ic={class:"num"},Nc=Ee({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const a=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!a)return"";const n=new Date(`${a[1]}-${a[2]}-${a[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][n.getUTCDay()]||""}return(s,a)=>(C(),A("table",null,[a[0]||(a[0]=u("colgroup",null,[u("col",{class:"col-w-40"}),u("col",{class:"col-w-30"}),u("col",{class:"col-w-30"})],-1)),a[1]||(a[1]=u("thead",null,[u("tr",null,[u("th",{class:"nowrap"},"Date"),u("th",{class:"num"},"Events"),u("th",{class:"num"},"Hours")])],-1)),u("tbody",null,[(C(!0),A(le,null,Re(s.rows,n=>(C(),A("tr",{key:n.date},[u("td",Ac,[u("a",{href:s.link(n.date),target:"_blank"},P(n.date),9,Dc),u("span",Pc," ("+P(t(n.date))+")",1)]),u("td",Ec,P(n.events_count),1),u("td",Ic,P(s.n2(n.total_hours)),1)]))),128))])]))}}),Lc=["onClick"],Oc=["title"],Hc={class:"num"},Fc={class:"mono nowrap"},Rc={class:"mono nowrap"},Wc={key:0},Bc={colspan:"5",class:"mono cell-details"},jc={key:0},Uc={key:1,class:"hint"},Vc=Ee({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(C(),A("table",null,[s[1]||(s[1]=u("colgroup",null,[u("col",{class:"col-w-22"}),u("col"),u("col",{class:"col-w-12"}),u("col",{class:"col-w-18"}),u("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=u("thead",null,[u("tr",null,[u("th",null,"Calendar"),u("th",null,"Summary"),u("th",{class:"num"},"Hours"),u("th",{class:"nowrap"},"Start date"),u("th",{class:"nowrap"},"Start time")])],-1)),u("tbody",null,[(C(!0),A(le,null,Re(t.rows,(a,n)=>{var r;return C(),A(le,{key:n},[u("tr",{onClick:o=>t.$emit("toggle",n),class:"cursor-pointer"},[u("td",null,P(a.calendar),1),u("td",null,[u("span",{class:"cell",title:a.summary},P(a.summary),9,Oc)]),u("td",Hc,P(t.n2(a.duration_h)),1),u("td",Fc,P((a.start||"").split(" ")[0]),1),u("td",Rc,P((r=(a.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,Lc),t.detailsIndex===n?(C(),A("tr",Wc,[u("td",Bc,[s[0]||(s[0]=u("div",null,[u("strong",null,"Details")],-1)),a.desc?(C(),A("div",jc,P(a.desc),1)):(C(),A("div",Uc,"No description"))])])):z("",!0)],64)}),128))])]))}}),zc={class:"card time-summary compact"},Kc={class:"time-summary-firstline"},qc={class:"time-summary-metrics"},Jc={key:0},Gc={key:1},Zc={key:2},Yc={key:3},Xc={key:4},Qc={key:0,class:"time-summary-row"},eu={key:1,class:"time-summary-row"},tu={key:0,class:"share"},su={key:2,class:"time-summary-row calendars"},au={class:"label"},nu={class:"text"},ru={key:3,class:"time-summary-row top-category"},ou={class:"text"},iu={key:4,class:"time-summary-row"},lu=Nt(Ee({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,a=B(()=>Object.assign({},t,s.config??{})),n=B(()=>s.mode==="active"?"active days":"all days"),r=B(()=>{if(!a.value.showWeekendShare)return"";const d=s.summary.weekendShare;return d==null?"":`${l(d)}%`}),o=B(()=>{if(!a.value.showTopCategory)return null;const d=s.summary.topCategory;if(!d)return null;const p=f(d.actualHours),c=Number(d.percent??0).toFixed(0),v=d.targetHours>0?` (${c}% of ${f(d.targetHours)} h)`:"";return{text:`${d.label}  ${p} h${v}`,badge:d.statusLabel||"",badgeClass:g(d.status)}}),i=B(()=>{if(!a.value.showBusiest)return"";const d=s.summary.busiest;if(!d||!d.date)return"";const p=Number(d.hours??0);return`Busiest ${d.date}  ${f(p)} h`});function l(d){return Number(d??0).toFixed(1)}function f(d){return Number(d??0).toFixed(2)}function g(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(d,p)=>(C(),A("div",zc,[u("div",Kc,[u("em",null,"Time Summary  "+P(d.summary.rangeLabel),1)]),u("ul",qc,[a.value.showTotal?(C(),A("li",Jc,[u("strong",null,P(f(d.summary.totalHours))+" h",1),p[0]||(p[0]=ye(" total",-1))])):z("",!0),a.value.showAverage?(C(),A("li",Gc,P(f(d.summary.avgDay))+" h/day ("+P(n.value)+")",1)):z("",!0),a.value.showAverage?(C(),A("li",Zc,P(f(d.summary.avgEvent))+" h/event",1)):z("",!0),a.value.showMedian?(C(),A("li",Yc,P(f(d.summary.medianDay))+" h median/day",1)):z("",!0),a.value.showBusiest&&i.value?(C(),A("li",Xc,P(i.value),1)):z("",!0)]),a.value.showWorkday?(C(),A("div",Qc,[p[1]||(p[1]=u("span",{class:"label"},"Workdays",-1)),ye(" "+P(f(d.summary.workdayAvg))+" h avg  "+P(f(d.summary.workdayMedian))+" h median ",1)])):z("",!0),a.value.showWeekend?(C(),A("div",eu,[p[2]||(p[2]=u("span",{class:"label"},"Weekend",-1)),ye(" "+P(f(d.summary.weekendAvg))+" h avg  "+P(f(d.summary.weekendMedian))+" h median ",1),a.value.showWeekendShare&&r.value?(C(),A("span",tu,"("+P(r.value)+")",1)):z("",!0)])):z("",!0),a.value.showCalendarSummary?(C(),A("div",su,[u("span",au,P(d.summary.activeCalendars)+" calendars",1),d.summary.calendarSummary?(C(),A(le,{key:0},[p[3]||(p[3]=u("span",{class:"sep"},"",-1)),u("span",nu,P(d.summary.calendarSummary),1)],64)):z("",!0)])):z("",!0),a.value.showTopCategory&&o.value?(C(),A("div",ru,[p[4]||(p[4]=u("span",{class:"label"},"Top category",-1)),u("span",ou,P(o.value.text),1),o.value.badge?(C(),A("span",{key:0,class:he(["summary-badge",o.value.badgeClass])},P(o.value.badge),3)):z("",!0)])):z("",!0),a.value.showBalance&&d.summary.balanceIndex!=null?(C(),A("div",iu,[p[5]||(p[5]=u("span",{class:"label"},"Balance",-1)),ye(" "+P(f(d.summary.balanceIndex))+" ",1),p[6]||(p[6]=u("span",{class:"hint"},"(1 = perfekt)",-1))])):z("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),cu={class:"card targets-card"},uu={class:"targets-header"},du={key:0,class:"hint"},fu={class:"targets-main"},gu={class:"line total-line"},pu={class:"value"},hu={key:0,class:"line"},mu={key:1,class:"line"},vu={class:"line forecast"},yu={class:"hint"},bu={key:0,class:"targets-badges"},wu={key:1,class:"targets-categories"},_u={class:"cat-top"},ku={class:"cat-label"},xu={class:"name"},Su={class:"cat-meta"},Cu={class:"percent"},$u={class:"cat-progress"},Mu={class:"bar"},Tu={class:"cat-metrics"},Au={class:"hint"},Du={key:1,class:"hint"},Pu={key:0,class:"cat-footer"},Eu={class:"hint"},Iu=Nt(Ee({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=B(()=>{var d;return((d=t.summary)==null?void 0:d.total)??l("total","Total")}),a=B(()=>{var p;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(c=>({id:c.id,label:c.label,summary:c.summary??l(c.id,c.label),color:c.color,rows:c.rows})):(((p=t.summary)==null?void 0:p.categories)??[]).map(c=>({id:c.id,label:c.label,summary:c,color:void 0,rows:[]}))}),n=B(()=>a.value.map(d=>{const p=d.summary??l(d.id,d.label);return{id:d.id,label:d.label||p.label,actualHours:p.actualHours,targetHours:p.targetHours,percent:p.percent,deltaHours:p.deltaHours,needPerDay:p.needPerDay,daysLeft:p.daysLeft,calendarPercent:p.calendarPercent,gap:p.gap,status:p.status,statusLabel:p.statusLabel,color:d.color,calendarCount:Array.isArray(d.rows)?d.rows.length:0,progress:f(p.percent,0,140),calendarLabel:Array.isArray(d.rows)&&d.rows.length===1?"calendar":"calendars"}}).filter(d=>d.targetHours>0||d.actualHours>0||d.calendarCount>0));function r(d){if(!isFinite(d))return"0";const p=Math.round(d*10)/10;return Math.abs(p-Math.round(p))<.05?String(Math.round(p)):p.toFixed(1)}function o(d){return!isFinite(d)||Math.abs(d)<.005?"0.0":(d>=0?"+":"")+r(Math.abs(d))}function i(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function l(d,p){return{id:d,label:p,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function f(d,p,c){return!isFinite(d)||d<p?p:d>c?c:d}function g(d){return d==="momentum"?"Momentum":"Linear"}return(d,p)=>(C(),A("div",cu,[u("div",uu,[p[0]||(p[0]=u("strong",null,"Targets",-1)),s.value.targetHours>0?(C(),A("span",du,P(s.value.percent.toFixed(0))+"%",1)):z("",!0)]),u("div",fu,[u("div",gu,[u("span",pu,[u("strong",null,P(r(s.value.actualHours)),1),ye(" / "+P(r(s.value.targetHours))+" h",1)]),d.config.ui.showTotalDelta&&s.value.targetHours>0?(C(),A("span",{key:0,class:he(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+P(o(s.value.deltaHours))+"h ",3)):z("",!0)]),d.config.ui.showNeedPerDay&&s.value.targetHours>0?(C(),A("div",hu," Days left "+P(s.value.daysLeft)+"  Need "+P(r(s.value.needPerDay))+" h/day ",1)):z("",!0),s.value.targetHours>0?(C(),A("div",mu,[ye(" Pace: "+P(s.value.percent.toFixed(0))+"% vs "+P(s.value.calendarPercent.toFixed(0))+"%  ",1),u("span",{class:he(["status-label",i(s.value.status)])},P(s.value.statusLabel),3)])):z("",!0),u("div",vu,[ye(" Forecast: "+P(d.summary.forecast.text)+" ",1),u("span",yu," Linear "+P(r(d.summary.forecast.linear))+"h  Momentum "+P(r(d.summary.forecast.momentum))+"h  Primary: "+P(g(d.summary.forecast.primaryMethod)),1)])]),d.config.ui.badges&&s.value.targetHours>0?(C(),A("div",bu,[u("span",{class:he(["badge",i(s.value.status)])},P(s.value.statusLabel),3)])):z("",!0),d.config.ui.showCategoryBlocks&&n.value.length?(C(),A("div",wu,[(C(!0),A(le,null,Re(n.value,c=>(C(),A("div",{class:"category",key:c.id},[u("div",_u,[u("div",ku,[u("span",{class:"dot",style:Mt({background:c.color||"var(--brand)"})},null,4),u("span",xu,P(c.label),1)]),u("div",Su,[u("span",Cu,P(c.percent.toFixed(0))+"%",1),d.config.ui.badges&&c.targetHours>0?(C(),A("span",{key:0,class:he(["badge",i(c.status)])},P(c.statusLabel),3)):z("",!0)])]),u("div",$u,[u("div",Mu,[u("div",{class:"fill",style:Mt({width:c.progress+"%",background:c.color||"var(--brand)"})},null,4)])]),u("div",Tu,[u("strong",null,P(r(c.actualHours))+"h",1),u("span",Au,"/ "+P(r(c.targetHours))+"h",1),c.targetHours>0?(C(),A("span",{key:0,class:he(["delta",c.deltaHours>=0?"pos":"neg"])},"  "+P(o(c.deltaHours))+"h ",3)):z("",!0),d.config.ui.showNeedPerDay&&c.targetHours>0?(C(),A("span",Du," Need "+P(r(c.needPerDay))+"h/day  "+P(c.daysLeft)+" days left ",1)):z("",!0)]),c.calendarCount>0?(C(),A("div",Pu,[u("span",Eu,P(c.calendarCount)+" "+P(c.calendarLabel),1)])):z("",!0)]))),128))])):z("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]);function Nu(e){const t=e?pt(e):Ps(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(a=>({...s,id:a.id,label:a.label,targetHours:a.targetHours,remainingHours:a.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function nn(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function us(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0,forecastMode:"total"}}const rn=24*60*60*1e3;function Lu(e){const t=Number(e);if(!Number.isFinite(t))return 0;const s=Math.min(1e4,Math.max(0,t));return Number(s.toFixed(2))}function on(e){return Lu(Number(e)*4)}function Ps(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:us(),balance:nn(),includeZeroDaysInStats:!1}}function ln(e){return JSON.parse(JSON.stringify(pt(e)))}function Ou(e){const t=pt(e.config),s=uo(e.from),a=uo(e.to),n=zu(e.byDay),r=(e.byCal||[]).reduce((d,p)=>{const c=Number((p==null?void 0:p.total_hours)??(p==null?void 0:p.hours)??0);return Number.isFinite(c)?d+c:d},0),o=t.totalHours||0,i=co({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n}),l=lo({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),f=t.categories.map(d=>{const p=Wu(d,e.byCal,e.groupsById),c=d.paceMode||t.pace.mode,v=co({includeWeekend:d.includeWeekend,mode:c,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n});return lo({id:d.id,label:d.label,actual:p,target:d.targetHours,pace:v,thresholds:t.pace.thresholds,includeWeekend:d.includeWeekend,paceMode:c})}),g=Uu({config:t,totalProgress:l,dailyHours:n,pace:i});return{total:l,categories:f,forecast:g}}function pt(e){var o,i,l,f,g,d,p,c,v,h,b,M,x,S,T,O,G,K,W,ae,q,ie,we,Se,Ie;if(typeof e=="string")try{const V=JSON.parse(e);return pt(V)}catch{return pt(void 0)}const t=Ps(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const a=s.categories.map(V=>{const ce=(V!=null&&V.id&&typeof V.id=="string"?V.id:"")||Ju(String((V==null?void 0:V.label)??"cat")),Y=typeof(V==null?void 0:V.label)=="string"&&V.label.trim()!==""?V.label.trim():Hu(ce),te=Lt(V==null?void 0:V.targetHours,0,1e4),_e=!!(V!=null&&V.includeWeekend),De=(V==null?void 0:V.paceMode)==="time_aware"?"time_aware":"days_only",Ce=Array.isArray(V==null?void 0:V.groupIds)?V.groupIds.map(me=>Number(me)).filter(me=>Number.isFinite(me)&&me>=0&&me<=9):[];return{id:ce,label:Y,targetHours:te,includeWeekend:_e,paceMode:De,groupIds:Ce}}),n=a.length?a:t.categories;return{totalHours:Lt(s.totalHours,0,1e4),categories:n,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Lt(((f=(l=s.pace)==null?void 0:l.thresholds)==null?void 0:f.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Lt(((d=(g=s.pace)==null?void 0:g.thresholds)==null?void 0:d.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((p=s.forecast)==null?void 0:p.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var ce;const V=Math.round(((ce=s.forecast)==null?void 0:ce.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(V)?V:t.forecast.momentumLastNDays))})(),padding:Lt(((c=s.forecast)==null?void 0:c.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((v=s.ui)==null?void 0:v.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((h=s.ui)==null?void 0:h.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((b=s.ui)==null?void 0:b.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((M=s.ui)==null?void 0:M.badges)??t.ui.badges),includeWeekendToggle:!!(((x=s.ui)==null?void 0:x.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((S=s.ui)==null?void 0:S.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((T=s.ui)==null?void 0:T.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Lt(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((O=s.timeSummary)==null?void 0:O.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((G=s.timeSummary)==null?void 0:G.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((K=s.timeSummary)==null?void 0:K.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((W=s.timeSummary)==null?void 0:W.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((ae=s.timeSummary)==null?void 0:ae.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((q=s.timeSummary)==null?void 0:q.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((ie=s.timeSummary)==null?void 0:ie.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((we=s.timeSummary)==null?void 0:we.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((Se=s.timeSummary)==null?void 0:Se.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((Ie=s.timeSummary)==null?void 0:Ie.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:Fu(s.activityCard,t.activityCard),balance:Ru(s.balance,n,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Hu(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Lt(e,t,s){const a=Number(e);return Number.isFinite(a)?Math.min(s,Math.max(t,Math.round(a*100)/100)):t}function cn(e,t,s){const a=Number(e);if(!Number.isFinite(a))return t;const n=Math.round(a);return n<t?t:n>s?s:n}function Fu(e,t){const s={...t};if(!e||typeof e!="object")return s;["showWeekendShare","showEveningShare","showEarliestLatest","showOverlaps","showLongestSession","showLastDayOff","showHint"].forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=!!e[r])});const n=e==null?void 0:e.forecastMode;if(typeof n=="string"){const r=n.toLowerCase();(r==="off"||r==="total"||r==="calendar"||r==="category")&&(s.forecastMode=r)}return s}function Ru(e,t,s){var f,g,d,p;const a=t.map(c=>c.id),n=new Set([...a,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const c of r){const v=typeof c=="string"?c.trim():String(c??"").trim();v&&(n.size&&!n.has(v)||o.includes(v)||o.push(v))}o.length||(a.length?o.push(...a.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},l=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((f=e==null?void 0:e.index)==null?void 0:f.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Lt(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Lt(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Lt(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((g=e==null?void 0:e.relations)==null?void 0:g.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:cn(((d=e==null?void 0:e.trend)==null?void 0:d.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((p=e==null?void 0:e.dayparts)==null?void 0:p.enabled)??s.dayparts.enabled)},ui:{roundPercent:cn(l.roundPercent??s.ui.roundPercent,0,3),roundRatio:cn(l.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(l.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(l.showInsights??s.ui.showInsights)}}}function Wu(e,t,s){if(!Array.isArray(t))return 0;const a=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let n=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),l=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);a&&!a.has(l)||(n+=o)}return n}function lo(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),a=t>0?un(s/t*100):0,n=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,n)/e.pace.daysLeft:0,i=a-e.pace.calendarPercent,l=Bu({percent:a,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:nt(s),targetHours:nt(t),percent:a,deltaHours:nt(r),remainingHours:nt(Math.max(0,n)),needPerDay:nt(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:un(e.pace.calendarPercent),gap:nt(i),status:l,statusLabel:ju(l),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function Bu(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function ju(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function co(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const a=pa(new Date),n=Ut(t),r=Ut(s),o=Ku(t,s).filter(d=>e.includeWeekend||!qu(d)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Ut(a)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Ut(a)<n)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let l=0;for(const d of o){const p=Ut(d),c=e.dailyHours.get(p)??0;if(!(!e.includeZeroDays&&c<=0&&p!==Ut(a))){if(p<Ut(a))l+=1;else if(p===Ut(a))if(e.mode==="time_aware"){const h=Math.min(new Date().getTime(),d.getTime()+rn)-d.getTime(),b=Math.max(0,Math.min(1,h/rn));(e.includeZeroDays||c>0||b>0)&&(l+=b)}else(e.includeZeroDays||c>0)&&(l+=1)}}const f=un(l/i*100),g=Math.max(0,i-l);return{totalEligible:i,elapsedEligible:l,daysLeft:g,calendarPercent:f}}function Uu(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,a=Math.max(0,Math.ceil(e.pace.daysLeft)),n=Vu(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+n*a,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,l=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",f=l==="momentum"?r:s,g=Math.max(0,f-e.config.forecast.padding),d=Math.max(0,f+e.config.forecast.padding),p=l==="momentum"?"Momentum":"Linear";return{linear:nt(s),momentum:nt(r),low:nt(Math.max(0,o)),high:nt(Math.max(0,i)),text:`${p} ${dn(e.config.forecast.padding)}h  ${dn(g)}${dn(d)} h`,primaryMethod:l,primary:nt(f),bandLow:nt(g),bandHigh:nt(d)}}function Vu(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const a=s.slice(-t),n=a.reduce((r,[,o])=>r+Math.max(0,o||0),0);return a.length?n/a.length:0}function zu(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const a=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!a)continue;const n=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(n)&&t.set(a,n)}return t}function Ku(e,t){const s=[];let a=pa(e);const n=pa(t).getTime();for(;a.getTime()<=n;)s.push(new Date(a)),a=new Date(a.getTime()+rn);return s}function uo(e){if(!e)return null;const t=e.split("-").map(a=>Number(a));if(t.length!==3||t.some(a=>!Number.isInteger(a)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:pa(s)}function pa(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Ut(e){return e.toISOString().slice(0,10)}function qu(e){const t=e.getUTCDay();return t===0||t===6}function un(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function nt(e){return isFinite(e)?Number(e.toFixed(2)):0}function dn(e){if(!isFinite(e))return"0";const t=nt(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function Ju(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const Gu={class:"card activity-card"},Zu={class:"activity-card__header"},Yu={key:0,class:"pill"},Xu={key:0,class:"activity-card__hero"},Qu={key:1,class:"activity-card__subline"},ed={key:2,class:"activity-card__meta"},td={key:3,class:"activity-card__extra"},sd={key:4,class:"activity-card__hint"},ad=Nt(Ee({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t=us(),s=e,a=B(()=>Object.assign({},t,s.config??{})),n=B(()=>{const p=[];p.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&p.push(`Active Days ${s.summary.activeDays}`);const c=l(s.summary.typicalStart,s.summary.typicalEnd);return c&&p.push(`Typical ${c}`),p.join("  ")}),r=B(()=>{const p=[];return a.value.showWeekendShare&&s.summary.weekendShare!=null&&p.push(`Weekend ${f(s.summary.weekendShare)}`),a.value.showEveningShare&&s.summary.eveningShare!=null&&p.push(`Evening ${f(s.summary.eveningShare)}`),p.join("  ")}),o=B(()=>{const p=[];if(a.value.showEarliestLatest){const c=g(s.summary.earliestStart),v=g(s.summary.latestEnd);(c||v)&&p.push({label:"Earliest/Late",value:`${c||""} / ${v||""}`})}return a.value.showOverlaps&&s.summary.overlapEvents!=null&&p.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),p}),i=B(()=>{const p=[];return a.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&p.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),a.value.showLastDayOff&&s.summary.lastDayOff&&p.push({label:"Last day off",value:d(s.summary.lastDayOff)}),a.value.showLastDayOff&&s.summary.lastHalfDayOff&&p.push({label:"Last half day",value:d(s.summary.lastHalfDayOff)}),p});function l(p,c){return p&&c?`${p}${c}`:p?`${p}`:c?`${c}`:""}function f(p){return`${Number(p||0).toFixed(1)}%`}function g(p){return p?p.length>=16?p.slice(11,16):p.length>=5?p.slice(0,5):null:null}function d(p){const c=p.trim();if(!c)return"";if(c.split("-").length>=2){const h=new Date(c.length===10?`${c}T00:00:00`:c);if(!Number.isNaN(h.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(h)}return c}return(p,c)=>(C(),A("div",Gu,[u("div",Zu,[u("span",null,"Activity & Schedule ("+P(p.rangeLabel)+")",1),p.summary.rangeLabel?(C(),A("span",Yu,P(p.summary.rangeLabel),1)):z("",!0)]),n.value?(C(),A("div",Xu,[u("span",null,P(n.value),1)])):z("",!0),r.value?(C(),A("div",Qu,[u("span",null,P(r.value),1)])):z("",!0),o.value.length?(C(),A("div",ed,[(C(!0),A(le,null,Re(o.value,v=>(C(),A("span",{key:v.label},[u("strong",null,P(v.label),1),ye(" "+P(v.value),1)]))),128))])):z("",!0),i.value.length?(C(),A("div",td,[(C(!0),A(le,null,Re(i.value,v=>(C(),A("span",{key:v.label},[u("strong",null,P(v.label),1),ye(" "+P(v.value),1)]))),128))])):z("",!0),a.value.showHint&&p.categoryHint?(C(),A("div",sd,P(p.categoryHint),1)):z("",!0)]))}}),[["__scopeId","data-v-054cbd84"]]),nd={class:"card balance-card"},rd={class:"balance-card__header"},od={key:0,class:"balance-card__hero"},id={key:1,class:"balance-card__relations"},ld={key:2,class:"balance-card__trend"},cd={key:3,class:"balance-card__insights"},ud={key:4,class:"balance-card__warnings"},dd=Nt(Ee({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,a=B(()=>Object.assign({},t,s.config??{})),n=B(()=>{if(!s.overview)return"";const f=s.overview.index??0,g=s.overview.categories.filter(p=>p.share>.1).slice(0,4).map(p=>`${p.label} ${p.share.toFixed(0)}%`),d=g.length?`  ${g.join(" | ")}`:"";return`Balance Index ${f.toFixed(2)}${d}`}),r=B(()=>{var f;return!s.overview||!((f=s.overview.relations)!=null&&f.length)?"":s.overview.relations.map(g=>`${g.label} ${g.value}`).join("  ")}),o=B(()=>{var g;if(!s.overview)return"";const f=((g=s.overview.trend)==null?void 0:g.delta)??[];return f.length?f.map(d=>{const p=d.delta>0?"+":d.delta<0?"":"";return`${d.label} ${p}${Math.abs(d.delta).toFixed(1)} pp`}).join(", "):""}),i=B(()=>{var f;return a.value.showInsights?((f=s.overview)==null?void 0:f.insights)??[]:[]}),l=B(()=>{var f;return((f=s.overview)==null?void 0:f.warnings)??[]});return(f,g)=>(C(),A("div",nd,[u("div",rd,[u("span",null,"Balance Overview ("+P(f.rangeLabel)+")",1)]),n.value?(C(),A("div",od,[u("span",null,P(n.value),1)])):z("",!0),r.value?(C(),A("div",id,P(r.value),1)):z("",!0),o.value?(C(),A("div",ld,[g[0]||(g[0]=u("strong",null,"WoW-:",-1)),ye(" "+P(o.value),1)])):z("",!0),i.value.length?(C(),A("ul",cd,[(C(!0),A(le,null,Re(i.value,d=>(C(),A("li",{key:d}," "+P(d),1))),128))])):z("",!0),l.value.length?(C(),A("ul",ud,[(C(!0),A(le,null,Re(l.value,d=>(C(),A("li",{key:d}," "+P(d),1))),128))])):z("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]),fd={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},gd={class:"sb-actions"},pd={class:"sb-list"},hd=["aria-pressed","onClick"],md={class:"cal-name"},vd={class:"cal-fields"},yd={class:"field"},bd=["value","onChange"],wd=["value"],_d={class:"field"},kd=["value","title","aria-invalid","onInput"],xd=Ee({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:a,range:n,isLoading:r,categoryOptions:o,calendarTargetMessages:i}=Fa(t),l=g=>t.calendarCategoryId(g),f=g=>t.getTarget(g);return(g,d)=>(C(),A("div",fd,[u("div",gd,[re(_(ut),{type:"tertiary",disabled:_(r),onClick:d[0]||(d[0]=p=>g.$emit("select-all",!0))},{default:Oe(()=>[...d[2]||(d[2]=[ye("All",-1)])]),_:1},8,["disabled"]),re(_(ut),{type:"tertiary",disabled:_(r),onClick:d[1]||(d[1]=p=>g.$emit("select-all",!1))},{default:Oe(()=>[...d[3]||(d[3]=[ye("None",-1)])]),_:1},8,["disabled"])]),d[8]||(d[8]=gl('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),u("div",pd,[(C(!0),A(le,null,Re(_(s),p=>{var c,v;return C(),A("div",{key:p.id,class:"cal-card"},[u("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":_(a).includes(p.id),onClick:h=>g.$emit("toggle-calendar",p.id)},[u("span",{class:"color-dot",style:Mt({background:p.color||"var(--brand)"})},null,4),u("span",md,P(p.displayname||p.id),1),u("span",{class:he(["cal-state",{on:_(a).includes(p.id)}])},P(_(a).includes(p.id)?"Selected":"Hidden"),3)],8,hd),u("div",vd,[u("label",yd,[d[5]||(d[5]=u("span",{class:"label"},"Category",-1)),u("select",{value:l(p.id),onChange:h=>g.$emit("set-category",{id:p.id,category:h.target.value})},[d[4]||(d[4]=u("option",{value:""},"Unassigned",-1)),(C(!0),A(le,null,Re(_(o),h=>(C(),A("option",{key:h.id,value:h.id},P(h.label),9,wd))),128))],40,bd)]),u("label",_d,[d[6]||(d[6]=u("span",{class:"label"},"Target (h)",-1)),u("input",{type:"number",value:f(p.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${_(n)==="week"?"week":"month"}) in hours`,"aria-invalid":!!_(i)[p.id],class:"target-input",onInput:h=>g.$emit("target-input",{id:p.id,value:h.target.value})},null,40,kd),_(i)[p.id]?(C(),A("div",{key:0,class:he(["input-message",(c=_(i)[p.id])==null?void 0:c.tone])},P((v=_(i)[p.id])==null?void 0:v.text),3)):z("",!0)])])])}),128)),d[7]||(d[7]=u("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),Sd={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},Cd={class:"target-config"},$d={class:"field"},Md=["value","aria-invalid"],Td={class:"field"},Ad=["value","aria-invalid"],Dd={class:"preset-buttons"},Pd={class:"cat-header"},Ed=["value","onInput"],Id=["disabled","onClick"],Nd={class:"cat-fields"},Ld={class:"field"},Od=["value","aria-invalid","onInput"],Hd={class:"field"},Fd=["value","onChange"],Rd={class:"field checkbox"},Wd=["checked","onChange"],Bd={class:"target-section"},jd={class:"field checkbox"},Ud=["checked"],Vd={class:"field"},zd=["value"],Kd={class:"field"},qd=["value","aria-invalid"],Jd={class:"field"},Gd=["value","aria-invalid"],Zd={class:"target-section"},Yd={class:"field"},Xd=["value"],Qd={class:"field"},ef=["value","aria-invalid"],tf={class:"field"},sf=["value","aria-invalid"],af={class:"target-section"},nf={class:"field checkbox"},rf=["checked"],of={class:"field checkbox"},lf=["checked"],cf={class:"field checkbox"},uf=["checked"],df={class:"field checkbox"},ff=["checked"],gf={class:"field checkbox"},pf=["checked"],hf={class:"field checkbox"},mf=["checked"],vf={class:"field checkbox"},yf=["checked"],bf={class:"field checkbox"},wf=["checked"],_f=Ee({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days"],setup(e){return(t,s)=>{var a,n,r,o,i,l,f,g,d,p,c,v;return C(),A("div",Sd,[s[49]||(s[49]=u("div",{class:"sb-title"},"Target Settings",-1)),u("div",Cd,[u("div",$d,[s[20]||(s[20]=u("span",{class:"label"},"Total target (h)",-1)),u("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[0]||(s[0]=h=>t.$emit("total-target-input",h.target.value))},null,40,Md),t.totalTargetMessage?(C(),A("div",{key:0,class:he(["input-message",(a=t.totalTargetMessage)==null?void 0:a.tone])},P((n=t.totalTargetMessage)==null?void 0:n.text),3)):z("",!0)]),u("div",Td,[s[21]||(s[21]=u("span",{class:"label"},"All-day event (h per day)",-1)),u("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[1]||(s[1]=h=>t.$emit("set-all-day-hours",h.target.value))},null,40,Ad),t.allDayHoursMessage?(C(),A("div",{key:0,class:he(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},P((o=t.allDayHoursMessage)==null?void 0:o.text),3)):z("",!0)]),u("div",Dd,[re(_(ut),{type:"tertiary",onClick:s[2]||(s[2]=h=>t.$emit("apply-preset","work-week"))},{default:Oe(()=>[...s[22]||(s[22]=[ye("Preset: Work-Week",-1)])]),_:1}),re(_(ut),{type:"tertiary",onClick:s[3]||(s[3]=h=>t.$emit("apply-preset","balanced-life"))},{default:Oe(()=>[...s[23]||(s[23]=[ye("Preset: Balanced-Life",-1)])]),_:1})]),(C(!0),A(le,null,Re(t.categoryOptions,h=>{var b,M;return C(),A("div",{class:"target-category",key:h.id},[u("div",Pd,[u("input",{class:"cat-name",type:"text",value:h.label,placeholder:"Category name",onInput:x=>t.$emit("set-category-label",{id:h.id,label:x.target.value})},null,40,Ed),u("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:x=>t.$emit("remove-category",h.id)},"  ",8,Id)]),u("div",Nd,[u("label",Ld,[s[24]||(s[24]=u("span",{class:"label"},"Target (h)",-1)),u("input",{type:"number",value:h.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[h.id],onInput:x=>t.$emit("set-category-target",{id:h.id,value:x.target.value})},null,40,Od),t.categoryTargetMessages[h.id]?(C(),A("div",{key:0,class:he(["input-message",(b=t.categoryTargetMessages[h.id])==null?void 0:b.tone])},P((M=t.categoryTargetMessages[h.id])==null?void 0:M.text),3)):z("",!0)]),u("label",Hd,[s[26]||(s[26]=u("span",{class:"label"},"Pace mode",-1)),u("select",{value:h.paceMode||t.targets.pace.mode,onChange:x=>t.$emit("set-category-pace",{id:h.id,mode:x.target.value})},[...s[25]||(s[25]=[u("option",{value:"days_only"},"Days only",-1),u("option",{value:"time_aware"},"Time aware",-1)])],40,Fd)]),u("label",Rd,[u("input",{type:"checkbox",checked:h.includeWeekend,onChange:x=>t.$emit("set-category-weekend",{id:h.id,value:x.target.checked})},null,40,Wd),s[27]||(s[27]=u("span",null,"Weekend",-1))])])])}),128)),re(_(ut),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[4]||(s[4]=h=>t.$emit("add-category"))},{default:Oe(()=>[...s[28]||(s[28]=[ye(" Add category ",-1)])]),_:1},8,["disabled"]),u("div",Bd,[s[34]||(s[34]=u("div",{class:"section-title"},"Pace",-1)),u("label",jd,[u("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[5]||(s[5]=h=>t.$emit("set-include-weekend-total",h.target.checked))},null,40,Ud),s[29]||(s[29]=u("span",null,"Count weekend in total pace",-1))]),u("label",Vd,[s[31]||(s[31]=u("span",{class:"label"},"Mode",-1)),u("select",{value:t.targets.pace.mode,onChange:s[6]||(s[6]=h=>t.$emit("set-pace-mode",h.target.value))},[...s[30]||(s[30]=[u("option",{value:"days_only"},"Days only",-1),u("option",{value:"time_aware"},"Time aware",-1)])],40,zd)]),u("label",Kd,[s[32]||(s[32]=u("span",{class:"label"},"On track  gap (%)",-1)),u("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[7]||(s[7]=h=>t.$emit("set-threshold",{key:"onTrack",value:h.target.value}))},null,40,qd),t.paceThresholdMessages.onTrack?(C(),A("div",{key:0,class:he(["input-message",(i=t.paceThresholdMessages.onTrack)==null?void 0:i.tone])},P((l=t.paceThresholdMessages.onTrack)==null?void 0:l.text),3)):z("",!0)]),u("label",Jd,[s[33]||(s[33]=u("span",{class:"label"},"At risk  gap (%)",-1)),u("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[8]||(s[8]=h=>t.$emit("set-threshold",{key:"atRisk",value:h.target.value}))},null,40,Gd),t.paceThresholdMessages.atRisk?(C(),A("div",{key:0,class:he(["input-message",(f=t.paceThresholdMessages.atRisk)==null?void 0:f.tone])},P((g=t.paceThresholdMessages.atRisk)==null?void 0:g.text),3)):z("",!0)])]),u("div",Zd,[s[39]||(s[39]=u("div",{class:"section-title"},"Forecast",-1)),u("label",Yd,[s[36]||(s[36]=u("span",{class:"label"},"Primary method",-1)),u("select",{value:t.targets.forecast.methodPrimary,onChange:s[9]||(s[9]=h=>t.$emit("set-forecast-method",h.target.value))},[...s[35]||(s[35]=[u("option",{value:"linear"},"Linear",-1),u("option",{value:"momentum"},"Momentum",-1)])],40,Xd)]),u("label",Qd,[s[37]||(s[37]=u("span",{class:"label"},"Momentum window (days)",-1)),u("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[10]||(s[10]=h=>t.$emit("set-forecast-momentum",h.target.value))},null,40,ef),t.forecastMomentumMessage?(C(),A("div",{key:0,class:he(["input-message",(d=t.forecastMomentumMessage)==null?void 0:d.tone])},P((p=t.forecastMomentumMessage)==null?void 0:p.text),3)):z("",!0)]),u("label",tf,[s[38]||(s[38]=u("span",{class:"label"},"Padding (h)",-1)),u("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[11]||(s[11]=h=>t.$emit("set-forecast-padding",h.target.value))},null,40,sf),t.forecastPaddingMessage?(C(),A("div",{key:0,class:he(["input-message",(c=t.forecastPaddingMessage)==null?void 0:c.tone])},P((v=t.forecastPaddingMessage)==null?void 0:v.text),3)):z("",!0)])]),u("div",af,[s[48]||(s[48]=u("div",{class:"section-title"},"Display",-1)),u("label",nf,[u("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[12]||(s[12]=h=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:h.target.checked}))},null,40,rf),s[40]||(s[40]=u("span",null,"Show calendar charts",-1))]),u("label",of,[u("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[13]||(s[13]=h=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:h.target.checked}))},null,40,lf),s[41]||(s[41]=u("span",null,"Show category charts",-1))]),u("label",cf,[u("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[14]||(s[14]=h=>t.$emit("set-ui-option",{key:"showTotalDelta",value:h.target.checked}))},null,40,uf),s[42]||(s[42]=u("span",null,"Show total delta",-1))]),u("label",df,[u("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[15]||(s[15]=h=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:h.target.checked}))},null,40,ff),s[43]||(s[43]=u("span",null,"Show need per day",-1))]),u("label",gf,[u("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[16]||(s[16]=h=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:h.target.checked}))},null,40,pf),s[44]||(s[44]=u("span",null,"Show categories",-1))]),u("label",hf,[u("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[17]||(s[17]=h=>t.$emit("set-ui-option",{key:"badges",value:h.target.checked}))},null,40,mf),s[45]||(s[45]=u("span",null,"Status badges",-1))]),u("label",vf,[u("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[18]||(s[18]=h=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:h.target.checked}))},null,40,yf),s[46]||(s[46]=u("span",null,"Weekend toggle",-1))]),u("label",bf,[u("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[19]||(s[19]=h=>t.$emit("set-include-zero-days",h.target.checked))},null,40,wf),s[47]||(s[47]=u("span",null,"Include zero days in pace",-1))])])])])}}}),kf={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},xf={class:"target-config"},Sf={class:"field"},Cf={class:"summary-mode-toggle"},$f={class:"target-section"},Mf=["checked","onChange"],Tf=Ee({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,a=t,n={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=B(()=>({...n,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,l)=>(C(),A("div",kf,[l[6]||(l[6]=u("div",{class:"sb-title"},"Time Summary",-1)),u("div",xf,[u("div",Sf,[l[4]||(l[4]=u("span",{class:"label"},"Average mode",-1)),u("div",Cf,[re(_(ga),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":l[0]||(l[0]=f=>{f&&a("update:activeMode","active")})},{default:Oe(()=>[...l[2]||(l[2]=[ye(" Active days ",-1)])]),_:1},8,["checked"]),re(_(ga),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":l[1]||(l[1]=f=>{f&&a("update:activeMode","all")})},{default:Oe(()=>[...l[3]||(l[3]=[ye(" All days ",-1)])]),_:1},8,["checked"])])]),u("div",$f,[l[5]||(l[5]=u("div",{class:"section-title"},"Display",-1)),(C(),A(le,null,Re(o,f=>u("label",{key:f.key,class:"field checkbox"},[u("input",{type:"checkbox",checked:r.value[f.key],onChange:g=>a("toggle-option",{key:f.key,value:g.target.checked})},null,40,Mf),u("span",null,P(f.label),1)])),64))])])]))}}),Af={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},Df={class:"section-title-row"},Pf=["aria-expanded"],Ef={key:0,class:"section-hint"},If={class:"target-section toggle-grid"},Nf=["checked","onChange"],Lf={class:"forecast-block"},Of={class:"field"},Hf=["value"],Ff=["value"],Rf={key:0,class:"section-hint forecast-hint"},Wf=Nt(Ee({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},forecastMode:{},forecastOptions:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option","update-forecast-mode"],setup(e,{emit:t}){const s=e,a=t,{activitySettings:n,activityToggles:r,forecastMode:o,forecastOptions:i,helpOpen:l}=Fa(s),f=B(()=>{var p;const d=(p=i.value)==null?void 0:p.find(c=>c.value===o.value);return(d==null?void 0:d.description)??""});function g(d){(d==="off"||d==="total"||d==="calendar"||d==="category")&&a("update-forecast-mode",d)}return(d,p)=>(C(),A("div",Af,[u("div",Df,[p[3]||(p[3]=u("div",{class:"section-title"},"Activity & Schedule",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(l),"aria-label":"Activity & Schedule help",onClick:p[0]||(p[0]=c=>a("toggle-help"))},[...p[2]||(p[2]=[u("span",null,"?",-1)])],8,Pf)]),_(l)?(C(),A("p",Ef,"Choose which metrics appear on the Activity & Schedule card.")):z("",!0),u("div",If,[(C(!0),A(le,null,Re(_(r),([c,v])=>(C(),A("label",{key:c,class:"field checkbox toggle-field"},[u("input",{type:"checkbox",checked:_(n)[c],onChange:h=>a("toggle-option",{key:c,value:h.target.checked})},null,40,Nf),u("span",null,P(v),1)]))),128))]),u("div",Lf,[p[5]||(p[5]=u("div",{class:"section-title"},"Bar chart projection",-1)),u("label",Of,[p[4]||(p[4]=u("span",{class:"label"},"Projection mode",-1)),u("select",{value:_(o),onChange:p[1]||(p[1]=c=>g(c.target.value))},[(C(!0),A(le,null,Re(_(i),c=>(C(),A("option",{key:c.value,value:c.value},P(c.label),9,Ff))),128))],40,Hf)]),f.value?(C(),A("p",Rf,P(f.value),1)):z("",!0)])]))}}),[["__scopeId","data-v-4d86aa83"]]),Bf={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},jf={class:"section-title-row"},Uf=["aria-expanded"],Vf={class:"target-section"},zf={class:"section-title-row"},Kf=["aria-expanded"],qf={key:0,class:"section-hint"},Jf={class:"field-grid"},Gf={class:"field"},Zf=["value","aria-invalid"],Yf={class:"field"},Xf=["value","aria-invalid"],Qf={class:"field"},eg=["value","aria-invalid"],tg={class:"target-section"},sg={class:"section-title-row"},ag=["aria-expanded"],ng={key:0,class:"section-hint"},rg={class:"field-grid"},og={class:"field"},ig=["value"],lg={class:"field"},cg=["value","aria-invalid"],ug={class:"target-section"},dg={class:"section-title-row"},fg=["aria-expanded"],gg={key:0,class:"section-hint"},pg={class:"toggle-grid"},hg={class:"field checkbox toggle-field"},mg=["checked"],vg={class:"field checkbox toggle-field"},yg=["checked"],bg={class:"field checkbox toggle-field"},wg=["checked"],_g={class:"field-grid mt-8"},kg={class:"field"},xg=["value","aria-invalid"],Sg=["value"],Cg={class:"field"},$g=["value","aria-invalid"],Mg=["value"],Tg=Ee({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,a=t,{balanceSettings:n,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:l,helpThresholds:f,helpTrend:g,helpDisplay:d}=Fa(s);return(p,c)=>{var v,h,b,M,x,S,T,O,G,K,W,ae;return C(),A("div",Bf,[u("div",jf,[c[15]||(c[15]=u("div",{class:"section-title subtitle"},"Balance Overview",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(f)||_(g)||_(d),"aria-label":"Balance Overview help",onClick:c[0]||(c[0]=q=>a("toggle-help","all"))},[...c[14]||(c[14]=[u("span",null,"?",-1)])],8,Uf)]),u("div",Vf,[u("div",zf,[c[17]||(c[17]=u("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(f),"aria-label":"Thresholds help",onClick:c[1]||(c[1]=q=>a("toggle-help","thresholds"))},[...c[16]||(c[16]=[u("span",null,"?",-1)])],8,Kf)]),_(f)?(C(),A("p",qf,"Set the share/index limits that trigger balance warnings.")):z("",!0),u("div",Jf,[u("label",Gf,[c[18]||(c[18]=u("span",{class:"label"},"Notice max share",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.noticeMaxShare,"aria-invalid":!!_(r).noticeMaxShare,onInput:c[2]||(c[2]=q=>a("set-threshold",{key:"noticeMaxShare",value:q.target.value}))},null,40,Zf),_(r).noticeMaxShare?(C(),A("div",{key:0,class:he(["input-message",(v=_(r).noticeMaxShare)==null?void 0:v.tone])},P((h=_(r).noticeMaxShare)==null?void 0:h.text),3)):z("",!0)]),u("label",Yf,[c[19]||(c[19]=u("span",{class:"label"},"Warn max share",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.warnMaxShare,"aria-invalid":!!_(r).warnMaxShare,onInput:c[3]||(c[3]=q=>a("set-threshold",{key:"warnMaxShare",value:q.target.value}))},null,40,Xf),_(r).warnMaxShare?(C(),A("div",{key:0,class:he(["input-message",(b=_(r).warnMaxShare)==null?void 0:b.tone])},P((M=_(r).warnMaxShare)==null?void 0:M.text),3)):z("",!0)]),u("label",Qf,[c[20]||(c[20]=u("span",{class:"label"},"Warn index",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.warnIndex,"aria-invalid":!!_(r).warnIndex,onInput:c[4]||(c[4]=q=>a("set-threshold",{key:"warnIndex",value:q.target.value}))},null,40,eg),_(r).warnIndex?(C(),A("div",{key:0,class:he(["input-message",(x=_(r).warnIndex)==null?void 0:x.tone])},P((S=_(r).warnIndex)==null?void 0:S.text),3)):z("",!0)])])]),u("div",tg,[u("div",sg,[c[22]||(c[22]=u("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(g),"aria-label":"Trend help",onClick:c[5]||(c[5]=q=>a("toggle-help","trend"))},[...c[21]||(c[21]=[u("span",null,"?",-1)])],8,ag)]),_(g)?(C(),A("p",ng,"Control the comparison window and how ratios are expressed.")):z("",!0),u("div",rg,[u("label",og,[c[24]||(c[24]=u("span",{class:"label"},"Relation display",-1)),u("select",{value:_(n).relations.displayMode,onChange:c[6]||(c[6]=q=>a("set-relation",q.target.value))},[...c[23]||(c[23]=[u("option",{value:"ratio"},"Ratio (A : B)",-1),u("option",{value:"factor"},"Factor (A)",-1)])],40,ig)]),u("label",lg,[c[25]||(c[25]=u("span",{class:"label"},"Trend lookback (weeks)",-1)),u("input",{type:"number",min:"1",max:"12",step:"1",value:_(n).trend.lookbackWeeks,"aria-invalid":!!_(o),onInput:c[7]||(c[7]=q=>a("set-lookback",q.target.value))},null,40,cg),_(o)?(C(),A("div",{key:0,class:he(["input-message",(T=_(o))==null?void 0:T.tone])},P((O=_(o))==null?void 0:O.text),3)):z("",!0)])])]),u("div",ug,[u("div",dg,[c[27]||(c[27]=u("div",{class:"section-subtitle subtitle"},"Display",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(d),"aria-label":"Display help",onClick:c[8]||(c[8]=q=>a("toggle-help","display"))},[...c[26]||(c[26]=[u("span",null,"?",-1)])],8,fg)]),_(d)?(C(),A("p",gg,"Toggle optional insights and adjust rounding for the card values.")):z("",!0),u("div",pg,[u("label",hg,[u("input",{type:"checkbox",checked:_(n).ui.showInsights,onChange:c[9]||(c[9]=q=>a("set-ui-toggle",{key:"showInsights",value:q.target.checked}))},null,40,mg),c[28]||(c[28]=u("span",null,"Insights",-1))]),u("label",vg,[u("input",{type:"checkbox",checked:_(n).ui.showDailyStacks,onChange:c[10]||(c[10]=q=>a("set-ui-toggle",{key:"showDailyStacks",value:q.target.checked}))},null,40,yg),c[29]||(c[29]=u("span",null,"Daily mix (experimental)",-1))]),u("label",bg,[u("input",{type:"checkbox",checked:_(n).dayparts.enabled,onChange:c[11]||(c[11]=q=>a("set-ui-toggle",{key:"dayparts",value:q.target.checked}))},null,40,wg),c[30]||(c[30]=u("span",null,"Dayparts",-1))])]),u("div",_g,[u("label",kg,[c[31]||(c[31]=u("span",{class:"label"},"Percent precision",-1)),u("select",{value:_(n).ui.roundPercent,"aria-invalid":!!_(i).roundPercent,onChange:c[12]||(c[12]=q=>a("set-ui-precision",{key:"roundPercent",value:q.target.value}))},[(C(!0),A(le,null,Re(_(l),q=>(C(),A("option",{key:`round-percent-${q}`,value:q},P(q),9,Sg))),128))],40,xg),_(i).roundPercent?(C(),A("div",{key:0,class:he(["input-message",(G=_(i).roundPercent)==null?void 0:G.tone])},P((K=_(i).roundPercent)==null?void 0:K.text),3)):z("",!0)]),u("label",Cg,[c[32]||(c[32]=u("span",{class:"label"},"Ratio precision",-1)),u("select",{value:_(n).ui.roundRatio,"aria-invalid":!!_(i).roundRatio,onChange:c[13]||(c[13]=q=>a("set-ui-precision",{key:"roundRatio",value:q.target.value}))},[(C(!0),A(le,null,Re(_(l),q=>(C(),A("option",{key:`round-ratio-${q}`,value:q},P(q),9,Mg))),128))],40,$g),_(i).roundRatio?(C(),A("div",{key:0,class:he(["input-message",(W=_(i).roundRatio)==null?void 0:W.tone])},P((ae=_(i).roundRatio)==null?void 0:ae.text),3)):z("",!0)])])])])}}}),Ag={class:"notes-section"},Dg=["title"],Pg=["value"],Eg=["title"],Ig=["value"],Ng={class:"notes-actions"},Lg=Nt(Ee({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(C(),A("div",Ag,[u("div",{class:"hint",title:t.prevTitle},P(t.prevLabel),9,Dg),u("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,Pg),u("div",{class:"hint",title:t.currTitle},P(t.currLabel),9,Eg),u("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=a=>t.$emit("update:modelValue",a.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,Ig),u("div",Ng,[re(_(ut),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=a=>t.$emit("save"))},{default:Oe(()=>[...s[2]||(s[2]=[ye("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),Og={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},Hg=Ee({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,a=t,{previous:n,modelValue:r,prevLabel:o,currLabel:i,prevTitle:l,currTitle:f,saving:g}=s;return(d,p)=>(C(),A("div",Og,[p[2]||(p[2]=u("div",{class:"sb-title"},"Notes",-1)),re(Lg,{previous:_(n),"model-value":_(r),"prev-label":_(o),"curr-label":_(i),"prev-title":_(l),"curr-title":_(f),saving:_(g),"onUpdate:modelValue":p[0]||(p[0]=c=>a("update:modelValue",c)),onSave:p[1]||(p[1]=c=>a("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}}),Fg={id:"opsdash-sidebar-pane-config",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-config"},Rg={class:"preset-form"},Wg=["disabled"],Bg={key:0,class:"preset-error"},jg={key:0,class:"preset-warnings"},Ug={class:"preset-header"},Vg={key:1,class:"preset-empty"},zg={key:2,class:"preset-list"},Kg={class:"preset-meta"},qg={class:"preset-name"},Jg={class:"preset-info"},Gg={key:0},Zg={class:"preset-actions"},Yg=Nt(Ee({__name:"SidebarConfigPane",props:{presets:{},isLoading:{type:Boolean},isSaving:{type:Boolean},isApplying:{type:Boolean},warnings:{}},emits:["save","load","delete","refresh","clear-warnings"],setup(e,{emit:t}){const s=t,a=se(""),n=se(null);function r(){const f=a.value.trim();if(!f){n.value="Enter a profile name";return}n.value=null,s("save",f),a.value=""}function o(f){s("load",f)}function i(f){window.confirm(`Delete profile "${f}"?`)&&s("delete",f)}function l(f){if(!f)return"";const g=new Date(f);if(Number.isNaN(g.getTime()))return f;const p=new Date().getTime()-g.getTime(),c=Math.round(p/6e4);if(c<1)return"just now";if(c<60)return`${c} min ago`;const v=Math.round(c/60);if(v<24)return`${v} h ago`;const h=Math.round(v/24);return h<7?`${h} d ago`:g.toLocaleDateString()}return os(()=>{s("refresh")}),(f,g)=>(C(),A("div",Fg,[g[8]||(g[8]=u("div",{class:"sb-title"},"Configuration Profiles",-1)),g[9]||(g[9]=u("p",{class:"sb-description"}," Save and restore complete sidebar configurations (calendars, groups, targets, settings). ",-1)),u("div",Rg,[g[3]||(g[3]=u("label",{class:"preset-label",for:"preset-name"},"Profile name",-1)),ws(u("input",{id:"preset-name","onUpdate:modelValue":g[0]||(g[0]=d=>a.value=d),type:"text",placeholder:"e.g. Focus week",disabled:f.isSaving,onKeyup:Zl(r,["enter"])},null,40,Wg),[[Kl,a.value]]),n.value?(C(),A("div",Bg,P(n.value),1)):z("",!0),re(_(ut),{class:"preset-save",type:"primary",disabled:f.isSaving||!a.value.trim(),onClick:r},{default:Oe(()=>[ye(P(f.isSaving?"Saving":"Save current configuration"),1)]),_:1},8,["disabled"])]),f.warnings.length?(C(),A("div",jg,[g[5]||(g[5]=u("div",{class:"warnings-title"},"Warnings",-1)),u("ul",null,[(C(!0),A(le,null,Re(f.warnings,(d,p)=>(C(),A("li",{key:p},P(d),1))),128))]),re(_(ut),{type:"tertiary",class:"preset-clear",onClick:g[1]||(g[1]=d=>s("clear-warnings"))},{default:Oe(()=>[...g[4]||(g[4]=[ye(" Clear warnings ",-1)])]),_:1})])):z("",!0),u("div",Ug,[g[6]||(g[6]=u("h3",null,"Saved profiles",-1)),re(_(ut),{type:"tertiary",disabled:f.isLoading,onClick:g[2]||(g[2]=d=>s("refresh"))},{default:Oe(()=>[ye(P(f.isLoading?"Refreshing":"Refresh list"),1)]),_:1},8,["disabled"])]),!f.presets.length&&!f.isLoading?(C(),A("div",Vg," No profiles yet. Save one above to get started. ")):(C(),A("ul",zg,[(C(!0),A(le,null,Re(f.presets,d=>(C(),A("li",{key:d.name,class:"preset-item"},[u("div",Kg,[u("div",qg,P(d.name),1),u("div",Jg,[u("span",null,P(d.selectedCount)+" calendars",1),u("span",null,P(d.calendarCount)+" groups",1),d.updatedAt?(C(),A("span",Gg,"Updated "+P(l(d.updatedAt)),1)):z("",!0)])]),u("div",Zg,[re(_(ut),{type:"primary",disabled:f.isApplying,onClick:p=>o(d.name)},{default:Oe(()=>[ye(P(f.isApplying?"Applying":"Load"),1)]),_:2},1032,["disabled","onClick"]),re(_(ut),{type:"tertiary",disabled:f.isApplying,onClick:p=>i(d.name)},{default:Oe(()=>[...g[7]||(g[7]=[ye(" Delete ",-1)])]),_:2},1032,["disabled","onClick"])])]))),128))]))]))}}),[["__scopeId","data-v-d602d23c"]]);function Xg(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const a=Number(e);if(!Number.isFinite(a))return{value:null,error:"Enter a valid number"};let n=a,r;if(typeof t.min=="number"&&n<t.min&&(n=t.min,r=fn(t)),typeof t.max=="number"&&n>t.max&&(n=t.max,r=fn(t)),typeof t.step=="number"&&t.step>0){const i=ep(n,t.step);i!==n&&(n=i,r=fn(t))}const o=fo(t);return typeof o=="number"&&(n=Number(n.toFixed(o))),{value:n,warning:r}}function Qg(e,t){const s=Xg(e,t),a=[];return s.error&&a.push({severity:"error",message:s.error}),s.warning&&a.push({severity:"warning",message:s.warning}),{value:s.value,issues:a}}function ep(e,t){const s=fo({step:t}),a=Math.round(e/t)*t;return typeof s=="number"?Number(a.toFixed(s)):a}function fo(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return tp(e.step)}function tp(e){const t=e.toString();if(t.includes("e-")){const[,a]=t.split("e-");return Number(a)}const[,s=""]=t.split(".");return s.length}function fn(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function sp(e,t,s="Enter a valid number"){const a=Qg(e,t),n=a.issues.find(i=>i.severity==="error"),r=a.issues.find(i=>i.severity==="warning");let o=null;return n||a.value===null?o={text:(n==null?void 0:n.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!n&&a.value!==null,value:a.value,message:o}}function Ct(e,t,s,a,n){const{ok:r,value:o,message:i}=sp(e,t,n);return s(i),!r||o===null?!1:(a(o),!0)}const ap={class:"rangebar",title:"Time range"},np={class:"range-actions"},rp=["disabled"],op=["aria-label"],ip={class:"range-toggle"},lp={class:"range-nav"},cp={class:"range-dates"},up={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},dp=["aria-selected"],fp=["aria-selected"],gp=["aria-selected"],pp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},hp=["aria-selected"],mp=["aria-selected"],vp=["aria-selected"],yp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Advanced configuration"},bp=["aria-selected"],wp=Nt(Ee({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{},presets:{},presetsLoading:{type:Boolean},presetSaving:{type:Boolean},presetApplying:{type:Boolean},presetWarnings:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav","save-preset","load-preset","delete-preset","refresh-presets","clear-preset-warnings"],setup(e,{emit:t}){const s=e,a=t,n=se("calendars"),r=B(()=>s.targetsConfig),o=B(()=>{var k;return((k=r.value)==null?void 0:k.categories)??[]}),i=B(()=>s.presets??[]);function l(k){const w=pt(JSON.parse(JSON.stringify(s.targetsConfig||{})));k(w),a("update:targets-config",w)}const f=B(()=>we()!==null),g=B(()=>{var k;return((k=r.value)==null?void 0:k.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),d=B(()=>{var k;return{...us(),...((k=r.value)==null?void 0:k.activityCard)??{}}}),p={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},c=B(()=>Object.entries(p)),v=[{value:"off",label:"Do not project future days",description:"Keep charts empty until events occur."},{value:"total",label:"Distribute remaining total target",description:"Split leftover total target hours evenly across future days using current calendar mix."},{value:"calendar",label:"Respect calendar targets",description:"Use per-calendar targets for the current range and spread remaining hours across future days."},{value:"category",label:"Respect category targets",description:"Allocate remaining category targets across future days according to current mappings."}],h=B(()=>{var N;const k=nn(),w=((N=r.value)==null?void 0:N.balance)??k;return{...k,...w,thresholds:{...k.thresholds,...w.thresholds??{}},relations:{...k.relations,...w.relations??{}},trend:{...k.trend,...w.trend??{}},dayparts:{...k.dayparts,...w.dayparts??{}},ui:{...k.ui,...w.ui??{}}}}),b=[0,1,2,3],M=wt({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),x=wt({}),S=wt({}),T=se(null),O=se(null),G=wt({onTrack:null,atRisk:null}),K=wt({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),W=se(null),ae=se(null),q=se(null),ie=wt({roundPercent:null,roundRatio:null});function we(){const k=new Set;for(const w of o.value)(w.groupIds||[]).forEach(N=>k.add(Number(N)));Object.values(s.groupsById||{}).forEach(w=>k.add(Number(w)));for(let w=1;w<=9;w++)if(!k.has(w))return w;return null}function Se(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function Ie(k){const w=te(k),N=o.value.find(pe=>Array.isArray(pe.groupIds)&&pe.groupIds.includes(w));return N?N.id:""}function V(k,w){if(!w){a("set-group",{id:k,n:0});return}const N=o.value.find(ot=>ot.id===w);if(!N){a("set-group",{id:k,n:0});return}const pe=ce(N.id);a("set-group",{id:k,n:pe})}function ce(k){const w=o.value.find(ot=>ot.id===k);if(!w)return 0;const N=Array.isArray(w.groupIds)&&w.groupIds.length?Number(w.groupIds[0]):null;if(N&&Number.isFinite(N))return N;const pe=we()??0;return l(ot=>{const va=ot.categories.find(Kt=>Kt.id===k);va&&(va.groupIds=pe?[pe]:[])}),pe}function Y(k,w){l(N=>{const pe=N.categories.find(ot=>ot.id===k);pe&&w(pe)})}function te(k){const w=Number((s.groupsById||{})[k]??0);return isFinite(w)?Math.max(0,Math.min(9,Math.trunc(w))):0}function _e(k){const w=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},N=Number(w[k]??"");return isFinite(N)?N:""}function De(k){a("select-all",k)}function Ce(k){a("toggle-calendar",k)}function me(k){V(k.id,k.category)}function ve(k){m(k.id,k.value)}function $e(k){F(k.key,k.value)}function ze(k){H(k.key,k.value)}function Me(k){k!=="off"&&k!=="total"&&k!=="calendar"&&k!=="category"||l(w=>{w.activityCard||(w.activityCard=us()),w.activityCard.forecastMode=k})}function xe(){M.activity=!M.activity}function Q(k){if(k==="all"){const w=!(M.balanceThresholds&&M.balanceTrend&&M.balanceDisplay);M.balanceThresholds=w,M.balanceTrend=w,M.balanceDisplay=w;return}k==="thresholds"?M.balanceThresholds=!M.balanceThresholds:k==="trend"?M.balanceTrend=!M.balanceTrend:k==="display"&&(M.balanceDisplay=!M.balanceDisplay)}function He(k){ee(k.key,k.value)}function We(k){if(k.key==="dayparts"){l(w=>{w.balance.dayparts.enabled=k.value});return}ue(k.key,k.value)}function dt(k){Te(k.key,k.value)}function m(k,w){Ct(w,{min:0,max:1e4,step:.25,decimals:2},N=>{x[k]=N},N=>a("set-target",{id:k,h:N}))}function y(k){Ct(k,{min:0,max:1e3,step:.5,decimals:2},w=>{T.value=w},w=>l(N=>{N.totalHours=w}))}function $(k){Ct(k,{min:0,max:24,step:.25,decimals:2},w=>{O.value=w},w=>l(N=>{N.allDayHours=w}),"024 hours per day")}function I(k,w){Ct(w,{min:0,max:1e3,step:.5,decimals:2},N=>{S[k]=N},N=>Y(k,pe=>{pe.targetHours=N}))}function D(k,w){Y(k,N=>{N.label=w.trim()||N.label})}function E(k,w){Y(k,N=>{N.includeWeekend=w})}function R(k){s.activeDayMode!==k&&a("update:active-mode",k)}function F(k,w){l(N=>{N.timeSummary||(N.timeSummary=JSON.parse(JSON.stringify(g.value))),N.timeSummary[k]=w})}function H(k,w){l(N=>{N.activityCard||(N.activityCard=us()),N.activityCard[k]=w})}function L(k,w){w!=="days_only"&&w!=="time_aware"||Y(k,N=>{N.paceMode=w})}function X(k){l(w=>{w.pace.includeWeekendTotal=k})}function j(k){k!=="days_only"&&k!=="time_aware"||l(w=>{w.pace.mode=k})}function Z(k,w){Ct(w,{min:-100,max:100,step:.1,decimals:1},N=>{G[k]=N},N=>l(pe=>{pe.pace.thresholds[k]=N}))}function ee(k,w){Ct(w,{min:0,max:1,step:.01,decimals:2},N=>{K[k]=N},N=>l(pe=>{pe.balance.thresholds[k]=Number(N.toFixed(2))}))}function fe(k){const w=k==="factor"?"factor":"ratio";l(N=>{N.balance.relations.displayMode=w})}function ge(k){Ct(k,{min:1,max:12,step:1,decimals:0},w=>{q.value=w},w=>l(N=>{N.balance.trend.lookbackWeeks=w}))}function ue(k,w){l(N=>{N.balance.ui[k]=w})}function Te(k,w){Ct(w,{min:0,max:3,step:1,decimals:0},N=>{ie[k]=N},N=>l(pe=>{pe.balance.ui[k]=N}))}function Le(k){const w=k==="momentum"?"momentum":"linear";l(N=>{N.forecast.methodPrimary=w})}function Be(k){Ct(k,{min:1,max:14,step:1,decimals:0},w=>{W.value=w},w=>l(N=>{N.forecast.momentumLastNDays=w}))}function Ge(k){Ct(k,{min:0,max:100,step:.1,decimals:1},w=>{ae.value=w},w=>l(N=>{N.forecast.padding=w}))}function tt(k,w){l(N=>{N.ui[k]=w})}function Vt(k){l(w=>{w.includeZeroDaysInStats=k})}function je(k){l(w=>{k==="work-week"?(w.totalHours=48,w.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],w.allDayHours=8,w.pace.includeWeekendTotal=!0,w.pace.mode="days_only",w.pace.thresholds={onTrack:-2,atRisk:-10},w.forecast.methodPrimary="linear",w.forecast.momentumLastNDays=2,w.forecast.padding=1.5,w.includeZeroDaysInStats=!1,w.ui.showCalendarCharts=!0,w.ui.showCategoryCharts=!0):k==="balanced-life"&&(w.totalHours=48,w.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],w.allDayHours=8,w.pace.includeWeekendTotal=!0,w.pace.mode="time_aware",w.pace.thresholds={onTrack:-2,atRisk:-10},w.forecast.methodPrimary="linear",w.forecast.momentumLastNDays=2,w.forecast.padding=1.5,w.includeZeroDaysInStats=!1,w.ui.showCalendarCharts=!0,w.ui.showCategoryCharts=!0)})}function st(){var w;const k=we();if(k===null){(w=window.alert)==null||w.call(window,"All category slots are currently in use (max 9).");return}l(N=>{N.categories=[...N.categories,{id:Se(),label:`Category ${N.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[k]}]})}function zt(k){if(o.value.length<=1)return;const w=o.value.find(pe=>pe.id===k);if(!w)return;const N=Array.isArray(w.groupIds)&&w.groupIds.length?Number(w.groupIds[0]):null;l(pe=>{pe.categories=pe.categories.filter(ot=>ot.id!==k)}),N!==null&&Object.entries(s.groupsById||{}).forEach(([pe,ot])=>{Number(ot)===N&&a("set-group",{id:pe,n:0})})}return(k,w)=>(C(),Ve(_(ac),null,{default:Oe(()=>[Ni(k.$slots,"actions",{},void 0,!0),w[30]||(w[30]=u("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),u("div",ap,[u("div",np,[u("button",{class:"sidebar-action-btn",type:"button",disabled:k.isLoading,onClick:w[0]||(w[0]=N=>k.$emit("load"))}," Refresh ",8,rp),u("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:w[1]||(w[1]=N=>k.$emit("toggle-nav")),"aria-label":k.navToggleLabel},P(k.navToggleIcon),9,op)]),u("div",ip,[re(_(ga),{type:"radio",name:"range-week",checked:k.range==="week","onUpdate:checked":w[2]||(w[2]=N=>{N&&k.$emit("update:range","week")})},{default:Oe(()=>[...w[26]||(w[26]=[ye("Week",-1)])]),_:1},8,["checked"]),re(_(ga),{type:"radio",name:"range-month",checked:k.range==="month","onUpdate:checked":w[3]||(w[3]=N=>{N&&k.$emit("update:range","month")})},{default:Oe(()=>[...w[27]||(w[27]=[ye("Month",-1)])]),_:1},8,["checked"])]),u("div",lp,[re(_(ut),{class:"nav-btn",type:"tertiary",disabled:k.isLoading,onClick:w[4]||(w[4]=N=>k.$emit("update:offset",k.offset-1)),title:"Previous"},{default:Oe(()=>[...w[28]||(w[28]=[ye("",-1)])]),_:1},8,["disabled"]),u("span",cp,P(k.from)+"  "+P(k.to),1),re(_(ut),{class:"nav-btn",type:"tertiary",disabled:k.isLoading,onClick:w[5]||(w[5]=N=>k.$emit("update:offset",k.offset+1)),title:"Next"},{default:Oe(()=>[...w[29]||(w[29]=[ye("",-1)])]),_:1},8,["disabled"])])]),u("div",up,[u("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:he(["sb-tab",{active:n.value==="calendars"}]),role:"tab","aria-selected":n.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:w[6]||(w[6]=N=>n.value="calendars")}," Calendars ",10,dp),u("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:he(["sb-tab",{active:n.value==="targets"}]),role:"tab","aria-selected":n.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:w[7]||(w[7]=N=>n.value="targets")}," Targets ",10,fp),u("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:he(["sb-tab",{active:n.value==="summary"}]),role:"tab","aria-selected":n.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:w[8]||(w[8]=N=>n.value="summary")}," Summary ",10,gp)]),u("div",pp,[u("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:he(["sb-tab",{active:n.value==="activity"}]),role:"tab","aria-selected":n.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:w[9]||(w[9]=N=>n.value="activity")}," Activity & Schedule ",10,hp),u("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:he(["sb-tab",{active:n.value==="balance"}]),role:"tab","aria-selected":n.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:w[10]||(w[10]=N=>n.value="balance")}," Balance ",10,mp),u("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:he(["sb-tab",{active:n.value==="notes"}]),role:"tab","aria-selected":n.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:w[11]||(w[11]=N=>n.value="notes")}," Notes ",10,vp)]),u("div",yp,[u("button",{id:"opsdash-sidebar-tab-config",type:"button",class:he(["sb-tab",{active:n.value==="config"}]),role:"tab","aria-selected":n.value==="config","aria-controls":"opsdash-sidebar-pane-config",onClick:w[12]||(w[12]=N=>n.value="config")}," Config ",10,bp)]),n.value==="calendars"?(C(),Ve(xd,{key:0,calendars:k.calendars,selected:k.selected,range:k.range,"is-loading":k.isLoading,"category-options":o.value,"calendar-target-messages":x,"calendar-category-id":Ie,"get-target":_e,onSelectAll:De,onToggleCalendar:Ce,onSetCategory:me,onTargetInput:ve},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):n.value==="targets"?(C(),Ve(_f,{key:1,targets:r.value,"category-options":o.value,"total-target-message":T.value,"all-day-hours-message":O.value,"category-target-messages":S,"pace-threshold-messages":G,"forecast-momentum-message":W.value,"forecast-padding-message":ae.value,"can-add-category":f.value,onTotalTargetInput:y,onApplyPreset:je,onSetAllDayHours:$,onSetCategoryLabel:w[13]||(w[13]=({id:N,label:pe})=>D(N,pe)),onRemoveCategory:zt,onSetCategoryTarget:w[14]||(w[14]=({id:N,value:pe})=>I(N,pe)),onSetCategoryPace:w[15]||(w[15]=({id:N,mode:pe})=>L(N,pe)),onSetCategoryWeekend:w[16]||(w[16]=({id:N,value:pe})=>E(N,pe)),onAddCategory:st,onSetIncludeWeekendTotal:X,onSetPaceMode:j,onSetThreshold:w[17]||(w[17]=({key:N,value:pe})=>Z(N,pe)),onSetForecastMethod:Le,onSetForecastMomentum:Be,onSetForecastPadding:Ge,onSetUiOption:w[18]||(w[18]=({key:N,value:pe})=>tt(N,pe)),onSetIncludeZeroDays:Vt},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):n.value==="summary"?(C(),Ve(Tf,{key:2,"summary-options":g.value,"active-day-mode":k.activeDayMode,"onUpdate:activeMode":R,onToggleOption:$e},null,8,["summary-options","active-day-mode"])):n.value==="config"?(C(),Ve(Yg,{key:3,presets:i.value,"is-loading":s.presetsLoading,"is-saving":s.presetSaving,"is-applying":s.presetApplying,warnings:s.presetWarnings,onSave:w[19]||(w[19]=N=>a("save-preset",N)),onLoad:w[20]||(w[20]=N=>a("load-preset",N)),onDelete:w[21]||(w[21]=N=>a("delete-preset",N)),onRefresh:w[22]||(w[22]=()=>a("refresh-presets")),onClearWarnings:w[23]||(w[23]=()=>a("clear-preset-warnings"))},null,8,["presets","is-loading","is-saving","is-applying","warnings"])):n.value==="activity"?(C(),Ve(Wf,{key:4,"activity-settings":d.value,"activity-toggles":c.value,"forecast-mode":d.value.forecastMode,"forecast-options":v,"help-open":M.activity,onToggleHelp:xe,onToggleOption:ze,onUpdateForecastMode:Me},null,8,["activity-settings","activity-toggles","forecast-mode","help-open"])):n.value==="balance"?(C(),Ve(Tg,{key:5,"balance-settings":h.value,"balance-threshold-messages":K,"balance-lookback-message":q.value,"balance-ui-precision-messages":ie,"rounding-options":b,"help-thresholds":M.balanceThresholds,"help-trend":M.balanceTrend,"help-display":M.balanceDisplay,onToggleHelp:Q,onSetThreshold:He,onSetRelation:fe,onSetLookback:ge,onSetUiToggle:We,onSetUiPrecision:dt},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):n.value==="notes"?(C(),Ve(Hg,{key:6,previous:k.notesPrev,"model-value":k.notesCurrDraft,"prev-label":k.notesLabelPrev,"curr-label":k.notesLabelCurr,"prev-title":k.notesLabelPrevTitle,"curr-title":k.notesLabelCurrTitle,saving:k.isSavingNote,"onUpdate:modelValue":w[24]||(w[24]=N=>k.$emit("update:notes",N)),onSave:w[25]||(w[25]=N=>k.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):z("",!0)]),_:3}))}}),[["__scopeId","data-v-4d654bff"]]);function _p(e){const t=se(""),s=se(""),a=se(!1);async function n(){var i,l;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((l=o==null?void 0:o.notes)==null?void 0:l.current)??"")}async function r(){try{a.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await n()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{a.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:a,fetchNotes:n,saveNotes:r}}function kp(e){const t=se([]),s=se({}),a=se({}),n=se({}),r=se([]),o=se(!1),i=se(!1),l=se(null),f=se(""),g=se(""),d=se(""),p=wt({}),c=se([]),v=se([]),h=se([]),b=se({}),M=se({}),x=se({}),S=se(pt(Ps()));let T=0;async function O(){var K,W,ae,q,ie,we,Se,Ie,V,ce,Y,te,_e,De,Ce,me,ve,$e,ze,Me;const G=++T;o.value=!0;try{const xe={range:e.range.value,offset:e.offset.value|0,save:!1},Q=await e.getJson(e.route("load"),xe);if(G!==T){(K=e.isDebug)!=null&&K.call(e)&&console.warn("discarding stale load response",{currentSeq:G,loadSeq:T});return}f.value=String(((W=Q.meta)==null?void 0:W.uid)??""),g.value=String(((ae=Q.meta)==null?void 0:ae.from)??""),d.value=String(((q=Q.meta)==null?void 0:q.to)??""),i.value=!!((ie=Q.meta)!=null&&ie.truncated),l.value=((we=Q.meta)==null?void 0:we.limits)??null,t.value=Array.isArray(Q.calendars)?Q.calendars:[],s.value=((Se=Q.colors)==null?void 0:Se.byName)??{},a.value=((Ie=Q.colors)==null?void 0:Ie.byId)??{};const He=((V=Q.groups)==null?void 0:V.byId)??((ce=Q.groups)==null?void 0:ce.byID)??((Y=Q.groups)==null?void 0:Y.ids)??{},We={};t.value.forEach(y=>{const $=String((y==null?void 0:y.id)??""),I=Number((He==null?void 0:He[$])??0);We[$]=Number.isFinite(I)?Math.max(0,Math.min(9,Math.trunc(I))):0}),n.value=We;const dt=((te=Q.targets)==null?void 0:te.week)??{},m=((_e=Q.targets)==null?void 0:_e.month)??{};if(M.value=dt&&typeof dt=="object"?dt:{},x.value=m&&typeof m=="object"?m:{},S.value=pt(Q.targetsConfig??Ps()),(De=e.isDebug)!=null&&De.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(y=>({id:y.id,name:y.displayname,color:y.color,raw:y.color_raw,src:y.color_src}))),console.log("colors.byId",a.value),console.log("colors.byName",s.value),Q.calDebug&&console.log("server calDebug",Q.calDebug),Q.debug&&(console.group("[opsdash] server query debug"),console.log(Q.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter($=>!$.color||$.color_src==="fallback").length)try{const $=await e.fetchDavColors(f.value,t.value.map(D=>String(D.id)));let I=!1;if(t.value=t.value.map(D=>{const E=$[D.id];return E&&E!==D.color&&(D.color_src="dav"(D).color_raw=E,D.color=E,I=!0),D}),Object.entries($).forEach(([D,E])=>{E&&(a.value[D]=String(E))}),I){(Ce=e.isDebug)!=null&&Ce.call(e)&&console.log("[opsdash] dav colors applied",$);try{const D=((me=b.value)==null?void 0:me.pie)||{},E=D.ids||[],R=D.colors||[],F=E.map((H,L)=>a.value[H]||R[L]||"#60a5fa");b.value={...b.value||{},pie:{...D,colors:F}},(ve=e.isDebug)!=null&&ve.call(e)&&console.log("[opsdash] recomputed pie colors",F)}catch(D){($e=e.isDebug)!=null&&$e.call(e)&&console.warn("recompute pie colors failed",D)}try{const D=(ze=b.value)==null?void 0:ze.perDaySeries;if(D&&Array.isArray(D.series)){const E=D.series.map(R=>({...R,color:a.value[R.id]||R.color||"#60a5fa"}));b.value={...b.value||{},perDaySeries:{labels:D.labels,series:E}}}}catch{}e.scheduleDraw()}}catch($){(Me=e.isDebug)!=null&&Me.call(e)&&console.warn("dav colors failed",$)}r.value=Array.isArray(Q.selected)?Q.selected.map(y=>String(y)):Array.isArray(Q.saved)?Q.saved.map(y=>String(y)):[],e.userChangedSelection.value=!1,Object.assign(p,Q.stats??{}),c.value=Array.isArray(Q.byCal)?Q.byCal:[],v.value=Array.isArray(Q.byDay)?Q.byDay:[],h.value=Array.isArray(Q.longest)?Q.longest:[],b.value=Q.charts??{},await Ys(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(xe){console.error(xe),e.notifyError("Failed to load data")}finally{o.value=!1}}return{calendars:t,colorsByName:s,colorsById:a,groupsById:n,selected:r,isLoading:o,isTruncated:i,truncLimits:l,uid:f,from:g,to:d,stats:p,byCal:c,byDay:v,longest:h,charts:b,targetsWeek:M,targetsMonth:x,targetsConfig:S,load:O}}function xp(e){const t=se(!1);let s=null;function a(n=!0){s&&clearTimeout(s),s=setTimeout(async()=>{s=null;try{t.value=!0;const r=await e.postJson(e.route("persist"),{cals:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:ln(e.targetsConfig.value)});Array.isArray(r.read)?e.selected.value=r.read.map(l=>String(l)):Array.isArray(r.saved)&&(e.selected.value=r.saved.map(l=>String(l)));const o=r.targets_config_read,i=r.targets_config_saved;o?e.targetsConfig.value=pt(o):i&&(e.targetsConfig.value=pt(i)),n&&e.onReload&&await e.onReload(),e.notifySuccess("Selection saved")}catch(r){console.error(r),e.notifyError("Failed to save selection")}finally{t.value=!1}},250)}return{queueSave:a,isSaving:t}}const Sp=1e4;function Cp(e){function t(f){return e.selected.value.includes(f)}function s(f,g){const d=new Set(e.selected.value);g?d.add(f):d.delete(f),e.selected.value=Array.from(d)}function a(f){s(f,!t(f)),e.userChangedSelection.value=!0,e.queueSave()}function n(f){e.selected.value=f?e.calendars.value.map(g=>String(g.id)):[]}function r(f,g){const d=Math.max(0,Math.min(9,Math.trunc(Number(g)||0))),p=e.groupsById.value??{};e.groupsById.value={...p,[f]:d},e.queueSave(!1)}function o(f){const g=Math.round(f*100)/100;return Math.min(Sp,Math.max(0,g))}function i(f,g){const d=Number(g);if(!Number.isFinite(d)||d<0)return;const p=o(d);if(e.range.value==="month"){const c=o(p/4);e.targetsMonth.value={...e.targetsMonth.value||{},[f]:p},e.targetsWeek.value={...e.targetsWeek.value||{},[f]:c}}else{const c=o(p*4);e.targetsWeek.value={...e.targetsWeek.value||{},[f]:p},e.targetsMonth.value={...e.targetsMonth.value||{},[f]:c}}e.queueSave(!1)}function l(f){e.targetsConfig.value=pt(f),e.queueSave(!1)}return{isSelected:t,toggleCalendar:a,setGroup:r,setTarget:i,updateTargetsConfig:l,selectAll:n}}function $p(e){const t=se([]),s=se(!1),a=se(!1),n=se(!1),r=se([]),o=se(null);async function i(){s.value=!0;try{const c=await e.getJson(e.route("presetsList"),{});t.value=Array.isArray(c==null?void 0:c.presets)?c.presets:[]}catch(c){console.error(c),e.notifyError("Failed to load presets")}finally{s.value=!1}}async function l(c){const v=c.trim();if(v===""){e.notifyError("Enter a preset name.");return}a.value=!0;try{const h={name:v,selected:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:e.targetsConfig.value},b=await e.postJson(e.route("presetsSave"),h);t.value=Array.isArray(b==null?void 0:b.presets)?b.presets:t.value;const M=Array.isArray(b==null?void 0:b.warnings)?b.warnings:[];r.value=M,o.value=v,e.notifySuccess(`Profile "${v}" saved`)}catch(h){console.error(h),e.notifyError("Failed to save preset")}finally{a.value=!1}}function f(c){const v=Array.isArray(c==null?void 0:c.selected)?c.selected.map(M=>String(M)):[];e.selected.value=v;const h=c!=null&&c.groups&&typeof c.groups=="object"?c.groups:{};e.groupsById.value={...h},e.targetsWeek.value=c!=null&&c.targets_week&&typeof c.targets_week=="object"?c.targets_week:{},e.targetsMonth.value=c!=null&&c.targets_month&&typeof c.targets_month=="object"?c.targets_month:{};const b=c!=null&&c.targets_config&&typeof c.targets_config=="object"?pt(c.targets_config):ln(e.targetsConfig.value);e.targetsConfig.value=b,e.userChangedSelection.value=!1}async function g(c){const v=c.trim();if(v!==""){n.value=!0;try{const h=await e.getJson(e.route("presetsLoad",v),{}),b=(h==null?void 0:h.preset)??{},M=Array.isArray(b==null?void 0:b.warnings)?b.warnings:Array.isArray(h==null?void 0:h.warnings)?h.warnings:[];if(M.length){const x=`Some items in the saved profile are no longer available:

${M.map(S=>` ${S}`).join(`
`)}

Apply the remaining values?`;if(!window.confirm(x)){r.value=M,n.value=!1;return}}f(b),r.value=M,o.value=v,e.notifySuccess(`Profile "${v}" applied`),e.queueSave(!0),i().catch(x=>console.warn("[opsdash] refresh presets after load failed",x))}catch(h){console.error(h),e.notifyError("Failed to load preset")}finally{n.value=!1}}}async function d(c){const v=c.trim();if(v!=="")try{const h=await e.deleteJson(e.route("presetsDelete",v));t.value=Array.isArray(h==null?void 0:h.presets)?h.presets:t.value,e.notifySuccess(`Profile "${v}" deleted`),o.value===v&&(o.value=null)}catch(h){console.error(h),e.notifyError("Failed to delete preset")}}function p(){r.value=[]}return{presets:t,presetsLoading:s,presetSaving:a,presetApplying:n,presetWarnings:r,lastLoadedPreset:o,refreshPresets:i,savePreset:l,loadPreset:g,deletePreset:d,clearPresetWarnings:p}}function Mp(){let e=null;function t(){typeof window>"u"||typeof window.requestAnimationFrame!="function"||(e!==null&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{e=null,window.dispatchEvent(new Event("resize"))}))}return ja(()=>{e!==null&&typeof window<"u"&&typeof window.cancelAnimationFrame=="function"&&(window.cancelAnimationFrame(e),e=null)}),{scheduleDraw:t}}const Tp={load:"/apps/opsdash/overview/load",persist:"/apps/opsdash/overview/persist",notes:"/apps/opsdash/overview/notes",notesSave:"/apps/opsdash/overview/notes",presetsList:"/apps/opsdash/overview/presets",presetsSave:"/apps/opsdash/overview/presets",presetsLoad:"/apps/opsdash/overview/presets",presetsDelete:"/apps/opsdash/overview/presets",ping:"/apps/opsdash/overview/ping"};function Ap(){var t,s;const e=typeof window<"u"?window:{};return e.OC&&(e.OC.webroot||((s=(t=e.OC).getRootPath)==null?void 0:s.call(t)))||e._oc_webroot||""}function Dp(){const e=B(()=>Ap());function t(o,i){const l=typeof window<"u"?window:{},f=Tp[o];if(o==="presetsLoad"||o==="presetsDelete"){const g=`${f}/${encodeURIComponent(String(i??""))}`;return l.OC&&typeof l.OC.generateUrl=="function"?l.OC.generateUrl(g):`${e.value}${g}`}return l.OC&&typeof l.OC.generateUrl=="function"?l.OC.generateUrl(f):`${e.value}${f}`}function s(o){const i=new URLSearchParams;return Object.entries(o||{}).forEach(([l,f])=>{Array.isArray(f)?f.forEach(g=>i.append(l,String(g))):f!=null&&i.set(l,String(f))}),i.toString()}async function a(o,i){const l=s(i),f=l?`${o}${o.includes("?")?"&":"?"}${l}`:o,g=await fetch(f,{method:"GET",credentials:"same-origin"});if(!g.ok)throw new Error(`HTTP ${g.status}`);return await g.json()}async function n(o,i){var p;const l=typeof window<"u"?window:{},f=((p=l.OC)==null?void 0:p.requestToken)||l.oc_requesttoken||"",g={"Content-Type":"application/json"};f&&(g.requesttoken=f);const d=await fetch(o,{method:"POST",credentials:"same-origin",headers:g,body:JSON.stringify(i||{})});if(!d.ok)throw new Error(`HTTP ${d.status}`);return await d.json()}async function r(o){var p;const i=typeof window<"u"?window:{},l=((p=i.OC)==null?void 0:p.requestToken)||i.oc_requesttoken||"",f={};l&&(f.requesttoken=l);const g=await fetch(o,{method:"DELETE",credentials:"same-origin",headers:f});if(!g.ok)throw new Error(`HTTP ${g.status}`);const d=await g.text();return d?JSON.parse(d):{}}return{route:t,getJson:a,postJson:n,deleteJson:r,root:e}}function go(e){const t=typeof document<"u"?document.getElementById("app"):null;if(!t||!t.dataset)return"";const s=t.dataset;return s?String(s[e]??""):""}function Pp(e){const t=se(0),s=B(()=>{var d;const l=[],f=typeof window<"u"?window:{};try{if((d=f.OC)!=null&&d.imagePath){const p=f.OC.imagePath("opsdash","app.svg");p&&l.push(p)}}catch{}const g=e.root.value;return l.push(`${g}/apps/opsdash/img/app.svg`),l.push(`${g}/apps-extra/opsdash/img/app.svg`),l.push(`${g}/apps-writable/opsdash/img/app.svg`),l}),a=B(()=>s.value[Math.min(t.value,s.value.length-1)]||"");function n(){t.value+1<s.value.length&&t.value++}const r=se(go("opsdashVersion")||(e.pkgVersion?String(e.pkgVersion):"")),o=se(go("opsdashChangelog"));async function i(){if(!(r.value&&o.value))try{const l=await e.getJson(e.pingUrl(),{});!r.value&&typeof(l==null?void 0:l.version)=="string"&&(r.value=l.version),!o.value&&typeof(l==null?void 0:l.changelog)=="string"&&(o.value=l.changelog)}catch{}}return i(),{iconSrc:a,onIconError:n,appVersion:r,changelogUrl:o}}function Ep(e){function t(a){const n=typeof window<"u"?window:{};return n.OC&&typeof n.OC.generateUrl=="function"?n.OC.generateUrl(`/apps/calendar/timeGridDay/${a}`):`${e.root.value}/index.php/apps/calendar/timeGridDay/${a}`}async function s(a,n){var l,f,g;const r={};if(!a)return r;const o=((l=window.OC)==null?void 0:l.requestToken)||window.oc_requesttoken||"",i=e.root.value;for(const d of n)try{const p=`${i}/remote.php/dav/calendars/${encodeURIComponent(a)}/${encodeURIComponent(d)}/`,c=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;(f=e.isDebug)!=null&&f.call(e)&&console.log("[opsdash] PROPFIND",{url:p,id:d});const v=await fetch(p,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:o},body:c});if(!v.ok)continue;const h=await v.text();(g=e.isDebug)!=null&&g.call(e)&&console.log("[opsdash] PROPFIND response",{id:d,status:v.status,length:h.length,sample:h.slice(0,400)});const b=h.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);b&&(r[d]=b[1])}catch{}return r}return{calendarDayLink:t,fetchDavColors:s}}function Ip(e){const t=B(()=>{var n,r;return Op({perDaySeries:(n=e.charts.value)==null?void 0:n.perDaySeries,forecastMode:((r=e.activityCardConfig.value)==null?void 0:r.forecastMode)??"total",targetsConfig:e.targetsConfig.value,currentTargets:e.currentTargets.value,calendarCategoryMap:e.calendarCategoryMap.value})}),s=B(()=>{var n;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:t.value}}),a=B(()=>{var b,M;const n={},r=(b=e.charts.value)==null?void 0:b.pie,o=(M=e.charts.value)==null?void 0:M.perDaySeries,i=t.value||o,l=r&&Array.isArray(r.data)&&Array.isArray(r.ids),f=i&&Array.isArray(i.series)&&Array.isArray(i.labels),g=e.calendarCategoryMap.value,d=l?(r.ids||[]).map(x=>String(x??"")):[],p=l?(r.labels||[]).map(x=>String(x??"")):[],c=l?(r.data||[]).map(x=>Number(x)||0):[],v=l?r.colors||[]:[],h=f?i.series:[];return e.calendarGroups.value.forEach(x=>{const S=[];l&&d.forEach((K,W)=>{g[K]===x.id&&S.push(W)});const T=S.length?{ids:S.map(K=>d[K]),labels:S.map(K=>p[K]),data:S.map(K=>c[K]),colors:S.map(K=>{var W;return v[K]||((W=e.colorsById.value)==null?void 0:W[d[K]])||"#60a5fa"})}:null,O=f?h.filter(K=>g[String((K==null?void 0:K.id)??"")]===x.id):[],G=O.length?{labels:i.labels,series:O}:null;n[x.id]={pie:T,stacked:G}}),n});return{calendarChartData:s,categoryChartsById:a}}const Np=/^\d{4}-\d{2}-\d{2}$/,Lp="__uncategorized__";function Op(e){const t=e.perDaySeries;if(!t||!Array.isArray(t.labels)||!Array.isArray(t.series))return null;const s=t.labels.map(h=>String(h??"")),a=t.series.map(h=>{const b=String((h==null?void 0:h.id)??"");return{...h,id:b,name:String((h==null?void 0:h.name)??(h==null?void 0:h.label)??b),color:String((h==null?void 0:h.color)??""),data:s.map((M,x)=>{var T;const S=Number(((T=h==null?void 0:h.data)==null?void 0:T[x])??0);return Number.isFinite(S)?Math.max(0,S):0})}}),n=Hp(e.forecastMode),r=Fp(new Date),o=s.map(h=>Np.test(h)&&h>r),i=[];if(o.forEach((h,b)=>{h&&i.push(b)}),!i.length||n==="off")return{labels:s,series:a};const l=e.targetsConfig??Ps(),f=Wp(e.currentTargets),g=e.calendarCategoryMap??{},d=i.length,p=new Map;a.forEach(h=>{let b=0;h.data.forEach((M,x)=>{o[x]||(b+=Math.max(0,M))}),p.set(h.id,b)});const c=Array.from(p.values()).reduce((h,b)=>h+b,0),v=new Map;if(a.forEach(h=>{v.set(h.id,Rp(s.length))}),n==="total"){const h=Math.max(0,Number(l.totalHours??0)),b=Math.max(0,h-c);if(b>1e-4){const M=b/d,x=a.map(T=>T.id),S=po(x,p,f);x.forEach(T=>{const O=S[T]??0;if(O<=0)return;const G=v.get(T);G&&i.forEach(K=>{G[K]=ha(M*O)})})}}else if(n==="calendar")a.forEach(h=>{const b=f[h.id]??0;if(b<=0)return;const M=Math.max(0,p.get(h.id)??0),x=Math.max(0,b-M);if(x<=1e-4)return;const S=x/d,T=v.get(h.id);T&&i.forEach(O=>{T[O]=ha(S)})});else if(n==="category"){const h=new Set,b=Array.isArray(l.categories)?l.categories:[],M=new Map;b.forEach(S=>{M.set(String(S.id),Math.max(0,Number(S.targetHours??0)))});const x=new Map;a.forEach(S=>{const T=g==null?void 0:g[S.id],O=T?String(T):Lp;x.has(O)||x.set(O,[]),x.get(O).push(S.id)}),x.forEach((S,T)=>{if(!S.length)return;const O=M.get(T)??0;if(O<=0)return;const G=S.reduce((ie,we)=>ie+Math.max(0,p.get(we)??0),0),K=Math.max(0,O-G);if(K<=1e-4)return;const W=K/d,ae={};S.forEach(ie=>{ae[ie]=f[ie]??0});const q=po(S,p,ae);S.forEach(ie=>{const we=q[ie]??0;if(we<=0)return;const Se=v.get(ie);Se&&(i.forEach(Ie=>{Se[Ie]=ha(W*we)}),h.add(ie))})}),a.forEach(S=>{if(h.has(S.id))return;const T=f[S.id]??0;if(T<=0)return;const O=Math.max(0,p.get(S.id)??0),G=Math.max(0,T-O);if(G<=1e-4)return;const K=G/d,W=v.get(S.id);W&&i.forEach(ae=>{W[ae]=ha(K)})})}return a.forEach(h=>{const b=v.get(h.id);b&&b.some(M=>M>1e-4)&&(h.forecast=b)}),{labels:s,series:a}}function Hp(e){return e==="off"||e==="calendar"||e==="category"?e:"total"}function Fp(e){const t=e.getFullYear(),s=`${e.getMonth()+1}`.padStart(2,"0"),a=`${e.getDate()}`.padStart(2,"0");return`${t}-${s}-${a}`}function Rp(e){return Array.from({length:e},()=>0)}function ha(e){const t=Math.round(e*100)/100;return Number.isFinite(t)?t:0}function Wp(e){const t={};return e&&Object.entries(e).forEach(([s,a])=>{const n=Number(a);Number.isFinite(n)&&n>0&&(t[String(s)]=n)}),t}function po(e,t,s){const a={},n=e.reduce((i,l)=>i+Math.max(0,t.get(l)??0),0);if(n>1e-4)return e.forEach(i=>{const l=Math.max(0,t.get(i)??0);a[i]=l/n}),a;const r=e.reduce((i,l)=>i+Math.max(0,(s==null?void 0:s[l])??0),0);if(r>1e-4)return e.forEach(i=>{const l=Math.max(0,(s==null?void 0:s[i])??0);a[i]=l/r}),a;const o=e.length?1/e.length:0;return e.forEach(i=>{a[i]=o}),a}const Ot="__uncategorized__",ho="Unassigned";function Bp(e){const t=B(()=>{var g;const f=(g=e.targetsConfig.value)==null?void 0:g.categories;return Array.isArray(f)?f:[]}),s=B(()=>{const f={};return t.value.forEach(g=>{f[String(g.id)]=g.label||String(g.id)}),f}),a=B(()=>{var d;const f=new Map;return(((d=e.targetsSummary.value)==null?void 0:d.categories)||[]).forEach(p=>f.set(String(p.id),p)),f}),n=B(()=>{const f=new Map;return t.value.forEach(g=>{(Array.isArray(g.groupIds)?g.groupIds:[]).forEach(p=>{const c=Math.max(0,Math.min(9,Math.trunc(Number(p)||0)));f.set(c,String(g.id))})}),f}),r=B(()=>{var d;const f=e.calendars.value;if(!Array.isArray(f))return(d=e.isDebug)!=null&&d.call(e)&&console.warn("[opsdash] calendars not array",f),{};const g={};return f.forEach(p=>{var h;const c=String((p==null?void 0:p.id)??"");if(!c)return;const v=((h=e.colorsById.value)==null?void 0:h[c])||String((p==null?void 0:p.color)||"");g[c]={name:String((p==null?void 0:p.displayname)||(p==null?void 0:p.name)||(p==null?void 0:p.calendar)||c),color:v||void 0}}),g}),o=B(()=>{var v;const f={},g=n.value,d=e.groupsById.value||{},p=h=>{const b=d==null?void 0:d[h],M=Math.max(0,Math.min(9,Math.trunc(Number(b)||0))),x=g.get(M);f[h]=x||Ot},c=e.calendars.value;return Array.isArray(c)?(c.forEach(h=>{const b=String((h==null?void 0:h.id)??"");b&&p(b)}),(e.selected.value||[]).forEach(h=>{const b=String(h??"");b&&(f[b]||p(b))}),f):((v=e.isDebug)!=null&&v.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",c),f)}),i=B(()=>{const f=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],g={};let d=0;const p=c=>{if(g[c])return g[c];const v=Object.entries(o.value).filter(([,b])=>b===c).map(([b])=>b);for(const b of v){const M=r.value[b];if(M!=null&&M.color)return g[c]=M.color,M.color}const h=f[d%f.length];return d+=1,g[c]=h,h};return t.value.forEach(c=>p(String(c.id))),Object.values(o.value||{}).some(c=>c===Ot)&&p(Ot),g}),l=B(()=>{var O,G,K,W,ae,q,ie,we,Se,Ie;const f=[],g=o.value,d=a.value,p=e.byCal.value;if(!Array.isArray(p))return(O=e.isDebug)!=null&&O.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",p),f;const c=new Map;p.forEach(V=>{const ce=String((V==null?void 0:V.id)??(V==null?void 0:V.calendar_id)??(V==null?void 0:V.calendar)??"");if(!ce)return;const Y=g[ce]||Ot;c.has(Y)||c.set(Y,[]),c.get(Y).push({...V,calendarId:ce})}),(G=e.isDebug)!=null&&G.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(p),rowsSourceLength:p.length,byCat:c,assignments:g});const v=((W=(K=e.targetsSummary.value)==null?void 0:K.total)==null?void 0:W.daysLeft)??0,h=((q=(ae=e.targetsSummary.value)==null?void 0:ae.total)==null?void 0:q.calendarPercent)??0,b=((we=(ie=e.targetsSummary.value)==null?void 0:ie.total)==null?void 0:we.paceMode)??((Ie=(Se=e.targetsConfig.value)==null?void 0:Se.pace)==null?void 0:Ie.mode)??"days_only",M=V=>Math.round(V*100)/100,x=e.currentTargets.value||{},S=(V,ce,Y)=>{const te=Y.reduce((Me,xe)=>{const Q=Number(x[xe.calendarId]??0);return Number.isFinite(Q)?Me+Math.max(0,Q):Me},0),_e=Y.reduce((Me,xe)=>{const Q=Number((xe==null?void 0:xe.total_hours)??(xe==null?void 0:xe.hours)??0);return Number.isFinite(Q)?Me+Math.max(0,Q):Me},0),De=te>0?Math.max(0,Math.min(100,_e/te*100)):0,Ce=_e-te,me=Math.max(0,te-_e),ve=te<=0?"none":De>=100?"done":Ce>=0?"on_track":"behind",$e=ve==="done"?"Done":ve==="on_track"?"On Track":ve==="behind"?"Behind":"",ze=v>0?me/v:0;return{id:V,label:ce,actualHours:M(_e),targetHours:M(te),percent:De,deltaHours:M(Ce),remainingHours:M(me),needPerDay:M(ze),daysLeft:v,calendarPercent:Math.max(0,Math.min(100,h)),gap:M(De-h),status:ve,statusLabel:$e,includeWeekend:!0,paceMode:b}};if(t.value.map(V=>String(V.id)).forEach(V=>{const ce=s.value[V]||V,Y=c.get(V)||[],te=d.get(V)||S(V,ce,Y);f.push({id:V,label:ce,rows:Y,summary:te,color:i.value[V]})}),c.has(Ot)){const V=c.get(Ot)||[];f.push({id:Ot,label:ho,rows:V,summary:S(Ot,ho,V),color:i.value[Ot]})}return f});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:l}}function jp(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function rt(e){const t=Number(e);return Number.isFinite(t)?t:null}function ds(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function Up(e){const t=B(()=>{var x;const c=(x=e.charts.value)==null?void 0:x.pie;if(!c||!Array.isArray(c.data)||!Array.isArray(c.labels))return[];const v=c.data.map(S=>Number(S)||0),h=c.labels.map(S=>String(S||"")),b=v.reduce((S,T)=>S+Math.max(0,T),0);if(b<=0)return[];const M=v.map((S,T)=>({name:h[T]||"",value:Math.max(0,S)}));return M.sort((S,T)=>T.value-S.value),M.slice(0,3).map(S=>({name:S.name,share:S.value/b*100}))}),s=B(()=>{var v;if(t.value.length)return t.value.map(h=>`${h.name} ${vo(h.share)}`).join(", ");const c=(v=e.stats)==null?void 0:v.top_calendar;if(c&&c.calendar){const h=Number(c.share??0);return`${c.calendar} ${vo(h)}`}return""}),a=B(()=>{var c;return e.selected.value.length||(((c=e.calendars.value)==null?void 0:c.length)??0)}),n=B(()=>(e.byDay.value||[]).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),r=B(()=>{const c=n.value.map(v=>Number(v)||0);return e.activeDayMode.value==="active"?c.filter(v=>v>0):c}),o=B(()=>(e.byDay.value||[]).filter(c=>{const v=mo(String(c==null?void 0:c.date));return v>=1&&v<=5}).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),i=B(()=>(e.byDay.value||[]).filter(c=>{const v=mo(String(c==null?void 0:c.date));return v===0||v===6}).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),l=B(()=>e.activeDayMode.value==="active"?o.value.filter(c=>c>0):o.value),f=B(()=>e.activeDayMode.value==="active"?i.value.filter(c=>c>0):i.value),g=B(()=>{var h,b,M,x;const c=((h=e.stats)==null?void 0:h.balance_index)??((b=e.stats)==null?void 0:b.balanceIndex)??((x=(M=e.stats)==null?void 0:M.balance_overview)==null?void 0:x.index),v=Number(c);return Number.isFinite(v)?v:null}),d=B(()=>{var c,v,h,b;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((c=e.stats)==null?void 0:c.total_hours)??0),avgDay:gn(r.value),avgEvent:Number(((v=e.stats)==null?void 0:v.avg_per_event)??0),medianDay:pn(r.value),busiest:((h=e.stats)==null?void 0:h.busiest_day)??null,workdayAvg:gn(l.value),workdayMedian:pn(l.value),weekendAvg:gn(f.value),weekendMedian:pn(f.value),weekendShare:((b=e.stats)==null?void 0:b.weekend_share)??null,activeCalendars:a.value,calendarSummary:s.value,balanceIndex:g.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),p=B(()=>{const c=e.stats;return{rangeLabel:e.rangeLabel.value,events:jp(c.events),activeDays:rt(c.active_days),typicalStart:ds(c.typical_start),typicalEnd:ds(c.typical_end),weekendShare:rt(c.weekend_share),eveningShare:rt(c.evening_share),earliestStart:ds(c.earliest_start),latestEnd:ds(c.latest_end),overlapEvents:rt(c.overlap_events),longestSession:rt(c.longest_session),lastDayOff:ds(c.last_day_off),lastHalfDayOff:ds(c.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:d,activitySummary:p}}function gn(e){return e.length?e.reduce((s,a)=>s+a,0)/e.length:0}function pn(e){if(!e.length)return 0;const t=[...e].sort((a,n)=>a-n),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function mo(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function vo(e){return`${Number(e||0).toFixed(1)}%`}function Vp(e){return{balanceOverview:B(()=>{var d,p,c;const s=(d=e.stats)==null?void 0:d.balance_overview;if(!s||typeof s!="object")return null;const a=Array.isArray(s.categories)?s.categories.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),hours:rt(v==null?void 0:v.hours)??0,share:rt(v==null?void 0:v.share)??0,prevShare:rt(v==null?void 0:v.prev_share)??0,delta:rt(v==null?void 0:v.delta)??0,color:e.categoryColorMap.value[String((v==null?void 0:v.id)??"")]})):[],n=Array.isArray(s.relations)?s.relations.map(v=>({label:String((v==null?void 0:v.label)??""),value:String((v==null?void 0:v.value)??"")})):[],r={delta:Array.isArray((p=s.trend)==null?void 0:p.delta)?s.trend.delta.map(v=>({id:String((v==null?void 0:v.id)??""),label:String((v==null?void 0:v.label)??""),delta:rt(v==null?void 0:v.delta)??0})):[],badge:String(((c=s.trend)==null?void 0:c.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(v=>({date:String((v==null?void 0:v.date)??""),weekday:String((v==null?void 0:v.weekday)??""),total_hours:rt(v==null?void 0:v.total_hours)??0,categories:Array.isArray(v==null?void 0:v.categories)?v.categories.map(h=>({id:String((h==null?void 0:h.id)??""),label:String((h==null?void 0:h.label)??""),hours:rt(h==null?void 0:h.hours)??0,share:rt(h==null?void 0:h.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(v=>String(v)):[],l=Array.isArray(s.warnings)?s.warnings.map(v=>String(v)):[],f=rt(s.index)??0,g=e.balanceCardConfig.value.showInsights?i:[];return{index:f,categories:a,relations:n,trend:r,daily:o,insights:g,warnings:l}})}}const zp={version:"0.4.3"},Kp={class:"app-shell"},qp={class:"app-main"},Jp={class:"app-container"},Gp={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},Zp=["aria-expanded","aria-label"],Yp=["disabled"],Xp=["disabled","aria-pressed"],Qp={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},eh=["disabled"],th=["title"],sh=["disabled"],ah={class:"appbar"},nh={class:"title"},rh=["src"],oh=["textContent"],ih={class:"hint appbar-meta"},lh=["textContent"],ch={key:1,title:"Results truncated for performance"},uh=["title"],dh={class:"cards"},fh={class:"tabs"},gh={class:"card full tab-panel"},ph={key:0,class:"chart-section"},hh={class:"grid2 mt-12"},mh={class:"card chart-card"},vh={class:"card chart-card"},yh={key:1,class:"chart-section"},bh={key:0,class:"category-chart-block"},wh={class:"category-chart-header"},_h={class:"name"},kh={class:"grid2 mt-8"},xh={class:"card chart-card"},Sh={class:"card chart-card"},Ch={class:"card full tab-panel"},$h={class:"card full tab-panel"},Mh={class:"card full tab-panel"},Th={class:"hint footer"},yo="opsdash.sidebarOpen",Ah=Ee({__name:"App",setup(e){function t(J){var Ke,de;const U=window;(de=(Ke=U.OC)==null?void 0:Ke.Notification)!=null&&de.showTemporary?U.OC.Notification.showTemporary(J):console.log("SUCCESS:",J)}function s(J){var Ke,de;const U=window;(de=(Ke=U.OC)==null?void 0:Ke.Notification)!=null&&de.showTemporary?U.OC.Notification.showTemporary(J):(console.error("ERROR:",J),alert(J))}const a=se((()=>{if(typeof window>"u")return!0;const J=window.localStorage.getItem(yo);return J==null?!0:J==="1"})()),n=()=>{a.value=!a.value},r=B(()=>a.value?"Hide sidebar":"Show sidebar"),o=B(()=>a.value?"":"");mt(a,J=>{typeof window<"u"&&(window.localStorage.setItem(yo,J?"1":"0"),Ys(()=>{window.dispatchEvent(new Event("resize"))}))});const i=se("cal"),l=se("week"),f=se(0),g=B(()=>!a.value),d=B(()=>l.value==="week"?"Switch to month":"Switch to week"),p=B(()=>!Me.value||!xe.value?"":`${Me.value}  ${xe.value}`);function c(){D().catch(console.error)}function v(){l.value=l.value==="week"?"month":"week",f.value=0,D().catch(console.error)}function h(){f.value=(f.value||0)-1,D().catch(console.error)}function b(){f.value=(f.value||0)+1,D().catch(console.error)}const M=B(()=>{const J=$e.value;if(!J)return"Partial data due to caps";const U=[];return J.maxPerCal!=null&&U.push(`cap per calendar: ${J.maxPerCal}`),J.maxTotal!=null&&U.push(`cap total: ${J.maxTotal}`),J.totalProcessed!=null&&U.push(`processed: ${J.totalProcessed}`),U.join("  ")}),x=se(!1),{scheduleDraw:S}=Mp(),{route:T,getJson:O,postJson:G,deleteJson:K,root:W}=Dp(),{calendarDayLink:ae,fetchDavColors:q}=Ep({root:W,isDebug:yn}),ie=_p({range:l,offset:f,route:J=>T(J),getJson:O,postJson:G,notifySuccess:t,notifyError:s}),{notesPrev:we,notesCurrDraft:Se,isSavingNote:Ie,fetchNotes:V,saveNotes:ce}=ie,{calendars:Y,colorsByName:te,colorsById:_e,groupsById:De,selected:Ce,isLoading:me,isTruncated:ve,truncLimits:$e,uid:ze,from:Me,to:xe,stats:Q,byCal:He,byDay:We,longest:dt,charts:m,targetsWeek:y,targetsMonth:$,targetsConfig:I,load:D}=kp({range:l,offset:f,userChangedSelection:x,route:J=>T(J),getJson:O,notifyError:s,scheduleDraw:S,fetchNotes:V,isDebug:yn,fetchDavColors:q}),{queueSave:E}=xp({route:J=>T(J),postJson:G,notifyError:s,notifySuccess:t,onReload:()=>D(),selected:Ce,groupsById:De,targetsWeek:y,targetsMonth:$,targetsConfig:I}),{toggleCalendar:R,setGroup:F,setTarget:H,updateTargetsConfig:L,selectAll:X}=Cp({calendars:Y,selected:Ce,groupsById:De,targetsWeek:y,targetsMonth:$,targetsConfig:I,range:l,queueSave:E,userChangedSelection:x}),{presets:j,presetsLoading:Z,presetSaving:ee,presetApplying:fe,presetWarnings:ge,refreshPresets:ue,savePreset:Te,loadPreset:Le,deletePreset:Be,clearPresetWarnings:Ge}=$p({route:(J,U)=>T(J,U),getJson:O,postJson:G,deleteJson:K,notifyError:s,notifySuccess:t,queueSave:E,selected:Ce,groupsById:De,targetsWeek:y,targetsMonth:$,targetsConfig:I,userChangedSelection:x}),tt=se("active"),Vt=B(()=>l.value==="month"?"Month":"Week"),je=B(()=>{const J=ln(I.value);return l.value==="month"&&(J.totalHours=on(J.totalHours),J.categories=J.categories.map(U=>({...U,targetHours:on(U.targetHours)}))),J}),st=B(()=>{const J=je.value;try{return Ou({config:J,stats:Q,byDay:We.value||[],byCal:He.value||[],groupsById:De.value||{},range:l.value,from:Me.value,to:xe.value})}catch(U){return console.error("[opsdash] targets summary failed",U),Nu(J)}}),zt=B(()=>{if(l.value==="month"){const J=$.value||{};if(J&&Object.keys(J).length>0)return J;const U=y.value||{},Ke={};return Object.entries(U).forEach(([de,qt])=>{const Ht=Number(qt);Number.isFinite(Ht)&&(Ke[de]=on(Ht))}),Ke}return y.value||{}}),k=B(()=>{var J;return{...us(),...((J=I.value)==null?void 0:J.activityCard)??{}}}),w=B(()=>{var Ke;const J=nn(),U=((Ke=I.value)==null?void 0:Ke.balance)??J;return{...J,...U,thresholds:{...J.thresholds,...U.thresholds??{}},relations:{...J.relations,...U.relations??{}},trend:{...J.trend,...U.trend??{}},dayparts:{...J.dayparts,...U.dayparts??{}},ui:{...J.ui,...U.ui??{}}}}),N=B(()=>({showInsights:!!w.value.ui.showInsights,showDailyStacks:!!w.value.ui.showDailyStacks})),{categoryLabelById:pe,categoryColorMap:ot,calendarCategoryMap:va,calendarGroups:Kt}=Bp({calendars:Y,selected:Ce,groupsById:De,colorsById:_e,targetsConfig:je,targetsSummary:st,byCal:He,currentTargets:zt,isDebug:yn}),{balanceOverview:Oh}=Vp({stats:Q,categoryColorMap:ot,balanceCardConfig:N}),Hh=B(()=>{var Ke,de;if(!k.value.showHint)return"";const U=(Array.isArray((de=(Ke=I.value)==null?void 0:Ke.balance)==null?void 0:de.categories)?I.value.balance.categories:[]).map(qt=>{const Ht=String(qt??"").trim();if(!Ht)return"";const Is=pe.value[Ht];return Is||Ht.toUpperCase()}).filter(qt=>qt);return U.length?`Mapping via Sidebar  ${U.join(" / ")}`:""}),{calendarChartData:ya,categoryChartsById:ba}=Ip({charts:m,colorsById:_e,calendarGroups:Kt,calendarCategoryMap:va,targetsConfig:je,currentTargets:zt,activityCardConfig:k}),Fh=B(()=>{const J=Kt.value||[];return J.length&&[...J].sort((Ke,de)=>(de.summary.actualHours||0)-(Ke.summary.actualHours||0))[0]||null}),{timeSummary:Rh,activitySummary:Wh}=Up({stats:Q,byDay:We,charts:m,calendars:Y,selected:Ce,rangeLabel:Vt,activeDayMode:tt,topCategory:Fh}),vn=se(null);function Bh(J){vn.value=vn.value===J?null:J}function yn(){return!1}const{iconSrc:jh,onIconError:wo,appVersion:_o}=Pp({pingUrl:()=>T("ping"),getJson:O,pkgVersion:String(zp.version),root:W}),Uh=B(()=>l.value==="month"?"Last month":"Last week"),Vh=B(()=>l.value==="month"?"This month":"This week"),zh=B(()=>l.value==="month"?"Notes for previous month":"Notes for previous week"),Kh=B(()=>l.value==="month"?"Notes for current month":"Notes for current week");function bn(J){return Number(J??0).toFixed(2)}function qh(J){tt.value!==J&&(tt.value=J)}return os(()=>{console.info("[opsdash] start"),D().catch(J=>{console.error(J),alert("Initial load failed")}),ue().catch(J=>console.warn("[opsdash] presets fetch failed",J))}),mt(l,()=>{f.value=0,D().catch(console.error)}),(J,U)=>{const Ke=Pi("NcAppSidebarToggle");return C(),A("div",{id:"opsdash",class:he(["opsdash",{"is-nav-collapsed":!a.value}])},[re(_(sc),{"app-name":"Operational Dashboard","show-navigation":a.value},{navigation:Oe(()=>[re(wp,{id:"opsdash-sidebar",calendars:_(Y),selected:_(Ce),"groups-by-id":_(De),"is-loading":_(me),range:l.value,offset:f.value,from:_(Me),to:_(xe),"targets-week":_(y),"targets-month":_($),"targets-config":_(I),"notes-prev":_(we),"notes-curr-draft":_(Se),"notes-label-prev":Uh.value,"notes-label-curr":Vh.value,"notes-label-prev-title":zh.value,"notes-label-curr-title":Kh.value,"is-saving-note":_(Ie),"active-day-mode":tt.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,presets:_(j),"presets-loading":_(Z),"preset-saving":_(ee),"preset-applying":_(fe),"preset-warnings":_(ge),onLoad:_(D),"onUpdate:range":U[0]||(U[0]=de=>{l.value=de,f.value=0,_(D)()}),"onUpdate:offset":U[1]||(U[1]=de=>{f.value=de,_(D)()}),onSelectAll:U[2]||(U[2]=de=>_(X)(de)),onToggleCalendar:U[3]||(U[3]=de=>_(R)(de)),onSetGroup:U[4]||(U[4]=de=>_(F)(de.id,de.n)),onSetTarget:U[5]||(U[5]=de=>_(H)(de.id,de.h)),"onUpdate:notes":U[6]||(U[6]=de=>Se.value=de),onSaveNotes:_(ce),"onUpdate:targetsConfig":_(L),"onUpdate:activeMode":qh,onToggleNav:n,onSavePreset:_(Te),onLoadPreset:_(Le),onDeletePreset:_(Be),onRefreshPresets:_(ue),onClearPresetWarnings:_(Ge)},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","presets","presets-loading","preset-saving","preset-applying","preset-warnings","onLoad","onSaveNotes","onUpdate:targetsConfig","onSavePreset","onLoadPreset","onDeletePreset","onRefreshPresets","onClearPresetWarnings"])]),"sidebar-toggle":Oe(()=>[re(Ke,{open:a.value,onToggle:n},null,8,["open"])]),default:Oe(()=>[u("div",Kp,[u("div",qp,[u("div",Jp,[g.value?(C(),A("div",Gp,[u("button",{class:"range-toolbar__btn",type:"button",onClick:n,"aria-expanded":a.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},P(o.value),9,Zp),u("button",{class:"range-toolbar__btn",type:"button",disabled:_(me),onClick:c}," Refresh ",8,Yp),U[12]||(U[12]=u("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),u("button",{class:"range-toolbar__btn",type:"button",disabled:_(me),onClick:v,"aria-pressed":l.value==="month"},P(d.value),9,Xp),u("div",Qp,[u("button",{class:"range-toolbar__btn",type:"button",disabled:_(me),onClick:h},"  ",8,eh),u("span",{class:"range-toolbar__label",title:p.value},P(p.value),9,th),u("button",{class:"range-toolbar__btn",type:"button",disabled:_(me),onClick:b},"  ",8,sh)])])):z("",!0),u("div",ah,[u("div",nh,[u("img",{src:_(jh),onError:U[7]||(U[7]=(...de)=>_(wo)&&_(wo)(...de)),class:"app-icon",alt:"","aria-hidden":"true"},null,40,rh),U[13]||(U[13]=u("span",null,"Operational Dashboard",-1)),u("span",{class:"chip",textContent:P(l.value.toUpperCase())},null,8,oh)]),u("div",ih,[_(me)?(C(),Ve(_(nc),{key:0,size:16})):z("",!0),u("span",{textContent:P(_(ze))},null,8,lh),_(ve)?(C(),A("span",ch," Partial data")):z("",!0)])]),_(ve)?(C(),A("div",{key:1,class:"banner warn",title:M.value},[U[14]||(U[14]=ye(" Showing partial data to keep things fast. ",-1)),_($e)&&_($e).totalProcessed!=null?(C(),A(le,{key:0},[ye(" Processed "+P(_($e).totalProcessed)+" items. ",1)],64)):z("",!0)],8,uh)):z("",!0),u("div",dh,[re(lu,{summary:_(Rh),mode:tt.value,config:_(I).timeSummary},null,8,["summary","mode","config"]),re(Iu,{summary:st.value,config:_(I),groups:_(Kt)},null,8,["summary","config","groups"]),re(ad,{summary:_(Wh),"range-label":Vt.value,"category-hint":Hh.value,config:k.value},null,8,["summary","range-label","category-hint","config"]),re(dd,{overview:_(Oh),"range-label":Vt.value,config:N.value},null,8,["overview","range-label","config"])]),u("div",fh,[u("a",{href:"#",class:he({active:i.value==="cal"}),onClick:U[8]||(U[8]=da(de=>i.value="cal",["prevent"]))},"By Calendar",2),u("a",{href:"#",class:he({active:i.value==="day"}),onClick:U[9]||(U[9]=da(de=>i.value="day",["prevent"]))},"By Day",2),u("a",{href:"#",class:he({active:i.value==="top"}),onClick:U[10]||(U[10]=da(de=>i.value="top",["prevent"]))},"Longest Tasks",2),u("a",{href:"#",class:he({active:i.value==="heat"}),onClick:U[11]||(U[11]=da(de=>i.value="heat",["prevent"]))},"Heatmap",2)]),ws(u("div",gh,[_(He).length===0?(C(),Ve(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),A(le,{key:1},[re(Tc,{rows:_(He),n2:bn,targets:zt.value,groups:_(Kt)},null,8,["rows","targets","groups"]),_(I).ui.showCalendarCharts&&(_(ya).pie||_(ya).stacked)?(C(),A("div",ph,[U[17]||(U[17]=u("h3",{class:"section-title"},"Calendars (all)",-1)),u("div",hh,[u("div",mh,[U[15]||(U[15]=u("div",{class:"chart-card__title"},"Distribution by calendar",-1)),re(oo,{data:_(ya).pie,"colors-by-id":_(_e),"colors-by-name":_(te)},null,8,["data","colors-by-id","colors-by-name"])]),u("div",vh,[U[16]||(U[16]=u("div",{class:"chart-card__title"},"Hours per day",-1)),re(io,{stacked:_(ya).stacked,legacy:_(m).perDay,"colors-by-id":_(_e)},null,8,["stacked","legacy","colors-by-id"])])])])):z("",!0),_(I).ui.showCategoryCharts&&_(Kt).length?(C(),A("div",yh,[U[20]||(U[20]=u("h3",{class:"section-title"},"Categories",-1)),(C(!0),A(le,null,Re(_(Kt),de=>{var qt,Ht,Is,ko;return C(),A(le,{key:"cat-charts-"+de.id},[(qt=_(ba)[de.id])!=null&&qt.pie||(Ht=_(ba)[de.id])!=null&&Ht.stacked?(C(),A("div",bh,[u("div",wh,[u("span",{class:"dot",style:Mt({background:_(ot)[de.id]||"var(--brand)"})},null,4),u("span",_h,P(de.label),1)]),u("div",kh,[u("div",xh,[U[18]||(U[18]=u("div",{class:"chart-card__title"},"Calendar share",-1)),re(oo,{data:(Is=_(ba)[de.id])==null?void 0:Is.pie,"colors-by-id":_(_e),"colors-by-name":_(te)},null,8,["data","colors-by-id","colors-by-name"])]),u("div",Sh,[U[19]||(U[19]=u("div",{class:"chart-card__title"},"Hours per day",-1)),re(io,{stacked:(ko=_(ba)[de.id])==null?void 0:ko.stacked,legacy:null,"colors-by-id":_(_e)},null,8,["stacked","colors-by-id"])])])])):z("",!0)],64)}),128))])):z("",!0)],64))],512),[[ca,i.value==="cal"]]),ws(u("div",Ch,[_(We).length===0?(C(),Ve(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),Ve(Nc,{key:1,rows:_(We),n2:bn,link:_(ae)},null,8,["rows","link"]))],512),[[ca,i.value==="day"]]),ws(u("div",$h,[_(dt).length===0?(C(),Ve(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),Ve(Vc,{key:1,rows:_(dt),n2:bn,"details-index":vn.value,onToggle:Bh},null,8,["rows","details-index"]))],512),[[ca,i.value==="top"]]),ws(u("div",Mh,[!_(m).hod||!_(m).hod.matrix||_(m).hod.matrix.length===0?(C(),Ve(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),A(le,{key:1},[re(oc,{hod:_(m).hod},null,8,["hod"]),U[21]||(U[21]=u("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[ca,i.value==="heat"]]),u("div",Th,[_(_o)?(C(),A(le,{key:0},[ye(" Operational Dashboard  v"+P(_(_o))+"  Built by Blade34242 @ Gellert Innovation ",1)],64)):(C(),A(le,{key:1},[ye(" Operational Dashboard  v0.4.3  Built by Blade34242 @ Gellert Innovation ")],64))])])])])]),_:1},8,["show-navigation"])],2)}}});let Es=null,hn=null,bo=!1;function Dh(){if(!(typeof window>"u"))try{ma(),Ph()}catch(e){Lh()&&console.warn("[opsdash] theme boot install failed",e)}}function Ph(){if(Es||hn||bo)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Es=new MutationObserver(()=>ma()),e.forEach(t=>{Es==null||Es.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>ma();typeof t.addEventListener=="function"?(t.addEventListener("change",s),hn=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),hn=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",ma),bo=!0}function ma(){const e=Eh();if(!e)return;["icon","shortcut icon"].forEach(s=>{let a=document.querySelector(`link[rel="${s}"]`);a||(a=document.createElement("link"),a.rel=s,document.head.appendChild(a)),a.type="image/svg+xml",a.href=e})}function Eh(){const e=Ih()==="dark",t=Nh(),s=t("favicon.svg");if(s)return s;if(e){const n=t("app-dark.svg");if(n)return n}const a=t(e?"app-dark.svg":"app.svg");return a||"/apps-extra/opsdash/img/favicon.svg"}function Ih(){var a,n,r,o,i;const e=(a=document.documentElement)==null?void 0:a.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(n=document.body)==null?void 0:n.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function Nh(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function Lh(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function mn(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=Ql(Ah);t.config.errorHandler=(n,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",l={err:n,info:o,name:i,stack:n instanceof Error?n.stack:void 0},f=window;Array.isArray(f.__opsdashErrors)||(f.__opsdashErrors=[]),f.__opsdashErrors.push(l),console.error("[opsdash] Vue error",l)};const s=t.mount(e),a=window;a.__opsdashApp=t,a.__opsdashRoot=s,Dh(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(mn,50):window.addEventListener("DOMContentLoaded",mn,{once:!0})}mn()})();
