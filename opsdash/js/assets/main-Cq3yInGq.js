(function(){"use strict";var fa=document.createElement("style");fa.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-1ab0985e]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-1ab0985e]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-1ab0985e]{font-size:12px}.activity-card__meta[data-v-1ab0985e],.activity-card__extra[data-v-1ab0985e]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-1ab0985e],.activity-card__extra strong[data-v-1ab0985e]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-1ab0985e]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-1ab0985e]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.input-message[data-v-8ba06dba]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-8ba06dba]{color:var(--neg)}.input-message.warning[data-v-8ba06dba]{color:var(--warning)}
/*$vite$:1*/`,document.head.appendChild(fa);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const De={},qt=[],mt=()=>{},ga=()=>!1,Is=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),vn=e=>e.startsWith("onUpdate:"),Je=Object.assign,yn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},po=Object.prototype.hasOwnProperty,Me=(e,t)=>po.call(e,t),re=Array.isArray,Jt=e=>Ps(e)==="[object Map]",ha=e=>Ps(e)==="[object Set]",oe=e=>typeof e=="function",Fe=e=>typeof e=="string",Ct=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",pa=e=>(Le(e)||oe(e))&&oe(e.then)&&oe(e.catch),ma=Object.prototype.toString,Ps=e=>ma.call(e),mo=e=>Ps(e).slice(8,-1),va=e=>Ps(e)==="[object Object]",bn=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,is=mn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ns=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},vo=/-(\w)/g,ct=Ns(e=>e.replace(vo,(t,s)=>s?s.toUpperCase():"")),yo=/\B([A-Z])/g,jt=Ns(e=>e.replace(yo,"-$1").toLowerCase()),Es=Ns(e=>e.charAt(0).toUpperCase()+e.slice(1)),_n=Ns(e=>e?`on${Es(e)}`:""),Lt=(e,t)=>!Object.is(e,t),wn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ya=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},bo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ba;const Os=()=>ba||(ba=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $t(e){if(re(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],a=Fe(n)?xo(n):$t(n);if(a)for(const r in a)t[r]=a[r]}return t}else if(Fe(e)||Le(e))return e}const _o=/;(?![^(]*\))/g,wo=/:([^]+)/,ko=/\/\*[^]*?\*\//g;function xo(e){const t={};return e.replace(ko,"").split(_o).forEach(s=>{if(s){const n=s.split(wo);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function pe(e){let t="";if(Fe(e))t=e;else if(re(e))for(let s=0;s<e.length;s++){const n=pe(e[s]);n&&(t+=n+" ")}else if(Le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const So=mn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function _a(e){return!!e||e===""}const wa=e=>!!(e&&e.__v_isRef===!0),P=e=>Fe(e)?e:e==null?"":re(e)||Le(e)&&(e.toString===ma||!oe(e.toString))?wa(e)?P(e.value):JSON.stringify(e,ka,2):String(e),ka=(e,t)=>wa(t)?ka(e,t.value):Jt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,a],r)=>(s[kn(n,r)+" =>"]=a,s),{})}:ha(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>kn(s))}:Ct(t)?kn(t):Le(t)&&!re(t)&&!va(t)?String(t):t,kn=(e,t="")=>{var s;return Ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class Co{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function $o(){return st}let Ae;const xn=new WeakSet;class xa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xn.has(this)&&(xn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ca(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Aa(this),$a(this);const t=Ae,s=ft;Ae=this,ft=!0;try{return this.fn()}finally{Ta(this),Ae=t,ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Tn(t);this.deps=this.depsTail=void 0,Aa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$n(this)&&this.run()}get dirty(){return $n(this)}}let Sa=0,ls,us;function Ca(e,t=!1){if(e.flags|=8,t){e.next=us,us=e;return}e.next=ls,ls=e}function Sn(){Sa++}function Cn(){if(--Sa>0)return;if(us){let t=us;for(us=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ls;){let t=ls;for(ls=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function $a(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ta(e){let t,s=e.depsTail,n=s;for(;n;){const a=n.prevDep;n.version===-1?(n===s&&(s=a),Tn(n),To(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=s}function $n(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ma(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ma(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===cs)||(e.globalVersion=cs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$n(e))))return;e.flags|=2;const t=e.dep,s=Ae,n=ft;Ae=e,ft=!0;try{$a(e);const a=e.fn(e._value);(t.version===0||Lt(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ae=s,ft=n,Ta(e),e.flags&=-3}}function Tn(e,t=!1){const{dep:s,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Tn(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function To(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ft=!0;const Da=[];function vt(){Da.push(ft),ft=!1}function yt(){const e=Da.pop();ft=e===void 0?!0:e}function Aa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ae;Ae=void 0;try{t()}finally{Ae=s}}}let cs=0;class Mo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!ft||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new Mo(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,Ia(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=n)}return s}trigger(t){this.version++,cs++,this.notify(t)}notify(t){Sn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Cn()}}}function Ia(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ia(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ls=new WeakMap,Ut=Symbol(""),Dn=Symbol(""),ds=Symbol("");function Ze(e,t,s){if(ft&&Ae){let n=Ls.get(e);n||Ls.set(e,n=new Map);let a=n.get(s);a||(n.set(s,a=new Mn),a.map=n,a.key=s),a.track()}}function Tt(e,t,s,n,a,r){const o=Ls.get(e);if(!o){cs++;return}const i=f=>{f&&f.trigger()};if(Sn(),t==="clear")o.forEach(i);else{const f=re(e),g=f&&bn(s);if(f&&s==="length"){const h=Number(n);o.forEach((c,d)=>{(d==="length"||d===ds||!Ct(d)&&d>=h)&&i(c)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),g&&i(o.get(ds)),t){case"add":f?g&&i(o.get("length")):(i(o.get(Ut)),Jt(e)&&i(o.get(Dn)));break;case"delete":f||(i(o.get(Ut)),Jt(e)&&i(o.get(Dn)));break;case"set":Jt(e)&&i(o.get(Ut));break}}Cn()}function Do(e,t){const s=Ls.get(e);return s&&s.get(t)}function Zt(e){const t=_e(e);return t===e?t:(Ze(t,"iterate",ds),dt(e)?t:t.map(je))}function Hs(e){return Ze(e=_e(e),"iterate",ds),e}const Ao={__proto__:null,[Symbol.iterator](){return An(this,Symbol.iterator,je)},concat(...e){return Zt(this).concat(...e.map(t=>re(t)?Zt(t):t))},entries(){return An(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return Mt(this,"every",e,t,void 0,arguments)},filter(e,t){return Mt(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return Mt(this,"find",e,t,je,arguments)},findIndex(e,t){return Mt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Mt(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return Mt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Mt(this,"forEach",e,t,void 0,arguments)},includes(...e){return In(this,"includes",e)},indexOf(...e){return In(this,"indexOf",e)},join(e){return Zt(this).join(e)},lastIndexOf(...e){return In(this,"lastIndexOf",e)},map(e,t){return Mt(this,"map",e,t,void 0,arguments)},pop(){return fs(this,"pop")},push(...e){return fs(this,"push",e)},reduce(e,...t){return Pa(this,"reduce",e,t)},reduceRight(e,...t){return Pa(this,"reduceRight",e,t)},shift(){return fs(this,"shift")},some(e,t){return Mt(this,"some",e,t,void 0,arguments)},splice(...e){return fs(this,"splice",e)},toReversed(){return Zt(this).toReversed()},toSorted(e){return Zt(this).toSorted(e)},toSpliced(...e){return Zt(this).toSpliced(...e)},unshift(...e){return fs(this,"unshift",e)},values(){return An(this,"values",je)}};function An(e,t,s){const n=Hs(e),a=n[t]();return n!==e&&!dt(e)&&(a._next=a.next,a.next=()=>{const r=a._next();return r.value&&(r.value=s(r.value)),r}),a}const Io=Array.prototype;function Mt(e,t,s,n,a,r){const o=Hs(e),i=o!==e&&!dt(e),f=o[t];if(f!==Io[t]){const c=f.apply(e,r);return i?je(c):c}let g=s;o!==e&&(i?g=function(c,d){return s.call(this,je(c),d,e)}:s.length>2&&(g=function(c,d){return s.call(this,c,d,e)}));const h=f.call(o,g,n);return i&&a?a(h):h}function Pa(e,t,s,n){const a=Hs(e);let r=s;return a!==e&&(dt(e)?s.length>3&&(r=function(o,i,f){return s.call(this,o,i,f,e)}):r=function(o,i,f){return s.call(this,o,je(i),f,e)}),a[t](r,...n)}function In(e,t,s){const n=_e(e);Ze(n,"iterate",ds);const a=n[t](...s);return(a===-1||a===!1)&&Nn(s[0])?(s[0]=_e(s[0]),n[t](...s)):a}function fs(e,t,s=[]){vt(),Sn();const n=_e(e)[t].apply(e,s);return Cn(),yt(),n}const Po=mn("__proto__,__v_isRef,__isVue"),Na=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function No(e){Ct(e)||(e=String(e));const t=_e(this);return Ze(t,"has",e),t.hasOwnProperty(e)}class Ea{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(a?r?Wa:Ra:r?Fa:Ha).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=re(t);if(!a){let f;if(o&&(f=Ao[s]))return f;if(s==="hasOwnProperty")return No}const i=Reflect.get(t,s,We(t)?t:n);return(Ct(s)?Na.has(s):Po(s))||(a||Ze(t,"get",s),r)?i:We(i)?o&&bn(s)?i:i.value:Le(i)?a?Ba(i):bt(i):i}}class Oa extends Ea{constructor(t=!1){super(!1,t)}set(t,s,n,a){let r=t[s];if(!this._isShallow){const f=Ht(r);if(!dt(n)&&!Ht(n)&&(r=_e(r),n=_e(n)),!re(t)&&We(r)&&!We(n))return f||(r.value=n),!0}const o=re(t)&&bn(s)?Number(s)<t.length:Me(t,s),i=Reflect.set(t,s,n,We(t)?t:a);return t===_e(a)&&(o?Lt(n,r)&&Tt(t,"set",s,n):Tt(t,"add",s,n)),i}deleteProperty(t,s){const n=Me(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&n&&Tt(t,"delete",s,void 0),a}has(t,s){const n=Reflect.has(t,s);return(!Ct(s)||!Na.has(s))&&Ze(t,"has",s),n}ownKeys(t){return Ze(t,"iterate",re(t)?"length":Ut),Reflect.ownKeys(t)}}class La extends Ea{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Eo=new Oa,Oo=new La,Lo=new Oa(!0),Ho=new La(!0),Pn=e=>e,Fs=e=>Reflect.getPrototypeOf(e);function Fo(e,t,s){return function(...n){const a=this.__v_raw,r=_e(a),o=Jt(r),i=e==="entries"||e===Symbol.iterator&&o,f=e==="keys"&&o,g=a[e](...n),h=s?Pn:t?js:je;return!t&&Ze(r,"iterate",f?Dn:Ut),{next(){const{value:c,done:d}=g.next();return d?{value:c,done:d}:{value:i?[h(c[0]),h(c[1])]:h(c),done:d}},[Symbol.iterator](){return this}}}}function Rs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ro(e,t){const s={get(a){const r=this.__v_raw,o=_e(r),i=_e(a);e||(Lt(a,i)&&Ze(o,"get",a),Ze(o,"get",i));const{has:f}=Fs(o),g=t?Pn:e?js:je;if(f.call(o,a))return g(r.get(a));if(f.call(o,i))return g(r.get(i));r!==o&&r.get(a)},get size(){const a=this.__v_raw;return!e&&Ze(_e(a),"iterate",Ut),a.size},has(a){const r=this.__v_raw,o=_e(r),i=_e(a);return e||(Lt(a,i)&&Ze(o,"has",a),Ze(o,"has",i)),a===i?r.has(a):r.has(a)||r.has(i)},forEach(a,r){const o=this,i=o.__v_raw,f=_e(i),g=t?Pn:e?js:je;return!e&&Ze(f,"iterate",Ut),i.forEach((h,c)=>a.call(r,g(h),g(c),o))}};return Je(s,e?{add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear")}:{add(a){!t&&!dt(a)&&!Ht(a)&&(a=_e(a));const r=_e(this);return Fs(r).has.call(r,a)||(r.add(a),Tt(r,"add",a,a)),this},set(a,r){!t&&!dt(r)&&!Ht(r)&&(r=_e(r));const o=_e(this),{has:i,get:f}=Fs(o);let g=i.call(o,a);g||(a=_e(a),g=i.call(o,a));const h=f.call(o,a);return o.set(a,r),g?Lt(r,h)&&Tt(o,"set",a,r):Tt(o,"add",a,r),this},delete(a){const r=_e(this),{has:o,get:i}=Fs(r);let f=o.call(r,a);f||(a=_e(a),f=o.call(r,a)),i&&i.call(r,a);const g=r.delete(a);return f&&Tt(r,"delete",a,void 0),g},clear(){const a=_e(this),r=a.size!==0,o=a.clear();return r&&Tt(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=Fo(a,e,t)}),s}function Ws(e,t){const s=Ro(e,t);return(n,a,r)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(Me(s,a)&&a in n?s:n,a,r)}const Wo={get:Ws(!1,!1)},Bo={get:Ws(!1,!0)},jo={get:Ws(!0,!1)},Uo={get:Ws(!0,!0)},Ha=new WeakMap,Fa=new WeakMap,Ra=new WeakMap,Wa=new WeakMap;function Vo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zo(e){return e.__v_skip||!Object.isExtensible(e)?0:Vo(mo(e))}function bt(e){return Ht(e)?e:Bs(e,!1,Eo,Wo,Ha)}function Ko(e){return Bs(e,!1,Lo,Bo,Fa)}function Ba(e){return Bs(e,!0,Oo,jo,Ra)}function np(e){return Bs(e,!0,Ho,Uo,Wa)}function Bs(e,t,s,n,a){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=zo(e);if(r===0)return e;const o=a.get(e);if(o)return o;const i=new Proxy(e,r===2?n:s);return a.set(e,i),i}function Yt(e){return Ht(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function dt(e){return!!(e&&e.__v_isShallow)}function Nn(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function Go(e){return!Me(e,"__v_skip")&&Object.isExtensible(e)&&ya(e,"__v_skip",!0),e}const je=e=>Le(e)?bt(e):e,js=e=>Le(e)?Ba(e):e;function We(e){return e?e.__v_isRef===!0:!1}function ue(e){return qo(e,!1)}function qo(e,t){return We(e)?e:new Jo(e,t)}class Jo{constructor(t,s){this.dep=new Mn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:_e(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||dt(t)||Ht(t);t=n?t:_e(t),Lt(t,s)&&(this._rawValue=t,this._value=n?t:je(t),this.dep.trigger())}}function w(e){return We(e)?e.value:e}const Zo={get:(e,t,s)=>t==="__v_raw"?e:w(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const a=e[t];return We(a)&&!We(s)?(a.value=s,!0):Reflect.set(e,t,s,n)}};function ja(e){return Yt(e)?e:new Proxy(e,Zo)}function Ua(e){const t=re(e)?new Array(e.length):{};for(const s in e)t[s]=Xo(e,s);return t}class Yo{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Do(_e(this._object),this._key)}}function Xo(e,t,s){const n=e[t];return We(n)?n:new Yo(e,t,s)}class Qo{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Mn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return Ca(this,!0),!0}get value(){const t=this.dep.track();return Ma(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ei(e,t,s=!1){let n,a;return oe(e)?n=e:(n=e.get,a=e.set),new Qo(n,a,s)}const Us={},Vs=new WeakMap;let Vt;function ti(e,t=!1,s=Vt){if(s){let n=Vs.get(s);n||Vs.set(s,n=[]),n.push(e)}}function si(e,t,s=De){const{immediate:n,deep:a,once:r,scheduler:o,augmentJob:i,call:f}=s,g=$=>a?$:dt($)||a===!1||a===0?Dt($,1):Dt($);let h,c,d,u,b=!1,m=!1;if(We(e)?(c=()=>e.value,b=dt(e)):Yt(e)?(c=()=>g(e),b=!0):re(e)?(m=!0,b=e.some($=>Yt($)||dt($)),c=()=>e.map($=>{if(We($))return $.value;if(Yt($))return g($);if(oe($))return f?f($,2):$()})):oe(e)?t?c=f?()=>f(e,2):e:c=()=>{if(d){vt();try{d()}finally{yt()}}const $=Vt;Vt=h;try{return f?f(e,3,[u]):e(u)}finally{Vt=$}}:c=mt,t&&a){const $=c,R=a===!0?1/0:a;c=()=>Dt($(),R)}const H=$o(),W=()=>{h.stop(),H&&H.active&&yn(H.effects,h)};if(r&&t){const $=t;t=(...R)=>{$(...R),W()}}let S=m?new Array(e.length).fill(Us):Us;const N=$=>{if(!(!(h.flags&1)||!h.dirty&&!$))if(t){const R=h.run();if(a||b||(m?R.some((X,ee)=>Lt(X,S[ee])):Lt(R,S))){d&&d();const X=Vt;Vt=h;try{const ee=[R,S===Us?void 0:m&&S[0]===Us?[]:S,u];S=R,f?f(t,3,ee):t(...ee)}finally{Vt=X}}}else h.run()};return i&&i(N),h=new xa(c),h.scheduler=o?()=>o(N,!1):N,u=$=>ti($,!1,h),d=h.onStop=()=>{const $=Vs.get(h);if($){if(f)f($,4);else for(const R of $)R();Vs.delete(h)}},t?n?N(!0):S=h.run():o?o(N.bind(null,!0),!0):h.run(),W.pause=h.pause.bind(h),W.resume=h.resume.bind(h),W.stop=W,W}function Dt(e,t=1/0,s){if(t<=0||!Le(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,We(e))Dt(e.value,t,s);else if(re(e))for(let n=0;n<e.length;n++)Dt(e[n],t,s);else if(ha(e)||Jt(e))e.forEach(n=>{Dt(n,t,s)});else if(va(e)){for(const n in e)Dt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Dt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const gs=[];let En=!1;function ap(e,...t){if(En)return;En=!0,vt();const s=gs.length?gs[gs.length-1].component:null,n=s&&s.appContext.config.warnHandler,a=ni();if(n)Xt(n,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,a.map(({vnode:r})=>`at <${Hr(s,r.type)}>`).join(`
`),a]);else{const r=[`[Vue warn]: ${e}`,...t];a.length&&r.push(`
`,...ai(a)),console.warn(...r)}yt(),En=!1}function ni(){let e=gs[gs.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function ai(e){const t=[];return e.forEach((s,n)=>{t.push(...n===0?[]:[`
`],...ri(s))}),t}function ri({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,a=` at <${Hr(e.component,e.type,n)}`,r=">"+s;return e.props?[a,...oi(e.props),r]:[a+r]}function oi(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(n=>{t.push(...Va(n,e[n]))}),s.length>3&&t.push(" ..."),t}function Va(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:We(t)?(t=Va(e,_e(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):oe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=_e(t),s?t:[`${e}=`,t])}function Xt(e,t,s,n){try{return n?e(...n):e()}catch(a){zs(a,t,s)}}function _t(e,t,s,n){if(oe(e)){const a=Xt(e,t,s,n);return a&&pa(a)&&a.catch(r=>{zs(r,t,s)}),a}if(re(e)){const a=[];for(let r=0;r<e.length;r++)a.push(_t(e[r],t,s,n));return a}}function zs(e,t,s,n=!0){const a=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||De;if(t){let i=t.parent;const f=t.proxy,g=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const h=i.ec;if(h){for(let c=0;c<h.length;c++)if(h[c](e,f,g)===!1)return}i=i.parent}if(r){vt(),Xt(r,null,10,[e,f,g]),yt();return}}ii(e,s,a,n,o)}function ii(e,t,s,n=!0,a=!1){if(a)throw e;console.error(e)}const Qe=[];let wt=-1;const Qt=[];let Ft=null,es=0;const za=Promise.resolve();let Ks=null;function Gs(e){const t=Ks||za;return e?t.then(this?e.bind(this):e):t}function li(e){let t=wt+1,s=Qe.length;for(;t<s;){const n=t+s>>>1,a=Qe[n],r=hs(a);r<e||r===e&&a.flags&2?t=n+1:s=n}return t}function On(e){if(!(e.flags&1)){const t=hs(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=hs(s)?Qe.push(e):Qe.splice(li(t),0,e),e.flags|=1,Ka()}}function Ka(){Ks||(Ks=za.then(Ja))}function ui(e){re(e)?Qt.push(...e):Ft&&e.id===-1?Ft.splice(es+1,0,e):e.flags&1||(Qt.push(e),e.flags|=1),Ka()}function Ga(e,t,s=wt+1){for(;s<Qe.length;s++){const n=Qe[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Qe.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function qa(e){if(Qt.length){const t=[...new Set(Qt)].sort((s,n)=>hs(s)-hs(n));if(Qt.length=0,Ft){Ft.push(...t);return}for(Ft=t,es=0;es<Ft.length;es++){const s=Ft[es];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ft=null,es=0}}const hs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ja(e){try{for(wt=0;wt<Qe.length;wt++){const t=Qe[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Xt(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<Qe.length;wt++){const t=Qe[wt];t&&(t.flags&=-2)}wt=-1,Qe.length=0,qa(),Ks=null,(Qe.length||Qt.length)&&Ja()}}let Ue=null,Za=null;function qs(e){const t=Ue;return Ue=e,Za=e&&e.type.__scopeId||null,t}function Ve(e,t=Ue,s){if(!t||e._n)return e;const n=(...a)=>{n._d&&Dr(-1);const r=qs(t);let o;try{o=e(...a)}finally{qs(r),n._d&&Dr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Js(e,t){if(Ue===null)return e;const s=an(Ue),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[r,o,i,f=De]=t[a];r&&(oe(r)&&(r={mounted:r,updated:r}),r.deep&&Dt(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:f}))}return e}function zt(e,t,s,n){const a=e.dirs,r=t&&t.dirs;for(let o=0;o<a.length;o++){const i=a[o];r&&(i.oldValue=r[o].value);let f=i.dir[n];f&&(vt(),_t(f,s,8,[e.el,i,e,t]),yt())}}const ci=Symbol("_vte"),di=e=>e.__isTeleport,fi=Symbol("_leaveCb");function Ln(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ln(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ne(e,t){return oe(e)?Je({name:e.name},t,{setup:e}):e}function Ya(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ps(e,t,s,n,a=!1){if(re(e)){e.forEach((b,m)=>ps(b,t&&(re(t)?t[m]:t),s,n,a));return}if(ts(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ps(e,t,s,n.component.subTree);return}const r=n.shapeFlag&4?an(n.component):n.el,o=a?null:r,{i,r:f}=e,g=t&&t.r,h=i.refs===De?i.refs={}:i.refs,c=i.setupState,d=_e(c),u=c===De?ga:b=>Me(d,b);if(g!=null&&g!==f){if(Fe(g))h[g]=null,u(g)&&(c[g]=null);else if(We(g)){g.value=null;const b=t;b.k&&(h[b.k]=null)}}if(oe(f))Xt(f,i,12,[o,h]);else{const b=Fe(f),m=We(f);if(b||m){const H=()=>{if(e.f){const W=b?u(f)?c[f]:h[f]:f.value;if(a)re(W)&&yn(W,r);else if(re(W))W.includes(r)||W.push(r);else if(b)h[f]=[r],u(f)&&(c[f]=h[f]);else{const S=[r];f.value=S,e.k&&(h[e.k]=S)}}else b?(h[f]=o,u(f)&&(c[f]=o)):m&&(f.value=o,e.k&&(h[e.k]=o))};o?(H.id=-1,it(H,s)):H()}}}Os().requestIdleCallback,Os().cancelIdleCallback;const ts=e=>!!e.type.__asyncLoader,Xa=e=>e.type.__isKeepAlive;function gi(e,t){Qa(e,"a",t)}function hi(e,t){Qa(e,"da",t)}function Qa(e,t,s=Ye){const n=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Zs(t,n,s),s){let a=s.parent;for(;a&&a.parent;)Xa(a.parent.vnode)&&pi(n,t,s,a),a=a.parent}}function pi(e,t,s,n){const a=Zs(t,e,n,!0);tr(()=>{yn(n[t],a)},s)}function Zs(e,t,s=Ye,n=!1){if(s){const a=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{vt();const i=xs(s),f=_t(t,s,e,o);return i(),yt(),f});return n?a.unshift(r):a.push(r),r}}const At=e=>(t,s=Ye)=>{(!Ss||e==="sp")&&Zs(e,(...n)=>t(...n),s)},mi=At("bm"),ms=At("m"),vi=At("bu"),yi=At("u"),er=At("bum"),tr=At("um"),bi=At("sp"),_i=At("rtg"),wi=At("rtc");function ki(e,t=Ye){Zs("ec",e,t)}const xi="components";function Si(e,t){return $i(xi,e,!0,t)||e}const Ci=Symbol.for("v-ndc");function $i(e,t,s=!0,n=!1){const a=Ue||Ye;if(a){const r=a.type;{const i=Lr(r,!1);if(i&&(i===t||i===ct(t)||i===Es(ct(t))))return r}const o=sr(a[e]||r[e],t)||sr(a.appContext[e],t);return!o&&n?r:o}}function sr(e,t){return e&&(e[t]||e[ct(t)]||e[Es(ct(t))])}function ze(e,t,s,n){let a;const r=s,o=re(e);if(o||Fe(e)){const i=o&&Yt(e);let f=!1,g=!1;i&&(f=!dt(e),g=Ht(e),e=Hs(e)),a=new Array(e.length);for(let h=0,c=e.length;h<c;h++)a[h]=t(f?g?js(je(e[h])):je(e[h]):e[h],h,void 0,r)}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,r)}else if(Le(e))if(e[Symbol.iterator])a=Array.from(e,(i,f)=>t(i,f,void 0,r));else{const i=Object.keys(e);a=new Array(i.length);for(let f=0,g=i.length;f<g;f++){const h=i[f];a[f]=t(e[h],h,f,r)}}else a=[];return a}function Ti(e,t,s={},n,a){if(Ue.ce||Ue.parent&&ts(Ue.parent)&&Ue.parent.ce)return s.name=t,k(),Ke(de,null,[ce("slot",s,n)],64);let r=e[t];r&&r._c&&(r._d=!1),k();const o=r&&nr(r(s)),i=s.key||o&&o.key,f=Ke(de,{key:(i&&!Ct(i)?i:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),f}function nr(e){return e.some(t=>ws(t)?!(t.type===It||t.type===de&&!nr(t.children)):!0)?e:null}const Hn=e=>e?Nr(e)?an(e):Hn(e.parent):null,vs=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hn(e.parent),$root:e=>Hn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ir(e),$forceUpdate:e=>e.f||(e.f=()=>{On(e.update)}),$nextTick:e=>e.n||(e.n=Gs.bind(e.proxy)),$watch:e=>Ji.bind(e)}),Fn=(e,t)=>e!==De&&!e.__isScriptSetup&&Me(e,t),Mi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:a,props:r,accessCache:o,type:i,appContext:f}=e;let g;if(t[0]!=="$"){const u=o[t];if(u!==void 0)switch(u){case 1:return n[t];case 2:return a[t];case 4:return s[t];case 3:return r[t]}else{if(Fn(n,t))return o[t]=1,n[t];if(a!==De&&Me(a,t))return o[t]=2,a[t];if((g=e.propsOptions[0])&&Me(g,t))return o[t]=3,r[t];if(s!==De&&Me(s,t))return o[t]=4,s[t];Rn&&(o[t]=0)}}const h=vs[t];let c,d;if(h)return t==="$attrs"&&Ze(e.attrs,"get",""),h(e);if((c=i.__cssModules)&&(c=c[t]))return c;if(s!==De&&Me(s,t))return o[t]=4,s[t];if(d=f.config.globalProperties,Me(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:a,ctx:r}=e;return Fn(a,t)?(a[t]=s,!0):n!==De&&Me(n,t)?(n[t]=s,!0):Me(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:a,propsOptions:r,type:o}},i){let f,g;return!!(s[i]||e!==De&&i[0]!=="$"&&Me(e,i)||Fn(t,i)||(f=r[0])&&Me(f,i)||Me(n,i)||Me(vs,i)||Me(a.config.globalProperties,i)||(g=o.__cssModules)&&g[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Me(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ar(e){return re(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Rn=!0;function Di(e){const t=ir(e),s=e.proxy,n=e.ctx;Rn=!1,t.beforeCreate&&rr(t.beforeCreate,e,"bc");const{data:a,computed:r,methods:o,watch:i,provide:f,inject:g,created:h,beforeMount:c,mounted:d,beforeUpdate:u,updated:b,activated:m,deactivated:H,beforeDestroy:W,beforeUnmount:S,destroyed:N,unmounted:$,render:R,renderTracked:X,renderTriggered:ee,errorCaptured:te,serverPrefetch:fe,expose:K,inheritAttrs:ve,components:ke,directives:me,filters:Ee}=t;if(g&&Ai(g,n,null),o)for(const se in o){const Z=o[se];oe(Z)&&(n[se]=Z.bind(s))}if(a){const se=a.call(s,s);Le(se)&&(e.data=bt(se))}if(Rn=!0,r)for(const se in r){const Z=r[se],le=oe(Z)?Z.bind(s,s):oe(Z.get)?Z.get.bind(s,s):mt,xe=!oe(Z)&&oe(Z.set)?Z.set.bind(s):mt,Se=V({get:le,set:xe});Object.defineProperty(n,se,{enumerable:!0,configurable:!0,get:()=>Se.value,set:ge=>Se.value=ge})}if(i)for(const se in i)or(i[se],n,s,se);if(f){const se=oe(f)?f.call(s):f;Reflect.ownKeys(se).forEach(Z=>{Li(Z,se[Z])})}h&&rr(h,e,"c");function ie(se,Z){re(Z)?Z.forEach(le=>se(le.bind(s))):Z&&se(Z.bind(s))}if(ie(mi,c),ie(ms,d),ie(vi,u),ie(yi,b),ie(gi,m),ie(hi,H),ie(ki,te),ie(wi,X),ie(_i,ee),ie(er,S),ie(tr,$),ie(bi,fe),re(K))if(K.length){const se=e.exposed||(e.exposed={});K.forEach(Z=>{Object.defineProperty(se,Z,{get:()=>s[Z],set:le=>s[Z]=le,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===mt&&(e.render=R),ve!=null&&(e.inheritAttrs=ve),ke&&(e.components=ke),me&&(e.directives=me),fe&&Ya(e)}function Ai(e,t,s=mt){re(e)&&(e=Wn(e));for(const n in e){const a=e[n];let r;Le(a)?"default"in a?r=Xs(a.from||n,a.default,!0):r=Xs(a.from||n):r=Xs(a),We(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function rr(e,t,s){_t(re(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function or(e,t,s,n){let a=n.includes(".")?Sr(s,n):()=>s[n];if(Fe(e)){const r=t[e];oe(r)&&gt(a,r)}else if(oe(e))gt(a,e.bind(s));else if(Le(e))if(re(e))e.forEach(r=>or(r,t,s,n));else{const r=oe(e.handler)?e.handler.bind(s):t[e.handler];oe(r)&&gt(a,r,e)}}function ir(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:a,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let f;return i?f=i:!a.length&&!s&&!n?f=t:(f={},a.length&&a.forEach(g=>Ys(f,g,o,!0)),Ys(f,t,o)),Le(t)&&r.set(t,f),f}function Ys(e,t,s,n=!1){const{mixins:a,extends:r}=t;r&&Ys(e,r,s,!0),a&&a.forEach(o=>Ys(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const i=Ii[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Ii={data:lr,props:ur,emits:ur,methods:ys,computed:ys,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:ys,directives:ys,watch:Ni,provide:lr,inject:Pi};function lr(e,t){return t?e?function(){return Je(oe(e)?e.call(this,this):e,oe(t)?t.call(this,this):t)}:t:e}function Pi(e,t){return ys(Wn(e),Wn(t))}function Wn(e){if(re(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function ys(e,t){return e?Je(Object.create(null),e,t):t}function ur(e,t){return e?re(e)&&re(t)?[...new Set([...e,...t])]:Je(Object.create(null),ar(e),ar(t??{})):t}function Ni(e,t){if(!e)return t;if(!t)return e;const s=Je(Object.create(null),e);for(const n in t)s[n]=et(e[n],t[n]);return s}function cr(){return{app:null,config:{isNativeTag:ga,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ei=0;function Oi(e,t){return function(n,a=null){oe(n)||(n=Je({},n)),a!=null&&!Le(a)&&(a=null);const r=cr(),o=new WeakSet,i=[];let f=!1;const g=r.app={_uid:Ei++,_component:n,_props:a,_container:null,_context:r,_instance:null,version:bl,get config(){return r.config},set config(h){},use(h,...c){return o.has(h)||(h&&oe(h.install)?(o.add(h),h.install(g,...c)):oe(h)&&(o.add(h),h(g,...c))),g},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),g},component(h,c){return c?(r.components[h]=c,g):r.components[h]},directive(h,c){return c?(r.directives[h]=c,g):r.directives[h]},mount(h,c,d){if(!f){const u=g._ceVNode||ce(n,a);return u.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(u,h,d),f=!0,g._container=h,h.__vue_app__=g,an(u.component)}},onUnmount(h){i.push(h)},unmount(){f&&(_t(i,g._instance,16),e(null,g._container),delete g._container.__vue_app__)},provide(h,c){return r.provides[h]=c,g},runWithContext(h){const c=ss;ss=g;try{return h()}finally{ss=c}}};return g}}let ss=null;function Li(e,t){if(Ye){let s=Ye.provides;const n=Ye.parent&&Ye.parent.provides;n===s&&(s=Ye.provides=Object.create(n)),s[e]=t}}function Xs(e,t,s=!1){const n=dl();if(n||ss){let a=ss?ss._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&oe(t)?t.call(n&&n.proxy):t}}const dr={},fr=()=>Object.create(dr),gr=e=>Object.getPrototypeOf(e)===dr;function Hi(e,t,s,n=!1){const a={},r=fr();e.propsDefaults=Object.create(null),hr(e,t,a,r);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);s?e.props=n?a:Ko(a):e.type.props?e.props=a:e.props=r,e.attrs=r}function Fi(e,t,s,n){const{props:a,attrs:r,vnode:{patchFlag:o}}=e,i=_e(a),[f]=e.propsOptions;let g=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let c=0;c<h.length;c++){let d=h[c];if(Qs(e.emitsOptions,d))continue;const u=t[d];if(f)if(Me(r,d))u!==r[d]&&(r[d]=u,g=!0);else{const b=ct(d);a[b]=Bn(f,i,b,u,e,!1)}else u!==r[d]&&(r[d]=u,g=!0)}}}else{hr(e,t,a,r)&&(g=!0);let h;for(const c in i)(!t||!Me(t,c)&&((h=jt(c))===c||!Me(t,h)))&&(f?s&&(s[c]!==void 0||s[h]!==void 0)&&(a[c]=Bn(f,i,c,void 0,e,!0)):delete a[c]);if(r!==i)for(const c in r)(!t||!Me(t,c))&&(delete r[c],g=!0)}g&&Tt(e.attrs,"set","")}function hr(e,t,s,n){const[a,r]=e.propsOptions;let o=!1,i;if(t)for(let f in t){if(is(f))continue;const g=t[f];let h;a&&Me(a,h=ct(f))?!r||!r.includes(h)?s[h]=g:(i||(i={}))[h]=g:Qs(e.emitsOptions,f)||(!(f in n)||g!==n[f])&&(n[f]=g,o=!0)}if(r){const f=_e(s),g=i||De;for(let h=0;h<r.length;h++){const c=r[h];s[c]=Bn(a,f,c,g[c],e,!Me(g,c))}}return o}function Bn(e,t,s,n,a,r){const o=e[s];if(o!=null){const i=Me(o,"default");if(i&&n===void 0){const f=o.default;if(o.type!==Function&&!o.skipFactory&&oe(f)){const{propsDefaults:g}=a;if(s in g)n=g[s];else{const h=xs(a);n=g[s]=f.call(null,t),h()}}else n=f;a.ce&&a.ce._setProp(s,n)}o[0]&&(r&&!i?n=!1:o[1]&&(n===""||n===jt(s))&&(n=!0))}return n}const Ri=new WeakMap;function pr(e,t,s=!1){const n=s?Ri:t.propsCache,a=n.get(e);if(a)return a;const r=e.props,o={},i=[];let f=!1;if(!oe(e)){const h=c=>{f=!0;const[d,u]=pr(c,t,!0);Je(o,d),u&&i.push(...u)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!f)return Le(e)&&n.set(e,qt),qt;if(re(r))for(let h=0;h<r.length;h++){const c=ct(r[h]);mr(c)&&(o[c]=De)}else if(r)for(const h in r){const c=ct(h);if(mr(c)){const d=r[h],u=o[c]=re(d)||oe(d)?{type:d}:Je({},d),b=u.type;let m=!1,H=!0;if(re(b))for(let W=0;W<b.length;++W){const S=b[W],N=oe(S)&&S.name;if(N==="Boolean"){m=!0;break}else N==="String"&&(H=!1)}else m=oe(b)&&b.name==="Boolean";u[0]=m,u[1]=H,(m||Me(u,"default"))&&i.push(c)}}const g=[o,i];return Le(e)&&n.set(e,g),g}function mr(e){return e[0]!=="$"&&!is(e)}const jn=e=>e==="_"||e==="_ctx"||e==="$stable",Un=e=>re(e)?e.map(kt):[kt(e)],Wi=(e,t,s)=>{if(t._n)return t;const n=Ve((...a)=>Un(t(...a)),s);return n._c=!1,n},vr=(e,t,s)=>{const n=e._ctx;for(const a in e){if(jn(a))continue;const r=e[a];if(oe(r))t[a]=Wi(a,r,n);else if(r!=null){const o=Un(r);t[a]=()=>o}}},yr=(e,t)=>{const s=Un(t);e.slots.default=()=>s},br=(e,t,s)=>{for(const n in t)(s||!jn(n))&&(e[n]=t[n])},Bi=(e,t,s)=>{const n=e.slots=fr();if(e.vnode.shapeFlag&32){const a=t._;a?(br(n,t,s),s&&ya(n,"_",a,!0)):vr(t,n)}else t&&yr(e,t)},ji=(e,t,s)=>{const{vnode:n,slots:a}=e;let r=!0,o=De;if(n.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:br(a,t,s):(r=!t.$stable,vr(t,a)),o=t}else t&&(yr(e,t),o={default:1});if(r)for(const i in a)!jn(i)&&o[i]==null&&delete a[i]},it=sl;function Ui(e){return Vi(e)}function Vi(e,t){const s=Os();s.__VUE__=!0;const{insert:n,remove:a,patchProp:r,createElement:o,createText:i,createComment:f,setText:g,setElementText:h,parentNode:c,nextSibling:d,setScopeId:u=mt,insertStaticContent:b}=e,m=(p,v,x,E=null,T=null,A=null,B=void 0,O=null,F=!!v.dynamicChildren)=>{if(p===v)return;p&&!ks(p,v)&&(E=Ce(p),ge(p,T,A,!0),p=null),v.patchFlag===-2&&(F=!1,v.dynamicChildren=null);const{type:L,ref:q,shapeFlag:U}=v;switch(L){case en:H(p,v,x,E);break;case It:W(p,v,x,E);break;case tn:p==null&&S(v,x,E,B);break;case de:ke(p,v,x,E,T,A,B,O,F);break;default:U&1?R(p,v,x,E,T,A,B,O,F):U&6?me(p,v,x,E,T,A,B,O,F):(U&64||U&128)&&L.process(p,v,x,E,T,A,B,O,F,Ge)}q!=null&&T?ps(q,p&&p.ref,A,v||p,!v):q==null&&p&&p.ref!=null&&ps(p.ref,null,A,p,!0)},H=(p,v,x,E)=>{if(p==null)n(v.el=i(v.children),x,E);else{const T=v.el=p.el;v.children!==p.children&&g(T,v.children)}},W=(p,v,x,E)=>{p==null?n(v.el=f(v.children||""),x,E):v.el=p.el},S=(p,v,x,E)=>{[p.el,p.anchor]=b(p.children,v,x,E,p.el,p.anchor)},N=({el:p,anchor:v},x,E)=>{let T;for(;p&&p!==v;)T=d(p),n(p,x,E),p=T;n(v,x,E)},$=({el:p,anchor:v})=>{let x;for(;p&&p!==v;)x=d(p),a(p),p=x;a(v)},R=(p,v,x,E,T,A,B,O,F)=>{v.type==="svg"?B="svg":v.type==="math"&&(B="mathml"),p==null?X(v,x,E,T,A,B,O,F):fe(p,v,T,A,B,O,F)},X=(p,v,x,E,T,A,B,O)=>{let F,L;const{props:q,shapeFlag:U,transition:J,dirs:Q}=p;if(F=p.el=o(p.type,A,q&&q.is,q),U&8?h(F,p.children):U&16&&te(p.children,F,null,E,T,Vn(p,A),B,O),Q&&zt(p,null,E,"created"),ee(F,p,p.scopeId,B,E),q){for(const be in q)be!=="value"&&!is(be)&&r(F,be,null,q[be],A,E);"value"in q&&r(F,"value",null,q.value,A),(L=q.onVnodeBeforeMount)&&xt(L,E,p)}Q&&zt(p,null,E,"beforeMount");const he=zi(T,J);he&&J.beforeEnter(F),n(F,v,x),((L=q&&q.onVnodeMounted)||he||Q)&&it(()=>{L&&xt(L,E,p),he&&J.enter(F),Q&&zt(p,null,E,"mounted")},T)},ee=(p,v,x,E,T)=>{if(x&&u(p,x),E)for(let A=0;A<E.length;A++)u(p,E[A]);if(T){let A=T.subTree;if(v===A||Mr(A.type)&&(A.ssContent===v||A.ssFallback===v)){const B=T.vnode;ee(p,B,B.scopeId,B.slotScopeIds,T.parent)}}},te=(p,v,x,E,T,A,B,O,F=0)=>{for(let L=F;L<p.length;L++){const q=p[L]=O?Rt(p[L]):kt(p[L]);m(null,q,v,x,E,T,A,B,O)}},fe=(p,v,x,E,T,A,B)=>{const O=v.el=p.el;let{patchFlag:F,dynamicChildren:L,dirs:q}=v;F|=p.patchFlag&16;const U=p.props||De,J=v.props||De;let Q;if(x&&Kt(x,!1),(Q=J.onVnodeBeforeUpdate)&&xt(Q,x,v,p),q&&zt(v,p,x,"beforeUpdate"),x&&Kt(x,!0),(U.innerHTML&&J.innerHTML==null||U.textContent&&J.textContent==null)&&h(O,""),L?K(p.dynamicChildren,L,O,x,E,Vn(v,T),A):B||Z(p,v,O,null,x,E,Vn(v,T),A,!1),F>0){if(F&16)ve(O,U,J,x,T);else if(F&2&&U.class!==J.class&&r(O,"class",null,J.class,T),F&4&&r(O,"style",U.style,J.style,T),F&8){const he=v.dynamicProps;for(let be=0;be<he.length;be++){const we=he[be],Be=U[we],Re=J[we];(Re!==Be||we==="value")&&r(O,we,Be,Re,T,x)}}F&1&&p.children!==v.children&&h(O,v.children)}else!B&&L==null&&ve(O,U,J,x,T);((Q=J.onVnodeUpdated)||q)&&it(()=>{Q&&xt(Q,x,v,p),q&&zt(v,p,x,"updated")},E)},K=(p,v,x,E,T,A,B)=>{for(let O=0;O<v.length;O++){const F=p[O],L=v[O],q=F.el&&(F.type===de||!ks(F,L)||F.shapeFlag&198)?c(F.el):x;m(F,L,q,null,E,T,A,B,!0)}},ve=(p,v,x,E,T)=>{if(v!==x){if(v!==De)for(const A in v)!is(A)&&!(A in x)&&r(p,A,v[A],null,T,E);for(const A in x){if(is(A))continue;const B=x[A],O=v[A];B!==O&&A!=="value"&&r(p,A,O,B,T,E)}"value"in x&&r(p,"value",v.value,x.value,T)}},ke=(p,v,x,E,T,A,B,O,F)=>{const L=v.el=p?p.el:i(""),q=v.anchor=p?p.anchor:i("");let{patchFlag:U,dynamicChildren:J,slotScopeIds:Q}=v;Q&&(O=O?O.concat(Q):Q),p==null?(n(L,x,E),n(q,x,E),te(v.children||[],x,q,T,A,B,O,F)):U>0&&U&64&&J&&p.dynamicChildren?(K(p.dynamicChildren,J,x,T,A,B,O),(v.key!=null||T&&v===T.subTree)&&_r(p,v,!0)):Z(p,v,x,q,T,A,B,O,F)},me=(p,v,x,E,T,A,B,O,F)=>{v.slotScopeIds=O,p==null?v.shapeFlag&512?T.ctx.activate(v,x,E,B,F):Ee(v,x,E,T,A,B,F):j(p,v,F)},Ee=(p,v,x,E,T,A,B)=>{const O=p.component=cl(p,E,T);if(Xa(p)&&(O.ctx.renderer=Ge),fl(O,!1,B),O.asyncDep){if(T&&T.registerDep(O,ie,B),!p.el){const F=O.subTree=ce(It);W(null,F,v,x),p.placeholder=F.el}}else ie(O,p,v,x,T,A,B)},j=(p,v,x)=>{const E=v.component=p.component;if(el(p,v,x))if(E.asyncDep&&!E.asyncResolved){se(E,v,x);return}else E.next=v,E.update();else v.el=p.el,E.vnode=v},ie=(p,v,x,E,T,A,B)=>{const O=()=>{if(p.isMounted){let{next:U,bu:J,u:Q,parent:he,vnode:be}=p;{const ot=wr(p);if(ot){U&&(U.el=be.el,se(p,U,B)),ot.asyncDep.then(()=>{p.isUnmounted||O()});return}}let we=U,Be;Kt(p,!1),U?(U.el=be.el,se(p,U,B)):U=be,J&&wn(J),(Be=U.props&&U.props.onVnodeBeforeUpdate)&&xt(Be,he,U,be),Kt(p,!0);const Re=$r(p),qe=p.subTree;p.subTree=Re,m(qe,Re,c(qe.el),Ce(qe),p,T,A),U.el=Re.el,we===null&&tl(p,Re.el),Q&&it(Q,T),(Be=U.props&&U.props.onVnodeUpdated)&&it(()=>xt(Be,he,U,be),T)}else{let U;const{el:J,props:Q}=v,{bm:he,m:be,parent:we,root:Be,type:Re}=p,qe=ts(v);Kt(p,!1),he&&wn(he),!qe&&(U=Q&&Q.onVnodeBeforeMount)&&xt(U,we,v),Kt(p,!0);{Be.ce&&Be.ce._def.shadowRoot!==!1&&Be.ce._injectChildStyle(Re);const ot=p.subTree=$r(p);m(null,ot,x,E,p,T,A),v.el=ot.el}if(be&&it(be,T),!qe&&(U=Q&&Q.onVnodeMounted)){const ot=v;it(()=>xt(U,we,ot),T)}(v.shapeFlag&256||we&&ts(we.vnode)&&we.vnode.shapeFlag&256)&&p.a&&it(p.a,T),p.isMounted=!0,v=x=E=null}};p.scope.on();const F=p.effect=new xa(O);p.scope.off();const L=p.update=F.run.bind(F),q=p.job=F.runIfDirty.bind(F);q.i=p,q.id=p.uid,F.scheduler=()=>On(q),Kt(p,!0),L()},se=(p,v,x)=>{v.component=p;const E=p.vnode.props;p.vnode=v,p.next=null,Fi(p,v.props,E,x),ji(p,v.children,x),vt(),Ga(p),yt()},Z=(p,v,x,E,T,A,B,O,F=!1)=>{const L=p&&p.children,q=p?p.shapeFlag:0,U=v.children,{patchFlag:J,shapeFlag:Q}=v;if(J>0){if(J&128){xe(L,U,x,E,T,A,B,O,F);return}else if(J&256){le(L,U,x,E,T,A,B,O,F);return}}Q&8?(q&16&&ye(L,T,A),U!==L&&h(x,U)):q&16?Q&16?xe(L,U,x,E,T,A,B,O,F):ye(L,T,A,!0):(q&8&&h(x,""),Q&16&&te(U,x,E,T,A,B,O,F))},le=(p,v,x,E,T,A,B,O,F)=>{p=p||qt,v=v||qt;const L=p.length,q=v.length,U=Math.min(L,q);let J;for(J=0;J<U;J++){const Q=v[J]=F?Rt(v[J]):kt(v[J]);m(p[J],Q,x,null,T,A,B,O,F)}L>q?ye(p,T,A,!0,!1,U):te(v,x,E,T,A,B,O,F,U)},xe=(p,v,x,E,T,A,B,O,F)=>{let L=0;const q=v.length;let U=p.length-1,J=q-1;for(;L<=U&&L<=J;){const Q=p[L],he=v[L]=F?Rt(v[L]):kt(v[L]);if(ks(Q,he))m(Q,he,x,null,T,A,B,O,F);else break;L++}for(;L<=U&&L<=J;){const Q=p[U],he=v[J]=F?Rt(v[J]):kt(v[J]);if(ks(Q,he))m(Q,he,x,null,T,A,B,O,F);else break;U--,J--}if(L>U){if(L<=J){const Q=J+1,he=Q<q?v[Q].el:E;for(;L<=J;)m(null,v[L]=F?Rt(v[L]):kt(v[L]),x,he,T,A,B,O,F),L++}}else if(L>J)for(;L<=U;)ge(p[L],T,A,!0),L++;else{const Q=L,he=L,be=new Map;for(L=he;L<=J;L++){const _=v[L]=F?Rt(v[L]):kt(v[L]);_.key!=null&&be.set(_.key,L)}let we,Be=0;const Re=J-he+1;let qe=!1,ot=0;const Ot=new Array(Re);for(L=0;L<Re;L++)Ot[L]=0;for(L=Q;L<=U;L++){const _=p[L];if(Be>=Re){ge(_,T,A,!0);continue}let y;if(_.key!=null)y=be.get(_.key);else for(we=he;we<=J;we++)if(Ot[we-he]===0&&ks(_,v[we])){y=we;break}y===void 0?ge(_,T,A,!0):(Ot[y-he]=L+1,y>=ot?ot=y:qe=!0,m(_,v[y],x,null,T,A,B,O,F),Be++)}const rs=qe?Ki(Ot):qt;for(we=rs.length-1,L=Re-1;L>=0;L--){const _=he+L,y=v[_],I=v[_+1],ae=_+1<q?I.el||I.placeholder:E;Ot[L]===0?m(null,y,x,ae,T,A,B,O,F):qe&&(we<0||L!==rs[we]?Se(y,x,ae,2):we--)}}},Se=(p,v,x,E,T=null)=>{const{el:A,type:B,transition:O,children:F,shapeFlag:L}=p;if(L&6){Se(p.component.subTree,v,x,E);return}if(L&128){p.suspense.move(v,x,E);return}if(L&64){B.move(p,v,x,Ge);return}if(B===de){n(A,v,x);for(let U=0;U<F.length;U++)Se(F[U],v,x,E);n(p.anchor,v,x);return}if(B===tn){N(p,v,x);return}if(E!==2&&L&1&&O)if(E===0)O.beforeEnter(A),n(A,v,x),it(()=>O.enter(A),T);else{const{leave:U,delayLeave:J,afterLeave:Q}=O,he=()=>{p.ctx.isUnmounted?a(A):n(A,v,x)},be=()=>{A._isLeaving&&A[fi](!0),U(A,()=>{he(),Q&&Q()})};J?J(A,he,be):be()}else n(A,v,x)},ge=(p,v,x,E=!1,T=!1)=>{const{type:A,props:B,ref:O,children:F,dynamicChildren:L,shapeFlag:q,patchFlag:U,dirs:J,cacheIndex:Q}=p;if(U===-2&&(T=!1),O!=null&&(vt(),ps(O,null,x,p,!0),yt()),Q!=null&&(v.renderCache[Q]=void 0),q&256){v.ctx.deactivate(p);return}const he=q&1&&J,be=!ts(p);let we;if(be&&(we=B&&B.onVnodeBeforeUnmount)&&xt(we,v,p),q&6)Te(p.component,x,E);else{if(q&128){p.suspense.unmount(x,E);return}he&&zt(p,null,v,"beforeUnmount"),q&64?p.type.remove(p,v,x,Ge,E):L&&!L.hasOnce&&(A!==de||U>0&&U&64)?ye(L,v,x,!1,!0):(A===de&&U&384||!T&&q&16)&&ye(F,v,x),E&&He(p)}(be&&(we=B&&B.onVnodeUnmounted)||he)&&it(()=>{we&&xt(we,v,p),he&&zt(p,null,v,"unmounted")},x)},He=p=>{const{type:v,el:x,anchor:E,transition:T}=p;if(v===de){Oe(x,E);return}if(v===tn){$(p);return}const A=()=>{a(x),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(p.shapeFlag&1&&T&&!T.persisted){const{leave:B,delayLeave:O}=T,F=()=>B(x,A);O?O(p.el,A,F):F()}else A()},Oe=(p,v)=>{let x;for(;p!==v;)x=d(p),a(p),p=x;a(v)},Te=(p,v,x)=>{const{bum:E,scope:T,job:A,subTree:B,um:O,m:F,a:L}=p;kr(F),kr(L),E&&wn(E),T.stop(),A&&(A.flags|=8,ge(B,p,v,x)),O&&it(O,v),it(()=>{p.isUnmounted=!0},v)},ye=(p,v,x,E=!1,T=!1,A=0)=>{for(let B=A;B<p.length;B++)ge(p[B],v,x,E,T)},Ce=p=>{if(p.shapeFlag&6)return Ce(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const v=d(p.anchor||p.el),x=v&&v[ci];return x?d(x):v};let Ie=!1;const rt=(p,v,x)=>{p==null?v._vnode&&ge(v._vnode,null,null,!0):m(v._vnode||null,p,v,null,null,null,x),v._vnode=p,Ie||(Ie=!0,Ga(),qa(),Ie=!1)},Ge={p:m,um:ge,m:Se,r:He,mt:Ee,mc:te,pc:Z,pbc:K,n:Ce,o:e};return{render:rt,hydrate:void 0,createApp:Oi(rt)}}function Vn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Kt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zi(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _r(e,t,s=!1){const n=e.children,a=t.children;if(re(n)&&re(a))for(let r=0;r<n.length;r++){const o=n[r];let i=a[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[r]=Rt(a[r]),i.el=o.el),!s&&i.patchFlag!==-2&&_r(o,i)),i.type===en&&i.patchFlag!==-1&&(i.el=o.el),i.type===It&&!i.el&&(i.el=o.el)}}function Ki(e){const t=e.slice(),s=[0];let n,a,r,o,i;const f=e.length;for(n=0;n<f;n++){const g=e[n];if(g!==0){if(a=s[s.length-1],e[a]<g){t[n]=a,s.push(n);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<g?r=i+1:o=i;g<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function wr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wr(t)}function kr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Gi=Symbol.for("v-scx"),qi=()=>Xs(Gi);function gt(e,t,s){return xr(e,t,s)}function xr(e,t,s=De){const{immediate:n,deep:a,flush:r,once:o}=s,i=Je({},s),f=t&&n||!t&&r!=="post";let g;if(Ss){if(r==="sync"){const u=qi();g=u.__watcherHandles||(u.__watcherHandles=[])}else if(!f){const u=()=>{};return u.stop=mt,u.resume=mt,u.pause=mt,u}}const h=Ye;i.call=(u,b,m)=>_t(u,h,b,m);let c=!1;r==="post"?i.scheduler=u=>{it(u,h&&h.suspense)}:r!=="sync"&&(c=!0,i.scheduler=(u,b)=>{b?u():On(u)}),i.augmentJob=u=>{t&&(u.flags|=4),c&&(u.flags|=2,h&&(u.id=h.uid,u.i=h))};const d=si(e,t,i);return Ss&&(g?g.push(d):f&&d()),d}function Ji(e,t,s){const n=this.proxy,a=Fe(e)?e.includes(".")?Sr(n,e):()=>n[e]:e.bind(n,n);let r;oe(t)?r=t:(r=t.handler,s=t);const o=xs(this),i=xr(a,r.bind(n),s);return o(),i}function Sr(e,t){const s=t.split(".");return()=>{let n=e;for(let a=0;a<s.length&&n;a++)n=n[s[a]];return n}}const Zi=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ct(t)}Modifiers`]||e[`${jt(t)}Modifiers`];function Yi(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||De;let a=s;const r=t.startsWith("update:"),o=r&&Zi(n,t.slice(7));o&&(o.trim&&(a=s.map(h=>Fe(h)?h.trim():h)),o.number&&(a=s.map(bo)));let i,f=n[i=_n(t)]||n[i=_n(ct(t))];!f&&r&&(f=n[i=_n(jt(t))]),f&&_t(f,e,6,a);const g=n[i+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,_t(g,e,6,a)}}function Cr(e,t,s=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const r=e.emits;let o={},i=!1;if(!oe(e)){const f=g=>{const h=Cr(g,t,!0);h&&(i=!0,Je(o,h))};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!r&&!i?(Le(e)&&n.set(e,null),null):(re(r)?r.forEach(f=>o[f]=null):Je(o,r),Le(e)&&n.set(e,o),o)}function Qs(e,t){return!e||!Is(t)?!1:(t=t.slice(2).replace(/Once$/,""),Me(e,t[0].toLowerCase()+t.slice(1))||Me(e,jt(t))||Me(e,t))}function rp(){}function $r(e){const{type:t,vnode:s,proxy:n,withProxy:a,propsOptions:[r],slots:o,attrs:i,emit:f,render:g,renderCache:h,props:c,data:d,setupState:u,ctx:b,inheritAttrs:m}=e,H=qs(e);let W,S;try{if(s.shapeFlag&4){const $=a||n,R=$;W=kt(g.call(R,$,h,c,u,d,b)),S=i}else{const $=t;W=kt($.length>1?$(c,{attrs:i,slots:o,emit:f}):$(c,null)),S=t.props?i:Xi(i)}}catch($){bs.length=0,zs($,e,1),W=ce(It)}let N=W;if(S&&m!==!1){const $=Object.keys(S),{shapeFlag:R}=N;$.length&&R&7&&(r&&$.some(vn)&&(S=Qi(S,r)),N=ns(N,S,!1,!0))}return s.dirs&&(N=ns(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(s.dirs):s.dirs),s.transition&&Ln(N,s.transition),W=N,qs(H),W}const Xi=e=>{let t;for(const s in e)(s==="class"||s==="style"||Is(s))&&((t||(t={}))[s]=e[s]);return t},Qi=(e,t)=>{const s={};for(const n in e)(!vn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function el(e,t,s){const{props:n,children:a,component:r}=e,{props:o,children:i,patchFlag:f}=t,g=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&f>=0){if(f&1024)return!0;if(f&16)return n?Tr(n,o,g):!!o;if(f&8){const h=t.dynamicProps;for(let c=0;c<h.length;c++){const d=h[c];if(o[d]!==n[d]&&!Qs(g,d))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:n===o?!1:n?o?Tr(n,o,g):!0:!!o;return!1}function Tr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const r=n[a];if(t[r]!==e[r]&&!Qs(s,r))return!0}return!1}function tl({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Mr=e=>e.__isSuspense;function sl(e,t){t&&t.pendingBranch?re(e)?t.effects.push(...e):t.effects.push(e):ui(e)}const de=Symbol.for("v-fgt"),en=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),tn=Symbol.for("v-stc"),bs=[];let lt=null;function k(e=!1){bs.push(lt=e?null:[])}function nl(){bs.pop(),lt=bs[bs.length-1]||null}let _s=1;function Dr(e,t=!1){_s+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function Ar(e){return e.dynamicChildren=_s>0?lt||qt:null,nl(),_s>0&&lt&&lt.push(e),e}function C(e,t,s,n,a,r){return Ar(l(e,t,s,n,a,r,!0))}function Ke(e,t,s,n,a){return Ar(ce(e,t,s,n,a,!0))}function ws(e){return e?e.__v_isVNode===!0:!1}function ks(e,t){return e.type===t.type&&e.key===t.key}const Ir=({key:e})=>e??null,sn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||We(e)||oe(e)?{i:Ue,r:e,k:t,f:!!s}:e:null);function l(e,t=null,s=null,n=0,a=null,r=e===de?0:1,o=!1,i=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ir(t),ref:t&&sn(t),scopeId:Za,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ue};return i?(zn(f,s),r&128&&e.normalize(f)):s&&(f.shapeFlag|=Fe(s)?8:16),_s>0&&!o&&lt&&(f.patchFlag>0||r&6)&&f.patchFlag!==32&&lt.push(f),f}const ce=al;function al(e,t=null,s=null,n=0,a=null,r=!1){if((!e||e===Ci)&&(e=It),ws(e)){const i=ns(e,t,!0);return s&&zn(i,s),_s>0&&!r&&lt&&(i.shapeFlag&6?lt[lt.indexOf(e)]=i:lt.push(i)),i.patchFlag=-2,i}if(yl(e)&&(e=e.__vccOpts),t){t=rl(t);let{class:i,style:f}=t;i&&!Fe(i)&&(t.class=pe(i)),Le(f)&&(Nn(f)&&!re(f)&&(f=Je({},f)),t.style=$t(f))}const o=Fe(e)?1:Mr(e)?128:di(e)?64:Le(e)?4:oe(e)?2:0;return l(e,t,s,n,a,o,r,!0)}function rl(e){return e?Nn(e)||gr(e)?Je({},e):e:null}function ns(e,t,s=!1,n=!1){const{props:a,ref:r,patchFlag:o,children:i,transition:f}=e,g=t?il(a||{},t):a,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:g,key:g&&Ir(g),ref:t&&t.ref?s&&r?re(r)?r.concat(sn(t)):[r,sn(t)]:sn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ns(e.ssContent),ssFallback:e.ssFallback&&ns(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&n&&Ln(h,f.clone(h)),h}function $e(e=" ",t=0){return ce(en,null,e,t)}function ol(e,t){const s=ce(tn,null,e);return s.staticCount=t,s}function z(e="",t=!1){return t?(k(),Ke(It,null,e)):ce(It,null,e)}function kt(e){return e==null||typeof e=="boolean"?ce(It):re(e)?ce(de,null,e.slice()):ws(e)?Rt(e):ce(en,null,String(e))}function Rt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ns(e)}function zn(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(re(t))s=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),zn(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!gr(t)?t._ctx=Ue:a===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else oe(t)?(t={default:t,_ctx:Ue},s=32):(t=String(t),n&64?(s=16,t=[$e(t)]):s=8);e.children=t,e.shapeFlag|=s}function il(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=pe([t.class,n.class]));else if(a==="style")t.style=$t([t.style,n.style]);else if(Is(a)){const r=t[a],o=n[a];o&&r!==o&&!(re(r)&&r.includes(o))&&(t[a]=r?[].concat(r,o):o)}else a!==""&&(t[a]=n[a])}return t}function xt(e,t,s,n=null){_t(e,t,7,[s,n])}const ll=cr();let ul=0;function cl(e,t,s){const n=e.type,a=(t?t.appContext:e.appContext)||ll,r={uid:ul++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Co(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pr(n,a),emitsOptions:Cr(n,a),emit:null,emitted:null,propsDefaults:De,inheritAttrs:n.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Yi.bind(null,r),e.ce&&e.ce(r),r}let Ye=null;const dl=()=>Ye||Ue;let nn,Kn;{const e=Os(),t=(s,n)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(n),r=>{a.length>1?a.forEach(o=>o(r)):a[0](r)}};nn=t("__VUE_INSTANCE_SETTERS__",s=>Ye=s),Kn=t("__VUE_SSR_SETTERS__",s=>Ss=s)}const xs=e=>{const t=Ye;return nn(e),e.scope.on(),()=>{e.scope.off(),nn(t)}},Pr=()=>{Ye&&Ye.scope.off(),nn(null)};function Nr(e){return e.vnode.shapeFlag&4}let Ss=!1;function fl(e,t=!1,s=!1){t&&Kn(t);const{props:n,children:a}=e.vnode,r=Nr(e);Hi(e,n,r,t),Bi(e,a,s||t);const o=r?gl(e,t):void 0;return t&&Kn(!1),o}function gl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Mi);const{setup:n}=s;if(n){vt();const a=e.setupContext=n.length>1?pl(e):null,r=xs(e),o=Xt(n,e,0,[e.props,a]),i=pa(o);if(yt(),r(),(i||e.sp)&&!ts(e)&&Ya(e),i){if(o.then(Pr,Pr),t)return o.then(f=>{Er(e,f)}).catch(f=>{zs(f,e,0)});e.asyncDep=o}else Er(e,o)}else Or(e)}function Er(e,t,s){oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=ja(t)),Or(e)}function Or(e,t,s){const n=e.type;e.render||(e.render=n.render||mt);{const a=xs(e);vt();try{Di(e)}finally{yt(),a()}}}const hl={get(e,t){return Ze(e,"get",""),e[t]}};function pl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,hl),slots:e.slots,emit:e.emit,expose:t}}function an(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ja(Go(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in vs)return vs[s](e)},has(t,s){return s in t||s in vs}})):e.proxy}const ml=/(?:^|[-_])(\w)/g,vl=e=>e.replace(ml,t=>t.toUpperCase()).replace(/[-_]/g,"");function Lr(e,t=!0){return oe(e)?e.displayName||e.name:e.name||t&&e.__name}function Hr(e,t,s=!1){let n=Lr(t);if(!n&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(n=a[1])}if(!n&&e&&e.parent){const a=r=>{for(const o in r)if(r[o]===t)return o};n=a(e.components||e.parent.type.components)||a(e.appContext.components)}return n?vl(n):s?"App":"Anonymous"}function yl(e){return oe(e)&&"__vccOpts"in e}const V=(e,t)=>ei(e,t,Ss);function ut(e,t,s){const n=arguments.length;return n===2?Le(t)&&!re(t)?ws(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&ws(s)&&(s=[s]),ce(e,t,s))}const bl="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gn;const Fr=typeof window<"u"&&window.trustedTypes;if(Fr)try{Gn=Fr.createPolicy("vue",{createHTML:e=>e})}catch{}const Rr=Gn?e=>Gn.createHTML(e):e=>e,_l="http://www.w3.org/2000/svg",wl="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,Wr=Pt&&Pt.createElement("template"),kl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const a=t==="svg"?Pt.createElementNS(_l,e):t==="mathml"?Pt.createElementNS(wl,e):s?Pt.createElement(e,{is:s}):Pt.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,a,r){const o=s?s.previousSibling:t.lastChild;if(a&&(a===r||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===r||!(a=a.nextSibling)););else{Wr.innerHTML=Rr(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=Wr.content;if(n==="svg"||n==="mathml"){const f=i.firstChild;for(;f.firstChild;)i.appendChild(f.firstChild);i.removeChild(f)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},xl=Symbol("_vtc");function Sl(e,t,s){const n=e[xl];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const rn=Symbol("_vod"),Br=Symbol("_vsh"),on={name:"show",beforeMount(e,{value:t},{transition:s}){e[rn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Cs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Cs(e,!0),n.enter(e)):n.leave(e,()=>{Cs(e,!1)}):Cs(e,t))},beforeUnmount(e,{value:t}){Cs(e,t)}};function Cs(e,t){e.style.display=t?e[rn]:"none",e[Br]=!t}const Cl=Symbol(""),$l=/(^|;)\s*display\s*:/;function Tl(e,t,s){const n=e.style,a=Fe(s);let r=!1;if(s&&!a){if(t)if(Fe(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&ln(n,i,"")}else for(const o in t)s[o]==null&&ln(n,o,"");for(const o in s)o==="display"&&(r=!0),ln(n,o,s[o])}else if(a){if(t!==s){const o=n[Cl];o&&(s+=";"+o),n.cssText=s,r=$l.test(s)}}else t&&e.removeAttribute("style");rn in e&&(e[rn]=r?n.display:"",e[Br]&&(n.display="none"))}const jr=/\s*!important$/;function ln(e,t,s){if(re(s))s.forEach(n=>ln(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Ml(e,t);jr.test(s)?e.setProperty(jt(n),s.replace(jr,""),"important"):e[n]=s}}const Ur=["Webkit","Moz","ms"],qn={};function Ml(e,t){const s=qn[t];if(s)return s;let n=ct(t);if(n!=="filter"&&n in e)return qn[t]=n;n=Es(n);for(let a=0;a<Ur.length;a++){const r=Ur[a]+n;if(r in e)return qn[t]=r}return t}const Vr="http://www.w3.org/1999/xlink";function zr(e,t,s,n,a,r=So(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Vr,t.slice(6,t.length)):e.setAttributeNS(Vr,t,s):s==null||r&&!_a(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Ct(s)?String(s):s)}function Kr(e,t,s,n,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Rr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,f=s==null?e.type==="checkbox"?"on":"":String(s);(i!==f||!("_value"in e))&&(e.value=f),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=_a(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(a||t)}function Dl(e,t,s,n){e.addEventListener(t,s,n)}function Al(e,t,s,n){e.removeEventListener(t,s,n)}const Gr=Symbol("_vei");function Il(e,t,s,n,a=null){const r=e[Gr]||(e[Gr]={}),o=r[t];if(n&&o)o.value=n;else{const[i,f]=Pl(t);if(n){const g=r[t]=Ol(n,a);Dl(e,i,g,f)}else o&&(Al(e,i,o,f),r[t]=void 0)}}const qr=/(?:Once|Passive|Capture)$/;function Pl(e){let t;if(qr.test(e)){t={};let n;for(;n=e.match(qr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):jt(e.slice(2)),t]}let Jn=0;const Nl=Promise.resolve(),El=()=>Jn||(Nl.then(()=>Jn=0),Jn=Date.now());function Ol(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;_t(Ll(n,s.value),t,5,[n])};return s.value=e,s.attached=El(),s}function Ll(e,t){if(re(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const Jr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Hl=(e,t,s,n,a,r)=>{const o=a==="svg";t==="class"?Sl(e,n,o):t==="style"?Tl(e,s,n):Is(t)?vn(t)||Il(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fl(e,t,n,o))?(Kr(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&zr(e,t,n,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(n))?Kr(e,ct(t),n,r,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),zr(e,t,n,o))};function Fl(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Jr(t)&&oe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Jr(t)&&Fe(s)?!1:t in e}const Rl=["ctrl","shift","alt","meta"],Wl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Rl.some(s=>e[`${s}Key`]&&!t.includes(s))},un=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(a,...r)=>{for(let o=0;o<t.length;o++){const i=Wl[t[o]];if(i&&i(a,t))return}return e(a,...r)})},Bl=Je({patchProp:Hl},kl);let Zr;function jl(){return Zr||(Zr=Ui(Bl))}const Ul=(...e)=>{const t=jl().createApp(...e),{mount:s}=t;return t.mount=n=>{const a=zl(n);if(!a)return;const r=t._component;!oe(r)&&!r.render&&!r.template&&(r.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=s(a,!1,Vl(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function Vl(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zl(e){return Fe(e)?document.querySelector(e):e}const Kl=Ne({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const n=e.showNavigation!==!1,a={...s,class:[s.class,"app-content",n?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":n?"false":"true"};return ut("div",a,[ut("aside",r,t.navigation?t.navigation():[]),ut("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),Gl=Ne({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const n={...s,class:[s.class,"app-navigation"]};"role"in n||(n.role="navigation");const a=[];return t.actions&&a.push(ut("div",{class:"app-navigation__actions"},t.actions())),t.default&&a.push(...t.default()),ut("nav",n,a)}}}),Wt=Ne({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:n}){return()=>{const a={...n,class:[n.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in a||(a.type="button"),ut("button",a,s.default?s.default():[])}}}),cn=Ne({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>ut("div",{...t,class:[t.class,"card empty"]},[ut("div",{class:"value"},e.name),ut("div",{class:"hint"},e.description)])}}),dn=Ne({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:n}){const a=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...n,class:[n.class,"nc-checkbox-radio-switch"]};return()=>ut("label",r,[ut("input",{type:e.type,name:e.name,checked:e.checked,onInput:a}),ut("span",{},s.default?s.default():[])])}}),ql=Ne({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>ut("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function Zn(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const n=Math.floor(s.width*t),a=Math.floor(s.height*t);e.width!==n&&(e.width=n),e.height!==a&&(e.height=a);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function Yr(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Jl(e){const s=Math.pow((g=>g<0?0:g>1?1:g)(e),.6),n=Yr("#e0f2fe"),a=Yr("#7c3aed");if(!n||!a)return"#7c3aed";const r=(g,h,c)=>Math.round(g+(h-g)*c),o=r(n.r,a.r,s),i=r(n.g,a.g,s),f=r(n.b,a.b,s);return`rgb(${o}, ${i}, ${f})`}const Xr=Ne({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=ue(null);function n(){const a=t.data,r=s.value;if(!r||!a)return;const o=Zn(r);if(!o)return;const i=r.clientWidth,f=r.clientHeight,g=i/2,h=f/2,c=Math.min(i,f)*.35,d=a.data||[],u=a.labels||[],b=a.ids||[],m=a.colors||[],H=[];for(let te=0;te<d.length;te++)(Number(d[te])||0)>0&&H.push(te);if(o.clearRect(0,0,i,f),H.length===0)return;const W=H.map(te=>Number(d[te])||0),S=H.map(te=>String(u[te]||"")),N=H.map(te=>String(b[te]||"")),$=H.map(te=>m[te]),R=W.reduce((te,fe)=>te+Math.max(0,fe),0)||1;let X=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const ee=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];W.forEach((te,fe)=>{var He,Oe;const K=Math.max(0,te)/R,ve=X+K*2*Math.PI,ke=String((S==null?void 0:S[fe])||""),me=String((N==null?void 0:N[fe])||""),Ee=$[fe],j=(He=t.colorsById)==null?void 0:He[me],ie=(Oe=t.colorsByName)==null?void 0:Oe[ke];let se=j||ie||Ee||ee[fe%ee.length];o.beginPath(),o.moveTo(g,h),o.arc(g,h,c,X,ve),o.closePath(),o.fillStyle=se,o.fill(),o.stroke();const Z=(X+ve)/2,le=g+Math.cos(Z)*(c+12),xe=h+Math.sin(Z)*(c+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const Se=Math.max(0,Number(te)||0)/R*100,ge=`${S!=null&&S[fe]?S[fe]+" ":""}${Number(te).toFixed(2)}h  ${Se.toFixed(1)}%`;o.strokeText(ge,le,xe),o.fillText(ge,le,xe),o.restore(),X=ve})}return ms(()=>{n(),window.addEventListener("resize",n)}),gt(()=>t.data,()=>n(),{deep:!0}),gt(()=>t.colorsById,()=>n(),{deep:!0}),(a,r)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Qr=Ne({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=ue(null);function n(c,d,u,b,m){c.save(),m!=null&&m.font&&(c.font=m.font),m!=null&&m.align&&(c.textAlign=m.align),m!=null&&m.baseline&&(c.textBaseline=m.baseline),c.lineWidth=3,c.strokeStyle="rgba(0,0,0,0.55)",c.strokeText(d,u,b),c.fillStyle="#ffffff",c.fillText(d,u,b),c.restore()}function a(c){const d=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(c||"");return d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16)}:null}function r(c,d){const u=a(c);return u&&(.2126*u.r+.7152*u.g+.0722*u.b)/255<.55?"#ffffff":d}function o(){var se,Z;const c=s.value;if(!c)return;const d=Zn(c);if(!d)return;const u=c.clientWidth,b=c.clientHeight,m=28,H=m*1.4,W=b-m,S=u-m,N=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",$=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";d.clearRect(0,0,u,b),d.strokeStyle=N,d.lineWidth=1,d.beginPath(),d.moveTo(H,W),d.lineTo(S,W),d.moveTo(H,W),d.lineTo(H,m),d.stroke();const R=t.stacked;if(R&&R.labels&&R.series){let le=R.labels||[],xe=R.series||[];const Se=f(le,xe);le=Se.labels,xe=Se.series;const ge=le.map((Ge,ne)=>xe.reduce((p,v)=>{var x;return p+Math.max(0,Number(((x=v.data)==null?void 0:x[ne])||0))},0)),He=Math.max(1,...ge),Oe=le.length||1,Te=8,ye=Math.max(6,(S-H-Te*(Oe+1))/Oe),Ce=(W-m)/He;le.forEach((Ge,ne)=>{let p=W,v=0;xe.forEach(E=>{var F;const T=Math.max(0,Number(((F=E.data)==null?void 0:F[ne])||0)),A=T*Ce,B=H+Te+ne*(ye+Te);p=p-A;const O=t.colorsById[E.id]||E.color||"#93c5fd";if(d.fillStyle=O,A>.5&&(d.fillRect(B,p,ye,A),A>14&&ye>22&&T>.01)){const L=String((Math.round(T*100)/100).toFixed(1));d.fillStyle=r(O,$),d.font="11px ui-sans-serif,system-ui";const q=d.measureText(L).width;d.fillText(L,B+ye/2-q/2,p+A/2+4)}v+=T}),d.fillStyle=$,d.font="12px ui-sans-serif,system-ui";const x=i(String(le[ne]||""));if(ye>26){const E=d.measureText(x).width;d.fillText(x,H+Te+ne*(ye+Te)+ye/2-E/2,W+14)}if(v>.01){const E=H+Te+ne*(ye+Te),T=`${(Math.round(v*100)/100).toFixed(1)}h`;n(d,T,E+ye/2,Math.max(m+4,p-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const Ie=ge.reduce((Ge,ne)=>Ge+ne,0),rt=`${(Math.round(Ie*100)/100).toFixed(1)}h total`;n(d,rt,S-4,m+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const X=t.legacy;if(!X)return;let ee=X.data||[],te=X.labels||[];const fe=f(te,[{id:"__legacy__",data:ee}]);te=fe.labels,ee=((Z=(se=fe.series)==null?void 0:se[0])==null?void 0:Z.data)||ee;const K=Math.max(1,...ee.map(le=>Math.max(0,le))),ve=ee.length||1,ke=8,me=Math.max(6,(S-H-ke*(ve+1))/ve),Ee=(W-m)/K;d.fillStyle="#93c5fd",ee.forEach((le,xe)=>{const Se=Math.max(0,le*Ee),ge=H+ke+xe*(me+ke),He=W-Se;if(d.fillRect(ge,He,me,Se),Se>14&&me>22&&le>.01){const Te=String((Math.round(le*100)/100).toFixed(1));d.fillStyle=r("#93c5fd",$),d.font="11px ui-sans-serif,system-ui";const ye=d.measureText(Te).width;d.fillText(Te,ge+me/2-ye/2,He+Se/2+4)}d.fillStyle=$,d.font="12px ui-sans-serif,system-ui";const Oe=i(String(te[xe]||""));if(me>26){const Te=d.measureText(Oe).width;d.fillText(Oe,ge+me/2-Te/2,W+14)}if(le>.01){const Te=`${(Math.round(le*100)/100).toFixed(1)}h`;n(d,Te,ge+me/2,Math.max(m+4,He-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const j=ee.reduce((le,xe)=>le+Math.max(0,Number(xe)||0),0),ie=`${(Math.round(j*100)/100).toFixed(1)}h total`;n(d,ie,S-4,m+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}ms(()=>{o(),window.addEventListener("resize",o)}),gt(()=>t.stacked,()=>o(),{deep:!0}),gt(()=>t.legacy,()=>o(),{deep:!0}),gt(()=>t.colorsById,()=>o(),{deep:!0});function i(c){const d=/^(\d{4})-(\d{2})-(\d{2})$/.exec(c);if(!d)return c;const u=new Date(`${d[1]}-${d[2]}-${d[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][u.getDay()]||c}function f(c,d){if(!Array.isArray(c)||c.length!==7)return{labels:c,series:d};const u=c.map($=>g($));if(u.some($=>!$))return{labels:c,series:d};const b=u.map($=>h($)),m=[1,2,3,4,5,6,7];if(b.join(",")===m.join(","))return{labels:c,series:d};const H={};if(b.forEach(($,R)=>{H[$]=R}),!m.every($=>$ in H))return{labels:c,series:d};const W=m.map($=>H[$]),S=W.map($=>c[$]),N=(d||[]).map($=>({...$,data:($.data||[]).map((R,X)=>($.data||[])[W[X]])}));return{labels:S,series:N}}function g(c){const d=/^(\d{4})-(\d{2})-(\d{2})$/.exec(c);if(!d)return null;const u=new Date(`${d[1]}-${d[2]}-${d[3]}T00:00:00`);return isNaN(u.getTime())?null:u}function h(c){const d=c.getDay();return d===0?7:d}return(c,d)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Zl=Ne({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=ue(null);let n=null;function a(){var R;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=Zn(r);if(!i)return;const f=r.clientWidth,g=r.clientHeight,h=o.dows||[],c=o.hours||[],d=o.matrix||[];i.clearRect(0,0,f,g);const u=36,b=u,m=u,H=f-u,W=g-u,S=(H-b)/Math.max(1,c.length),N=(W-m)/Math.max(1,h.length),$=Math.max(0,...d.flat())||1;h.length&&c.length&&console.info("[opsdash] heatmap draw",{rows:h.length,cols:c.length,vmax:$});for(let X=0;X<h.length;X++)for(let ee=0;ee<c.length;ee++){const fe=(((R=d[X])==null?void 0:R[ee])||0)/$,K=b+ee*S,ve=m+X*N;i.fillStyle=Jl(fe),i.fillRect(K,ve,S-1,N-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",h.forEach((X,ee)=>i.fillText(X,8,m+ee*N+12)),c.forEach((X,ee)=>{ee%2===0&&i.fillText(String(X),b+ee*S+2,m-6)})}return ms(async()=>{await Gs(),a();try{n=new ResizeObserver(()=>a()),s.value&&n.observe(s.value)}catch{}window.addEventListener("resize",a)}),er(()=>{try{window.removeEventListener("resize",a)}catch{}try{n&&s.value&&n.unobserve(s.value)}catch{}n=null}),gt(()=>t.hod,()=>a(),{deep:!0}),(r,o)=>(k(),C("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),Yl={class:"group-row"},Xl={colspan:"5"},Ql={class:"group-header"},eu={class:"group-label"},tu={class:"name"},su={key:0,class:"group-meta"},nu={class:"summary"},au={key:0,class:"summary-percent"},ru={key:1,class:"group-meta"},ou={class:"summary"},iu={key:0},lu=["title"],uu={class:"row-name"},cu={key:0,class:"progress"},du={class:"num"},fu={class:"num"},gu={class:"num"},hu={class:"num"},pu={key:0,class:"hint"},mu={key:0,class:"empty-row"},vu=Ne({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=V(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(S=>({id:S.id,label:S.label,summary:S.summary??null,color:S.color,rows:(S.rows||[]).map(n)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(n)}]);function n(S){const N=a(S);return{...S,calendarId:N}}function a(S){return S?S.calendarId?String(S.calendarId):S.id?String(S.id):S.calendar_id?String(S.calendar_id):S.calendar?String(S.calendar):"":""}function r(S){return String(S.calendar||S.displayname||S.name||S.calendarId||"")}function o(S){return a(S)||r(S)}function i(S){const N=b(S);if(!N)return!1;const $=t.targets||{},R=Number($[N]);return isFinite(R)&&R>0}function f(S){const N=b(S);if(!N)return 0;const $=t.targets||{},R=Number($[N]);return isFinite(R)?R:0}function g(S){const N=f(S);return N>0?(Math.round(N*100)/100).toFixed(2):""}function h(S,N){return S-N>=0?"delta pos":"delta neg"}function c(S,N){const $=S-N,R=Math.abs(Math.round($*100)/100).toFixed(2);return($>=0?"+":"-")+R+"h"}function d(S,N){return Math.max(0,Math.min(100,N>0?S/N*100:0)).toFixed(0)+"%"}function u(S,N){return Math.max(0,Math.min(100,N>0?S/N*100:0))}function b(S){return S==null?"":String(S)}function m(S){const N=S.summary;if(!N)return`${S.rows.length} calendar${S.rows.length===1?"":"s"}`;const $=t.n2(N.actualHours);return N.targetHours>0?`${$} h / ${t.n2(N.targetHours)} h`:`${$} h`}function H(S){const N=S.summary;return!N||N.targetHours<=0?"":`${Math.round(N.percent)}%`}function W(S){switch(S){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(S,N)=>(k(),C("table",null,[N[1]||(N[1]=l("colgroup",null,[l("col",{class:"col-w-42"}),l("col",{class:"col-w-12"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-14"}),l("col",{class:"col-w-18"})],-1)),N[2]||(N[2]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Calendar"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours"),l("th",{class:"num"},"Target"),l("th",{class:"num"}," / %")])],-1)),l("tbody",null,[(k(!0),C(de,null,ze(s.value,$=>(k(),C(de,{key:$.id},[l("tr",Yl,[l("td",Xl,[l("div",Ql,[l("div",eu,[l("span",{class:"dot",style:$t({background:$.color||"var(--brand)"})},null,4),l("span",tu,P($.label),1)]),$.summary?(k(),C("div",su,[l("span",nu,P(m($)),1),H($)?(k(),C("span",au,P(H($)),1)):z("",!0),$.summary.statusLabel?(k(),C("span",{key:1,class:pe(["badge",W($.summary.status)])},P($.summary.statusLabel),3)):z("",!0)])):(k(),C("div",ru,[l("span",ou,[$e(P($.rows.length)+" calendar",1),$.rows.length!==1?(k(),C("span",iu,"s")):z("",!0)])]))])])]),(k(!0),C(de,null,ze($.rows,R=>(k(),C("tr",{key:o(R)},[l("td",null,[l("div",{class:"cell",title:r(R)},[l("div",uu,P(r(R)),1),i(a(R))&&f(a(R))>0?(k(),C("div",cu,[l("div",{class:"progress-bar",style:$t({width:u(R.total_hours,f(a(R)))+"%",background:$.color||void 0})},null,4)])):z("",!0)],8,lu)]),l("td",du,P(R.events_count),1),l("td",fu,P(S.n2(R.total_hours)),1),l("td",gu,P(g(a(R))),1),l("td",hu,[i(a(R))?(k(),C(de,{key:0},[l("span",{class:pe(h(R.total_hours,f(a(R))))},P(c(R.total_hours,f(a(R)))),3),f(a(R))>0?(k(),C("span",pu," ("+P(d(R.total_hours,f(a(R))))+")",1)):z("",!0)],64)):(k(),C(de,{key:1},[$e("")],64))])]))),128)),$.rows.length?z("",!0):(k(),C("tr",mu,[...N[0]||(N[0]=[l("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),Gt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},yu=Gt(vu,[["__scopeId","data-v-69f095b4"]]),bu={class:"mono nowrap"},_u=["href"],wu={class:"hint"},ku={class:"num"},xu={class:"num"},Su=Ne({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!n)return"";const a=new Date(`${n[1]}-${n[2]}-${n[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getUTCDay()]||""}return(s,n)=>(k(),C("table",null,[n[0]||(n[0]=l("colgroup",null,[l("col",{class:"col-w-40"}),l("col",{class:"col-w-30"}),l("col",{class:"col-w-30"})],-1)),n[1]||(n[1]=l("thead",null,[l("tr",null,[l("th",{class:"nowrap"},"Date"),l("th",{class:"num"},"Events"),l("th",{class:"num"},"Hours")])],-1)),l("tbody",null,[(k(!0),C(de,null,ze(s.rows,a=>(k(),C("tr",{key:a.date},[l("td",bu,[l("a",{href:s.link(a.date),target:"_blank"},P(a.date),9,_u),l("span",wu," ("+P(t(a.date))+")",1)]),l("td",ku,P(a.events_count),1),l("td",xu,P(s.n2(a.total_hours)),1)]))),128))])]))}}),Cu=["onClick"],$u=["title"],Tu={class:"num"},Mu={class:"mono nowrap"},Du={class:"mono nowrap"},Au={key:0},Iu={colspan:"5",class:"mono cell-details"},Pu={key:0},Nu={key:1,class:"hint"},Eu=Ne({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(k(),C("table",null,[s[1]||(s[1]=l("colgroup",null,[l("col",{class:"col-w-22"}),l("col"),l("col",{class:"col-w-12"}),l("col",{class:"col-w-18"}),l("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=l("thead",null,[l("tr",null,[l("th",null,"Calendar"),l("th",null,"Summary"),l("th",{class:"num"},"Hours"),l("th",{class:"nowrap"},"Start date"),l("th",{class:"nowrap"},"Start time")])],-1)),l("tbody",null,[(k(!0),C(de,null,ze(t.rows,(n,a)=>{var r;return k(),C(de,{key:a},[l("tr",{onClick:o=>t.$emit("toggle",a),class:"cursor-pointer"},[l("td",null,P(n.calendar),1),l("td",null,[l("span",{class:"cell",title:n.summary},P(n.summary),9,$u)]),l("td",Tu,P(t.n2(n.duration_h)),1),l("td",Mu,P((n.start||"").split(" ")[0]),1),l("td",Du,P((r=(n.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,Cu),t.detailsIndex===a?(k(),C("tr",Au,[l("td",Iu,[s[0]||(s[0]=l("div",null,[l("strong",null,"Details")],-1)),n.desc?(k(),C("div",Pu,P(n.desc),1)):(k(),C("div",Nu,"No description"))])])):z("",!0)],64)}),128))])]))}}),Ou={class:"card time-summary compact"},Lu={class:"time-summary-firstline"},Hu={class:"time-summary-metrics"},Fu={key:0},Ru={key:1},Wu={key:2},Bu={key:3},ju={key:4},Uu={key:0,class:"time-summary-row"},Vu={key:1,class:"time-summary-row"},zu={key:0,class:"share"},Ku={key:2,class:"time-summary-row calendars"},Gu={class:"label"},qu={class:"text"},Ju={key:3,class:"time-summary-row top-category"},Zu={class:"text"},Yu={key:4,class:"time-summary-row"},Xu=Gt(Ne({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,n=V(()=>Object.assign({},t,s.config??{})),a=V(()=>s.mode==="active"?"active days":"all days"),r=V(()=>{if(!n.value.showWeekendShare)return"";const c=s.summary.weekendShare;return c==null?"":`${f(c)}%`}),o=V(()=>{if(!n.value.showTopCategory)return null;const c=s.summary.topCategory;if(!c)return null;const d=g(c.actualHours),u=Number(c.percent??0).toFixed(0),b=c.targetHours>0?` (${u}% of ${g(c.targetHours)} h)`:"";return{text:`${c.label}  ${d} h${b}`,badge:c.statusLabel||"",badgeClass:h(c.status)}}),i=V(()=>{if(!n.value.showBusiest)return"";const c=s.summary.busiest;if(!c||!c.date)return"";const d=Number(c.hours??0);return`Busiest ${c.date}  ${g(d)} h`});function f(c){return Number(c??0).toFixed(1)}function g(c){return Number(c??0).toFixed(2)}function h(c){switch(c){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(c,d)=>(k(),C("div",Ou,[l("div",Lu,[l("em",null,"Time Summary  "+P(c.summary.rangeLabel),1)]),l("ul",Hu,[n.value.showTotal?(k(),C("li",Fu,[l("strong",null,P(g(c.summary.totalHours))+" h",1),d[0]||(d[0]=$e(" total",-1))])):z("",!0),n.value.showAverage?(k(),C("li",Ru,P(g(c.summary.avgDay))+" h/day ("+P(a.value)+")",1)):z("",!0),n.value.showAverage?(k(),C("li",Wu,P(g(c.summary.avgEvent))+" h/event",1)):z("",!0),n.value.showMedian?(k(),C("li",Bu,P(g(c.summary.medianDay))+" h median/day",1)):z("",!0),n.value.showBusiest&&i.value?(k(),C("li",ju,P(i.value),1)):z("",!0)]),n.value.showWorkday?(k(),C("div",Uu,[d[1]||(d[1]=l("span",{class:"label"},"Workdays",-1)),$e(" "+P(g(c.summary.workdayAvg))+" h avg  "+P(g(c.summary.workdayMedian))+" h median ",1)])):z("",!0),n.value.showWeekend?(k(),C("div",Vu,[d[2]||(d[2]=l("span",{class:"label"},"Weekend",-1)),$e(" "+P(g(c.summary.weekendAvg))+" h avg  "+P(g(c.summary.weekendMedian))+" h median ",1),n.value.showWeekendShare&&r.value?(k(),C("span",zu,"("+P(r.value)+")",1)):z("",!0)])):z("",!0),n.value.showCalendarSummary?(k(),C("div",Ku,[l("span",Gu,P(c.summary.activeCalendars)+" calendars",1),c.summary.calendarSummary?(k(),C(de,{key:0},[d[3]||(d[3]=l("span",{class:"sep"},"",-1)),l("span",qu,P(c.summary.calendarSummary),1)],64)):z("",!0)])):z("",!0),n.value.showTopCategory&&o.value?(k(),C("div",Ju,[d[4]||(d[4]=l("span",{class:"label"},"Top category",-1)),l("span",Zu,P(o.value.text),1),o.value.badge?(k(),C("span",{key:0,class:pe(["summary-badge",o.value.badgeClass])},P(o.value.badge),3)):z("",!0)])):z("",!0),n.value.showBalance&&c.summary.balanceIndex!=null?(k(),C("div",Yu,[d[5]||(d[5]=l("span",{class:"label"},"Balance",-1)),$e(" "+P(g(c.summary.balanceIndex))+" ",1),d[6]||(d[6]=l("span",{class:"hint"},"(1 = perfekt)",-1))])):z("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),Qu={class:"card targets-card"},ec={class:"targets-header"},tc={key:0,class:"hint"},sc={class:"targets-main"},nc={class:"line total-line"},ac={class:"value"},rc={key:0,class:"line"},oc={key:1,class:"line"},ic={class:"line forecast"},lc={class:"hint"},uc={key:0,class:"targets-badges"},cc={key:1,class:"targets-categories"},dc={class:"cat-top"},fc={class:"cat-label"},gc={class:"name"},hc={class:"cat-meta"},pc={class:"percent"},mc={class:"cat-progress"},vc={class:"bar"},yc={class:"cat-metrics"},bc={class:"hint"},_c={key:1,class:"hint"},wc={key:0,class:"cat-footer"},kc={class:"hint"},xc=Gt(Ne({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=V(()=>{var c;return((c=t.summary)==null?void 0:c.total)??f("total","Total")}),n=V(()=>{var d;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(u=>({id:u.id,label:u.label,summary:u.summary??f(u.id,u.label),color:u.color,rows:u.rows})):(((d=t.summary)==null?void 0:d.categories)??[]).map(u=>({id:u.id,label:u.label,summary:u,color:void 0,rows:[]}))}),a=V(()=>n.value.map(c=>{const d=c.summary??f(c.id,c.label);return{id:c.id,label:c.label||d.label,actualHours:d.actualHours,targetHours:d.targetHours,percent:d.percent,deltaHours:d.deltaHours,needPerDay:d.needPerDay,daysLeft:d.daysLeft,calendarPercent:d.calendarPercent,gap:d.gap,status:d.status,statusLabel:d.statusLabel,color:c.color,calendarCount:Array.isArray(c.rows)?c.rows.length:0,progress:g(d.percent,0,140),calendarLabel:Array.isArray(c.rows)&&c.rows.length===1?"calendar":"calendars"}}).filter(c=>c.targetHours>0||c.actualHours>0||c.calendarCount>0));function r(c){if(!isFinite(c))return"0";const d=Math.round(c*10)/10;return Math.abs(d-Math.round(d))<.05?String(Math.round(d)):d.toFixed(1)}function o(c){return!isFinite(c)||Math.abs(c)<.005?"0.0":(c>=0?"+":"")+r(Math.abs(c))}function i(c){switch(c){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function f(c,d){return{id:c,label:d,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function g(c,d,u){return!isFinite(c)||c<d?d:c>u?u:c}function h(c){return c==="momentum"?"Momentum":"Linear"}return(c,d)=>(k(),C("div",Qu,[l("div",ec,[d[0]||(d[0]=l("strong",null,"Targets",-1)),s.value.targetHours>0?(k(),C("span",tc,P(s.value.percent.toFixed(0))+"%",1)):z("",!0)]),l("div",sc,[l("div",nc,[l("span",ac,[l("strong",null,P(r(s.value.actualHours)),1),$e(" / "+P(r(s.value.targetHours))+" h",1)]),c.config.ui.showTotalDelta&&s.value.targetHours>0?(k(),C("span",{key:0,class:pe(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+P(o(s.value.deltaHours))+"h ",3)):z("",!0)]),c.config.ui.showNeedPerDay&&s.value.targetHours>0?(k(),C("div",rc," Days left "+P(s.value.daysLeft)+"  Need "+P(r(s.value.needPerDay))+" h/day ",1)):z("",!0),s.value.targetHours>0?(k(),C("div",oc,[$e(" Pace: "+P(s.value.percent.toFixed(0))+"% vs "+P(s.value.calendarPercent.toFixed(0))+"%  ",1),l("span",{class:pe(["status-label",i(s.value.status)])},P(s.value.statusLabel),3)])):z("",!0),l("div",ic,[$e(" Forecast: "+P(c.summary.forecast.text)+" ",1),l("span",lc," Linear "+P(r(c.summary.forecast.linear))+"h  Momentum "+P(r(c.summary.forecast.momentum))+"h  Primary: "+P(h(c.summary.forecast.primaryMethod)),1)])]),c.config.ui.badges&&s.value.targetHours>0?(k(),C("div",uc,[l("span",{class:pe(["badge",i(s.value.status)])},P(s.value.statusLabel),3)])):z("",!0),c.config.ui.showCategoryBlocks&&a.value.length?(k(),C("div",cc,[(k(!0),C(de,null,ze(a.value,u=>(k(),C("div",{class:"category",key:u.id},[l("div",dc,[l("div",fc,[l("span",{class:"dot",style:$t({background:u.color||"var(--brand)"})},null,4),l("span",gc,P(u.label),1)]),l("div",hc,[l("span",pc,P(u.percent.toFixed(0))+"%",1),c.config.ui.badges&&u.targetHours>0?(k(),C("span",{key:0,class:pe(["badge",i(u.status)])},P(u.statusLabel),3)):z("",!0)])]),l("div",mc,[l("div",vc,[l("div",{class:"fill",style:$t({width:u.progress+"%",background:u.color||"var(--brand)"})},null,4)])]),l("div",yc,[l("strong",null,P(r(u.actualHours))+"h",1),l("span",bc,"/ "+P(r(u.targetHours))+"h",1),u.targetHours>0?(k(),C("span",{key:0,class:pe(["delta",u.deltaHours>=0?"pos":"neg"])},"  "+P(o(u.deltaHours))+"h ",3)):z("",!0),c.config.ui.showNeedPerDay&&u.targetHours>0?(k(),C("span",_c," Need "+P(r(u.needPerDay))+"h/day  "+P(u.daysLeft)+" days left ",1)):z("",!0)]),u.calendarCount>0?(k(),C("div",wc,[l("span",kc,P(u.calendarCount)+" "+P(u.calendarLabel),1)])):z("",!0)]))),128))])):z("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]),Sc={class:"card activity-card"},Cc={class:"activity-card__header"},$c={key:0,class:"pill"},Tc={key:0,class:"activity-card__hero"},Mc={key:1,class:"activity-card__subline"},Dc={key:2,class:"activity-card__meta"},Ac={key:3,class:"activity-card__extra"},Ic={key:4,class:"activity-card__hint"},Pc=Gt(Ne({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t={showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0},s=e,n=V(()=>Object.assign({},t,s.config??{})),a=V(()=>{const d=[];d.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&d.push(`Active Days ${s.summary.activeDays}`);const u=f(s.summary.typicalStart,s.summary.typicalEnd);return u&&d.push(`Typical ${u}`),d.join("  ")}),r=V(()=>{const d=[];return n.value.showWeekendShare&&s.summary.weekendShare!=null&&d.push(`Weekend ${g(s.summary.weekendShare)}`),n.value.showEveningShare&&s.summary.eveningShare!=null&&d.push(`Evening ${g(s.summary.eveningShare)}`),d.join("  ")}),o=V(()=>{const d=[];if(n.value.showEarliestLatest){const u=h(s.summary.earliestStart),b=h(s.summary.latestEnd);(u||b)&&d.push({label:"Earliest/Late",value:`${u||""} / ${b||""}`})}return n.value.showOverlaps&&s.summary.overlapEvents!=null&&d.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),d}),i=V(()=>{const d=[];return n.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&d.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),n.value.showLastDayOff&&s.summary.lastDayOff&&d.push({label:"Last day off",value:c(s.summary.lastDayOff)}),n.value.showLastDayOff&&s.summary.lastHalfDayOff&&d.push({label:"Last half day",value:c(s.summary.lastHalfDayOff)}),d});function f(d,u){return d&&u?`${d}${u}`:d?`${d}`:u?`${u}`:""}function g(d){return`${Number(d||0).toFixed(1)}%`}function h(d){return d?d.length>=16?d.slice(11,16):d.length>=5?d.slice(0,5):null:null}function c(d){const u=d.trim();if(!u)return"";if(u.split("-").length>=2){const m=new Date(u.length===10?`${u}T00:00:00`:u);if(!Number.isNaN(m.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(m)}return u}return(d,u)=>(k(),C("div",Sc,[l("div",Cc,[l("span",null,"Activity & Schedule ("+P(d.rangeLabel)+")",1),d.summary.rangeLabel?(k(),C("span",$c,P(d.summary.rangeLabel),1)):z("",!0)]),a.value?(k(),C("div",Tc,[l("span",null,P(a.value),1)])):z("",!0),r.value?(k(),C("div",Mc,[l("span",null,P(r.value),1)])):z("",!0),o.value.length?(k(),C("div",Dc,[(k(!0),C(de,null,ze(o.value,b=>(k(),C("span",{key:b.label},[l("strong",null,P(b.label),1),$e(" "+P(b.value),1)]))),128))])):z("",!0),i.value.length?(k(),C("div",Ac,[(k(!0),C(de,null,ze(i.value,b=>(k(),C("span",{key:b.label},[l("strong",null,P(b.label),1),$e(" "+P(b.value),1)]))),128))])):z("",!0),n.value.showHint&&d.categoryHint?(k(),C("div",Ic,P(d.categoryHint),1)):z("",!0)]))}}),[["__scopeId","data-v-1ab0985e"]]),Nc={class:"card balance-card"},Ec={class:"balance-card__header"},Oc={key:0,class:"balance-card__hero"},Lc={key:1,class:"balance-card__relations"},Hc={key:2,class:"balance-card__trend"},Fc={key:3,class:"balance-card__insights"},Rc={key:4,class:"balance-card__warnings"},Wc=Gt(Ne({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,n=V(()=>Object.assign({},t,s.config??{})),a=V(()=>{if(!s.overview)return"";const g=s.overview.index??0,h=s.overview.categories.filter(d=>d.share>.1).slice(0,4).map(d=>`${d.label} ${d.share.toFixed(0)}%`),c=h.length?`  ${h.join(" | ")}`:"";return`Balance Index ${g.toFixed(2)}${c}`}),r=V(()=>{var g;return!s.overview||!((g=s.overview.relations)!=null&&g.length)?"":s.overview.relations.map(h=>`${h.label} ${h.value}`).join("  ")}),o=V(()=>{var h;if(!s.overview)return"";const g=((h=s.overview.trend)==null?void 0:h.delta)??[];return g.length?g.map(c=>{const d=c.delta>0?"+":c.delta<0?"":"";return`${c.label} ${d}${Math.abs(c.delta).toFixed(1)} pp`}).join(", "):""}),i=V(()=>{var g;return n.value.showInsights?((g=s.overview)==null?void 0:g.insights)??[]:[]}),f=V(()=>{var g;return((g=s.overview)==null?void 0:g.warnings)??[]});return(g,h)=>(k(),C("div",Nc,[l("div",Ec,[l("span",null,"Balance Overview ("+P(g.rangeLabel)+")",1)]),a.value?(k(),C("div",Oc,[l("span",null,P(a.value),1)])):z("",!0),r.value?(k(),C("div",Lc,P(r.value),1)):z("",!0),o.value?(k(),C("div",Hc,[h[0]||(h[0]=l("strong",null,"WoW-:",-1)),$e(" "+P(o.value),1)])):z("",!0),i.value.length?(k(),C("ul",Fc,[(k(!0),C(de,null,ze(i.value,c=>(k(),C("li",{key:c}," "+P(c),1))),128))])):z("",!0),f.value.length?(k(),C("ul",Rc,[(k(!0),C(de,null,ze(f.value,c=>(k(),C("li",{key:c}," "+P(c),1))),128))])):z("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]);function Bc(e){const t=e?ht(e):gn(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(n=>({...s,id:n.id,label:n.label,targetHours:n.targetHours,remainingHours:n.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function Yn(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function fn(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0}}const Xn=24*60*60*1e3;function jc(e){const t=Number(e);if(!Number.isFinite(t))return 0;const s=Math.min(1e4,Math.max(0,t));return Number(s.toFixed(2))}function Qn(e){return jc(Number(e)*4)}function gn(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:fn(),balance:Yn(),includeZeroDaysInStats:!1}}function eo(e){return JSON.parse(JSON.stringify(ht(e)))}function Uc(e){const t=ht(e.config),s=no(e.from),n=no(e.to),a=Xc(e.byDay),r=(e.byCal||[]).reduce((c,d)=>{const u=Number((d==null?void 0:d.total_hours)??(d==null?void 0:d.hours)??0);return Number.isFinite(u)?c+u:c},0),o=t.totalHours||0,i=so({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a}),f=to({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),g=t.categories.map(c=>{const d=Gc(c,e.byCal,e.groupsById),u=c.paceMode||t.pace.mode,b=so({includeWeekend:c.includeWeekend,mode:u,includeZeroDays:t.includeZeroDaysInStats,start:s,end:n,dailyHours:a});return to({id:c.id,label:c.label,actual:d,target:c.targetHours,pace:b,thresholds:t.pace.thresholds,includeWeekend:c.includeWeekend,paceMode:u})}),h=Zc({config:t,totalProgress:f,dailyHours:a,pace:i});return{total:f,categories:g,forecast:h}}function ht(e){var o,i,f,g,h,c,d,u,b,m,H,W,S,N,$,R,X,ee,te,fe,K,ve,ke,me,Ee;if(typeof e=="string")try{const j=JSON.parse(e);return ht(j)}catch{return ht(void 0)}const t=gn(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const n=s.categories.map(j=>{const ie=(j!=null&&j.id&&typeof j.id=="string"?j.id:"")||td(String((j==null?void 0:j.label)??"cat")),se=typeof(j==null?void 0:j.label)=="string"&&j.label.trim()!==""?j.label.trim():Vc(ie),Z=Nt(j==null?void 0:j.targetHours,0,1e4),le=!!(j!=null&&j.includeWeekend),xe=(j==null?void 0:j.paceMode)==="time_aware"?"time_aware":"days_only",Se=Array.isArray(j==null?void 0:j.groupIds)?j.groupIds.map(ge=>Number(ge)).filter(ge=>Number.isFinite(ge)&&ge>=0&&ge<=9):[];return{id:ie,label:se,targetHours:Z,includeWeekend:le,paceMode:xe,groupIds:Se}}),a=n.length?n:t.categories;return{totalHours:Nt(s.totalHours,0,1e4),categories:a,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Nt(((g=(f=s.pace)==null?void 0:f.thresholds)==null?void 0:g.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Nt(((c=(h=s.pace)==null?void 0:h.thresholds)==null?void 0:c.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((d=s.forecast)==null?void 0:d.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var ie;const j=Math.round(((ie=s.forecast)==null?void 0:ie.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(j)?j:t.forecast.momentumLastNDays))})(),padding:Nt(((u=s.forecast)==null?void 0:u.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((b=s.ui)==null?void 0:b.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((m=s.ui)==null?void 0:m.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((H=s.ui)==null?void 0:H.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((W=s.ui)==null?void 0:W.badges)??t.ui.badges),includeWeekendToggle:!!(((S=s.ui)==null?void 0:S.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((N=s.ui)==null?void 0:N.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:(($=s.ui)==null?void 0:$.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Nt(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((R=s.timeSummary)==null?void 0:R.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((X=s.timeSummary)==null?void 0:X.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((ee=s.timeSummary)==null?void 0:ee.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((te=s.timeSummary)==null?void 0:te.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((fe=s.timeSummary)==null?void 0:fe.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((K=s.timeSummary)==null?void 0:K.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((ve=s.timeSummary)==null?void 0:ve.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((ke=s.timeSummary)==null?void 0:ke.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((me=s.timeSummary)==null?void 0:me.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((Ee=s.timeSummary)==null?void 0:Ee.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:zc(s.activityCard,t.activityCard),balance:Kc(s.balance,a,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Vc(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Nt(e,t,s){const n=Number(e);return Number.isFinite(n)?Math.min(s,Math.max(t,Math.round(n*100)/100)):t}function ea(e,t,s){const n=Number(e);if(!Number.isFinite(n))return t;const a=Math.round(n);return a<t?t:a>s?s:a}function zc(e,t){const s={...t};return!e||typeof e!="object"||Object.keys(t).forEach(n=>{Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=!!e[n])}),s}function Kc(e,t,s){var g,h,c,d;const n=t.map(u=>u.id),a=new Set([...n,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const u of r){const b=typeof u=="string"?u.trim():String(u??"").trim();b&&(a.size&&!a.has(b)||o.includes(b)||o.push(b))}o.length||(n.length?o.push(...n.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},f=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((g=e==null?void 0:e.index)==null?void 0:g.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Nt(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Nt(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Nt(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((h=e==null?void 0:e.relations)==null?void 0:h.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:ea(((c=e==null?void 0:e.trend)==null?void 0:c.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((d=e==null?void 0:e.dayparts)==null?void 0:d.enabled)??s.dayparts.enabled)},ui:{roundPercent:ea(f.roundPercent??s.ui.roundPercent,0,3),roundRatio:ea(f.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(f.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(f.showInsights??s.ui.showInsights)}}}function Gc(e,t,s){if(!Array.isArray(t))return 0;const n=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let a=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),f=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);n&&!n.has(f)||(a+=o)}return a}function to(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),n=t>0?ta(s/t*100):0,a=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,a)/e.pace.daysLeft:0,i=n-e.pace.calendarPercent,f=qc({percent:n,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:nt(s),targetHours:nt(t),percent:n,deltaHours:nt(r),remainingHours:nt(Math.max(0,a)),needPerDay:nt(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:ta(e.pace.calendarPercent),gap:nt(i),status:f,statusLabel:Jc(f),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function qc(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function Jc(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function so(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const n=hn(new Date),a=Bt(t),r=Bt(s),o=Qc(t,s).filter(c=>e.includeWeekend||!ed(c)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Bt(n)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Bt(n)<a)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let f=0;for(const c of o){const d=Bt(c),u=e.dailyHours.get(d)??0;if(!(!e.includeZeroDays&&u<=0&&d!==Bt(n))){if(d<Bt(n))f+=1;else if(d===Bt(n))if(e.mode==="time_aware"){const m=Math.min(new Date().getTime(),c.getTime()+Xn)-c.getTime(),H=Math.max(0,Math.min(1,m/Xn));(e.includeZeroDays||u>0||H>0)&&(f+=H)}else(e.includeZeroDays||u>0)&&(f+=1)}}const g=ta(f/i*100),h=Math.max(0,i-f);return{totalEligible:i,elapsedEligible:f,daysLeft:h,calendarPercent:g}}function Zc(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,n=Math.max(0,Math.ceil(e.pace.daysLeft)),a=Yc(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+a*n,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,f=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",g=f==="momentum"?r:s,h=Math.max(0,g-e.config.forecast.padding),c=Math.max(0,g+e.config.forecast.padding),d=f==="momentum"?"Momentum":"Linear";return{linear:nt(s),momentum:nt(r),low:nt(Math.max(0,o)),high:nt(Math.max(0,i)),text:`${d} ${sa(e.config.forecast.padding)}h  ${sa(h)}${sa(c)} h`,primaryMethod:f,primary:nt(g),bandLow:nt(h),bandHigh:nt(c)}}function Yc(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const n=s.slice(-t),a=n.reduce((r,[,o])=>r+Math.max(0,o||0),0);return n.length?a/n.length:0}function Xc(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const n=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!n)continue;const a=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(a)&&t.set(n,a)}return t}function Qc(e,t){const s=[];let n=hn(e);const a=hn(t).getTime();for(;n.getTime()<=a;)s.push(new Date(n)),n=new Date(n.getTime()+Xn);return s}function no(e){if(!e)return null;const t=e.split("-").map(n=>Number(n));if(t.length!==3||t.some(n=>!Number.isInteger(n)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:hn(s)}function hn(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Bt(e){return e.toISOString().slice(0,10)}function ed(e){const t=e.getUTCDay();return t===0||t===6}function ta(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function nt(e){return isFinite(e)?Number(e.toFixed(2)):0}function sa(e){if(!isFinite(e))return"0";const t=nt(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function td(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const sd={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},nd={class:"sb-actions"},ad={class:"sb-list"},rd=["aria-pressed","onClick"],od={class:"cal-name"},id={class:"cal-fields"},ld={class:"field"},ud=["value","onChange"],cd=["value"],dd={class:"field"},fd=["value","title","aria-invalid","onInput"],gd=Ne({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:n,range:a,isLoading:r,categoryOptions:o,calendarTargetMessages:i,calendarCategoryId:f,getTarget:g}=t;return(h,c)=>(k(),C("div",sd,[l("div",nd,[ce(w(Wt),{type:"tertiary",disabled:w(r),onClick:c[0]||(c[0]=d=>h.$emit("select-all",!0))},{default:Ve(()=>[...c[2]||(c[2]=[$e("All",-1)])]),_:1},8,["disabled"]),ce(w(Wt),{type:"tertiary",disabled:w(r),onClick:c[1]||(c[1]=d=>h.$emit("select-all",!1))},{default:Ve(()=>[...c[3]||(c[3]=[$e("None",-1)])]),_:1},8,["disabled"])]),c[8]||(c[8]=ol('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),l("div",ad,[(k(!0),C(de,null,ze(w(s),d=>{var u,b;return k(),C("div",{key:d.id,class:"cal-card"},[l("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":w(n).includes(d.id),onClick:m=>h.$emit("toggle-calendar",d.id)},[l("span",{class:"color-dot",style:$t({background:d.color||"var(--brand)"})},null,4),l("span",od,P(d.displayname||d.id),1),l("span",{class:pe(["cal-state",{on:w(n).includes(d.id)}])},P(w(n).includes(d.id)?"Selected":"Hidden"),3)],8,rd),l("div",id,[l("label",ld,[c[5]||(c[5]=l("span",{class:"label"},"Category",-1)),l("select",{value:w(f)(d.id),onChange:m=>h.$emit("set-category",{id:d.id,category:m.target.value})},[c[4]||(c[4]=l("option",{value:""},"Unassigned",-1)),(k(!0),C(de,null,ze(w(o),m=>(k(),C("option",{key:m.id,value:m.id},P(m.label),9,cd))),128))],40,ud)]),l("label",dd,[c[6]||(c[6]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:w(g)(d.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${w(a)==="week"?"week":"month"}) in hours`,"aria-invalid":!!w(i)[d.id],class:"target-input",onInput:m=>h.$emit("target-input",{id:d.id,value:m.target.value})},null,40,fd),w(i)[d.id]?(k(),C("div",{key:0,class:pe(["input-message",(u=w(i)[d.id])==null?void 0:u.tone])},P((b=w(i)[d.id])==null?void 0:b.text),3)):z("",!0)])])])}),128)),c[7]||(c[7]=l("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),hd={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},pd={class:"target-config"},md={class:"field"},vd=["value","aria-invalid"],yd={class:"field"},bd=["value","aria-invalid"],_d={class:"preset-buttons"},wd={class:"cat-header"},kd=["value","onInput"],xd=["disabled","onClick"],Sd={class:"cat-fields"},Cd={class:"field"},$d=["value","aria-invalid","onInput"],Td={class:"field"},Md=["value","onChange"],Dd={class:"field checkbox"},Ad=["checked","onChange"],Id={class:"target-section"},Pd={class:"field checkbox"},Nd=["checked"],Ed={class:"field"},Od=["value"],Ld={class:"field"},Hd=["value","aria-invalid"],Fd={class:"field"},Rd=["value","aria-invalid"],Wd={class:"target-section"},Bd={class:"field"},jd=["value"],Ud={class:"field"},Vd=["value","aria-invalid"],zd={class:"field"},Kd=["value","aria-invalid"],Gd={class:"target-section"},qd={class:"field checkbox"},Jd=["checked"],Zd={class:"field checkbox"},Yd=["checked"],Xd={class:"field checkbox"},Qd=["checked"],ef={class:"field checkbox"},tf=["checked"],sf={class:"field checkbox"},nf=["checked"],af={class:"field checkbox"},rf=["checked"],of={class:"field checkbox"},lf=["checked"],uf={class:"field checkbox"},cf=["checked"],df=Ne({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days"],setup(e){return(t,s)=>{var n,a,r,o,i,f,g,h,c,d,u,b;return k(),C("div",hd,[s[49]||(s[49]=l("div",{class:"sb-title"},"Target Settings",-1)),l("div",pd,[l("div",md,[s[20]||(s[20]=l("span",{class:"label"},"Total target (h)",-1)),l("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[0]||(s[0]=m=>t.$emit("total-target-input",m.target.value))},null,40,vd),t.totalTargetMessage?(k(),C("div",{key:0,class:pe(["input-message",(n=t.totalTargetMessage)==null?void 0:n.tone])},P((a=t.totalTargetMessage)==null?void 0:a.text),3)):z("",!0)]),l("div",yd,[s[21]||(s[21]=l("span",{class:"label"},"All-day event (h per day)",-1)),l("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[1]||(s[1]=m=>t.$emit("set-all-day-hours",m.target.value))},null,40,bd),t.allDayHoursMessage?(k(),C("div",{key:0,class:pe(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},P((o=t.allDayHoursMessage)==null?void 0:o.text),3)):z("",!0)]),l("div",_d,[ce(w(Wt),{type:"tertiary",onClick:s[2]||(s[2]=m=>t.$emit("apply-preset","work-week"))},{default:Ve(()=>[...s[22]||(s[22]=[$e("Preset: Work-Week",-1)])]),_:1}),ce(w(Wt),{type:"tertiary",onClick:s[3]||(s[3]=m=>t.$emit("apply-preset","balanced-life"))},{default:Ve(()=>[...s[23]||(s[23]=[$e("Preset: Balanced-Life",-1)])]),_:1})]),(k(!0),C(de,null,ze(t.categoryOptions,m=>{var H,W;return k(),C("div",{class:"target-category",key:m.id},[l("div",wd,[l("input",{class:"cat-name",type:"text",value:m.label,placeholder:"Category name",onInput:S=>t.$emit("set-category-label",{id:m.id,label:S.target.value})},null,40,kd),l("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:S=>t.$emit("remove-category",m.id)},"  ",8,xd)]),l("div",Sd,[l("label",Cd,[s[24]||(s[24]=l("span",{class:"label"},"Target (h)",-1)),l("input",{type:"number",value:m.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[m.id],onInput:S=>t.$emit("set-category-target",{id:m.id,value:S.target.value})},null,40,$d),t.categoryTargetMessages[m.id]?(k(),C("div",{key:0,class:pe(["input-message",(H=t.categoryTargetMessages[m.id])==null?void 0:H.tone])},P((W=t.categoryTargetMessages[m.id])==null?void 0:W.text),3)):z("",!0)]),l("label",Td,[s[26]||(s[26]=l("span",{class:"label"},"Pace mode",-1)),l("select",{value:m.paceMode||t.targets.pace.mode,onChange:S=>t.$emit("set-category-pace",{id:m.id,mode:S.target.value})},[...s[25]||(s[25]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,Md)]),l("label",Dd,[l("input",{type:"checkbox",checked:m.includeWeekend,onChange:S=>t.$emit("set-category-weekend",{id:m.id,value:S.target.checked})},null,40,Ad),s[27]||(s[27]=l("span",null,"Weekend",-1))])])])}),128)),ce(w(Wt),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[4]||(s[4]=m=>t.$emit("add-category"))},{default:Ve(()=>[...s[28]||(s[28]=[$e(" Add category ",-1)])]),_:1},8,["disabled"]),l("div",Id,[s[34]||(s[34]=l("div",{class:"section-title"},"Pace",-1)),l("label",Pd,[l("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[5]||(s[5]=m=>t.$emit("set-include-weekend-total",m.target.checked))},null,40,Nd),s[29]||(s[29]=l("span",null,"Count weekend in total pace",-1))]),l("label",Ed,[s[31]||(s[31]=l("span",{class:"label"},"Mode",-1)),l("select",{value:t.targets.pace.mode,onChange:s[6]||(s[6]=m=>t.$emit("set-pace-mode",m.target.value))},[...s[30]||(s[30]=[l("option",{value:"days_only"},"Days only",-1),l("option",{value:"time_aware"},"Time aware",-1)])],40,Od)]),l("label",Ld,[s[32]||(s[32]=l("span",{class:"label"},"On track  gap (%)",-1)),l("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[7]||(s[7]=m=>t.$emit("set-threshold",{key:"onTrack",value:m.target.value}))},null,40,Hd),t.paceThresholdMessages.onTrack?(k(),C("div",{key:0,class:pe(["input-message",(i=t.paceThresholdMessages.onTrack)==null?void 0:i.tone])},P((f=t.paceThresholdMessages.onTrack)==null?void 0:f.text),3)):z("",!0)]),l("label",Fd,[s[33]||(s[33]=l("span",{class:"label"},"At risk  gap (%)",-1)),l("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[8]||(s[8]=m=>t.$emit("set-threshold",{key:"atRisk",value:m.target.value}))},null,40,Rd),t.paceThresholdMessages.atRisk?(k(),C("div",{key:0,class:pe(["input-message",(g=t.paceThresholdMessages.atRisk)==null?void 0:g.tone])},P((h=t.paceThresholdMessages.atRisk)==null?void 0:h.text),3)):z("",!0)])]),l("div",Wd,[s[39]||(s[39]=l("div",{class:"section-title"},"Forecast",-1)),l("label",Bd,[s[36]||(s[36]=l("span",{class:"label"},"Primary method",-1)),l("select",{value:t.targets.forecast.methodPrimary,onChange:s[9]||(s[9]=m=>t.$emit("set-forecast-method",m.target.value))},[...s[35]||(s[35]=[l("option",{value:"linear"},"Linear",-1),l("option",{value:"momentum"},"Momentum",-1)])],40,jd)]),l("label",Ud,[s[37]||(s[37]=l("span",{class:"label"},"Momentum window (days)",-1)),l("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[10]||(s[10]=m=>t.$emit("set-forecast-momentum",m.target.value))},null,40,Vd),t.forecastMomentumMessage?(k(),C("div",{key:0,class:pe(["input-message",(c=t.forecastMomentumMessage)==null?void 0:c.tone])},P((d=t.forecastMomentumMessage)==null?void 0:d.text),3)):z("",!0)]),l("label",zd,[s[38]||(s[38]=l("span",{class:"label"},"Padding (h)",-1)),l("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[11]||(s[11]=m=>t.$emit("set-forecast-padding",m.target.value))},null,40,Kd),t.forecastPaddingMessage?(k(),C("div",{key:0,class:pe(["input-message",(u=t.forecastPaddingMessage)==null?void 0:u.tone])},P((b=t.forecastPaddingMessage)==null?void 0:b.text),3)):z("",!0)])]),l("div",Gd,[s[48]||(s[48]=l("div",{class:"section-title"},"Display",-1)),l("label",qd,[l("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[12]||(s[12]=m=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:m.target.checked}))},null,40,Jd),s[40]||(s[40]=l("span",null,"Show calendar charts",-1))]),l("label",Zd,[l("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[13]||(s[13]=m=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:m.target.checked}))},null,40,Yd),s[41]||(s[41]=l("span",null,"Show category charts",-1))]),l("label",Xd,[l("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[14]||(s[14]=m=>t.$emit("set-ui-option",{key:"showTotalDelta",value:m.target.checked}))},null,40,Qd),s[42]||(s[42]=l("span",null,"Show total delta",-1))]),l("label",ef,[l("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[15]||(s[15]=m=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:m.target.checked}))},null,40,tf),s[43]||(s[43]=l("span",null,"Show need per day",-1))]),l("label",sf,[l("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[16]||(s[16]=m=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:m.target.checked}))},null,40,nf),s[44]||(s[44]=l("span",null,"Show categories",-1))]),l("label",af,[l("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[17]||(s[17]=m=>t.$emit("set-ui-option",{key:"badges",value:m.target.checked}))},null,40,rf),s[45]||(s[45]=l("span",null,"Status badges",-1))]),l("label",of,[l("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[18]||(s[18]=m=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:m.target.checked}))},null,40,lf),s[46]||(s[46]=l("span",null,"Weekend toggle",-1))]),l("label",uf,[l("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[19]||(s[19]=m=>t.$emit("set-include-zero-days",m.target.checked))},null,40,cf),s[47]||(s[47]=l("span",null,"Include zero days in pace",-1))])])])])}}}),ff={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},gf={class:"target-config"},hf={class:"field"},pf={class:"summary-mode-toggle"},mf={class:"target-section"},vf=["checked","onChange"],yf=Ne({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,n=t,a={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=V(()=>({...a,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,f)=>(k(),C("div",ff,[f[6]||(f[6]=l("div",{class:"sb-title"},"Time Summary",-1)),l("div",gf,[l("div",hf,[f[4]||(f[4]=l("span",{class:"label"},"Average mode",-1)),l("div",pf,[ce(w(dn),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":f[0]||(f[0]=g=>{g&&n("update:activeMode","active")})},{default:Ve(()=>[...f[2]||(f[2]=[$e(" Active days ",-1)])]),_:1},8,["checked"]),ce(w(dn),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":f[1]||(f[1]=g=>{g&&n("update:activeMode","all")})},{default:Ve(()=>[...f[3]||(f[3]=[$e(" All days ",-1)])]),_:1},8,["checked"])])]),l("div",mf,[f[5]||(f[5]=l("div",{class:"section-title"},"Display",-1)),(k(),C(de,null,ze(o,g=>l("label",{key:g.key,class:"field checkbox"},[l("input",{type:"checkbox",checked:r.value[g.key],onChange:h=>n("toggle-option",{key:g.key,value:h.target.checked})},null,40,vf),l("span",null,P(g.label),1)])),64))])])]))}}),bf={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},_f={class:"section-title-row"},wf=["aria-expanded"],kf={key:0,class:"section-hint"},xf={class:"target-section toggle-grid"},Sf=["checked","onChange"],Cf=Ne({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option"],setup(e,{emit:t}){const s=e,n=t,{activitySettings:a,activityToggles:r,helpOpen:o}=Ua(s);return(i,f)=>(k(),C("div",bf,[l("div",_f,[f[2]||(f[2]=l("div",{class:"section-title"},"Activity & Schedule",-1)),l("button",{type:"button",class:"info-button","aria-expanded":w(o),"aria-label":"Activity & Schedule help",onClick:f[0]||(f[0]=g=>n("toggle-help"))},[...f[1]||(f[1]=[l("span",null,"?",-1)])],8,wf)]),w(o)?(k(),C("p",kf,"Choose which metrics appear on the Activity & Schedule card.")):z("",!0),l("div",xf,[(k(!0),C(de,null,ze(w(r),([g,h])=>(k(),C("label",{key:g,class:"field checkbox toggle-field"},[l("input",{type:"checkbox",checked:w(a)[g],onChange:c=>n("toggle-option",{key:g,value:c.target.checked})},null,40,Sf),l("span",null,P(h),1)]))),128))])]))}}),$f={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},Tf={class:"section-title-row"},Mf=["aria-expanded"],Df={class:"target-section"},Af={class:"section-title-row"},If=["aria-expanded"],Pf={key:0,class:"section-hint"},Nf={class:"field-grid"},Ef={class:"field"},Of=["value","aria-invalid"],Lf={class:"field"},Hf=["value","aria-invalid"],Ff={class:"field"},Rf=["value","aria-invalid"],Wf={class:"target-section"},Bf={class:"section-title-row"},jf=["aria-expanded"],Uf={key:0,class:"section-hint"},Vf={class:"field-grid"},zf={class:"field"},Kf=["value"],Gf={class:"field"},qf=["value","aria-invalid"],Jf={class:"target-section"},Zf={class:"section-title-row"},Yf=["aria-expanded"],Xf={key:0,class:"section-hint"},Qf={class:"toggle-grid"},eg={class:"field checkbox toggle-field"},tg=["checked"],sg={class:"field checkbox toggle-field"},ng=["checked"],ag={class:"field checkbox toggle-field"},rg=["checked"],og={class:"field-grid mt-8"},ig={class:"field"},lg=["value","aria-invalid"],ug=["value"],cg={class:"field"},dg=["value","aria-invalid"],fg=["value"],gg=Ne({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,n=t,{balanceSettings:a,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:f,helpThresholds:g,helpTrend:h,helpDisplay:c}=Ua(s);return(d,u)=>{var b,m,H,W,S,N,$,R,X,ee,te,fe;return k(),C("div",$f,[l("div",Tf,[u[15]||(u[15]=l("div",{class:"section-title subtitle"},"Balance Overview",-1)),l("button",{type:"button",class:"info-button","aria-expanded":w(g)||w(h)||w(c),"aria-label":"Balance Overview help",onClick:u[0]||(u[0]=K=>n("toggle-help","all"))},[...u[14]||(u[14]=[l("span",null,"?",-1)])],8,Mf)]),l("div",Df,[l("div",Af,[u[17]||(u[17]=l("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),l("button",{type:"button",class:"info-button","aria-expanded":w(g),"aria-label":"Thresholds help",onClick:u[1]||(u[1]=K=>n("toggle-help","thresholds"))},[...u[16]||(u[16]=[l("span",null,"?",-1)])],8,If)]),w(g)?(k(),C("p",Pf,"Set the share/index limits that trigger balance warnings.")):z("",!0),l("div",Nf,[l("label",Ef,[u[18]||(u[18]=l("span",{class:"label"},"Notice max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:w(a).thresholds.noticeMaxShare,"aria-invalid":!!w(r).noticeMaxShare,onInput:u[2]||(u[2]=K=>n("set-threshold",{key:"noticeMaxShare",value:K.target.value}))},null,40,Of),w(r).noticeMaxShare?(k(),C("div",{key:0,class:pe(["input-message",(b=w(r).noticeMaxShare)==null?void 0:b.tone])},P((m=w(r).noticeMaxShare)==null?void 0:m.text),3)):z("",!0)]),l("label",Lf,[u[19]||(u[19]=l("span",{class:"label"},"Warn max share",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:w(a).thresholds.warnMaxShare,"aria-invalid":!!w(r).warnMaxShare,onInput:u[3]||(u[3]=K=>n("set-threshold",{key:"warnMaxShare",value:K.target.value}))},null,40,Hf),w(r).warnMaxShare?(k(),C("div",{key:0,class:pe(["input-message",(H=w(r).warnMaxShare)==null?void 0:H.tone])},P((W=w(r).warnMaxShare)==null?void 0:W.text),3)):z("",!0)]),l("label",Ff,[u[20]||(u[20]=l("span",{class:"label"},"Warn index",-1)),l("input",{type:"number",min:"0",max:"1",step:"0.01",value:w(a).thresholds.warnIndex,"aria-invalid":!!w(r).warnIndex,onInput:u[4]||(u[4]=K=>n("set-threshold",{key:"warnIndex",value:K.target.value}))},null,40,Rf),w(r).warnIndex?(k(),C("div",{key:0,class:pe(["input-message",(S=w(r).warnIndex)==null?void 0:S.tone])},P((N=w(r).warnIndex)==null?void 0:N.text),3)):z("",!0)])])]),l("div",Wf,[l("div",Bf,[u[22]||(u[22]=l("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),l("button",{type:"button",class:"info-button","aria-expanded":w(h),"aria-label":"Trend help",onClick:u[5]||(u[5]=K=>n("toggle-help","trend"))},[...u[21]||(u[21]=[l("span",null,"?",-1)])],8,jf)]),w(h)?(k(),C("p",Uf,"Control the comparison window and how ratios are expressed.")):z("",!0),l("div",Vf,[l("label",zf,[u[24]||(u[24]=l("span",{class:"label"},"Relation display",-1)),l("select",{value:w(a).relations.displayMode,onChange:u[6]||(u[6]=K=>n("set-relation",K.target.value))},[...u[23]||(u[23]=[l("option",{value:"ratio"},"Ratio (A : B)",-1),l("option",{value:"factor"},"Factor (A)",-1)])],40,Kf)]),l("label",Gf,[u[25]||(u[25]=l("span",{class:"label"},"Trend lookback (weeks)",-1)),l("input",{type:"number",min:"1",max:"12",step:"1",value:w(a).trend.lookbackWeeks,"aria-invalid":!!w(o),onInput:u[7]||(u[7]=K=>n("set-lookback",K.target.value))},null,40,qf),w(o)?(k(),C("div",{key:0,class:pe(["input-message",($=w(o))==null?void 0:$.tone])},P((R=w(o))==null?void 0:R.text),3)):z("",!0)])])]),l("div",Jf,[l("div",Zf,[u[27]||(u[27]=l("div",{class:"section-subtitle subtitle"},"Display",-1)),l("button",{type:"button",class:"info-button","aria-expanded":w(c),"aria-label":"Display help",onClick:u[8]||(u[8]=K=>n("toggle-help","display"))},[...u[26]||(u[26]=[l("span",null,"?",-1)])],8,Yf)]),w(c)?(k(),C("p",Xf,"Toggle optional insights and adjust rounding for the card values.")):z("",!0),l("div",Qf,[l("label",eg,[l("input",{type:"checkbox",checked:w(a).ui.showInsights,onChange:u[9]||(u[9]=K=>n("set-ui-toggle",{key:"showInsights",value:K.target.checked}))},null,40,tg),u[28]||(u[28]=l("span",null,"Insights",-1))]),l("label",sg,[l("input",{type:"checkbox",checked:w(a).ui.showDailyStacks,onChange:u[10]||(u[10]=K=>n("set-ui-toggle",{key:"showDailyStacks",value:K.target.checked}))},null,40,ng),u[29]||(u[29]=l("span",null,"Daily mix (experimental)",-1))]),l("label",ag,[l("input",{type:"checkbox",checked:w(a).dayparts.enabled,onChange:u[11]||(u[11]=K=>n("set-ui-toggle",{key:"dayparts",value:K.target.checked}))},null,40,rg),u[30]||(u[30]=l("span",null,"Dayparts",-1))])]),l("div",og,[l("label",ig,[u[31]||(u[31]=l("span",{class:"label"},"Percent precision",-1)),l("select",{value:w(a).ui.roundPercent,"aria-invalid":!!w(i).roundPercent,onChange:u[12]||(u[12]=K=>n("set-ui-precision",{key:"roundPercent",value:K.target.value}))},[(k(!0),C(de,null,ze(w(f),K=>(k(),C("option",{key:`round-percent-${K}`,value:K},P(K),9,ug))),128))],40,lg),w(i).roundPercent?(k(),C("div",{key:0,class:pe(["input-message",(X=w(i).roundPercent)==null?void 0:X.tone])},P((ee=w(i).roundPercent)==null?void 0:ee.text),3)):z("",!0)]),l("label",cg,[u[32]||(u[32]=l("span",{class:"label"},"Ratio precision",-1)),l("select",{value:w(a).ui.roundRatio,"aria-invalid":!!w(i).roundRatio,onChange:u[13]||(u[13]=K=>n("set-ui-precision",{key:"roundRatio",value:K.target.value}))},[(k(!0),C(de,null,ze(w(f),K=>(k(),C("option",{key:`round-ratio-${K}`,value:K},P(K),9,fg))),128))],40,dg),w(i).roundRatio?(k(),C("div",{key:0,class:pe(["input-message",(te=w(i).roundRatio)==null?void 0:te.tone])},P((fe=w(i).roundRatio)==null?void 0:fe.text),3)):z("",!0)])])])])}}}),hg={class:"notes-section"},pg=["title"],mg=["value"],vg=["title"],yg=["value"],bg={class:"notes-actions"},_g=Gt(Ne({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(k(),C("div",hg,[l("div",{class:"hint",title:t.prevTitle},P(t.prevLabel),9,pg),l("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,mg),l("div",{class:"hint",title:t.currTitle},P(t.currLabel),9,vg),l("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=n=>t.$emit("update:modelValue",n.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,yg),l("div",bg,[ce(w(Wt),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=n=>t.$emit("save"))},{default:Ve(()=>[...s[2]||(s[2]=[$e("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),wg={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},kg=Ne({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,n=t,{previous:a,modelValue:r,prevLabel:o,currLabel:i,prevTitle:f,currTitle:g,saving:h}=s;return(c,d)=>(k(),C("div",wg,[d[2]||(d[2]=l("div",{class:"sb-title"},"Notes",-1)),ce(_g,{previous:w(a),"model-value":w(r),"prev-label":w(o),"curr-label":w(i),"prev-title":w(f),"curr-title":w(g),saving:w(h),"onUpdate:modelValue":d[0]||(d[0]=u=>n("update:modelValue",u)),onSave:d[1]||(d[1]=u=>n("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}});function xg(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const n=Number(e);if(!Number.isFinite(n))return{value:null,error:"Enter a valid number"};let a=n,r;if(typeof t.min=="number"&&a<t.min&&(a=t.min,r=na(t)),typeof t.max=="number"&&a>t.max&&(a=t.max,r=na(t)),typeof t.step=="number"&&t.step>0){const i=Cg(a,t.step);i!==a&&(a=i,r=na(t))}const o=ao(t);return typeof o=="number"&&(a=Number(a.toFixed(o))),{value:a,warning:r}}function Sg(e,t){const s=xg(e,t),n=[];return s.error&&n.push({severity:"error",message:s.error}),s.warning&&n.push({severity:"warning",message:s.warning}),{value:s.value,issues:n}}function Cg(e,t){const s=ao({step:t}),n=Math.round(e/t)*t;return typeof s=="number"?Number(n.toFixed(s)):n}function ao(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return $g(e.step)}function $g(e){const t=e.toString();if(t.includes("e-")){const[,n]=t.split("e-");return Number(n)}const[,s=""]=t.split(".");return s.length}function na(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function Tg(e,t,s="Enter a valid number"){const n=Sg(e,t),a=n.issues.find(i=>i.severity==="error"),r=n.issues.find(i=>i.severity==="warning");let o=null;return a||n.value===null?o={text:(a==null?void 0:a.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!a&&n.value!==null,value:n.value,message:o}}function St(e,t,s,n,a){const{ok:r,value:o,message:i}=Tg(e,t,a);return s(i),!r||o===null?!1:(n(o),!0)}const Mg={class:"rangebar",title:"Time range"},Dg={class:"range-actions"},Ag=["disabled"],Ig=["aria-label"],Pg={class:"range-toggle"},Ng={class:"range-nav"},Eg={class:"range-dates"},Og={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},Lg=["aria-selected"],Hg=["aria-selected"],Fg=["aria-selected"],Rg={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},Wg=["aria-selected"],Bg=["aria-selected"],jg=["aria-selected"],Ug=Gt(Ne({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav"],setup(e,{emit:t}){const s=e,n=t,a=ue("calendars"),r=V(()=>s.targetsConfig),o=V(()=>{var _;return((_=r.value)==null?void 0:_.categories)??[]});function i(_){const y=ht(JSON.parse(JSON.stringify(s.targetsConfig||{})));_(y),n("update:targets-config",y)}const f=V(()=>K()!==null),g=V(()=>{var _;return((_=r.value)==null?void 0:_.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),h=V(()=>{var _;return{...fn(),...((_=r.value)==null?void 0:_.activityCard)??{}}}),c={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},d=V(()=>Object.entries(c)),u=V(()=>{var I;const _=Yn(),y=((I=r.value)==null?void 0:I.balance)??_;return{..._,...y,thresholds:{..._.thresholds,...y.thresholds??{}},relations:{..._.relations,...y.relations??{}},trend:{..._.trend,...y.trend??{}},dayparts:{..._.dayparts,...y.dayparts??{}},ui:{..._.ui,...y.ui??{}}}}),b=[0,1,2,3],m=bt({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),H=bt({}),W=bt({}),S=ue(null),N=ue(null),$=bt({onTrack:null,atRisk:null}),R=bt({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),X=ue(null),ee=ue(null),te=ue(null),fe=bt({roundPercent:null,roundRatio:null});function K(){const _=new Set;for(const y of o.value)(y.groupIds||[]).forEach(I=>_.add(Number(I)));Object.values(s.groupsById||{}).forEach(y=>_.add(Number(y)));for(let y=1;y<=9;y++)if(!_.has(y))return y;return null}function ve(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function ke(_){const y=ie(_),I=o.value.find(ae=>Array.isArray(ae.groupIds)&&ae.groupIds.includes(y));return I?I.id:""}function me(_,y){if(!y){n("set-group",{id:_,n:0});return}const I=o.value.find(tt=>tt.id===y);if(!I){n("set-group",{id:_,n:0});return}const ae=Ee(I.id);n("set-group",{id:_,n:ae})}function Ee(_){const y=o.value.find(tt=>tt.id===_);if(!y)return 0;const I=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;if(I&&Number.isFinite(I))return I;const ae=K()??0;return i(tt=>{const os=tt.categories.find(la=>la.id===_);os&&(os.groupIds=ae?[ae]:[])}),ae}function j(_,y){i(I=>{const ae=I.categories.find(tt=>tt.id===_);ae&&y(ae)})}function ie(_){const y=Number((s.groupsById||{})[_]??0);return isFinite(y)?Math.max(0,Math.min(9,Math.trunc(y))):0}function se(_){const y=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},I=Number(y[_]??"");return isFinite(I)?I:""}function Z(_){n("select-all",_)}function le(_){n("toggle-calendar",_)}function xe(_){me(_.id,_.category)}function Se(_){rt(_.id,_.value)}function ge(_){T(_.key,_.value)}function He(_){A(_.key,_.value)}function Oe(){m.activity=!m.activity}function Te(_){if(_==="all"){const y=!(m.balanceThresholds&&m.balanceTrend&&m.balanceDisplay);m.balanceThresholds=y,m.balanceTrend=y,m.balanceDisplay=y;return}_==="thresholds"?m.balanceThresholds=!m.balanceThresholds:_==="trend"?m.balanceTrend=!m.balanceTrend:_==="display"&&(m.balanceDisplay=!m.balanceDisplay)}function ye(_){q(_.key,_.value)}function Ce(_){if(_.key==="dayparts"){i(y=>{y.balance.dayparts.enabled=_.value});return}Q(_.key,_.value)}function Ie(_){he(_.key,_.value)}function rt(_,y){St(y,{min:0,max:1e4,step:.25,decimals:2},I=>{H[_]=I},I=>n("set-target",{id:_,h:I}))}function Ge(_){St(_,{min:0,max:1e3,step:.5,decimals:2},y=>{S.value=y},y=>i(I=>{I.totalHours=y}))}function ne(_){St(_,{min:0,max:24,step:.25,decimals:2},y=>{N.value=y},y=>i(I=>{I.allDayHours=y}),"024 hours per day")}function p(_,y){St(y,{min:0,max:1e3,step:.5,decimals:2},I=>{W[_]=I},I=>j(_,ae=>{ae.targetHours=I}))}function v(_,y){j(_,I=>{I.label=y.trim()||I.label})}function x(_,y){j(_,I=>{I.includeWeekend=y})}function E(_){s.activeDayMode!==_&&n("update:active-mode",_)}function T(_,y){i(I=>{I.timeSummary||(I.timeSummary=JSON.parse(JSON.stringify(g.value))),I.timeSummary[_]=y})}function A(_,y){i(I=>{I.activityCard||(I.activityCard=fn()),I.activityCard[_]=y})}function B(_,y){y!=="days_only"&&y!=="time_aware"||j(_,I=>{I.paceMode=y})}function O(_){i(y=>{y.pace.includeWeekendTotal=_})}function F(_){_!=="days_only"&&_!=="time_aware"||i(y=>{y.pace.mode=_})}function L(_,y){St(y,{min:-100,max:100,step:.1,decimals:1},I=>{$[_]=I},I=>i(ae=>{ae.pace.thresholds[_]=I}))}function q(_,y){St(y,{min:0,max:1,step:.01,decimals:2},I=>{R[_]=I},I=>i(ae=>{ae.balance.thresholds[_]=Number(I.toFixed(2))}))}function U(_){const y=_==="factor"?"factor":"ratio";i(I=>{I.balance.relations.displayMode=y})}function J(_){St(_,{min:1,max:12,step:1,decimals:0},y=>{te.value=y},y=>i(I=>{I.balance.trend.lookbackWeeks=y}))}function Q(_,y){i(I=>{I.balance.ui[_]=y})}function he(_,y){St(y,{min:0,max:3,step:1,decimals:0},I=>{fe[_]=I},I=>i(ae=>{ae.balance.ui[_]=I}))}function be(_){const y=_==="momentum"?"momentum":"linear";i(I=>{I.forecast.methodPrimary=y})}function we(_){St(_,{min:1,max:14,step:1,decimals:0},y=>{X.value=y},y=>i(I=>{I.forecast.momentumLastNDays=y}))}function Be(_){St(_,{min:0,max:100,step:.1,decimals:1},y=>{ee.value=y},y=>i(I=>{I.forecast.padding=y}))}function Re(_,y){i(I=>{I.ui[_]=y})}function qe(_){i(y=>{y.includeZeroDaysInStats=_})}function ot(_){i(y=>{_==="work-week"?(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],y.allDayHours=8,y.pace.includeWeekendTotal=!0,y.pace.mode="days_only",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0):_==="balanced-life"&&(y.totalHours=48,y.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],y.allDayHours=8,y.pace.includeWeekendTotal=!0,y.pace.mode="time_aware",y.pace.thresholds={onTrack:-2,atRisk:-10},y.forecast.methodPrimary="linear",y.forecast.momentumLastNDays=2,y.forecast.padding=1.5,y.includeZeroDaysInStats=!1,y.ui.showCalendarCharts=!0,y.ui.showCategoryCharts=!0)})}function Ot(){var y;const _=K();if(_===null){(y=window.alert)==null||y.call(window,"All category slots are currently in use (max 9).");return}i(I=>{I.categories=[...I.categories,{id:ve(),label:`Category ${I.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[_]}]})}function rs(_){if(o.value.length<=1)return;const y=o.value.find(ae=>ae.id===_);if(!y)return;const I=Array.isArray(y.groupIds)&&y.groupIds.length?Number(y.groupIds[0]):null;i(ae=>{ae.categories=ae.categories.filter(tt=>tt.id!==_)}),I!==null&&Object.entries(s.groupsById||{}).forEach(([ae,tt])=>{Number(tt)===I&&n("set-group",{id:ae,n:0})})}return(_,y)=>(k(),Ke(w(Gl),null,{default:Ve(()=>[Ti(_.$slots,"actions",{},void 0,!0),y[24]||(y[24]=l("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),l("div",Mg,[l("div",Dg,[l("button",{class:"sidebar-action-btn",type:"button",disabled:_.isLoading,onClick:y[0]||(y[0]=I=>_.$emit("load"))}," Refresh ",8,Ag),l("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:y[1]||(y[1]=I=>_.$emit("toggle-nav")),"aria-label":_.navToggleLabel},P(_.navToggleIcon),9,Ig)]),l("div",Pg,[ce(w(dn),{type:"radio",name:"range-week",checked:_.range==="week","onUpdate:checked":y[2]||(y[2]=I=>{I&&_.$emit("update:range","week")})},{default:Ve(()=>[...y[20]||(y[20]=[$e("Week",-1)])]),_:1},8,["checked"]),ce(w(dn),{type:"radio",name:"range-month",checked:_.range==="month","onUpdate:checked":y[3]||(y[3]=I=>{I&&_.$emit("update:range","month")})},{default:Ve(()=>[...y[21]||(y[21]=[$e("Month",-1)])]),_:1},8,["checked"])]),l("div",Ng,[ce(w(Wt),{class:"nav-btn",type:"tertiary",disabled:_.isLoading,onClick:y[4]||(y[4]=I=>_.$emit("update:offset",_.offset-1)),title:"Previous"},{default:Ve(()=>[...y[22]||(y[22]=[$e("",-1)])]),_:1},8,["disabled"]),l("span",Eg,P(_.from)+"  "+P(_.to),1),ce(w(Wt),{class:"nav-btn",type:"tertiary",disabled:_.isLoading,onClick:y[5]||(y[5]=I=>_.$emit("update:offset",_.offset+1)),title:"Next"},{default:Ve(()=>[...y[23]||(y[23]=[$e("",-1)])]),_:1},8,["disabled"])])]),l("div",Og,[l("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:pe(["sb-tab",{active:a.value==="calendars"}]),role:"tab","aria-selected":a.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:y[6]||(y[6]=I=>a.value="calendars")}," Calendars ",10,Lg),l("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:pe(["sb-tab",{active:a.value==="targets"}]),role:"tab","aria-selected":a.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:y[7]||(y[7]=I=>a.value="targets")}," Targets ",10,Hg),l("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:pe(["sb-tab",{active:a.value==="summary"}]),role:"tab","aria-selected":a.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:y[8]||(y[8]=I=>a.value="summary")}," Summary ",10,Fg)]),l("div",Rg,[l("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:pe(["sb-tab",{active:a.value==="activity"}]),role:"tab","aria-selected":a.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:y[9]||(y[9]=I=>a.value="activity")}," Activity & Schedule ",10,Wg),l("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:pe(["sb-tab",{active:a.value==="balance"}]),role:"tab","aria-selected":a.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:y[10]||(y[10]=I=>a.value="balance")}," Balance ",10,Bg),l("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:pe(["sb-tab",{active:a.value==="notes"}]),role:"tab","aria-selected":a.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:y[11]||(y[11]=I=>a.value="notes")}," Notes ",10,jg)]),a.value==="calendars"?(k(),Ke(gd,{key:0,calendars:_.calendars,selected:_.selected,range:_.range,"is-loading":_.isLoading,"category-options":o.value,"calendar-target-messages":H,"calendar-category-id":ke,"get-target":se,onSelectAll:Z,onToggleCalendar:le,onSetCategory:xe,onTargetInput:Se},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):a.value==="targets"?(k(),Ke(df,{key:1,targets:r.value,"category-options":o.value,"total-target-message":S.value,"all-day-hours-message":N.value,"category-target-messages":W,"pace-threshold-messages":$,"forecast-momentum-message":X.value,"forecast-padding-message":ee.value,"can-add-category":f.value,onTotalTargetInput:Ge,onApplyPreset:ot,onSetAllDayHours:ne,onSetCategoryLabel:y[12]||(y[12]=({id:I,label:ae})=>v(I,ae)),onRemoveCategory:rs,onSetCategoryTarget:y[13]||(y[13]=({id:I,value:ae})=>p(I,ae)),onSetCategoryPace:y[14]||(y[14]=({id:I,mode:ae})=>B(I,ae)),onSetCategoryWeekend:y[15]||(y[15]=({id:I,value:ae})=>x(I,ae)),onAddCategory:Ot,onSetIncludeWeekendTotal:O,onSetPaceMode:F,onSetThreshold:y[16]||(y[16]=({key:I,value:ae})=>L(I,ae)),onSetForecastMethod:be,onSetForecastMomentum:we,onSetForecastPadding:Be,onSetUiOption:y[17]||(y[17]=({key:I,value:ae})=>Re(I,ae)),onSetIncludeZeroDays:qe},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):a.value==="summary"?(k(),Ke(yf,{key:2,"summary-options":g.value,"active-day-mode":_.activeDayMode,"onUpdate:activeMode":E,onToggleOption:ge},null,8,["summary-options","active-day-mode"])):a.value==="activity"?(k(),Ke(Cf,{key:3,"activity-settings":h.value,"activity-toggles":d.value,"help-open":m.activity,onToggleHelp:Oe,onToggleOption:He},null,8,["activity-settings","activity-toggles","help-open"])):a.value==="balance"?(k(),Ke(gg,{key:4,"balance-settings":u.value,"balance-threshold-messages":R,"balance-lookback-message":te.value,"balance-ui-precision-messages":fe,"rounding-options":b,"help-thresholds":m.balanceThresholds,"help-trend":m.balanceTrend,"help-display":m.balanceDisplay,onToggleHelp:Te,onSetThreshold:ye,onSetRelation:U,onSetLookback:J,onSetUiToggle:Ce,onSetUiPrecision:Ie},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):a.value==="notes"?(k(),Ke(kg,{key:5,previous:_.notesPrev,"model-value":_.notesCurrDraft,"prev-label":_.notesLabelPrev,"curr-label":_.notesLabelCurr,"prev-title":_.notesLabelPrevTitle,"curr-title":_.notesLabelCurrTitle,saving:_.isSavingNote,"onUpdate:modelValue":y[18]||(y[18]=I=>_.$emit("update:notes",I)),onSave:y[19]||(y[19]=I=>_.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):z("",!0)]),_:3}))}}),[["__scopeId","data-v-8ba06dba"]]);function Vg(e){const t=ue(""),s=ue(""),n=ue(!1);async function a(){var i,f;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((f=o==null?void 0:o.notes)==null?void 0:f.current)??"")}async function r(){try{n.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await a()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{n.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:n,fetchNotes:a,saveNotes:r}}function zg(e){const t=ue([]),s=ue({}),n=ue({}),a=ue({}),r=ue([]),o=ue(!1),i=ue(!1),f=ue(null),g=ue(""),h=ue(""),c=ue(""),d=bt({}),u=ue([]),b=ue([]),m=ue([]),H=ue({}),W=ue({}),S=ue({}),N=ue(ht(gn()));let $=0,R=null;const X=ue(!1);async function ee(){var K,ve,ke,me,Ee,j,ie,se,Z,le,xe,Se,ge,He,Oe,Te,ye,Ce,Ie,rt;const fe=++$;o.value=!0;try{const Ge={range:e.range.value,offset:e.offset.value|0,save:!1},ne=await e.getJson(e.route("load"),Ge);if(fe!==$){(K=e.isDebug)!=null&&K.call(e)&&console.warn("discarding stale load response",{currentSeq:fe,loadSeq:$});return}g.value=String(((ve=ne.meta)==null?void 0:ve.uid)??""),h.value=String(((ke=ne.meta)==null?void 0:ke.from)??""),c.value=String(((me=ne.meta)==null?void 0:me.to)??""),i.value=!!((Ee=ne.meta)!=null&&Ee.truncated),f.value=((j=ne.meta)==null?void 0:j.limits)??null,t.value=Array.isArray(ne.calendars)?ne.calendars:[],s.value=((ie=ne.colors)==null?void 0:ie.byName)??{},n.value=((se=ne.colors)==null?void 0:se.byId)??{};const p=((Z=ne.groups)==null?void 0:Z.byId)??((le=ne.groups)==null?void 0:le.byID)??((xe=ne.groups)==null?void 0:xe.ids)??{},v={};t.value.forEach(T=>{const A=String((T==null?void 0:T.id)??""),B=Number((p==null?void 0:p[A])??0);v[A]=Number.isFinite(B)?Math.max(0,Math.min(9,Math.trunc(B))):0}),a.value=v;const x=((Se=ne.targets)==null?void 0:Se.week)??{},E=((ge=ne.targets)==null?void 0:ge.month)??{};if(W.value=x&&typeof x=="object"?x:{},S.value=E&&typeof E=="object"?E:{},N.value=ht(ne.targetsConfig??gn()),(He=e.isDebug)!=null&&He.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(T=>({id:T.id,name:T.displayname,color:T.color,raw:T.color_raw,src:T.color_src}))),console.log("colors.byId",n.value),console.log("colors.byName",s.value),ne.calDebug&&console.log("server calDebug",ne.calDebug),ne.debug&&(console.group("[opsdash] server query debug"),console.log(ne.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(A=>!A.color||A.color_src==="fallback").length)try{const A=await e.fetchDavColors(g.value,t.value.map(O=>String(O.id)));let B=!1;if(t.value=t.value.map(O=>{const F=A[O.id];return F&&F!==O.color&&(O.color_src="dav"(O).color_raw=F,O.color=F,B=!0),O}),Object.entries(A).forEach(([O,F])=>{F&&(n.value[O]=String(F))}),B){(Oe=e.isDebug)!=null&&Oe.call(e)&&console.log("[opsdash] dav colors applied",A);try{const O=((Te=H.value)==null?void 0:Te.pie)||{},F=O.ids||[],L=O.colors||[],q=F.map((U,J)=>n.value[U]||L[J]||"#60a5fa");H.value={...H.value||{},pie:{...O,colors:q}},(ye=e.isDebug)!=null&&ye.call(e)&&console.log("[opsdash] recomputed pie colors",q)}catch(O){(Ce=e.isDebug)!=null&&Ce.call(e)&&console.warn("recompute pie colors failed",O)}try{const O=(Ie=H.value)==null?void 0:Ie.perDaySeries;if(O&&Array.isArray(O.series)){const F=O.series.map(L=>({...L,color:n.value[L.id]||L.color||"#60a5fa"}));H.value={...H.value||{},perDaySeries:{labels:O.labels,series:F}}}}catch{}e.scheduleDraw()}}catch(A){(rt=e.isDebug)!=null&&rt.call(e)&&console.warn("dav colors failed",A)}r.value=Array.isArray(ne.selected)?ne.selected:Array.isArray(ne.saved)?ne.saved:[],e.userChangedSelection.value=!1,Object.assign(d,ne.stats??{}),u.value=Array.isArray(ne.byCal)?ne.byCal:[],b.value=Array.isArray(ne.byDay)?ne.byDay:[],m.value=Array.isArray(ne.longest)?ne.longest:[],H.value=ne.charts??{},await Gs(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(Ge){console.error(Ge),e.notifyError("Failed to load data")}finally{o.value=!1}}function te(fe=!0){R&&clearTimeout(R),R=setTimeout(async()=>{try{X.value=!0;const K=await e.postJson(e.route("persist"),{cals:r.value,groups:a.value,targets_week:W.value,targets_month:S.value,targets_config:eo(N.value)});Array.isArray(K.read)?r.value=K.read.map(me=>String(me)):Array.isArray(K.saved)&&(r.value=K.saved.map(me=>String(me)));const ve=K.targets_config_read,ke=K.targets_config_saved;ve?N.value=ht(ve):ke&&(N.value=ht(ke)),fe&&await ee(),e.notifySuccess("Selection saved")}catch(K){console.error(K),e.notifyError("Failed to save selection")}finally{X.value=!1}},250)}return{calendars:t,colorsByName:s,colorsById:n,groupsById:a,selected:r,isLoading:o,isTruncated:i,truncLimits:f,uid:g,from:h,to:c,stats:d,byCal:u,byDay:b,longest:m,charts:H,targetsWeek:W,targetsMonth:S,targetsConfig:N,load:ee,queueSave:te,isSaving:X}}function Kg(e){const t=V(()=>{var n,a;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:((a=e.charts.value)==null?void 0:a.perDaySeries)||null}}),s=V(()=>{var b,m;const n={},a=(b=e.charts.value)==null?void 0:b.pie,r=(m=e.charts.value)==null?void 0:m.perDaySeries,o=a&&Array.isArray(a.data)&&Array.isArray(a.ids),i=r&&Array.isArray(r.series)&&Array.isArray(r.labels),f=e.calendarCategoryMap.value,g=o?(a.ids||[]).map(H=>String(H??"")):[],h=o?(a.labels||[]).map(H=>String(H??"")):[],c=o?(a.data||[]).map(H=>Number(H)||0):[],d=o?a.colors||[]:[],u=i?r.series:[];return e.calendarGroups.value.forEach(H=>{const W=[];o&&g.forEach((R,X)=>{f[R]===H.id&&W.push(X)});const S=W.length?{ids:W.map(R=>g[R]),labels:W.map(R=>h[R]),data:W.map(R=>c[R]),colors:W.map(R=>{var X;return d[R]||((X=e.colorsById.value)==null?void 0:X[g[R]])||"#60a5fa"})}:null,N=i?u.filter(R=>f[String((R==null?void 0:R.id)??"")]===H.id):[],$=N.length?{labels:r.labels,series:N}:null;n[H.id]={pie:S,stacked:$}}),n});return{calendarChartData:t,categoryChartsById:s}}const Et="__uncategorized__",ro="Unassigned";function Gg(e){const t=V(()=>{var h;const g=(h=e.targetsConfig.value)==null?void 0:h.categories;return Array.isArray(g)?g:[]}),s=V(()=>{const g={};return t.value.forEach(h=>{g[String(h.id)]=h.label||String(h.id)}),g}),n=V(()=>{var c;const g=new Map;return(((c=e.targetsSummary.value)==null?void 0:c.categories)||[]).forEach(d=>g.set(String(d.id),d)),g}),a=V(()=>{const g=new Map;return t.value.forEach(h=>{(Array.isArray(h.groupIds)?h.groupIds:[]).forEach(d=>{const u=Math.max(0,Math.min(9,Math.trunc(Number(d)||0)));g.set(u,String(h.id))})}),g}),r=V(()=>{var c;const g=e.calendars.value;if(!Array.isArray(g))return(c=e.isDebug)!=null&&c.call(e)&&console.warn("[opsdash] calendars not array",g),{};const h={};return g.forEach(d=>{var m;const u=String((d==null?void 0:d.id)??"");if(!u)return;const b=((m=e.colorsById.value)==null?void 0:m[u])||String((d==null?void 0:d.color)||"");h[u]={name:String((d==null?void 0:d.displayname)||(d==null?void 0:d.name)||(d==null?void 0:d.calendar)||u),color:b||void 0}}),h}),o=V(()=>{var b;const g={},h=a.value,c=e.groupsById.value||{},d=m=>{const H=c==null?void 0:c[m],W=Math.max(0,Math.min(9,Math.trunc(Number(H)||0))),S=h.get(W);g[m]=S||Et},u=e.calendars.value;return Array.isArray(u)?(u.forEach(m=>{const H=String((m==null?void 0:m.id)??"");H&&d(H)}),(e.selected.value||[]).forEach(m=>{const H=String(m??"");H&&(g[H]||d(H))}),g):((b=e.isDebug)!=null&&b.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",u),g)}),i=V(()=>{const g=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],h={};let c=0;const d=u=>{if(h[u])return h[u];const b=Object.entries(o.value).filter(([,H])=>H===u).map(([H])=>H);for(const H of b){const W=r.value[H];if(W!=null&&W.color)return h[u]=W.color,W.color}const m=g[c%g.length];return c+=1,h[u]=m,m};return t.value.forEach(u=>d(String(u.id))),Object.values(o.value||{}).some(u=>u===Et)&&d(Et),h}),f=V(()=>{var R,X,ee,te,fe,K,ve,ke,me,Ee;const g=[],h=o.value,c=n.value,d=e.byCal.value;if(!Array.isArray(d))return(R=e.isDebug)!=null&&R.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",d),g;const u=new Map;d.forEach(j=>{const ie=String((j==null?void 0:j.id)??(j==null?void 0:j.calendar_id)??(j==null?void 0:j.calendar)??"");if(!ie)return;const se=h[ie]||Et;u.has(se)||u.set(se,[]),u.get(se).push({...j,calendarId:ie})}),(X=e.isDebug)!=null&&X.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(d),rowsSourceLength:d.length,byCat:u,assignments:h});const b=((te=(ee=e.targetsSummary.value)==null?void 0:ee.total)==null?void 0:te.daysLeft)??0,m=((K=(fe=e.targetsSummary.value)==null?void 0:fe.total)==null?void 0:K.calendarPercent)??0,H=((ke=(ve=e.targetsSummary.value)==null?void 0:ve.total)==null?void 0:ke.paceMode)??((Ee=(me=e.targetsConfig.value)==null?void 0:me.pace)==null?void 0:Ee.mode)??"days_only",W=j=>Math.round(j*100)/100,S=e.currentTargets.value||{},N=(j,ie,se)=>{const Z=se.reduce((ye,Ce)=>{const Ie=Number(S[Ce.calendarId]??0);return Number.isFinite(Ie)?ye+Math.max(0,Ie):ye},0),le=se.reduce((ye,Ce)=>{const Ie=Number((Ce==null?void 0:Ce.total_hours)??(Ce==null?void 0:Ce.hours)??0);return Number.isFinite(Ie)?ye+Math.max(0,Ie):ye},0),xe=Z>0?Math.max(0,Math.min(100,le/Z*100)):0,Se=le-Z,ge=Math.max(0,Z-le),He=Z<=0?"none":xe>=100?"done":Se>=0?"on_track":"behind",Oe=He==="done"?"Done":He==="on_track"?"On Track":He==="behind"?"Behind":"",Te=b>0?ge/b:0;return{id:j,label:ie,actualHours:W(le),targetHours:W(Z),percent:xe,deltaHours:W(Se),remainingHours:W(ge),needPerDay:W(Te),daysLeft:b,calendarPercent:Math.max(0,Math.min(100,m)),gap:W(xe-m),status:He,statusLabel:Oe,includeWeekend:!0,paceMode:H}};if(t.value.map(j=>String(j.id)).forEach(j=>{const ie=s.value[j]||j,se=u.get(j)||[],Z=c.get(j)||N(j,ie,se);g.push({id:j,label:ie,rows:se,summary:Z,color:i.value[j]})}),u.has(Et)){const j=u.get(Et)||[];g.push({id:Et,label:ro,rows:j,summary:N(Et,ro,j),color:i.value[Et]})}return g});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:f}}function qg(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function at(e){const t=Number(e);return Number.isFinite(t)?t:null}function as(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function Jg(e){const t=V(()=>{var S;const u=(S=e.charts.value)==null?void 0:S.pie;if(!u||!Array.isArray(u.data)||!Array.isArray(u.labels))return[];const b=u.data.map(N=>Number(N)||0),m=u.labels.map(N=>String(N||"")),H=b.reduce((N,$)=>N+Math.max(0,$),0);if(H<=0)return[];const W=b.map((N,$)=>({name:m[$]||"",value:Math.max(0,N)}));return W.sort((N,$)=>$.value-N.value),W.slice(0,3).map(N=>({name:N.name,share:N.value/H*100}))}),s=V(()=>{var b;if(t.value.length)return t.value.map(m=>`${m.name} ${io(m.share)}`).join(", ");const u=(b=e.stats)==null?void 0:b.top_calendar;if(u&&u.calendar){const m=Number(u.share??0);return`${u.calendar} ${io(m)}`}return""}),n=V(()=>{var u;return e.selected.value.length||(((u=e.calendars.value)==null?void 0:u.length)??0)}),a=V(()=>(e.byDay.value||[]).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),r=V(()=>{const u=a.value.map(b=>Number(b)||0);return e.activeDayMode.value==="active"?u.filter(b=>b>0):u}),o=V(()=>(e.byDay.value||[]).filter(u=>{const b=oo(String(u==null?void 0:u.date));return b>=1&&b<=5}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),i=V(()=>(e.byDay.value||[]).filter(u=>{const b=oo(String(u==null?void 0:u.date));return b===0||b===6}).map(u=>Number((u==null?void 0:u.total_hours)??(u==null?void 0:u.hours)??0))),f=V(()=>e.activeDayMode.value==="active"?o.value.filter(u=>u>0):o.value),g=V(()=>e.activeDayMode.value==="active"?i.value.filter(u=>u>0):i.value),h=V(()=>{var m,H,W,S;const u=((m=e.stats)==null?void 0:m.balance_index)??((H=e.stats)==null?void 0:H.balanceIndex)??((S=(W=e.stats)==null?void 0:W.balance_overview)==null?void 0:S.index),b=Number(u);return Number.isFinite(b)?b:null}),c=V(()=>{var u,b,m,H;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((u=e.stats)==null?void 0:u.total_hours)??0),avgDay:aa(r.value),avgEvent:Number(((b=e.stats)==null?void 0:b.avg_per_event)??0),medianDay:ra(r.value),busiest:((m=e.stats)==null?void 0:m.busiest_day)??null,workdayAvg:aa(f.value),workdayMedian:ra(f.value),weekendAvg:aa(g.value),weekendMedian:ra(g.value),weekendShare:((H=e.stats)==null?void 0:H.weekend_share)??null,activeCalendars:n.value,calendarSummary:s.value,balanceIndex:h.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),d=V(()=>{const u=e.stats;return{rangeLabel:e.rangeLabel.value,events:qg(u.events),activeDays:at(u.active_days),typicalStart:as(u.typical_start),typicalEnd:as(u.typical_end),weekendShare:at(u.weekend_share),eveningShare:at(u.evening_share),earliestStart:as(u.earliest_start),latestEnd:as(u.latest_end),overlapEvents:at(u.overlap_events),longestSession:at(u.longest_session),lastDayOff:as(u.last_day_off),lastHalfDayOff:as(u.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:c,activitySummary:d}}function aa(e){return e.length?e.reduce((s,n)=>s+n,0)/e.length:0}function ra(e){if(!e.length)return 0;const t=[...e].sort((n,a)=>n-a),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function oo(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function io(e){return`${Number(e||0).toFixed(1)}%`}function Zg(e){return{balanceOverview:V(()=>{var c,d,u;const s=(c=e.stats)==null?void 0:c.balance_overview;if(!s||typeof s!="object")return null;const n=Array.isArray(s.categories)?s.categories.map(b=>({id:String((b==null?void 0:b.id)??""),label:String((b==null?void 0:b.label)??""),hours:at(b==null?void 0:b.hours)??0,share:at(b==null?void 0:b.share)??0,prevShare:at(b==null?void 0:b.prev_share)??0,delta:at(b==null?void 0:b.delta)??0,color:e.categoryColorMap.value[String((b==null?void 0:b.id)??"")]})):[],a=Array.isArray(s.relations)?s.relations.map(b=>({label:String((b==null?void 0:b.label)??""),value:String((b==null?void 0:b.value)??"")})):[],r={delta:Array.isArray((d=s.trend)==null?void 0:d.delta)?s.trend.delta.map(b=>({id:String((b==null?void 0:b.id)??""),label:String((b==null?void 0:b.label)??""),delta:at(b==null?void 0:b.delta)??0})):[],badge:String(((u=s.trend)==null?void 0:u.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(b=>({date:String((b==null?void 0:b.date)??""),weekday:String((b==null?void 0:b.weekday)??""),total_hours:at(b==null?void 0:b.total_hours)??0,categories:Array.isArray(b==null?void 0:b.categories)?b.categories.map(m=>({id:String((m==null?void 0:m.id)??""),label:String((m==null?void 0:m.label)??""),hours:at(m==null?void 0:m.hours)??0,share:at(m==null?void 0:m.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(b=>String(b)):[],f=Array.isArray(s.warnings)?s.warnings.map(b=>String(b)):[],g=at(s.index)??0,h=e.balanceCardConfig.value.showInsights?i:[];return{index:g,categories:n,relations:a,trend:r,daily:o,insights:h,warnings:f}})}}const Yg={version:"0.4.3"},Xg={class:"app-shell"},Qg={class:"app-main"},eh={class:"app-container"},th={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},sh=["aria-expanded","aria-label"],nh=["disabled"],ah=["disabled","aria-pressed"],rh={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},oh=["disabled"],ih=["title"],lh=["disabled"],uh={class:"appbar"},ch={class:"title"},dh=["src"],fh=["textContent"],gh={class:"hint appbar-meta"},hh=["textContent"],ph={key:1,title:"Results truncated for performance"},mh=["title"],vh={class:"cards"},yh={class:"tabs"},bh={class:"card full tab-panel"},_h={key:0,class:"chart-section"},wh={class:"grid2 mt-12"},kh={class:"card chart-card"},xh={class:"card chart-card"},Sh={key:1,class:"chart-section"},Ch={key:0,class:"category-chart-block"},$h={class:"category-chart-header"},Th={class:"name"},Mh={class:"grid2 mt-8"},Dh={class:"card chart-card"},Ah={class:"card chart-card"},Ih={class:"card full tab-panel"},Ph={class:"card full tab-panel"},Nh={class:"card full tab-panel"},Eh={class:"hint footer"},Oh=["href"],lo="opsdash.sidebarOpen",Lh=Ne({__name:"App",setup(e){function t(D){var Y,G;const M=window;(G=(Y=M.OC)==null?void 0:Y.Notification)!=null&&G.showTemporary?M.OC.Notification.showTemporary(D):console.log("SUCCESS:",D)}function s(D){var Y,G;const M=window;(G=(Y=M.OC)==null?void 0:Y.Notification)!=null&&G.showTemporary?M.OC.Notification.showTemporary(D):(console.error("ERROR:",D),alert(D))}const n=ue((()=>{if(typeof window>"u")return!0;const D=window.localStorage.getItem(lo);return D==null?!0:D==="1"})()),a=()=>{n.value=!n.value},r=V(()=>n.value?"Hide sidebar":"Show sidebar"),o=V(()=>n.value?"":"");gt(n,D=>{typeof window<"u"&&(window.localStorage.setItem(lo,D?"1":"0"),Gs(()=>{window.dispatchEvent(new Event("resize"))}))});const i=ue("cal"),f=ue("week"),g=ue(0),h=V(()=>!n.value),c=V(()=>f.value==="week"?"Switch to month":"Switch to week"),d=V(()=>!Z.value||!le.value?"":`${Z.value}  ${le.value}`);function u(){Ie().catch(console.error)}function b(){f.value=f.value==="week"?"month":"week",g.value=0,Ie().catch(console.error)}function m(){g.value=(g.value||0)-1,Ie().catch(console.error)}function H(){g.value=(g.value||0)+1,Ie().catch(console.error)}const W=V(()=>{const D=ie.value;if(!D)return"Partial data due to caps";const M=[];return D.maxPerCal!=null&&M.push(`cap per calendar: ${D.maxPerCal}`),D.maxTotal!=null&&M.push(`cap total: ${D.maxTotal}`),D.totalProcessed!=null&&M.push(`processed: ${D.totalProcessed}`),M.join("  ")}),S=ue(!1),N=Vg({range:f,offset:g,route:D=>da(D),getJson:ca,postJson:fo,notifySuccess:t,notifyError:s}),{notesPrev:$,notesCurrDraft:R,isSavingNote:X,fetchNotes:ee,saveNotes:te}=N,{calendars:fe,colorsByName:K,colorsById:ve,groupsById:ke,selected:me,isLoading:Ee,isTruncated:j,truncLimits:ie,uid:se,from:Z,to:le,stats:xe,byCal:Se,byDay:ge,longest:He,charts:Oe,targetsWeek:Te,targetsMonth:ye,targetsConfig:Ce,load:Ie,queueSave:rt}=zg({range:f,offset:g,userChangedSelection:S,route:D=>da(D),getJson:ca,postJson:fo,notifyError:s,notifySuccess:t,scheduleDraw:Qh,fetchNotes:ee,isDebug:ae,fetchDavColors:Xh});function Ge(D){return me.value.includes(D)}function ne(D,M){const Y=new Set(me.value);M?Y.add(D):Y.delete(D),me.value=Array.from(Y)}function p(D){ne(D,!Ge(D)),S.value=!0,rt()}function v(D,M){const Y=Math.max(0,Math.min(9,Math.trunc(Number(M)||0)));ke.value||(ke.value={}),ke.value={...ke.value,[D]:Y},rt(!1)}function x(D,M){const Y=Number(M);if(!isFinite(Y)||Y<0)return;const G=Math.min(1e4,Math.round(Y*100)/100);if(f.value==="month"){const Pe=Math.min(1e4,Math.round(G/4*100)/100);ye.value={...ye.value||{},[D]:G},Te.value={...Te.value||{},[D]:Pe}}else{const Pe=Math.min(1e4,Math.round(G*4*100)/100);Te.value={...Te.value||{},[D]:G},ye.value={...ye.value||{},[D]:Pe}}rt(!1)}function E(D){Ce.value=ht(D),rt(!1)}const T=ue("active"),A=V(()=>f.value==="month"?"Month":"Week"),B=V(()=>{const D=eo(Ce.value);return f.value==="month"&&(D.totalHours=Qn(D.totalHours),D.categories=D.categories.map(M=>({...M,targetHours:Qn(M.targetHours)}))),D}),O=V(()=>{const D=B.value;try{return Uc({config:D,stats:xe,byDay:ge.value||[],byCal:Se.value||[],groupsById:ke.value||{},range:f.value,from:Z.value,to:le.value})}catch(M){return console.error("[opsdash] targets summary failed",M),Bc(D)}}),F=V(()=>{if(f.value==="month"){const D=ye.value||{};if(D&&Object.keys(D).length>0)return D;const M=Te.value||{},Y={};return Object.entries(M).forEach(([G,Pe])=>{const Xe=Number(Pe);Number.isFinite(Xe)&&(Y[G]=Qn(Xe))}),Y}return Te.value||{}}),L=V(()=>{var D;return{...fn(),...((D=Ce.value)==null?void 0:D.activityCard)??{}}}),q=V(()=>{var Y;const D=Yn(),M=((Y=Ce.value)==null?void 0:Y.balance)??D;return{...D,...M,thresholds:{...D.thresholds,...M.thresholds??{}},relations:{...D.relations,...M.relations??{}},trend:{...D.trend,...M.trend??{}},dayparts:{...D.dayparts,...M.dayparts??{}},ui:{...D.ui,...M.ui??{}}}}),U=V(()=>({showInsights:!!q.value.ui.showInsights,showDailyStacks:!!q.value.ui.showDailyStacks})),{categoryLabelById:J,categoryColorMap:Q,calendarCategoryMap:he,calendarGroups:be}=Gg({calendars:fe,selected:me,groupsById:ke,colorsById:ve,targetsConfig:B,targetsSummary:O,byCal:Se,currentTargets:F,isDebug:ae}),{balanceOverview:we}=Zg({stats:xe,categoryColorMap:Q,balanceCardConfig:U}),Be=V(()=>{var Y,G;if(!L.value.showHint)return"";const M=(Array.isArray((G=(Y=Ce.value)==null?void 0:Y.balance)==null?void 0:G.categories)?Ce.value.balance.categories:[]).map(Pe=>{const Xe=String(Pe??"").trim();if(!Xe)return"";const pt=J.value[Xe];return pt||Xe.toUpperCase()}).filter(Pe=>Pe);return M.length?`Mapping via Sidebar  ${M.join(" / ")}`:""}),{calendarChartData:Re,categoryChartsById:qe}=Kg({charts:Oe,colorsById:ve,calendarGroups:be,calendarCategoryMap:he}),ot=V(()=>{const D=be.value||[];return D.length&&[...D].sort((Y,G)=>(G.summary.actualHours||0)-(Y.summary.actualHours||0))[0]||null}),{timeSummary:Ot,activitySummary:rs}=Jg({stats:xe,byDay:ge,charts:Oe,calendars:fe,selected:me,rangeLabel:A,activeDayMode:T,topCategory:ot}),_=ue(null);function y(D){_.value=_.value===D?null:D}function I(D){const M=window;return M.OC&&typeof M.OC.generateUrl=="function"?M.OC.generateUrl("/apps/calendar/timeGridDay/"+D):Ds()+"/index.php/apps/calendar/timeGridDay/"+D}function ae(){return!1}const tt=ue(0),os=V(()=>{var G;const D=window,M=[];try{if((G=D.OC)!=null&&G.imagePath){const Pe=D.OC.imagePath("opsdash","app.svg");Pe&&M.push(Pe)}}catch{}const Y=Ds();return M.push(Y+"/apps/opsdash/img/app.svg"),M.push(Y+"/apps-extra/opsdash/img/app.svg"),M.push(Y+"/apps-writable/opsdash/img/app.svg"),M}),la=V(()=>os.value[Math.min(tt.value,os.value.length-1)]||"");function Uh(){tt.value+1<os.value.length&&tt.value++}function co(D){const M=document.getElementById("app");return(M&&M.dataset?M.dataset[D]:"")||""}const Ts=ue(co("opsdashVersion")||String(Yg.version)),Ms=ue(co("opsdashChangelog"));async function Vh(){if(!(Ts.value&&Ms.value))try{const D=await ca(da("load").replace("/config_dashboard/load","/config_dashboard/ping"),{});!Ts.value&&typeof(D==null?void 0:D.version)=="string"&&(Ts.value=D.version),!Ms.value&&typeof(D==null?void 0:D.changelog)=="string"&&(Ms.value=D.changelog)}catch{}}Vh();const zh=V(()=>f.value==="month"?"Last month":"Last week"),Kh=V(()=>f.value==="month"?"This month":"This week"),Gh=V(()=>f.value==="month"?"Notes for previous month":"Notes for previous week"),qh=V(()=>f.value==="month"?"Notes for current month":"Notes for current week");function ua(D){return Number(D??0).toFixed(2)}function Ds(){var M,Y;const D=window;return D.OC&&(D.OC.webroot||((Y=(M=D.OC).getRootPath)==null?void 0:Y.call(M)))||D._oc_webroot||""}function Jh(D){const M=new URLSearchParams;return Object.entries(D).forEach(([Y,G])=>{Array.isArray(G)?G.forEach(Pe=>M.append(Y,String(Pe))):G!=null&&M.set(Y,String(G))}),M.toString()}async function ca(D,M){const Y=Jh(M||{}),G=Y?D+(D.includes("?")?"&":"?")+Y:D,Pe=await fetch(G,{method:"GET",credentials:"same-origin"});if(!Pe.ok)throw new Error("HTTP "+Pe.status);return await Pe.json()}async function fo(D,M){var pt;const Y=window,G=((pt=Y.OC)==null?void 0:pt.requestToken)||Y.oc_requesttoken||"",Pe={"Content-Type":"application/json"};G&&(Pe.requesttoken=G);const Xe=await fetch(D,{method:"POST",credentials:"same-origin",headers:Pe,body:JSON.stringify(M||{})});if(!Xe.ok)throw new Error("HTTP "+Xe.status);return await Xe.json()}function da(D){const M=window;if(M.OC&&typeof M.OC.generateUrl=="function")return D==="load"?M.OC.generateUrl("/apps/opsdash/config_dashboard/load"):D==="persist"?M.OC.generateUrl("/apps/opsdash/config_dashboard/persist"):D==="notes"||D==="notesSave"?M.OC.generateUrl("/apps/opsdash/config_dashboard/notes"):M.OC.generateUrl("/apps/opsdash/config_dashboard");const Y=Ds()+"/apps/opsdash/config_dashboard";return D==="load"?Y+"/load":D==="persist"?Y+"/persist":D==="notes"||D==="notesSave"?Y+"/notes":Ds()+"/apps/opsdash/config_dashboard"}function Zh(D){me.value=D?fe.value.map(M=>M.id):[]}function Yh(D){T.value!==D&&(T.value=D)}async function Xh(D,M){var Xe;const Y={};if(!D)return Y;const G=((Xe=window.OC)==null?void 0:Xe.requestToken)||window.oc_requesttoken||"",Pe=Ds();for(const pt of M)try{const As=`${Pe}/remote.php/dav/calendars/${encodeURIComponent(D)}/${encodeURIComponent(pt)}/`,ep=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;ae();const go=await fetch(As,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:G},body:ep});if(!go.ok)continue;const tp=await go.text();ae();const ho=tp.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);ho&&(Y[pt]=ho[1])}catch{}return Y}function Qh(){}return ms(()=>{console.info("[opsdash] start"),Ie().catch(D=>{console.error(D),alert("Initial load failed")})}),gt(f,()=>{g.value=0,Ie().catch(console.error)}),(D,M)=>{const Y=Si("NcAppSidebarToggle");return k(),C("div",{id:"opsdash",class:pe(["opsdash",{"is-nav-collapsed":!n.value}])},[ce(w(Kl),{"app-name":"Operational Dashboard","show-navigation":n.value},{navigation:Ve(()=>[ce(Ug,{id:"opsdash-sidebar",calendars:w(fe),selected:w(me),"groups-by-id":w(ke),"is-loading":w(Ee),range:f.value,offset:g.value,from:w(Z),to:w(le),"targets-week":w(Te),"targets-month":w(ye),"targets-config":w(Ce),"notes-prev":w($),"notes-curr-draft":w(R),"notes-label-prev":zh.value,"notes-label-curr":Kh.value,"notes-label-prev-title":Gh.value,"notes-label-curr-title":qh.value,"is-saving-note":w(X),"active-day-mode":T.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,onLoad:w(Ie),"onUpdate:range":M[0]||(M[0]=G=>{f.value=G,g.value=0,w(Ie)()}),"onUpdate:offset":M[1]||(M[1]=G=>{g.value=G,w(Ie)()}),onSelectAll:M[2]||(M[2]=G=>Zh(G)),onToggleCalendar:M[3]||(M[3]=G=>p(G)),onSetGroup:M[4]||(M[4]=G=>v(G.id,G.n)),onSetTarget:M[5]||(M[5]=G=>x(G.id,G.h)),"onUpdate:notes":M[6]||(M[6]=G=>R.value=G),onSaveNotes:w(te),"onUpdate:targetsConfig":E,"onUpdate:activeMode":Yh,onToggleNav:a},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","onLoad","onSaveNotes"])]),"sidebar-toggle":Ve(()=>[ce(Y,{open:n.value,onToggle:a},null,8,["open"])]),default:Ve(()=>[l("div",Xg,[l("div",Qg,[l("div",eh,[h.value?(k(),C("div",th,[l("button",{class:"range-toolbar__btn",type:"button",onClick:a,"aria-expanded":n.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},P(o.value),9,sh),l("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:u}," Refresh ",8,nh),M[11]||(M[11]=l("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),l("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:b,"aria-pressed":f.value==="month"},P(c.value),9,ah),l("div",rh,[l("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:m},"  ",8,oh),l("span",{class:"range-toolbar__label",title:d.value},P(d.value),9,ih),l("button",{class:"range-toolbar__btn",type:"button",disabled:w(Ee),onClick:H},"  ",8,lh)])])):z("",!0),l("div",uh,[l("div",ch,[l("img",{src:la.value,onError:Uh,class:"app-icon",alt:"","aria-hidden":"true"},null,40,dh),M[12]||(M[12]=l("span",null,"Operational Dashboard",-1)),l("span",{class:"chip",textContent:P(f.value.toUpperCase())},null,8,fh)]),l("div",gh,[w(Ee)?(k(),Ke(w(ql),{key:0,size:16})):z("",!0),l("span",{textContent:P(w(se))},null,8,hh),w(j)?(k(),C("span",ph," Partial data")):z("",!0)])]),w(j)?(k(),C("div",{key:1,class:"banner warn",title:W.value},[M[13]||(M[13]=$e(" Showing partial data to keep things fast. ",-1)),w(ie)&&w(ie).totalProcessed!=null?(k(),C(de,{key:0},[$e(" Processed "+P(w(ie).totalProcessed)+" items. ",1)],64)):z("",!0)],8,mh)):z("",!0),l("div",vh,[ce(Xu,{summary:w(Ot),mode:T.value,config:w(Ce).timeSummary},null,8,["summary","mode","config"]),ce(xc,{summary:O.value,config:w(Ce),groups:w(be)},null,8,["summary","config","groups"]),ce(Pc,{summary:w(rs),"range-label":A.value,"category-hint":Be.value,config:L.value},null,8,["summary","range-label","category-hint","config"]),ce(Wc,{overview:w(we),"range-label":A.value,config:U.value},null,8,["overview","range-label","config"])]),l("div",yh,[l("a",{href:"#",class:pe({active:i.value==="cal"}),onClick:M[7]||(M[7]=un(G=>i.value="cal",["prevent"]))},"By Calendar",2),l("a",{href:"#",class:pe({active:i.value==="day"}),onClick:M[8]||(M[8]=un(G=>i.value="day",["prevent"]))},"By Day",2),l("a",{href:"#",class:pe({active:i.value==="top"}),onClick:M[9]||(M[9]=un(G=>i.value="top",["prevent"]))},"Longest Tasks",2),l("a",{href:"#",class:pe({active:i.value==="heat"}),onClick:M[10]||(M[10]=un(G=>i.value="heat",["prevent"]))},"Heatmap",2)]),Js(l("div",bh,[w(Se).length===0?(k(),Ke(w(cn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),C(de,{key:1},[ce(yu,{rows:w(Se),n2:ua,targets:F.value,groups:w(be)},null,8,["rows","targets","groups"]),w(Ce).ui.showCalendarCharts&&(w(Re).pie||w(Re).stacked)?(k(),C("div",_h,[M[16]||(M[16]=l("h3",{class:"section-title"},"Calendars (all)",-1)),l("div",wh,[l("div",kh,[M[14]||(M[14]=l("div",{class:"chart-card__title"},"Distribution by calendar",-1)),ce(Xr,{data:w(Re).pie,"colors-by-id":w(ve),"colors-by-name":w(K)},null,8,["data","colors-by-id","colors-by-name"])]),l("div",xh,[M[15]||(M[15]=l("div",{class:"chart-card__title"},"Hours per day",-1)),ce(Qr,{stacked:w(Re).stacked,legacy:w(Oe).perDay,"colors-by-id":w(ve)},null,8,["stacked","legacy","colors-by-id"])])])])):z("",!0),w(Ce).ui.showCategoryCharts&&w(be).length?(k(),C("div",Sh,[M[19]||(M[19]=l("h3",{class:"section-title"},"Categories",-1)),(k(!0),C(de,null,ze(w(be),G=>{var Pe,Xe,pt,As;return k(),C(de,{key:"cat-charts-"+G.id},[(Pe=w(qe)[G.id])!=null&&Pe.pie||(Xe=w(qe)[G.id])!=null&&Xe.stacked?(k(),C("div",Ch,[l("div",$h,[l("span",{class:"dot",style:$t({background:w(Q)[G.id]||"var(--brand)"})},null,4),l("span",Th,P(G.label),1)]),l("div",Mh,[l("div",Dh,[M[17]||(M[17]=l("div",{class:"chart-card__title"},"Calendar share",-1)),ce(Xr,{data:(pt=w(qe)[G.id])==null?void 0:pt.pie,"colors-by-id":w(ve),"colors-by-name":w(K)},null,8,["data","colors-by-id","colors-by-name"])]),l("div",Ah,[M[18]||(M[18]=l("div",{class:"chart-card__title"},"Hours per day",-1)),ce(Qr,{stacked:(As=w(qe)[G.id])==null?void 0:As.stacked,legacy:null,"colors-by-id":w(ve)},null,8,["stacked","colors-by-id"])])])])):z("",!0)],64)}),128))])):z("",!0)],64))],512),[[on,i.value==="cal"]]),Js(l("div",Ih,[w(ge).length===0?(k(),Ke(w(cn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),Ke(Su,{key:1,rows:w(ge),n2:ua,link:I},null,8,["rows"]))],512),[[on,i.value==="day"]]),Js(l("div",Ph,[w(He).length===0?(k(),Ke(w(cn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),Ke(Eu,{key:1,rows:w(He),n2:ua,"details-index":_.value,onToggle:y},null,8,["rows","details-index"]))],512),[[on,i.value==="top"]]),Js(l("div",Nh,[!w(Oe).hod||!w(Oe).hod.matrix||w(Oe).hod.matrix.length===0?(k(),Ke(w(cn),{key:0,name:"No data",description:"Try changing the range or calendars"})):(k(),C(de,{key:1},[ce(Zl,{hod:w(Oe).hod},null,8,["hod"]),M[20]||(M[20]=l("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[on,i.value==="heat"]]),l("div",Eh,[M[22]||(M[22]=$e(" Powered by ",-1)),M[23]||(M[23]=l("strong",null,"Gellert Innovation",-1)),M[24]||(M[24]=$e("  Built with ",-1)),M[25]||(M[25]=l("span",{class:"mono"},"opsdash",-1)),Ts.value?(k(),C(de,{key:0},[$e(" v"+P(Ts.value),1)],64)):z("",!0),Ms.value?(k(),C(de,{key:1},[M[21]||(M[21]=$e("  ",-1)),l("a",{href:Ms.value,target:"_blank",rel:"noreferrer noopener"},"Changelog",8,Oh)],64)):z("",!0)])])])])]),_:1},8,["show-navigation"])],2)}}});let $s=null,oa=null,uo=!1;function Hh(){if(!(typeof window>"u"))try{pn(),Fh()}catch(e){jh()&&console.warn("[opsdash] theme boot install failed",e)}}function Fh(){if($s||oa||uo)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&($s=new MutationObserver(()=>pn()),e.forEach(t=>{$s==null||$s.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>pn();typeof t.addEventListener=="function"?(t.addEventListener("change",s),oa=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),oa=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",pn),uo=!0}function pn(){const e=Rh();if(!e)return;["icon","shortcut icon"].forEach(s=>{let n=document.querySelector(`link[rel="${s}"]`);n||(n=document.createElement("link"),n.rel=s,document.head.appendChild(n)),n.type="image/svg+xml",n.href=e})}function Rh(){const e=Wh()==="dark",t=Bh(),s=t("favicon.svg");if(s)return s;if(e){const a=t("app-dark.svg");if(a)return a}const n=t(e?"app-dark.svg":"app.svg");return n||"/apps-extra/opsdash/img/favicon.svg"}function Wh(){var n,a,r,o,i;const e=(n=document.documentElement)==null?void 0:n.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(a=document.body)==null?void 0:a.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function Bh(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function jh(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function ia(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=Ul(Lh);t.config.errorHandler=(a,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",f={err:a,info:o,name:i,stack:a instanceof Error?a.stack:void 0},g=window;Array.isArray(g.__opsdashErrors)||(g.__opsdashErrors=[]),g.__opsdashErrors.push(f),console.error("[opsdash] Vue error",f)};const s=t.mount(e),n=window;n.__opsdashApp=t,n.__opsdashRoot=s,Hh(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(ia,50):window.addEventListener("DOMContentLoaded",ia,{once:!0})}ia()})();
