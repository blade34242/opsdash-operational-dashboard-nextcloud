(function(){"use strict";var wn=document.createElement("style");wn.textContent=`table[data-v-69f095b4]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-69f095b4]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-69f095b4]{text-align:right}tbody td[data-v-69f095b4]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-69f095b4]{width:42%}.col-w-12[data-v-69f095b4]{width:12%}.col-w-14[data-v-69f095b4]{width:14%}.col-w-18[data-v-69f095b4]{width:18%}.group-row td[data-v-69f095b4]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-69f095b4]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-69f095b4]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-69f095b4]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-69f095b4]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-69f095b4]{font-size:12px}.group-meta .summary-percent[data-v-69f095b4]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-69f095b4]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-69f095b4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-69f095b4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-69f095b4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-69f095b4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-69f095b4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-69f095b4]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-69f095b4]{font-weight:600;color:var(--fg)}.progress[data-v-69f095b4]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-69f095b4]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.num[data-v-69f095b4]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-69f095b4]{color:var(--muted);font-size:11px}.delta[data-v-69f095b4]{font-weight:600}.delta.pos[data-v-69f095b4]{color:var(--pos)}.delta.neg[data-v-69f095b4]{color:var(--neg)}.empty-row td.empty[data-v-69f095b4]{font-style:italic;color:var(--muted);text-align:center}.card.time-summary[data-v-c358573a]{display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted);padding:14px}.time-summary-firstline[data-v-c358573a]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-c358573a]{font-style:italic;color:var(--fg)}.mode-pill[data-v-c358573a]{display:inline-flex;align-items:center;padding:2px 8px;font-size:11px;font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-c358573a]{display:grid;gap:4px;margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;color:var(--muted)}.time-summary-metrics strong[data-v-c358573a]{color:var(--fg);font-size:14px}.time-summary-row[data-v-c358573a]{display:flex;flex-wrap:wrap;gap:4px;line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-c358573a]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-c358573a]{word-break:break-word}.time-summary-row .sep[data-v-c358573a],.time-summary-row .hint[data-v-c358573a],.time-summary-row .share[data-v-c358573a]{color:var(--muted)}.time-summary-row.top-category[data-v-c358573a]{align-items:center;gap:6px}.summary-badge[data-v-c358573a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-c358573a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-c358573a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-c358573a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-c358573a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-c358573a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.targets-card[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:8px}.targets-header[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-bcb82b9a]{font-size:14px}.targets-main[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:4px;font-size:13px}.targets-main .line[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-main .line.forecast[data-v-bcb82b9a]{flex-direction:column;gap:2px}.targets-main .line .value[data-v-bcb82b9a]{display:flex;gap:6px;align-items:center}.targets-badges[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px}.targets-categories[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:10px;padding-top:6px;border-top:1px solid var(--line)}.category[data-v-bcb82b9a]{display:flex;flex-direction:column;gap:6px;font-size:12px;padding:4px 0}.category .cat-top[data-v-bcb82b9a]{display:flex;align-items:center;justify-content:space-between;gap:8px}.category .cat-label[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-bcb82b9a]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-bcb82b9a]{color:var(--fg)}.category .cat-meta[data-v-bcb82b9a]{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-bcb82b9a]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-bcb82b9a]{position:relative;width:100%;height:8px;border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent)}.cat-progress .bar .fill[data-v-bcb82b9a]{height:100%;border-radius:999px;transition:width .2s ease}.category .cat-metrics[data-v-bcb82b9a]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;color:var(--fg)}.cat-footer[data-v-bcb82b9a]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-bcb82b9a]{color:var(--muted);font-size:12px}.badge[data-v-bcb82b9a]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-bcb82b9a]{font-weight:600}.status-on[data-v-bcb82b9a]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-bcb82b9a]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-bcb82b9a]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-bcb82b9a]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-bcb82b9a]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-bcb82b9a]{font-weight:600}.delta.pos[data-v-bcb82b9a]{color:var(--pos)}.delta.neg[data-v-bcb82b9a]{color:var(--neg)}.cat-metrics .hint[data-v-bcb82b9a],.cat-footer .hint[data-v-bcb82b9a]{font-size:11px}.cat-progress[data-v-bcb82b9a]{padding:2px 0}.cat-meta .badge[data-v-bcb82b9a]{font-size:10px}.activity-card[data-v-054cbd84]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.activity-card__header[data-v-054cbd84]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:12px}.activity-card__hero[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-054cbd84]{font-size:12px}.activity-card__meta[data-v-054cbd84],.activity-card__extra[data-v-054cbd84]{display:flex;flex-wrap:wrap;gap:8px 14px;font-size:12px}.activity-card__meta strong[data-v-054cbd84],.activity-card__extra strong[data-v-054cbd84]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-054cbd84]{font-size:11px;color:var(--muted);opacity:.8}.pill[data-v-054cbd84]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-a9a4a7a3]{display:flex;flex-direction:column;gap:8px;padding:14px;font-size:13px;color:var(--muted)}.balance-card__header[data-v-a9a4a7a3]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:12px}.balance-card__hero[data-v-a9a4a7a3]{font-weight:600;color:var(--fg)}.balance-card__relations[data-v-a9a4a7a3],.balance-card__trend[data-v-a9a4a7a3]{font-size:12px}.balance-card__trend strong[data-v-a9a4a7a3]{color:var(--fg)}.balance-card__insights[data-v-a9a4a7a3],.balance-card__warnings[data-v-a9a4a7a3]{margin:0;padding-left:16px;font-size:12px;display:flex;flex-direction:column;gap:4px}.balance-card__warnings[data-v-a9a4a7a3]{color:var(--danger, #b91c1c)}.badge[data-v-a9a4a7a3]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.forecast-block[data-v-4d86aa83]{margin-top:16px;display:flex;flex-direction:column;gap:8px}.forecast-block .field[data-v-4d86aa83]{max-width:100%}.forecast-block select[data-v-4d86aa83]{width:100%}.forecast-hint[data-v-4d86aa83]{margin:0}.notes-section[data-v-f84bfd89]{display:flex;flex-direction:column;gap:8px}.notes-textarea[data-v-f84bfd89]{width:100%;min-height:120px;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:13px/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.notes-textarea[data-v-f84bfd89]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-f84bfd89]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-f84bfd89]{display:flex;justify-content:flex-end;margin-top:4px}.sb-title[data-v-d602d23c]{font-weight:600;margin-bottom:6px}.sb-description[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.preset-form[data-v-d602d23c]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.preset-label[data-v-d602d23c]{font-size:12px;font-weight:600}.preset-form input[data-v-d602d23c]{width:100%;padding:6px 8px;border-radius:4px;border:1px solid var(--color-border);background:var(--color-main-background);color:var(--color-main-text)}.preset-save[data-v-d602d23c]{align-self:flex-start}.preset-error[data-v-d602d23c]{color:var(--color-error);font-size:12px}.preset-warnings[data-v-d602d23c]{border:1px solid var(--color-warning);background:color-mix(in srgb,var(--color-warning) 10%,transparent);border-radius:6px;padding:8px;margin-bottom:12px}.warnings-title[data-v-d602d23c]{font-weight:600;margin-bottom:4px}.preset-warnings ul[data-v-d602d23c]{padding-left:18px;margin:0 0 6px}.preset-clear[data-v-d602d23c]{padding:2px 6px}.preset-header[data-v-d602d23c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.preset-header h3[data-v-d602d23c]{margin:0;font-size:13px;font-weight:600}.preset-empty[data-v-d602d23c]{font-size:12px;color:var(--text-color-tertiary)}.preset-list[data-v-d602d23c]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.preset-item[data-v-d602d23c]{border:1px solid var(--color-border);border-radius:6px;padding:8px;display:flex;flex-direction:column;gap:6px;background:var(--color-main-background)}.preset-meta[data-v-d602d23c]{display:flex;flex-direction:column;gap:2px}.preset-name[data-v-d602d23c]{font-weight:600}.preset-info[data-v-d602d23c]{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:var(--text-color-tertiary)}.preset-actions[data-v-d602d23c]{display:flex;gap:6px}.input-message[data-v-4d654bff]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-4d654bff]{color:var(--neg)}.input-message.warning[data-v-4d654bff]{color:var(--warning)}
/*$vite$:1*/`,document.head.appendChild(wn);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _a(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Me={},Xt=[],yt=()=>{},_n=()=>!1,Ns=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ka=e=>e.startsWith("onUpdate:"),Xe=Object.assign,xa=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},$o=Object.prototype.hasOwnProperty,ke=(e,t)=>$o.call(e,t),ne=Array.isArray,Qt=e=>Ls(e)==="[object Map]",kn=e=>Ls(e)==="[object Set]",ie=e=>typeof e=="function",We=e=>typeof e=="string",Tt=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",xn=e=>(Ne(e)||ie(e))&&ie(e.then)&&ie(e.catch),Sn=Object.prototype.toString,Ls=e=>Sn.call(e),Mo=e=>Ls(e).slice(8,-1),Cn=e=>Ls(e)==="[object Object]",Sa=e=>We(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=_a(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Os=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},To=/-(\w)/g,ft=Os(e=>e.replace(To,(t,s)=>s?s.toUpperCase():"")),Ao=/\B([A-Z])/g,Rt=Os(e=>e.replace(Ao,"-$1").toLowerCase()),Hs=Os(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ca=Os(e=>e?`on${Hs(e)}`:""),Wt=(e,t)=>!Object.is(e,t),Fs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},$n=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},$a=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Mn;const Rs=()=>Mn||(Mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function At(e){if(ne(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=We(a)?Io(a):At(a);if(n)for(const r in n)t[r]=n[r]}return t}else if(We(e)||Ne(e))return e}const Do=/;(?![^(]*\))/g,Eo=/:([^]+)/,Po=/\/\*[^]*?\*\//g;function Io(e){const t={};return e.replace(Po,"").split(Do).forEach(s=>{if(s){const a=s.split(Eo);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function he(e){let t="";if(We(e))t=e;else if(ne(e))for(let s=0;s<e.length;s++){const a=he(e[s]);a&&(t+=a+" ")}else if(Ne(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const No=_a("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Tn(e){return!!e||e===""}const An=e=>!!(e&&e.__v_isRef===!0),E=e=>We(e)?e:e==null?"":ne(e)||Ne(e)&&(e.toString===Sn||!ie(e.toString))?An(e)?E(e.value):JSON.stringify(e,Dn,2):String(e),Dn=(e,t)=>An(t)?Dn(e,t.value):Qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],r)=>(s[Ma(a,r)+" =>"]=n,s),{})}:kn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ma(s))}:Tt(t)?Ma(t):Ne(t)&&!ne(t)&&!Cn(t)?String(t):t,Ma=(e,t="")=>{var s;return Tt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class Lo{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Oo(){return nt}let De;const Ta=new WeakSet;class En{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ta.has(this)&&(Ta.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||In(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fn(this),Nn(this);const t=De,s=mt;De=this,mt=!0;try{return this.fn()}finally{Ln(this),De=t,mt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Pa(t);this.deps=this.depsTail=void 0,Fn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ta.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ea(this)&&this.run()}get dirty(){return Ea(this)}}let Pn=0,gs,ps;function In(e,t=!1){if(e.flags|=8,t){e.next=ps,ps=e;return}e.next=gs,gs=e}function Aa(){Pn++}function Da(){if(--Pn>0)return;if(ps){let t=ps;for(ps=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;gs;){let t=gs;for(gs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Nn(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ln(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),Pa(a),Ho(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function Ea(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(On(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function On(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hs)||(e.globalVersion=hs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ea(e))))return;e.flags|=2;const t=e.dep,s=De,a=mt;De=e,mt=!0;try{Nn(e);const n=e.fn(e._value);(t.version===0||Wt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{De=s,mt=a,Ln(e),e.flags&=-3}}function Pa(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Pa(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ho(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let mt=!0;const Hn=[];function bt(){Hn.push(mt),mt=!1}function wt(){const e=Hn.pop();mt=e===void 0?!0:e}function Fn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=De;De=void 0;try{t()}finally{De=s}}}let hs=0;class Fo{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ia{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!mt||De===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==De)s=this.activeLink=new Fo(De,this),De.deps?(s.prevDep=De.depsTail,De.depsTail.nextDep=s,De.depsTail=s):De.deps=De.depsTail=s,Rn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=De.depsTail,s.nextDep=void 0,De.depsTail.nextDep=s,De.depsTail=s,De.deps===s&&(De.deps=a)}return s}trigger(t){this.version++,hs++,this.notify(t)}notify(t){Aa();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Da()}}}function Rn(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Rn(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ws=new WeakMap,Kt=Symbol(""),Na=Symbol(""),ms=Symbol("");function Qe(e,t,s){if(mt&&De){let a=Ws.get(e);a||Ws.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Ia),n.map=a,n.key=s),n.track()}}function Dt(e,t,s,a,n,r){const o=Ws.get(e);if(!o){hs++;return}const i=l=>{l&&l.trigger()};if(Aa(),t==="clear")o.forEach(i);else{const l=ne(e),f=l&&Sa(s);if(l&&s==="length"){const g=Number(a);o.forEach((d,p)=>{(p==="length"||p===ms||!Tt(p)&&p>=g)&&i(d)})}else switch((s!==void 0||o.has(void 0))&&i(o.get(s)),f&&i(o.get(ms)),t){case"add":l?f&&i(o.get("length")):(i(o.get(Kt)),Qt(e)&&i(o.get(Na)));break;case"delete":l||(i(o.get(Kt)),Qt(e)&&i(o.get(Na)));break;case"set":Qt(e)&&i(o.get(Kt));break}}Da()}function Ro(e,t){const s=Ws.get(e);return s&&s.get(t)}function es(e){const t=be(e);return t===e?t:(Qe(t,"iterate",ms),gt(e)?t:t.map(Ge))}function Bs(e){return Qe(e=be(e),"iterate",ms),e}const Wo={__proto__:null,[Symbol.iterator](){return La(this,Symbol.iterator,Ge)},concat(...e){return es(this).concat(...e.map(t=>ne(t)?es(t):t))},entries(){return La(this,"entries",e=>(e[1]=Ge(e[1]),e))},every(e,t){return Et(this,"every",e,t,void 0,arguments)},filter(e,t){return Et(this,"filter",e,t,s=>s.map(Ge),arguments)},find(e,t){return Et(this,"find",e,t,Ge,arguments)},findIndex(e,t){return Et(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Et(this,"findLast",e,t,Ge,arguments)},findLastIndex(e,t){return Et(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Et(this,"forEach",e,t,void 0,arguments)},includes(...e){return Oa(this,"includes",e)},indexOf(...e){return Oa(this,"indexOf",e)},join(e){return es(this).join(e)},lastIndexOf(...e){return Oa(this,"lastIndexOf",e)},map(e,t){return Et(this,"map",e,t,void 0,arguments)},pop(){return vs(this,"pop")},push(...e){return vs(this,"push",e)},reduce(e,...t){return Wn(this,"reduce",e,t)},reduceRight(e,...t){return Wn(this,"reduceRight",e,t)},shift(){return vs(this,"shift")},some(e,t){return Et(this,"some",e,t,void 0,arguments)},splice(...e){return vs(this,"splice",e)},toReversed(){return es(this).toReversed()},toSorted(e){return es(this).toSorted(e)},toSpliced(...e){return es(this).toSpliced(...e)},unshift(...e){return vs(this,"unshift",e)},values(){return La(this,"values",Ge)}};function La(e,t,s){const a=Bs(e),n=a[t]();return a!==e&&!gt(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.value&&(r.value=s(r.value)),r}),n}const Bo=Array.prototype;function Et(e,t,s,a,n,r){const o=Bs(e),i=o!==e&&!gt(e),l=o[t];if(l!==Bo[t]){const d=l.apply(e,r);return i?Ge(d):d}let f=s;o!==e&&(i?f=function(d,p){return s.call(this,Ge(d),p,e)}:s.length>2&&(f=function(d,p){return s.call(this,d,p,e)}));const g=l.call(o,f,a);return i&&n?n(g):g}function Wn(e,t,s,a){const n=Bs(e);let r=s;return n!==e&&(gt(e)?s.length>3&&(r=function(o,i,l){return s.call(this,o,i,l,e)}):r=function(o,i,l){return s.call(this,o,Ge(i),l,e)}),n[t](r,...a)}function Oa(e,t,s){const a=be(e);Qe(a,"iterate",ms);const n=a[t](...s);return(n===-1||n===!1)&&Fa(s[0])?(s[0]=be(s[0]),a[t](...s)):n}function vs(e,t,s=[]){bt(),Aa();const a=be(e)[t].apply(e,s);return Da(),wt(),a}const jo=_a("__proto__,__v_isRef,__isVue"),Bn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tt));function Uo(e){Tt(e)||(e=String(e));const t=be(this);return Qe(t,"has",e),t.hasOwnProperty(e)}class jn{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return a===(n?r?Jn:qn:r?Kn:zn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const o=ne(t);if(!n){let l;if(o&&(l=Wo[s]))return l;if(s==="hasOwnProperty")return Uo}const i=Reflect.get(t,s,Ke(t)?t:a);return(Tt(s)?Bn.has(s):jo(s))||(n||Qe(t,"get",s),r)?i:Ke(i)?o&&Sa(s)?i:i.value:Ne(i)?n?Gn(i):_t(i):i}}class Un extends jn{constructor(t=!1){super(!1,t)}set(t,s,a,n){let r=t[s];if(!this._isShallow){const l=Bt(r);if(!gt(a)&&!Bt(a)&&(r=be(r),a=be(a)),!ne(t)&&Ke(r)&&!Ke(a))return l||(r.value=a),!0}const o=ne(t)&&Sa(s)?Number(s)<t.length:ke(t,s),i=Reflect.set(t,s,a,Ke(t)?t:n);return t===be(n)&&(o?Wt(a,r)&&Dt(t,"set",s,a):Dt(t,"add",s,a)),i}deleteProperty(t,s){const a=ke(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Dt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!Tt(s)||!Bn.has(s))&&Qe(t,"has",s),a}ownKeys(t){return Qe(t,"iterate",ne(t)?"length":Kt),Reflect.ownKeys(t)}}class Vn extends jn{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Vo=new Un,zo=new Vn,Ko=new Un(!0),qo=new Vn(!0),Ha=e=>e,js=e=>Reflect.getPrototypeOf(e);function Jo(e,t,s){return function(...a){const n=this.__v_raw,r=be(n),o=Qt(r),i=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,f=n[e](...a),g=s?Ha:t?Ks:Ge;return!t&&Qe(r,"iterate",l?Na:Kt),{next(){const{value:d,done:p}=f.next();return p?{value:d,done:p}:{value:i?[g(d[0]),g(d[1])]:g(d),done:p}},[Symbol.iterator](){return this}}}}function Us(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Go(e,t){const s={get(n){const r=this.__v_raw,o=be(r),i=be(n);e||(Wt(n,i)&&Qe(o,"get",n),Qe(o,"get",i));const{has:l}=js(o),f=t?Ha:e?Ks:Ge;if(l.call(o,n))return f(r.get(n));if(l.call(o,i))return f(r.get(i));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!e&&Qe(be(n),"iterate",Kt),n.size},has(n){const r=this.__v_raw,o=be(r),i=be(n);return e||(Wt(n,i)&&Qe(o,"has",n),Qe(o,"has",i)),n===i?r.has(n):r.has(n)||r.has(i)},forEach(n,r){const o=this,i=o.__v_raw,l=be(i),f=t?Ha:e?Ks:Ge;return!e&&Qe(l,"iterate",Kt),i.forEach((g,d)=>n.call(r,f(g),f(d),o))}};return Xe(s,e?{add:Us("add"),set:Us("set"),delete:Us("delete"),clear:Us("clear")}:{add(n){!t&&!gt(n)&&!Bt(n)&&(n=be(n));const r=be(this);return js(r).has.call(r,n)||(r.add(n),Dt(r,"add",n,n)),this},set(n,r){!t&&!gt(r)&&!Bt(r)&&(r=be(r));const o=be(this),{has:i,get:l}=js(o);let f=i.call(o,n);f||(n=be(n),f=i.call(o,n));const g=l.call(o,n);return o.set(n,r),f?Wt(r,g)&&Dt(o,"set",n,r):Dt(o,"add",n,r),this},delete(n){const r=be(this),{has:o,get:i}=js(r);let l=o.call(r,n);l||(n=be(n),l=o.call(r,n)),i&&i.call(r,n);const f=r.delete(n);return l&&Dt(r,"delete",n,void 0),f},clear(){const n=be(this),r=n.size!==0,o=n.clear();return r&&Dt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Jo(n,e,t)}),s}function Vs(e,t){const s=Go(e,t);return(a,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(ke(s,n)&&n in a?s:a,n,r)}const Zo={get:Vs(!1,!1)},Yo={get:Vs(!1,!0)},Xo={get:Vs(!0,!1)},Qo={get:Vs(!0,!0)},zn=new WeakMap,Kn=new WeakMap,qn=new WeakMap,Jn=new WeakMap;function ei(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ti(e){return e.__v_skip||!Object.isExtensible(e)?0:ei(Mo(e))}function _t(e){return Bt(e)?e:zs(e,!1,Vo,Zo,zn)}function si(e){return zs(e,!1,Ko,Yo,Kn)}function Gn(e){return zs(e,!0,zo,Xo,qn)}function em(e){return zs(e,!0,qo,Qo,Jn)}function zs(e,t,s,a,n){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=ti(e);if(r===0)return e;const o=n.get(e);if(o)return o;const i=new Proxy(e,r===2?a:s);return n.set(e,i),i}function ts(e){return Bt(e)?ts(e.__v_raw):!!(e&&e.__v_isReactive)}function Bt(e){return!!(e&&e.__v_isReadonly)}function gt(e){return!!(e&&e.__v_isShallow)}function Fa(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function ai(e){return!ke(e,"__v_skip")&&Object.isExtensible(e)&&$n(e,"__v_skip",!0),e}const Ge=e=>Ne(e)?_t(e):e,Ks=e=>Ne(e)?Gn(e):e;function Ke(e){return e?e.__v_isRef===!0:!1}function se(e){return ni(e,!1)}function ni(e,t){return Ke(e)?e:new ri(e,t)}class ri{constructor(t,s){this.dep=new Ia,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:be(t),this._value=s?t:Ge(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||gt(t)||Bt(t);t=a?t:be(t),Wt(t,s)&&(this._rawValue=t,this._value=a?t:Ge(t),this.dep.trigger())}}function _(e){return Ke(e)?e.value:e}const oi={get:(e,t,s)=>t==="__v_raw"?e:_(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return Ke(n)&&!Ke(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function Zn(e){return ts(e)?e:new Proxy(e,oi)}function Yn(e){const t=ne(e)?new Array(e.length):{};for(const s in e)t[s]=li(e,s);return t}class ii{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ro(be(this._object),this._key)}}function li(e,t,s){const a=e[t];return Ke(a)?a:new ii(e,t,s)}class ci{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ia(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return In(this,!0),!0}get value(){const t=this.dep.track();return On(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ui(e,t,s=!1){let a,n;return ie(e)?a=e:(a=e.get,n=e.set),new ci(a,n,s)}const qs={},Js=new WeakMap;let qt;function di(e,t=!1,s=qt){if(s){let a=Js.get(s);a||Js.set(s,a=[]),a.push(e)}}function fi(e,t,s=Me){const{immediate:a,deep:n,once:r,scheduler:o,augmentJob:i,call:l}=s,f=T=>n?T:gt(T)||n===!1||n===0?Pt(T,1):Pt(T);let g,d,p,c,y=!1,h=!1;if(Ke(e)?(d=()=>e.value,y=gt(e)):ts(e)?(d=()=>f(e),y=!0):ne(e)?(h=!0,y=e.some(T=>ts(T)||gt(T)),d=()=>e.map(T=>{if(Ke(T))return T.value;if(ts(T))return f(T);if(ie(T))return l?l(T,2):T()})):ie(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){bt();try{p()}finally{wt()}}const T=qt;qt=g;try{return l?l(e,3,[c]):e(c)}finally{qt=T}}:d=yt,t&&n){const T=d,L=n===!0?1/0:n;d=()=>Pt(T(),L)}const w=Oo(),M=()=>{g.stop(),w&&w.active&&xa(w.effects,g)};if(r&&t){const T=t;t=(...L)=>{T(...L),M()}}let k=h?new Array(e.length).fill(qs):qs;const S=T=>{if(!(!(g.flags&1)||!g.dirty&&!T))if(t){const L=g.run();if(n||y||(h?L.some((G,q)=>Wt(G,k[q])):Wt(L,k))){p&&p();const G=qt;qt=g;try{const q=[L,k===qs?void 0:h&&k[0]===qs?[]:k,c];k=L,l?l(t,3,q):t(...q)}finally{qt=G}}}else g.run()};return i&&i(S),g=new En(d),g.scheduler=o?()=>o(S,!1):S,c=T=>di(T,!1,g),p=g.onStop=()=>{const T=Js.get(g);if(T){if(l)l(T,4);else for(const L of T)L();Js.delete(g)}},t?a?S(!0):k=g.run():o?o(S.bind(null,!0),!0):g.run(),M.pause=g.pause.bind(g),M.resume=g.resume.bind(g),M.stop=M,M}function Pt(e,t=1/0,s){if(t<=0||!Ne(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ke(e))Pt(e.value,t,s);else if(ne(e))for(let a=0;a<e.length;a++)Pt(e[a],t,s);else if(kn(e)||Qt(e))e.forEach(a=>{Pt(a,t,s)});else if(Cn(e)){for(const a in e)Pt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Pt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ys=[];let Ra=!1;function tm(e,...t){if(Ra)return;Ra=!0,bt();const s=ys.length?ys[ys.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=gi();if(a)ss(a,s,11,[e+t.map(r=>{var o,i;return(i=(o=r.toString)==null?void 0:o.call(r))!=null?i:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${Vr(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...pi(n)),console.warn(...r)}wt(),Ra=!1}function gi(){let e=ys[ys.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function pi(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...hi(s))}),t}function hi({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${Vr(e.component,e.type,a)}`,r=">"+s;return e.props?[n,...mi(e.props),r]:[n+r]}function mi(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...Xn(a,e[a]))}),s.length>3&&t.push(" ..."),t}function Xn(e,t,s){return We(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Ke(t)?(t=Xn(e,be(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ie(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=be(t),s?t:[`${e}=`,t])}function ss(e,t,s,a){try{return a?e(...a):e()}catch(n){Gs(n,t,s)}}function kt(e,t,s,a){if(ie(e)){const n=ss(e,t,s,a);return n&&xn(n)&&n.catch(r=>{Gs(r,t,s)}),n}if(ne(e)){const n=[];for(let r=0;r<e.length;r++)n.push(kt(e[r],t,s,a));return n}}function Gs(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Me;if(t){let i=t.parent;const l=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const g=i.ec;if(g){for(let d=0;d<g.length;d++)if(g[d](e,l,f)===!1)return}i=i.parent}if(r){bt(),ss(r,null,10,[e,l,f]),wt();return}}vi(e,s,n,a,o)}function vi(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const st=[];let xt=-1;const as=[];let jt=null,ns=0;const Qn=Promise.resolve();let Zs=null;function Ys(e){const t=Zs||Qn;return e?t.then(this?e.bind(this):e):t}function yi(e){let t=xt+1,s=st.length;for(;t<s;){const a=t+s>>>1,n=st[a],r=bs(n);r<e||r===e&&n.flags&2?t=a+1:s=a}return t}function Wa(e){if(!(e.flags&1)){const t=bs(e),s=st[st.length-1];!s||!(e.flags&2)&&t>=bs(s)?st.push(e):st.splice(yi(t),0,e),e.flags|=1,er()}}function er(){Zs||(Zs=Qn.then(ar))}function bi(e){ne(e)?as.push(...e):jt&&e.id===-1?jt.splice(ns+1,0,e):e.flags&1||(as.push(e),e.flags|=1),er()}function tr(e,t,s=xt+1){for(;s<st.length;s++){const a=st[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;st.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function sr(e){if(as.length){const t=[...new Set(as)].sort((s,a)=>bs(s)-bs(a));if(as.length=0,jt){jt.push(...t);return}for(jt=t,ns=0;ns<jt.length;ns++){const s=jt[ns];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}jt=null,ns=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ar(e){try{for(xt=0;xt<st.length;xt++){const t=st[xt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xt<st.length;xt++){const t=st[xt];t&&(t.flags&=-2)}xt=-1,st.length=0,sr(),Zs=null,(st.length||as.length)&&ar()}}let Ze=null,nr=null;function Xs(e){const t=Ze;return Ze=e,nr=e&&e.type.__scopeId||null,t}function Fe(e,t=Ze,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&Or(-1);const r=Xs(t);let o;try{o=e(...n)}finally{Xs(r),a._d&&Or(1)}return o};return a._n=!0,a._c=!0,a._d=!0,a}function ws(e,t){if(Ze===null)return e;const s=ia(Ze),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,o,i,l=Me]=t[n];r&&(ie(r)&&(r={mounted:r,updated:r}),r.deep&&Pt(o),a.push({dir:r,instance:s,value:o,oldValue:void 0,arg:i,modifiers:l}))}return e}function Jt(e,t,s,a){const n=e.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const i=n[o];r&&(i.oldValue=r[o].value);let l=i.dir[a];l&&(bt(),kt(l,s,8,[e.el,i,e,t]),wt())}}const wi=Symbol("_vte"),_i=e=>e.__isTeleport,ki=Symbol("_leaveCb");function Ba(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ba(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ee(e,t){return ie(e)?Xe({name:e.name},t,{setup:e}):e}function rr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function _s(e,t,s,a,n=!1){if(ne(e)){e.forEach((y,h)=>_s(y,t&&(ne(t)?t[h]:t),s,a,n));return}if(rs(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&_s(e,t,s,a.component.subTree);return}const r=a.shapeFlag&4?ia(a.component):a.el,o=n?null:r,{i,r:l}=e,f=t&&t.r,g=i.refs===Me?i.refs={}:i.refs,d=i.setupState,p=be(d),c=d===Me?_n:y=>ke(p,y);if(f!=null&&f!==l){if(We(f))g[f]=null,c(f)&&(d[f]=null);else if(Ke(f)){f.value=null;const y=t;y.k&&(g[y.k]=null)}}if(ie(l))ss(l,i,12,[o,g]);else{const y=We(l),h=Ke(l);if(y||h){const w=()=>{if(e.f){const M=y?c(l)?d[l]:g[l]:l.value;if(n)ne(M)&&xa(M,r);else if(ne(M))M.includes(r)||M.push(r);else if(y)g[l]=[r],c(l)&&(d[l]=g[l]);else{const k=[r];l.value=k,e.k&&(g[e.k]=k)}}else y?(g[l]=o,c(l)&&(d[l]=o)):h&&(l.value=o,e.k&&(g[e.k]=o))};o?(w.id=-1,it(w,s)):w()}}}Rs().requestIdleCallback,Rs().cancelIdleCallback;const rs=e=>!!e.type.__asyncLoader,or=e=>e.type.__isKeepAlive;function xi(e,t){ir(e,"a",t)}function Si(e,t){ir(e,"da",t)}function ir(e,t,s=et){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Qs(t,a,s),s){let n=s.parent;for(;n&&n.parent;)or(n.parent.vnode)&&Ci(a,t,s,n),n=n.parent}}function Ci(e,t,s,a){const n=Qs(t,e,a,!0);lr(()=>{xa(a[t],n)},s)}function Qs(e,t,s=et,a=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{bt();const i=Ts(s),l=kt(t,s,e,o);return i(),wt(),l});return a?n.unshift(r):n.push(r),r}}const It=e=>(t,s=et)=>{(!As||e==="sp")&&Qs(e,(...a)=>t(...a),s)},$i=It("bm"),os=It("m"),Mi=It("bu"),Ti=It("u"),ja=It("bum"),lr=It("um"),Ai=It("sp"),Di=It("rtg"),Ei=It("rtc");function Pi(e,t=et){Qs("ec",e,t)}const Ii="components";function Ni(e,t){return Oi(Ii,e,!0,t)||e}const Li=Symbol.for("v-ndc");function Oi(e,t,s=!0,a=!1){const n=Ze||et;if(n){const r=n.type;{const i=Ur(r,!1);if(i&&(i===t||i===ft(t)||i===Hs(ft(t))))return r}const o=cr(n[e]||r[e],t)||cr(n.appContext[e],t);return!o&&a?r:o}}function cr(e,t){return e&&(e[t]||e[ft(t)]||e[Hs(ft(t))])}function je(e,t,s,a){let n;const r=s,o=ne(e);if(o||We(e)){const i=o&&ts(e);let l=!1,f=!1;i&&(l=!gt(e),f=Bt(e),e=Bs(e)),n=new Array(e.length);for(let g=0,d=e.length;g<d;g++)n[g]=t(l?f?Ks(Ge(e[g])):Ge(e[g]):e[g],g,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i,void 0,r)}else if(Ne(e))if(e[Symbol.iterator])n=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);n=new Array(i.length);for(let l=0,f=i.length;l<f;l++){const g=i[l];n[l]=t(e[g],g,l,r)}}else n=[];return n}function Hi(e,t,s={},a,n){if(Ze.ce||Ze.parent&&rs(Ze.parent)&&Ze.parent.ce)return s.name=t,C(),qe(ue,null,[re("slot",s,a)],64);let r=e[t];r&&r._c&&(r._d=!1),C();const o=r&&ur(r(s)),i=s.key||o&&o.key,l=qe(ue,{key:(i&&!Tt(i)?i:`_${t}`)+(!o&&a?"_fb":"")},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function ur(e){return e.some(t=>$s(t)?!(t.type===Nt||t.type===ue&&!ur(t.children)):!0)?e:null}const Ua=e=>e?Wr(e)?ia(e):Ua(e.parent):null,ks=Xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ua(e.parent),$root:e=>Ua(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>pr(e),$forceUpdate:e=>e.f||(e.f=()=>{Wa(e.update)}),$nextTick:e=>e.n||(e.n=Ys.bind(e.proxy)),$watch:e=>rl.bind(e)}),Va=(e,t)=>e!==Me&&!e.__isScriptSetup&&ke(e,t),Fi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:r,accessCache:o,type:i,appContext:l}=e;let f;if(t[0]!=="$"){const c=o[t];if(c!==void 0)switch(c){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(Va(a,t))return o[t]=1,a[t];if(n!==Me&&ke(n,t))return o[t]=2,n[t];if((f=e.propsOptions[0])&&ke(f,t))return o[t]=3,r[t];if(s!==Me&&ke(s,t))return o[t]=4,s[t];za&&(o[t]=0)}}const g=ks[t];let d,p;if(g)return t==="$attrs"&&Qe(e.attrs,"get",""),g(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(s!==Me&&ke(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,ke(p,t))return p[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:r}=e;return Va(n,t)?(n[t]=s,!0):a!==Me&&ke(a,t)?(a[t]=s,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:r,type:o}},i){let l,f;return!!(s[i]||e!==Me&&i[0]!=="$"&&ke(e,i)||Va(t,i)||(l=r[0])&&ke(l,i)||ke(a,i)||ke(ks,i)||ke(n.config.globalProperties,i)||(f=o.__cssModules)&&f[i])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ke(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function dr(e){return ne(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let za=!0;function Ri(e){const t=pr(e),s=e.proxy,a=e.ctx;za=!1,t.beforeCreate&&fr(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:o,watch:i,provide:l,inject:f,created:g,beforeMount:d,mounted:p,beforeUpdate:c,updated:y,activated:h,deactivated:w,beforeDestroy:M,beforeUnmount:k,destroyed:S,unmounted:T,render:L,renderTracked:G,renderTriggered:q,errorCaptured:B,serverPrefetch:ae,expose:J,inheritAttrs:oe,components:we,directives:Se,filters:Pe}=t;if(f&&Wi(f,a,null),o)for(const Y in o){const Q=o[Y];ie(Q)&&(a[Y]=Q.bind(s))}if(n){const Y=n.call(s,s);Ne(Y)&&(e.data=_t(Y))}if(za=!0,r)for(const Y in r){const Q=r[Y],_e=ie(Q)?Q.bind(s,s):ie(Q.get)?Q.get.bind(s,s):yt,Te=!ie(Q)&&ie(Q.set)?Q.set.bind(s):yt,Ie=j({get:_e,set:Te});Object.defineProperty(a,Y,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:ve=>Ie.value=ve})}if(i)for(const Y in i)gr(i[Y],a,s,Y);if(l){const Y=ie(l)?l.call(s):l;Reflect.ownKeys(Y).forEach(Q=>{Ki(Q,Y[Q])})}g&&fr(g,e,"c");function le(Y,Q){ne(Q)?Q.forEach(_e=>Y(_e.bind(s))):Q&&Y(Q.bind(s))}if(le($i,d),le(os,p),le(Mi,c),le(Ti,y),le(xi,h),le(Si,w),le(Pi,B),le(Ei,G),le(Di,q),le(ja,k),le(lr,T),le(Ai,ae),ne(J))if(J.length){const Y=e.exposed||(e.exposed={});J.forEach(Q=>{Object.defineProperty(Y,Q,{get:()=>s[Q],set:_e=>s[Q]=_e,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===yt&&(e.render=L),oe!=null&&(e.inheritAttrs=oe),we&&(e.components=we),Se&&(e.directives=Se),ae&&rr(e)}function Wi(e,t,s=yt){ne(e)&&(e=Ka(e));for(const a in e){const n=e[a];let r;Ne(n)?"default"in n?r=ta(n.from||a,n.default,!0):r=ta(n.from||a):r=ta(n),Ke(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[a]=r}}function fr(e,t,s){kt(ne(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function gr(e,t,s,a){let n=a.includes(".")?Er(s,a):()=>s[a];if(We(e)){const r=t[e];ie(r)&&vt(n,r)}else if(ie(e))vt(n,e.bind(s));else if(Ne(e))if(ne(e))e.forEach(r=>gr(r,t,s,a));else{const r=ie(e.handler)?e.handler.bind(s):t[e.handler];ie(r)&&vt(n,r,e)}}function pr(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,i=r.get(t);let l;return i?l=i:!n.length&&!s&&!a?l=t:(l={},n.length&&n.forEach(f=>ea(l,f,o,!0)),ea(l,t,o)),Ne(t)&&r.set(t,l),l}function ea(e,t,s,a=!1){const{mixins:n,extends:r}=t;r&&ea(e,r,s,!0),n&&n.forEach(o=>ea(e,o,s,!0));for(const o in t)if(!(a&&o==="expose")){const i=Bi[o]||s&&s[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Bi={data:hr,props:mr,emits:mr,methods:xs,computed:xs,beforeCreate:at,created:at,beforeMount:at,mounted:at,beforeUpdate:at,updated:at,beforeDestroy:at,beforeUnmount:at,destroyed:at,unmounted:at,activated:at,deactivated:at,errorCaptured:at,serverPrefetch:at,components:xs,directives:xs,watch:Ui,provide:hr,inject:ji};function hr(e,t){return t?e?function(){return Xe(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function ji(e,t){return xs(Ka(e),Ka(t))}function Ka(e){if(ne(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function at(e,t){return e?[...new Set([].concat(e,t))]:t}function xs(e,t){return e?Xe(Object.create(null),e,t):t}function mr(e,t){return e?ne(e)&&ne(t)?[...new Set([...e,...t])]:Xe(Object.create(null),dr(e),dr(t??{})):t}function Ui(e,t){if(!e)return t;if(!t)return e;const s=Xe(Object.create(null),e);for(const a in t)s[a]=at(e[a],t[a]);return s}function vr(){return{app:null,config:{isNativeTag:_n,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vi=0;function zi(e,t){return function(a,n=null){ie(a)||(a=Xe({},a)),n!=null&&!Ne(n)&&(n=null);const r=vr(),o=new WeakSet,i=[];let l=!1;const f=r.app={_uid:Vi++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:Al,get config(){return r.config},set config(g){},use(g,...d){return o.has(g)||(g&&ie(g.install)?(o.add(g),g.install(f,...d)):ie(g)&&(o.add(g),g(f,...d))),f},mixin(g){return r.mixins.includes(g)||r.mixins.push(g),f},component(g,d){return d?(r.components[g]=d,f):r.components[g]},directive(g,d){return d?(r.directives[g]=d,f):r.directives[g]},mount(g,d,p){if(!l){const c=f._ceVNode||re(a,n);return c.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),e(c,g,p),l=!0,f._container=g,g.__vue_app__=f,ia(c.component)}},onUnmount(g){i.push(g)},unmount(){l&&(kt(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(g,d){return r.provides[g]=d,f},runWithContext(g){const d=is;is=f;try{return g()}finally{is=d}}};return f}}let is=null;function Ki(e,t){if(et){let s=et.provides;const a=et.parent&&et.parent.provides;a===s&&(s=et.provides=Object.create(a)),s[e]=t}}function ta(e,t,s=!1){const a=_l();if(a||is){let n=is?is._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&ie(t)?t.call(a&&a.proxy):t}}const yr={},br=()=>Object.create(yr),wr=e=>Object.getPrototypeOf(e)===yr;function qi(e,t,s,a=!1){const n={},r=br();e.propsDefaults=Object.create(null),_r(e,t,n,r);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=a?n:si(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function Ji(e,t,s,a){const{props:n,attrs:r,vnode:{patchFlag:o}}=e,i=be(n),[l]=e.propsOptions;let f=!1;if((a||o>0)&&!(o&16)){if(o&8){const g=e.vnode.dynamicProps;for(let d=0;d<g.length;d++){let p=g[d];if(sa(e.emitsOptions,p))continue;const c=t[p];if(l)if(ke(r,p))c!==r[p]&&(r[p]=c,f=!0);else{const y=ft(p);n[y]=qa(l,i,y,c,e,!1)}else c!==r[p]&&(r[p]=c,f=!0)}}}else{_r(e,t,n,r)&&(f=!0);let g;for(const d in i)(!t||!ke(t,d)&&((g=Rt(d))===d||!ke(t,g)))&&(l?s&&(s[d]!==void 0||s[g]!==void 0)&&(n[d]=qa(l,i,d,void 0,e,!0)):delete n[d]);if(r!==i)for(const d in r)(!t||!ke(t,d))&&(delete r[d],f=!0)}f&&Dt(e.attrs,"set","")}function _r(e,t,s,a){const[n,r]=e.propsOptions;let o=!1,i;if(t)for(let l in t){if(fs(l))continue;const f=t[l];let g;n&&ke(n,g=ft(l))?!r||!r.includes(g)?s[g]=f:(i||(i={}))[g]=f:sa(e.emitsOptions,l)||(!(l in a)||f!==a[l])&&(a[l]=f,o=!0)}if(r){const l=be(s),f=i||Me;for(let g=0;g<r.length;g++){const d=r[g];s[d]=qa(n,l,d,f[d],e,!ke(f,d))}}return o}function qa(e,t,s,a,n,r){const o=e[s];if(o!=null){const i=ke(o,"default");if(i&&a===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ie(l)){const{propsDefaults:f}=n;if(s in f)a=f[s];else{const g=Ts(n);a=f[s]=l.call(null,t),g()}}else a=l;n.ce&&n.ce._setProp(s,a)}o[0]&&(r&&!i?a=!1:o[1]&&(a===""||a===Rt(s))&&(a=!0))}return a}const Gi=new WeakMap;function kr(e,t,s=!1){const a=s?Gi:t.propsCache,n=a.get(e);if(n)return n;const r=e.props,o={},i=[];let l=!1;if(!ie(e)){const g=d=>{l=!0;const[p,c]=kr(d,t,!0);Xe(o,p),c&&i.push(...c)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!r&&!l)return Ne(e)&&a.set(e,Xt),Xt;if(ne(r))for(let g=0;g<r.length;g++){const d=ft(r[g]);xr(d)&&(o[d]=Me)}else if(r)for(const g in r){const d=ft(g);if(xr(d)){const p=r[g],c=o[d]=ne(p)||ie(p)?{type:p}:Xe({},p),y=c.type;let h=!1,w=!0;if(ne(y))for(let M=0;M<y.length;++M){const k=y[M],S=ie(k)&&k.name;if(S==="Boolean"){h=!0;break}else S==="String"&&(w=!1)}else h=ie(y)&&y.name==="Boolean";c[0]=h,c[1]=w,(h||ke(c,"default"))&&i.push(d)}}const f=[o,i];return Ne(e)&&a.set(e,f),f}function xr(e){return e[0]!=="$"&&!fs(e)}const Ja=e=>e==="_"||e==="_ctx"||e==="$stable",Ga=e=>ne(e)?e.map(St):[St(e)],Zi=(e,t,s)=>{if(t._n)return t;const a=Fe((...n)=>Ga(t(...n)),s);return a._c=!1,a},Sr=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Ja(n))continue;const r=e[n];if(ie(r))t[n]=Zi(n,r,a);else if(r!=null){const o=Ga(r);t[n]=()=>o}}},Cr=(e,t)=>{const s=Ga(t);e.slots.default=()=>s},$r=(e,t,s)=>{for(const a in t)(s||!Ja(a))&&(e[a]=t[a])},Yi=(e,t,s)=>{const a=e.slots=br();if(e.vnode.shapeFlag&32){const n=t._;n?($r(a,t,s),s&&$n(a,"_",n,!0)):Sr(t,a)}else t&&Cr(e,t)},Xi=(e,t,s)=>{const{vnode:a,slots:n}=e;let r=!0,o=Me;if(a.shapeFlag&32){const i=t._;i?s&&i===1?r=!1:$r(n,t,s):(r=!t.$stable,Sr(t,n)),o=t}else t&&(Cr(e,t),o={default:1});if(r)for(const i in n)!Ja(i)&&o[i]==null&&delete n[i]},it=fl;function Qi(e){return el(e)}function el(e,t){const s=Rs();s.__VUE__=!0;const{insert:a,remove:n,patchProp:r,createElement:o,createText:i,createComment:l,setText:f,setElementText:g,parentNode:d,nextSibling:p,setScopeId:c=yt,insertStaticContent:y}=e,h=(m,v,$,O=null,D=null,P=null,R=void 0,F=null,H=!!v.dynamicChildren)=>{if(m===v)return;m&&!Ms(m,v)&&(O=xe(m),ve(m,D,P,!0),m=null),v.patchFlag===-2&&(H=!1,v.dynamicChildren=null);const{type:N,ref:X,shapeFlag:V}=v;switch(N){case aa:w(m,v,$,O);break;case Nt:M(m,v,$,O);break;case na:m==null&&k(v,$,O,R);break;case ue:we(m,v,$,O,D,P,R,F,H);break;default:V&1?L(m,v,$,O,D,P,R,F,H):V&6?Se(m,v,$,O,D,P,R,F,H):(V&64||V&128)&&N.process(m,v,$,O,D,P,R,F,H,Oe)}X!=null&&D?_s(X,m&&m.ref,P,v||m,!v):X==null&&m&&m.ref!=null&&_s(m.ref,null,P,m,!0)},w=(m,v,$,O)=>{if(m==null)a(v.el=i(v.children),$,O);else{const D=v.el=m.el;v.children!==m.children&&f(D,v.children)}},M=(m,v,$,O)=>{m==null?a(v.el=l(v.children||""),$,O):v.el=m.el},k=(m,v,$,O)=>{[m.el,m.anchor]=y(m.children,v,$,O,m.el,m.anchor)},S=({el:m,anchor:v},$,O)=>{let D;for(;m&&m!==v;)D=p(m),a(m,$,O),m=D;a(v,$,O)},T=({el:m,anchor:v})=>{let $;for(;m&&m!==v;)$=p(m),n(m),m=$;n(v)},L=(m,v,$,O,D,P,R,F,H)=>{v.type==="svg"?R="svg":v.type==="math"&&(R="mathml"),m==null?G(v,$,O,D,P,R,F,H):ae(m,v,D,P,R,F,H)},G=(m,v,$,O,D,P,R,F)=>{let H,N;const{props:X,shapeFlag:V,transition:Z,dirs:te}=m;if(H=m.el=o(m.type,P,X&&X.is,X),V&8?g(H,m.children):V&16&&B(m.children,H,null,O,D,Za(m,P),R,F),te&&Jt(m,null,O,"created"),q(H,m,m.scopeId,R,O),X){for(const ge in X)ge!=="value"&&!fs(ge)&&r(H,ge,null,X[ge],P,O);"value"in X&&r(H,"value",null,X.value,P),(N=X.onVnodeBeforeMount)&&Ct(N,O,m)}te&&Jt(m,null,O,"beforeMount");const de=tl(D,Z);de&&Z.beforeEnter(H),a(H,v,$),((N=X&&X.onVnodeMounted)||de||te)&&it(()=>{N&&Ct(N,O,m),de&&Z.enter(H),te&&Jt(m,null,O,"mounted")},D)},q=(m,v,$,O,D)=>{if($&&c(m,$),O)for(let P=0;P<O.length;P++)c(m,O[P]);if(D){let P=D.subTree;if(v===P||Lr(P.type)&&(P.ssContent===v||P.ssFallback===v)){const R=D.vnode;q(m,R,R.scopeId,R.slotScopeIds,D.parent)}}},B=(m,v,$,O,D,P,R,F,H=0)=>{for(let N=H;N<m.length;N++){const X=m[N]=F?Ut(m[N]):St(m[N]);h(null,X,v,$,O,D,P,R,F)}},ae=(m,v,$,O,D,P,R)=>{const F=v.el=m.el;let{patchFlag:H,dynamicChildren:N,dirs:X}=v;H|=m.patchFlag&16;const V=m.props||Me,Z=v.props||Me;let te;if($&&Gt($,!1),(te=Z.onVnodeBeforeUpdate)&&Ct(te,$,v,m),X&&Jt(v,m,$,"beforeUpdate"),$&&Gt($,!0),(V.innerHTML&&Z.innerHTML==null||V.textContent&&Z.textContent==null)&&g(F,""),N?J(m.dynamicChildren,N,F,$,O,Za(v,D),P):R||Q(m,v,F,null,$,O,Za(v,D),P,!1),H>0){if(H&16)oe(F,V,Z,$,D);else if(H&2&&V.class!==Z.class&&r(F,"class",null,Z.class,D),H&4&&r(F,"style",V.style,Z.style,D),H&8){const de=v.dynamicProps;for(let ge=0;ge<de.length;ge++){const fe=de[ge],$e=V[fe],He=Z[fe];(He!==$e||fe==="value")&&r(F,fe,$e,He,D,$)}}H&1&&m.children!==v.children&&g(F,v.children)}else!R&&N==null&&oe(F,V,Z,$,D);((te=Z.onVnodeUpdated)||X)&&it(()=>{te&&Ct(te,$,v,m),X&&Jt(v,m,$,"updated")},O)},J=(m,v,$,O,D,P,R)=>{for(let F=0;F<v.length;F++){const H=m[F],N=v[F],X=H.el&&(H.type===ue||!Ms(H,N)||H.shapeFlag&198)?d(H.el):$;h(H,N,X,null,O,D,P,R,!0)}},oe=(m,v,$,O,D)=>{if(v!==$){if(v!==Me)for(const P in v)!fs(P)&&!(P in $)&&r(m,P,v[P],null,D,O);for(const P in $){if(fs(P))continue;const R=$[P],F=v[P];R!==F&&P!=="value"&&r(m,P,F,R,D,O)}"value"in $&&r(m,"value",v.value,$.value,D)}},we=(m,v,$,O,D,P,R,F,H)=>{const N=v.el=m?m.el:i(""),X=v.anchor=m?m.anchor:i("");let{patchFlag:V,dynamicChildren:Z,slotScopeIds:te}=v;te&&(F=F?F.concat(te):te),m==null?(a(N,$,O),a(X,$,O),B(v.children||[],$,X,D,P,R,F,H)):V>0&&V&64&&Z&&m.dynamicChildren?(J(m.dynamicChildren,Z,$,D,P,R,F),(v.key!=null||D&&v===D.subTree)&&Mr(m,v,!0)):Q(m,v,$,X,D,P,R,F,H)},Se=(m,v,$,O,D,P,R,F,H)=>{v.slotScopeIds=F,m==null?v.shapeFlag&512?D.ctx.activate(v,$,O,R,H):Pe(v,$,O,D,P,R,H):U(m,v,H)},Pe=(m,v,$,O,D,P,R)=>{const F=m.component=wl(m,O,D);if(or(m)&&(F.ctx.renderer=Oe),kl(F,!1,R),F.asyncDep){if(D&&D.registerDep(F,le,R),!m.el){const H=F.subTree=re(Nt);M(null,H,v,$),m.placeholder=H.el}}else le(F,m,v,$,D,P,R)},U=(m,v,$)=>{const O=v.component=m.component;if(ul(m,v,$))if(O.asyncDep&&!O.asyncResolved){Y(O,v,$);return}else O.next=v,O.update();else v.el=m.el,O.vnode=v},le=(m,v,$,O,D,P,R)=>{const F=()=>{if(m.isMounted){let{next:V,bu:Z,u:te,parent:de,vnode:ge}=m;{const Ve=Tr(m);if(Ve){V&&(V.el=ge.el,Y(m,V,R)),Ve.asyncDep.then(()=>{m.isUnmounted||F()});return}}let fe=V,$e;Gt(m,!1),V?(V.el=ge.el,Y(m,V,R)):V=ge,Z&&Fs(Z),($e=V.props&&V.props.onVnodeBeforeUpdate)&&Ct($e,de,V,ge),Gt(m,!0);const He=Ir(m),Le=m.subTree;m.subTree=He,h(Le,He,d(Le.el),xe(Le),m,D,P),V.el=He.el,fe===null&&dl(m,He.el),te&&it(te,D),($e=V.props&&V.props.onVnodeUpdated)&&it(()=>Ct($e,de,V,ge),D)}else{let V;const{el:Z,props:te}=v,{bm:de,m:ge,parent:fe,root:$e,type:He}=m,Le=rs(v);Gt(m,!1),de&&Fs(de),!Le&&(V=te&&te.onVnodeBeforeMount)&&Ct(V,fe,v),Gt(m,!0);{$e.ce&&$e.ce._def.shadowRoot!==!1&&$e.ce._injectChildStyle(He);const Ve=m.subTree=Ir(m);h(null,Ve,$,O,m,D,P),v.el=Ve.el}if(ge&&it(ge,D),!Le&&(V=te&&te.onVnodeMounted)){const Ve=v;it(()=>Ct(V,fe,Ve),D)}(v.shapeFlag&256||fe&&rs(fe.vnode)&&fe.vnode.shapeFlag&256)&&m.a&&it(m.a,D),m.isMounted=!0,v=$=O=null}};m.scope.on();const H=m.effect=new En(F);m.scope.off();const N=m.update=H.run.bind(H),X=m.job=H.runIfDirty.bind(H);X.i=m,X.id=m.uid,H.scheduler=()=>Wa(X),Gt(m,!0),N()},Y=(m,v,$)=>{v.component=m;const O=m.vnode.props;m.vnode=v,m.next=null,Ji(m,v.props,O,$),Xi(m,v.children,$),bt(),tr(m),wt()},Q=(m,v,$,O,D,P,R,F,H=!1)=>{const N=m&&m.children,X=m?m.shapeFlag:0,V=v.children,{patchFlag:Z,shapeFlag:te}=v;if(Z>0){if(Z&128){Te(N,V,$,O,D,P,R,F,H);return}else if(Z&256){_e(N,V,$,O,D,P,R,F,H);return}}te&8?(X&16&&Ae(N,D,P),V!==N&&g($,V)):X&16?te&16?Te(N,V,$,O,D,P,R,F,H):Ae(N,D,P,!0):(X&8&&g($,""),te&16&&B(V,$,O,D,P,R,F,H))},_e=(m,v,$,O,D,P,R,F,H)=>{m=m||Xt,v=v||Xt;const N=m.length,X=v.length,V=Math.min(N,X);let Z;for(Z=0;Z<V;Z++){const te=v[Z]=H?Ut(v[Z]):St(v[Z]);h(m[Z],te,$,null,D,P,R,F,H)}N>X?Ae(m,D,P,!0,!1,V):B(v,$,O,D,P,R,F,H,V)},Te=(m,v,$,O,D,P,R,F,H)=>{let N=0;const X=v.length;let V=m.length-1,Z=X-1;for(;N<=V&&N<=Z;){const te=m[N],de=v[N]=H?Ut(v[N]):St(v[N]);if(Ms(te,de))h(te,de,$,null,D,P,R,F,H);else break;N++}for(;N<=V&&N<=Z;){const te=m[V],de=v[Z]=H?Ut(v[Z]):St(v[Z]);if(Ms(te,de))h(te,de,$,null,D,P,R,F,H);else break;V--,Z--}if(N>V){if(N<=Z){const te=Z+1,de=te<X?v[te].el:O;for(;N<=Z;)h(null,v[N]=H?Ut(v[N]):St(v[N]),$,de,D,P,R,F,H),N++}}else if(N>Z)for(;N<=V;)ve(m[N],D,P,!0),N++;else{const te=N,de=N,ge=new Map;for(N=de;N<=Z;N++){const ze=v[N]=H?Ut(v[N]):St(v[N]);ze.key!=null&&ge.set(ze.key,N)}let fe,$e=0;const He=Z-de+1;let Le=!1,Ve=0;const dt=new Array(He);for(N=0;N<He;N++)dt[N]=0;for(N=te;N<=V;N++){const ze=m[N];if($e>=He){ve(ze,D,P,!0);continue}let tt;if(ze.key!=null)tt=ge.get(ze.key);else for(fe=de;fe<=Z;fe++)if(dt[fe-de]===0&&Ms(ze,v[fe])){tt=fe;break}tt===void 0?ve(ze,D,P,!0):(dt[tt-de]=N+1,tt>=Ve?Ve=tt:Le=!0,h(ze,v[tt],$,null,D,P,R,F,H),$e++)}const Zt=Le?sl(dt):Xt;for(fe=Zt.length-1,N=He-1;N>=0;N--){const ze=de+N,tt=v[ze],Yt=v[ze+1],x=ze+1<X?Yt.el||Yt.placeholder:O;dt[N]===0?h(null,tt,$,x,D,P,R,F,H):Le&&(fe<0||N!==Zt[fe]?Ie(tt,$,x,2):fe--)}}},Ie=(m,v,$,O,D=null)=>{const{el:P,type:R,transition:F,children:H,shapeFlag:N}=m;if(N&6){Ie(m.component.subTree,v,$,O);return}if(N&128){m.suspense.move(v,$,O);return}if(N&64){R.move(m,v,$,Oe);return}if(R===ue){a(P,v,$);for(let V=0;V<H.length;V++)Ie(H[V],v,$,O);a(m.anchor,v,$);return}if(R===na){S(m,v,$);return}if(O!==2&&N&1&&F)if(O===0)F.beforeEnter(P),a(P,v,$),it(()=>F.enter(P),D);else{const{leave:V,delayLeave:Z,afterLeave:te}=F,de=()=>{m.ctx.isUnmounted?n(P):a(P,v,$)},ge=()=>{P._isLeaving&&P[ki](!0),V(P,()=>{de(),te&&te()})};Z?Z(P,de,ge):ge()}else a(P,v,$)},ve=(m,v,$,O=!1,D=!1)=>{const{type:P,props:R,ref:F,children:H,dynamicChildren:N,shapeFlag:X,patchFlag:V,dirs:Z,cacheIndex:te}=m;if(V===-2&&(D=!1),F!=null&&(bt(),_s(F,null,$,m,!0),wt()),te!=null&&(v.renderCache[te]=void 0),X&256){v.ctx.deactivate(m);return}const de=X&1&&Z,ge=!rs(m);let fe;if(ge&&(fe=R&&R.onVnodeBeforeUnmount)&&Ct(fe,v,m),X&6)Be(m.component,$,O);else{if(X&128){m.suspense.unmount($,O);return}de&&Jt(m,null,v,"beforeUnmount"),X&64?m.type.remove(m,v,$,Oe,O):N&&!N.hasOnce&&(P!==ue||V>0&&V&64)?Ae(N,v,$,!1,!0):(P===ue&&V&384||!D&&X&16)&&Ae(H,v,$),O&&ye(m)}(ge&&(fe=R&&R.onVnodeUnmounted)||de)&&it(()=>{fe&&Ct(fe,v,m),de&&Jt(m,null,v,"unmounted")},$)},ye=m=>{const{type:v,el:$,anchor:O,transition:D}=m;if(v===ue){Ce($,O);return}if(v===na){T(m);return}const P=()=>{n($),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(m.shapeFlag&1&&D&&!D.persisted){const{leave:R,delayLeave:F}=D,H=()=>R($,P);F?F(m.el,P,H):H()}else P()},Ce=(m,v)=>{let $;for(;m!==v;)$=p(m),n(m),m=$;n(v)},Be=(m,v,$)=>{const{bum:O,scope:D,job:P,subTree:R,um:F,m:H,a:N}=m;Ar(H),Ar(N),O&&Fs(O),D.stop(),P&&(P.flags|=8,ve(R,m,v,$)),F&&it(F,v),it(()=>{m.isUnmounted=!0},v)},Ae=(m,v,$,O=!1,D=!1,P=0)=>{for(let R=P;R<m.length;R++)ve(m[R],v,$,O,D)},xe=m=>{if(m.shapeFlag&6)return xe(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const v=p(m.anchor||m.el),$=v&&v[wi];return $?p($):v};let ee=!1;const Ue=(m,v,$)=>{m==null?v._vnode&&ve(v._vnode,null,null,!0):h(v._vnode||null,m,v,null,null,null,$),v._vnode=m,ee||(ee=!0,tr(),sr(),ee=!1)},Oe={p:h,um:ve,m:Ie,r:ye,mt:Pe,mc:B,pc:Q,pbc:J,n:xe,o:e};return{render:Ue,hydrate:void 0,createApp:zi(Ue)}}function Za({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Gt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function tl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Mr(e,t,s=!1){const a=e.children,n=t.children;if(ne(a)&&ne(n))for(let r=0;r<a.length;r++){const o=a[r];let i=n[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=n[r]=Ut(n[r]),i.el=o.el),!s&&i.patchFlag!==-2&&Mr(o,i)),i.type===aa&&i.patchFlag!==-1&&(i.el=o.el),i.type===Nt&&!i.el&&(i.el=o.el)}}function sl(e){const t=e.slice(),s=[0];let a,n,r,o,i;const l=e.length;for(a=0;a<l;a++){const f=e[a];if(f!==0){if(n=s[s.length-1],e[n]<f){t[a]=n,s.push(a);continue}for(r=0,o=s.length-1;r<o;)i=r+o>>1,e[s[i]]<f?r=i+1:o=i;f<e[s[r]]&&(r>0&&(t[a]=s[r-1]),s[r]=a)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Tr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Tr(t)}function Ar(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const al=Symbol.for("v-scx"),nl=()=>ta(al);function vt(e,t,s){return Dr(e,t,s)}function Dr(e,t,s=Me){const{immediate:a,deep:n,flush:r,once:o}=s,i=Xe({},s),l=t&&a||!t&&r!=="post";let f;if(As){if(r==="sync"){const c=nl();f=c.__watcherHandles||(c.__watcherHandles=[])}else if(!l){const c=()=>{};return c.stop=yt,c.resume=yt,c.pause=yt,c}}const g=et;i.call=(c,y,h)=>kt(c,g,y,h);let d=!1;r==="post"?i.scheduler=c=>{it(c,g&&g.suspense)}:r!=="sync"&&(d=!0,i.scheduler=(c,y)=>{y?c():Wa(c)}),i.augmentJob=c=>{t&&(c.flags|=4),d&&(c.flags|=2,g&&(c.id=g.uid,c.i=g))};const p=fi(e,t,i);return As&&(f?f.push(p):l&&p()),p}function rl(e,t,s){const a=this.proxy,n=We(e)?e.includes(".")?Er(a,e):()=>a[e]:e.bind(a,a);let r;ie(t)?r=t:(r=t.handler,s=t);const o=Ts(this),i=Dr(n,r.bind(a),s);return o(),i}function Er(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const ol=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ft(t)}Modifiers`]||e[`${Rt(t)}Modifiers`];function il(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Me;let n=s;const r=t.startsWith("update:"),o=r&&ol(a,t.slice(7));o&&(o.trim&&(n=s.map(g=>We(g)?g.trim():g)),o.number&&(n=s.map($a)));let i,l=a[i=Ca(t)]||a[i=Ca(ft(t))];!l&&r&&(l=a[i=Ca(Rt(t))]),l&&kt(l,e,6,n);const f=a[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,kt(f,e,6,n)}}function Pr(e,t,s=!1){const a=t.emitsCache,n=a.get(e);if(n!==void 0)return n;const r=e.emits;let o={},i=!1;if(!ie(e)){const l=f=>{const g=Pr(f,t,!0);g&&(i=!0,Xe(o,g))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!i?(Ne(e)&&a.set(e,null),null):(ne(r)?r.forEach(l=>o[l]=null):Xe(o,r),Ne(e)&&a.set(e,o),o)}function sa(e,t){return!e||!Ns(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,Rt(t))||ke(e,t))}function sm(){}function Ir(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[r],slots:o,attrs:i,emit:l,render:f,renderCache:g,props:d,data:p,setupState:c,ctx:y,inheritAttrs:h}=e,w=Xs(e);let M,k;try{if(s.shapeFlag&4){const T=n||a,L=T;M=St(f.call(L,T,g,d,c,p,y)),k=i}else{const T=t;M=St(T.length>1?T(d,{attrs:i,slots:o,emit:l}):T(d,null)),k=t.props?i:ll(i)}}catch(T){Ss.length=0,Gs(T,e,1),M=re(Nt)}let S=M;if(k&&h!==!1){const T=Object.keys(k),{shapeFlag:L}=S;T.length&&L&7&&(r&&T.some(ka)&&(k=cl(k,r)),S=ls(S,k,!1,!0))}return s.dirs&&(S=ls(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&Ba(S,s.transition),M=S,Xs(w),M}const ll=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ns(s))&&((t||(t={}))[s]=e[s]);return t},cl=(e,t)=>{const s={};for(const a in e)(!ka(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function ul(e,t,s){const{props:a,children:n,component:r}=e,{props:o,children:i,patchFlag:l}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return a?Nr(a,o,f):!!o;if(l&8){const g=t.dynamicProps;for(let d=0;d<g.length;d++){const p=g[d];if(o[p]!==a[p]&&!sa(f,p))return!0}}}else return(n||i)&&(!i||!i.$stable)?!0:a===o?!1:a?o?Nr(a,o,f):!0:!!o;return!1}function Nr(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const r=a[n];if(t[r]!==e[r]&&!sa(s,r))return!0}return!1}function dl({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Lr=e=>e.__isSuspense;function fl(e,t){t&&t.pendingBranch?ne(e)?t.effects.push(...e):t.effects.push(e):bi(e)}const ue=Symbol.for("v-fgt"),aa=Symbol.for("v-txt"),Nt=Symbol.for("v-cmt"),na=Symbol.for("v-stc"),Ss=[];let lt=null;function C(e=!1){Ss.push(lt=e?null:[])}function gl(){Ss.pop(),lt=Ss[Ss.length-1]||null}let Cs=1;function Or(e,t=!1){Cs+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function Hr(e){return e.dynamicChildren=Cs>0?lt||Xt:null,gl(),Cs>0&&lt&&lt.push(e),e}function A(e,t,s,a,n,r){return Hr(u(e,t,s,a,n,r,!0))}function qe(e,t,s,a,n){return Hr(re(e,t,s,a,n,!0))}function $s(e){return e?e.__v_isVNode===!0:!1}function Ms(e,t){return e.type===t.type&&e.key===t.key}const Fr=({key:e})=>e??null,ra=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?We(e)||Ke(e)||ie(e)?{i:Ze,r:e,k:t,f:!!s}:e:null);function u(e,t=null,s=null,a=0,n=null,r=e===ue?0:1,o=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fr(t),ref:t&&ra(t),scopeId:nr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ze};return i?(Ya(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=We(s)?8:16),Cs>0&&!o&&lt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&lt.push(l),l}const re=pl;function pl(e,t=null,s=null,a=0,n=null,r=!1){if((!e||e===Li)&&(e=Nt),$s(e)){const i=ls(e,t,!0);return s&&Ya(i,s),Cs>0&&!r&&lt&&(i.shapeFlag&6?lt[lt.indexOf(e)]=i:lt.push(i)),i.patchFlag=-2,i}if(Tl(e)&&(e=e.__vccOpts),t){t=hl(t);let{class:i,style:l}=t;i&&!We(i)&&(t.class=he(i)),Ne(l)&&(Fa(l)&&!ne(l)&&(l=Xe({},l)),t.style=At(l))}const o=We(e)?1:Lr(e)?128:_i(e)?64:Ne(e)?4:ie(e)?2:0;return u(e,t,s,a,n,o,r,!0)}function hl(e){return e?Fa(e)||wr(e)?Xe({},e):e:null}function ls(e,t,s=!1,a=!1){const{props:n,ref:r,patchFlag:o,children:i,transition:l}=e,f=t?vl(n||{},t):n,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Fr(f),ref:t&&t.ref?s&&r?ne(r)?r.concat(ra(t)):[r,ra(t)]:ra(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ue?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ls(e.ssContent),ssFallback:e.ssFallback&&ls(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&a&&Ba(g,l.clone(g)),g}function me(e=" ",t=0){return re(aa,null,e,t)}function ml(e,t){const s=re(na,null,e);return s.staticCount=t,s}function z(e="",t=!1){return t?(C(),qe(Nt,null,e)):re(Nt,null,e)}function St(e){return e==null||typeof e=="boolean"?re(Nt):ne(e)?re(ue,null,e.slice()):$s(e)?Ut(e):re(aa,null,String(e))}function Ut(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ls(e)}function Ya(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(ne(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),Ya(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!wr(t)?t._ctx=Ze:n===3&&Ze&&(Ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:Ze},s=32):(t=String(t),a&64?(s=16,t=[me(t)]):s=8);e.children=t,e.shapeFlag|=s}function vl(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=he([t.class,a.class]));else if(n==="style")t.style=At([t.style,a.style]);else if(Ns(n)){const r=t[n],o=a[n];o&&r!==o&&!(ne(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=a[n])}return t}function Ct(e,t,s,a=null){kt(e,t,7,[s,a])}const yl=vr();let bl=0;function wl(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||yl,r={uid:bl++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kr(a,n),emitsOptions:Pr(a,n),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:a.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=il.bind(null,r),e.ce&&e.ce(r),r}let et=null;const _l=()=>et||Ze;let oa,Xa;{const e=Rs(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};oa=t("__VUE_INSTANCE_SETTERS__",s=>et=s),Xa=t("__VUE_SSR_SETTERS__",s=>As=s)}const Ts=e=>{const t=et;return oa(e),e.scope.on(),()=>{e.scope.off(),oa(t)}},Rr=()=>{et&&et.scope.off(),oa(null)};function Wr(e){return e.vnode.shapeFlag&4}let As=!1;function kl(e,t=!1,s=!1){t&&Xa(t);const{props:a,children:n}=e.vnode,r=Wr(e);qi(e,a,r,t),Yi(e,n,s||t);const o=r?xl(e,t):void 0;return t&&Xa(!1),o}function xl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Fi);const{setup:a}=s;if(a){bt();const n=e.setupContext=a.length>1?Cl(e):null,r=Ts(e),o=ss(a,e,0,[e.props,n]),i=xn(o);if(wt(),r(),(i||e.sp)&&!rs(e)&&rr(e),i){if(o.then(Rr,Rr),t)return o.then(l=>{Br(e,l)}).catch(l=>{Gs(l,e,0)});e.asyncDep=o}else Br(e,o)}else jr(e)}function Br(e,t,s){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=Zn(t)),jr(e)}function jr(e,t,s){const a=e.type;e.render||(e.render=a.render||yt);{const n=Ts(e);bt();try{Ri(e)}finally{wt(),n()}}}const Sl={get(e,t){return Qe(e,"get",""),e[t]}};function Cl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Sl),slots:e.slots,emit:e.emit,expose:t}}function ia(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zn(ai(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ks)return ks[s](e)},has(t,s){return s in t||s in ks}})):e.proxy}const $l=/(?:^|[-_])(\w)/g,Ml=e=>e.replace($l,t=>t.toUpperCase()).replace(/[-_]/g,"");function Ur(e,t=!0){return ie(e)?e.displayName||e.name:e.name||t&&e.__name}function Vr(e,t,s=!1){let a=Ur(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=r=>{for(const o in r)if(r[o]===t)return o};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?Ml(a):s?"App":"Anonymous"}function Tl(e){return ie(e)&&"__vccOpts"in e}const j=(e,t)=>ui(e,t,As);function ct(e,t,s){const a=arguments.length;return a===2?Ne(t)&&!ne(t)?$s(t)?re(e,null,[t]):re(e,t):re(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&$s(s)&&(s=[s]),re(e,t,s))}const Al="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qa;const zr=typeof window<"u"&&window.trustedTypes;if(zr)try{Qa=zr.createPolicy("vue",{createHTML:e=>e})}catch{}const Kr=Qa?e=>Qa.createHTML(e):e=>e,Dl="http://www.w3.org/2000/svg",El="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,qr=Lt&&Lt.createElement("template"),Pl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Lt.createElementNS(Dl,e):t==="mathml"?Lt.createElementNS(El,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,r){const o=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{qr.innerHTML=Kr(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const i=qr.content;if(a==="svg"||a==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Il=Symbol("_vtc");function Nl(e,t,s){const a=e[Il];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const la=Symbol("_vod"),Jr=Symbol("_vsh"),ca={name:"show",beforeMount(e,{value:t},{transition:s}){e[la]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ds(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Ds(e,!0),a.enter(e)):a.leave(e,()=>{Ds(e,!1)}):Ds(e,t))},beforeUnmount(e,{value:t}){Ds(e,t)}};function Ds(e,t){e.style.display=t?e[la]:"none",e[Jr]=!t}const Ll=Symbol(""),Ol=/(^|;)\s*display\s*:/;function Hl(e,t,s){const a=e.style,n=We(s);let r=!1;if(s&&!n){if(t)if(We(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();s[i]==null&&ua(a,i,"")}else for(const o in t)s[o]==null&&ua(a,o,"");for(const o in s)o==="display"&&(r=!0),ua(a,o,s[o])}else if(n){if(t!==s){const o=a[Ll];o&&(s+=";"+o),a.cssText=s,r=Ol.test(s)}}else t&&e.removeAttribute("style");la in e&&(e[la]=r?a.display:"",e[Jr]&&(a.display="none"))}const Gr=/\s*!important$/;function ua(e,t,s){if(ne(s))s.forEach(a=>ua(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=Fl(e,t);Gr.test(s)?e.setProperty(Rt(a),s.replace(Gr,""),"important"):e[a]=s}}const Zr=["Webkit","Moz","ms"],en={};function Fl(e,t){const s=en[t];if(s)return s;let a=ft(t);if(a!=="filter"&&a in e)return en[t]=a;a=Hs(a);for(let n=0;n<Zr.length;n++){const r=Zr[n]+a;if(r in e)return en[t]=r}return t}const Yr="http://www.w3.org/1999/xlink";function Xr(e,t,s,a,n,r=No(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Yr,t.slice(6,t.length)):e.setAttributeNS(Yr,t,s):s==null||r&&!Tn(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Tt(s)?String(s):s)}function Qr(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Kr(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const i=r==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(i!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=Tn(s):s==null&&i==="string"?(s="",o=!0):i==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function cs(e,t,s,a){e.addEventListener(t,s,a)}function Rl(e,t,s,a){e.removeEventListener(t,s,a)}const eo=Symbol("_vei");function Wl(e,t,s,a,n=null){const r=e[eo]||(e[eo]={}),o=r[t];if(a&&o)o.value=a;else{const[i,l]=Bl(t);if(a){const f=r[t]=Vl(a,n);cs(e,i,f,l)}else o&&(Rl(e,i,o,l),r[t]=void 0)}}const to=/(?:Once|Passive|Capture)$/;function Bl(e){let t;if(to.test(e)){t={};let a;for(;a=e.match(to);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rt(e.slice(2)),t]}let tn=0;const jl=Promise.resolve(),Ul=()=>tn||(jl.then(()=>tn=0),tn=Date.now());function Vl(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;kt(zl(a,s.value),t,5,[a])};return s.value=e,s.attached=Ul(),s}function zl(e,t){if(ne(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const so=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Kl=(e,t,s,a,n,r)=>{const o=n==="svg";t==="class"?Nl(e,a,o):t==="style"?Hl(e,s,a):Ns(t)?ka(t)||Wl(e,t,s,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ql(e,t,a,o))?(Qr(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Xr(e,t,a,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!We(a))?Qr(e,ft(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Xr(e,t,a,o))};function ql(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&so(t)&&ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return so(t)&&We(s)?!1:t in e}const ao=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ne(t)?s=>Fs(t,s):t};function Jl(e){e.target.composing=!0}function no(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sn=Symbol("_assign"),Gl={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[sn]=ao(n);const r=a||n.props&&n.props.type==="number";cs(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;s&&(i=i.trim()),r&&(i=$a(i)),e[sn](i)}),s&&cs(e,"change",()=>{e.value=e.value.trim()}),t||(cs(e,"compositionstart",Jl),cs(e,"compositionend",no),cs(e,"change",no))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:r}},o){if(e[sn]=ao(o),e.composing)return;const i=(r||e.type==="number")&&!/^0\d/.test(e.value)?$a(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===l)||(e.value=l))}},Zl=["ctrl","shift","alt","meta"],Yl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Zl.some(s=>e[`${s}Key`]&&!t.includes(s))},da=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...r)=>{for(let o=0;o<t.length;o++){const i=Yl[t[o]];if(i&&i(n,t))return}return e(n,...r)})},Xl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ql=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const r=Rt(n.key);if(t.some(o=>o===r||Xl[o]===r))return e(n)})},ec=Xe({patchProp:Kl},Pl);let ro;function tc(){return ro||(ro=Qi(ec))}const sc=(...e)=>{const t=tc().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=nc(a);if(!n)return;const r=t._component;!ie(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,ac(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function ac(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nc(e){return We(e)?document.querySelector(e):e}const rc=Ee({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:s}){return()=>{const a=e.showNavigation!==!1,n={...s,class:[s.class,"app-content",a?null:"app-content--navigation-hidden"]},r={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":a?"false":"true"};return ct("div",n,[ct("aside",r,t.navigation?t.navigation():[]),ct("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),oc=Ee({name:"NcAppNavigation",setup(e,{slots:t,attrs:s}){return()=>{const a={...s,class:[s.class,"app-navigation"]};"role"in a||(a.role="navigation");const n=[];return t.actions&&n.push(ct("div",{class:"app-navigation__actions"},t.actions())),t.default&&n.push(...t.default()),ct("nav",a,n)}}}),ut=Ee({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:s,attrs:a}){return()=>{const n={...a,class:[a.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in n||(n.type="button"),ct("button",n,s.default?s.default():[])}}}),fa=Ee({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>ct("div",{...t,class:[t.class,"card empty"]},[ct("div",{class:"value"},e.name),ct("div",{class:"hint"},e.description)])}}),ga=Ee({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:s,attrs:a}){const n=o=>{var i;return t("update:checked",!!((i=o==null?void 0:o.target)!=null&&i.checked))},r={...a,class:[a.class,"nc-checkbox-radio-switch"]};return()=>ct("label",r,[ct("input",{type:e.type,name:e.name,checked:e.checked,onInput:n}),ct("span",{},s.default?s.default():[])])}}),ic=Ee({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>ct("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}});function an(e){if(!e)return null;const t=window.devicePixelRatio||1,s=e.getBoundingClientRect();if(s.width<2||s.height<2)return null;const a=Math.floor(s.width*t),n=Math.floor(s.height*t);e.width!==a&&(e.width=a),e.height!==n&&(e.height=n);const r=e.getContext("2d");return r?(r.setTransform(t,0,0,t,0,0),r):null}function oo(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function lc(e){const s=Math.pow((f=>f<0?0:f>1?1:f)(e),.6),a=oo("#e0f2fe"),n=oo("#7c3aed");if(!a||!n)return"#7c3aed";const r=(f,g,d)=>Math.round(f+(g-f)*d),o=r(a.r,n.r,s),i=r(a.g,n.g,s),l=r(a.b,n.b,s);return`rgb(${o}, ${i}, ${l})`}const io=Ee({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{}},setup(e){const t=e,s=se(null);function a(){const n=t.data,r=s.value;if(!r||!n)return;const o=an(r);if(!o)return;const i=r.clientWidth,l=r.clientHeight,f=i/2,g=l/2,d=Math.min(i,l)*.35,p=n.data||[],c=n.labels||[],y=n.ids||[],h=n.colors||[],w=[];for(let B=0;B<p.length;B++)(Number(p[B])||0)>0&&w.push(B);if(o.clearRect(0,0,i,l),w.length===0)return;const M=w.map(B=>Number(p[B])||0),k=w.map(B=>String(c[B]||"")),S=w.map(B=>String(y[B]||"")),T=w.map(B=>h[B]),L=M.reduce((B,ae)=>B+Math.max(0,ae),0)||1;let G=-Math.PI/2;o.lineWidth=1,o.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const q=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];M.forEach((B,ae)=>{var ye,Ce;const J=Math.max(0,B)/L,oe=G+J*2*Math.PI,we=String((k==null?void 0:k[ae])||""),Se=String((S==null?void 0:S[ae])||""),Pe=T[ae],U=(ye=t.colorsById)==null?void 0:ye[Se],le=(Ce=t.colorsByName)==null?void 0:Ce[we];let Y=U||le||Pe||q[ae%q.length];o.beginPath(),o.moveTo(f,g),o.arc(f,g,d,G,oe),o.closePath(),o.fillStyle=Y,o.fill(),o.stroke();const Q=(G+oe)/2,_e=f+Math.cos(Q)*(d+12),Te=g+Math.sin(Q)*(d+12);o.save(),o.font="12px ui-sans-serif,system-ui",o.fillStyle="#ffffff",o.strokeStyle="rgba(0,0,0,0.55)",o.lineWidth=3,o.textAlign="center",o.textBaseline="middle";const Ie=Math.max(0,Number(B)||0)/L*100,ve=`${k!=null&&k[ae]?k[ae]+" ":""}${Number(B).toFixed(2)}h  ${Ie.toFixed(1)}%`;o.strokeText(ve,_e,Te),o.fillText(ve,_e,Te),o.restore(),G=oe})}return os(()=>{a(),window.addEventListener("resize",a)}),vt(()=>t.data,()=>a(),{deep:!0}),vt(()=>t.colorsById,()=>a(),{deep:!0}),(n,r)=>(C(),A("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),lo=Ee({__name:"StackedBars",props:{stacked:{},legacy:{},colorsById:{}},setup(e){const t=e,s=se(null);function a(h,w,M,k,S){h.save(),S!=null&&S.font&&(h.font=S.font),S!=null&&S.align&&(h.textAlign=S.align),S!=null&&S.baseline&&(h.textBaseline=S.baseline),h.lineWidth=3,h.strokeStyle="rgba(0,0,0,0.55)",h.strokeText(w,M,k),h.fillStyle="#ffffff",h.fillText(w,M,k),h.restore()}function n(h){const w=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(h||"");return w?{r:parseInt(w[1],16),g:parseInt(w[2],16),b:parseInt(w[3],16)}:null}function r(h,w){const M=n(h);return M&&(.2126*M.r+.7152*M.g+.0722*M.b)/255<.55?"#ffffff":w}function o(h){const w=Math.max(0,Number(h)||0);return(Math.round(w*10)/10).toFixed(1)}function i(h,w=.5){const M=n(h);if(!M)return h;const k=Math.max(0,Math.min(1,w)),S=Math.round(M.r+(255-M.r)*k),T=Math.round(M.g+(255-M.g)*k),L=Math.round(M.b+(255-M.b)*k);return`rgb(${S},${T},${L})`}function l(h,w=.5){const M=n(h);if(!M)return h;const k=Math.max(0,Math.min(1,w)),S=Math.round(M.r*(1-k)),T=Math.round(M.g*(1-k)),L=Math.round(M.b*(1-k));return`rgb(${S},${T},${L})`}function f(h,w){const{x:M,y:k,width:S,height:T,baseColor:L}=w,G=Math.min(S*.25,6),q=M+G,B=Math.max(2,S-G*2),ae=i(L,.4),J=l(L,.35);h.save(),h.fillStyle=ae,h.globalAlpha=.18,h.fillRect(q,k,B,T),h.restore(),h.save(),h.strokeStyle=J,h.lineWidth=1.5,h.setLineDash([4,3]),h.strokeRect(q,k,B,T),h.restore()}function g(){var Ie,ve;const h=s.value;if(!h)return;const w=an(h);if(!w)return;const M=h.clientWidth,k=h.clientHeight,S=28,T=S*1.4,L=k-S,G=M-S,q=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",B=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";w.clearRect(0,0,M,k),w.strokeStyle=q,w.lineWidth=1,w.beginPath(),w.moveTo(T,L),w.lineTo(G,L),w.moveTo(T,L),w.lineTo(T,S),w.stroke();const ae=t.stacked;if(ae&&ae.labels&&ae.series){let ye=ae.labels||[],Ce=ae.series||[];const Be=p(ye,Ce);ye=Be.labels,Ce=Be.series;const Ae=ye.map((P,R)=>Ce.reduce((F,H)=>{var N;return F+Math.max(0,Number(((N=H.data)==null?void 0:N[R])||0))},0)),xe=ye.map((P,R)=>Ce.reduce((F,H)=>{var N;return F+Math.max(0,Number(((N=H.forecast)==null?void 0:N[R])||0))},0)),ee=Ae.map((P,R)=>P+xe[R]),Ue=Math.max(1,...ee),Oe=ye.length||1,Ye=8,m=Math.max(6,(G-T-Ye*(Oe+1))/Oe),v=(L-S)/Ue;let $=0,O=0;ye.forEach((P,R)=>{const F=T+Ye+R*(m+Ye);let H=L,N=0;Ce.forEach(ge=>{var Le;const fe=Math.max(0,Number(((Le=ge.data)==null?void 0:Le[R])||0)),$e=fe*v;H-=$e;const He=t.colorsById[ge.id]||ge.color||"#93c5fd";if($e>.5&&(w.fillStyle=He,w.fillRect(F,H,m,$e),$e>14&&m>22&&fe>.01)){const Ve=o(fe);w.fillStyle=r(He,B),w.font="11px ui-sans-serif,system-ui";const dt=w.measureText(Ve).width;w.fillText(Ve,F+m/2-dt/2,H+$e/2+4)}N+=fe});let V=H,Z=0;Ce.forEach(ge=>{var Le;const fe=Math.max(0,Number(((Le=ge.forecast)==null?void 0:Le[R])||0));if(fe<=0)return;const $e=fe*v;if(V-=$e,Z+=fe,$e<=.5)return;const He=t.colorsById[ge.id]||ge.color||"#93c5fd";f(w,{x:F,y:V,width:m,height:$e,baseColor:He})}),$+=N,O+=Z,w.fillStyle=B,w.font="12px ui-sans-serif,system-ui";const te=d(String(ye[R]||""));if(m>26){const ge=w.measureText(te).width;w.fillText(te,F+m/2-ge/2,L+14)}const de=Z>.01?`~${o(N+Z)}h`:N>.01?`${o(N)}h`:"";de&&a(w,de,F+m/2,Math.max(S+4,V-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})});const D=O>.01?`~${o($+O)}h expected`:`${o($)}h total`;a(w,D,G-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}const J=t.legacy;if(!J)return;let oe=J.data||[],we=J.labels||[];const Se=p(we,[{id:"__legacy__",data:oe}]);we=Se.labels,oe=((ve=(Ie=Se.series)==null?void 0:Ie[0])==null?void 0:ve.data)||oe;const Pe=Math.max(1,...oe.map(ye=>Math.max(0,ye))),U=oe.length||1,le=8,Y=Math.max(6,(G-T-le*(U+1))/U),Q=(L-S)/Pe;w.fillStyle="#93c5fd",oe.forEach((ye,Ce)=>{const Be=Math.max(0,ye*Q),Ae=T+le+Ce*(Y+le),xe=L-Be;if(w.fillRect(Ae,xe,Y,Be),Be>14&&Y>22&&ye>.01){const Ue=String((Math.round(ye*100)/100).toFixed(1));w.fillStyle=r("#93c5fd",B),w.font="11px ui-sans-serif,system-ui";const Oe=w.measureText(Ue).width;w.fillText(Ue,Ae+Y/2-Oe/2,xe+Be/2+4)}w.fillStyle=B,w.font="12px ui-sans-serif,system-ui";const ee=d(String(we[Ce]||""));if(Y>26){const Ue=w.measureText(ee).width;w.fillText(ee,Ae+Y/2-Ue/2,L+14)}if(ye>.01){const Ue=`${(Math.round(ye*100)/100).toFixed(1)}h`;a(w,Ue,Ae+Y/2,Math.max(S+4,xe-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})}});const _e=oe.reduce((ye,Ce)=>ye+Math.max(0,Number(Ce)||0),0),Te=`${(Math.round(_e*100)/100).toFixed(1)}h total`;a(w,Te,G-4,S+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"})}os(()=>{g(),window.addEventListener("resize",g)}),vt(()=>t.stacked,()=>g(),{deep:!0}),vt(()=>t.legacy,()=>g(),{deep:!0}),vt(()=>t.colorsById,()=>g(),{deep:!0});function d(h){const w=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!w)return h;const M=new Date(`${w[1]}-${w[2]}-${w[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][M.getDay()]||h}function p(h,w){if(!Array.isArray(h)||h.length!==7)return{labels:h,series:w};const M=h.map(B=>c(B));if(M.some(B=>!B))return{labels:h,series:w};const k=M.map(B=>y(B)),S=[1,2,3,4,5,6,7];if(k.join(",")===S.join(","))return{labels:h,series:w};const T={};if(k.forEach((B,ae)=>{T[B]=ae}),!S.every(B=>B in T))return{labels:h,series:w};const L=S.map(B=>T[B]),G=L.map(B=>h[B]),q=(w||[]).map(B=>{const ae=Array.isArray(B.data)?B.data:[],J=Array.isArray(B.forecast)?B.forecast:null,oe=L.map(Pe=>ae[Pe]??0),we=J?L.map(Pe=>J[Pe]??0):void 0,Se={...B,data:oe};return we&&(Se.forecast=we),Se});return{labels:G,series:q}}function c(h){const w=/^(\d{4})-(\d{2})-(\d{2})$/.exec(h);if(!w)return null;const M=new Date(`${w[1]}-${w[2]}-${w[3]}T00:00:00`);return isNaN(M.getTime())?null:M}function y(h){const w=h.getDay();return w===0?7:w}return(h,w)=>(C(),A("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),cc=Ee({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,s=se(null);let a=null;function n(){var L;const r=s.value,o=t.hod;if(!r)return;if(!o){console.info("[opsdash] heatmap: no data provided");return}const i=an(r);if(!i)return;const l=r.clientWidth,f=r.clientHeight,g=o.dows||[],d=o.hours||[],p=o.matrix||[];i.clearRect(0,0,l,f);const c=36,y=c,h=c,w=l-c,M=f-c,k=(w-y)/Math.max(1,d.length),S=(M-h)/Math.max(1,g.length),T=Math.max(0,...p.flat())||1;g.length&&d.length&&console.info("[opsdash] heatmap draw",{rows:g.length,cols:d.length,vmax:T});for(let G=0;G<g.length;G++)for(let q=0;q<d.length;q++){const ae=(((L=p[G])==null?void 0:L[q])||0)/T,J=y+q*k,oe=h+G*S;i.fillStyle=lc(ae),i.fillRect(J,oe,k-1,S-1)}i.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",i.font="12px ui-sans-serif,system-ui",g.forEach((G,q)=>i.fillText(G,8,h+q*S+12)),d.forEach((G,q)=>{q%2===0&&i.fillText(String(G),y+q*k+2,h-6)})}return os(async()=>{await Ys(),n();try{a=new ResizeObserver(()=>n()),s.value&&a.observe(s.value)}catch{}window.addEventListener("resize",n)}),ja(()=>{try{window.removeEventListener("resize",n)}catch{}try{a&&s.value&&a.unobserve(s.value)}catch{}a=null}),vt(()=>t.hod,()=>n(),{deep:!0}),(r,o)=>(C(),A("canvas",{ref_key:"cv",ref:s,class:"chart"},null,512))}}),uc={class:"group-row"},dc={colspan:"5"},fc={class:"group-header"},gc={class:"group-label"},pc={class:"name"},hc={key:0,class:"group-meta"},mc={class:"summary"},vc={key:0,class:"summary-percent"},yc={key:1,class:"group-meta"},bc={class:"summary"},wc={key:0},_c=["title"],kc={class:"row-name"},xc={key:0,class:"progress"},Sc={class:"num"},Cc={class:"num"},$c={class:"num"},Mc={class:"num"},Tc={key:0,class:"hint"},Ac={key:0,class:"empty-row"},Dc=Ee({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{}},setup(e){const t=e,s=j(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(k=>({id:k.id,label:k.label,summary:k.summary??null,color:k.color,rows:(k.rows||[]).map(a)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(a)}]);function a(k){const S=n(k);return{...k,calendarId:S}}function n(k){return k?k.calendarId?String(k.calendarId):k.id?String(k.id):k.calendar_id?String(k.calendar_id):k.calendar?String(k.calendar):"":""}function r(k){return String(k.calendar||k.displayname||k.name||k.calendarId||"")}function o(k){return n(k)||r(k)}function i(k){const S=y(k);if(!S)return!1;const T=t.targets||{},L=Number(T[S]);return isFinite(L)&&L>0}function l(k){const S=y(k);if(!S)return 0;const T=t.targets||{},L=Number(T[S]);return isFinite(L)?L:0}function f(k){const S=l(k);return S>0?(Math.round(S*100)/100).toFixed(2):""}function g(k,S){return k-S>=0?"delta pos":"delta neg"}function d(k,S){const T=k-S,L=Math.abs(Math.round(T*100)/100).toFixed(2);return(T>=0?"+":"-")+L+"h"}function p(k,S){return Math.max(0,Math.min(100,S>0?k/S*100:0)).toFixed(0)+"%"}function c(k,S){return Math.max(0,Math.min(100,S>0?k/S*100:0))}function y(k){return k==null?"":String(k)}function h(k){const S=k.summary;if(!S)return`${k.rows.length} calendar${k.rows.length===1?"":"s"}`;const T=t.n2(S.actualHours);return S.targetHours>0?`${T} h / ${t.n2(S.targetHours)} h`:`${T} h`}function w(k){const S=k.summary;return!S||S.targetHours<=0?"":`${Math.round(S.percent)}%`}function M(k){switch(k){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(k,S)=>(C(),A("table",null,[S[1]||(S[1]=u("colgroup",null,[u("col",{class:"col-w-42"}),u("col",{class:"col-w-12"}),u("col",{class:"col-w-14"}),u("col",{class:"col-w-14"}),u("col",{class:"col-w-18"})],-1)),S[2]||(S[2]=u("thead",null,[u("tr",null,[u("th",{class:"nowrap"},"Calendar"),u("th",{class:"num"},"Events"),u("th",{class:"num"},"Hours"),u("th",{class:"num"},"Target"),u("th",{class:"num"}," / %")])],-1)),u("tbody",null,[(C(!0),A(ue,null,je(s.value,T=>(C(),A(ue,{key:T.id},[u("tr",uc,[u("td",dc,[u("div",fc,[u("div",gc,[u("span",{class:"dot",style:At({background:T.color||"var(--brand)"})},null,4),u("span",pc,E(T.label),1)]),T.summary?(C(),A("div",hc,[u("span",mc,E(h(T)),1),w(T)?(C(),A("span",vc,E(w(T)),1)):z("",!0),T.summary.statusLabel?(C(),A("span",{key:1,class:he(["badge",M(T.summary.status)])},E(T.summary.statusLabel),3)):z("",!0)])):(C(),A("div",yc,[u("span",bc,[me(E(T.rows.length)+" calendar",1),T.rows.length!==1?(C(),A("span",wc,"s")):z("",!0)])]))])])]),(C(!0),A(ue,null,je(T.rows,L=>(C(),A("tr",{key:o(L)},[u("td",null,[u("div",{class:"cell",title:r(L)},[u("div",kc,E(r(L)),1),i(n(L))&&l(n(L))>0?(C(),A("div",xc,[u("div",{class:"progress-bar",style:At({width:c(L.total_hours,l(n(L)))+"%",background:T.color||void 0})},null,4)])):z("",!0)],8,_c)]),u("td",Sc,E(L.events_count),1),u("td",Cc,E(k.n2(L.total_hours)),1),u("td",$c,E(f(n(L))),1),u("td",Mc,[i(n(L))?(C(),A(ue,{key:0},[u("span",{class:he(g(L.total_hours,l(n(L))))},E(d(L.total_hours,l(n(L)))),3),l(n(L))>0?(C(),A("span",Tc," ("+E(p(L.total_hours,l(n(L))))+")",1)):z("",!0)],64)):(C(),A(ue,{key:1},[me("")],64))])]))),128)),T.rows.length?z("",!0):(C(),A("tr",Ac,[...S[0]||(S[0]=[u("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),Ot=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},Ec=Ot(Dc,[["__scopeId","data-v-69f095b4"]]),Pc={class:"mono nowrap"},Ic=["href"],Nc={class:"hint"},Lc={class:"num"},Oc={class:"num"},Hc=Ee({__name:"ByDayTable",props:{rows:{},n2:{type:Function},link:{type:Function}},setup(e){function t(s){const a=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(s)||"");if(!a)return"";const n=new Date(`${a[1]}-${a[2]}-${a[3]}T00:00:00Z`);return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][n.getUTCDay()]||""}return(s,a)=>(C(),A("table",null,[a[0]||(a[0]=u("colgroup",null,[u("col",{class:"col-w-40"}),u("col",{class:"col-w-30"}),u("col",{class:"col-w-30"})],-1)),a[1]||(a[1]=u("thead",null,[u("tr",null,[u("th",{class:"nowrap"},"Date"),u("th",{class:"num"},"Events"),u("th",{class:"num"},"Hours")])],-1)),u("tbody",null,[(C(!0),A(ue,null,je(s.rows,n=>(C(),A("tr",{key:n.date},[u("td",Pc,[u("a",{href:s.link(n.date),target:"_blank"},E(n.date),9,Ic),u("span",Nc," ("+E(t(n.date))+")",1)]),u("td",Lc,E(n.events_count),1),u("td",Oc,E(s.n2(n.total_hours)),1)]))),128))])]))}}),Fc=["onClick"],Rc=["title"],Wc={class:"num"},Bc={class:"mono nowrap"},jc={class:"mono nowrap"},Uc={key:0},Vc={colspan:"5",class:"mono cell-details"},zc={key:0},Kc={key:1,class:"hint"},qc=Ee({__name:"TopEventsTable",props:{rows:{},n2:{type:Function},detailsIndex:{}},emits:["toggle"],setup(e){return(t,s)=>(C(),A("table",null,[s[1]||(s[1]=u("colgroup",null,[u("col",{class:"col-w-22"}),u("col"),u("col",{class:"col-w-12"}),u("col",{class:"col-w-18"}),u("col",{class:"col-w-16"})],-1)),s[2]||(s[2]=u("thead",null,[u("tr",null,[u("th",null,"Calendar"),u("th",null,"Summary"),u("th",{class:"num"},"Hours"),u("th",{class:"nowrap"},"Start date"),u("th",{class:"nowrap"},"Start time")])],-1)),u("tbody",null,[(C(!0),A(ue,null,je(t.rows,(a,n)=>{var r;return C(),A(ue,{key:n},[u("tr",{onClick:o=>t.$emit("toggle",n),class:"cursor-pointer"},[u("td",null,E(a.calendar),1),u("td",null,[u("span",{class:"cell",title:a.summary},E(a.summary),9,Rc)]),u("td",Wc,E(t.n2(a.duration_h)),1),u("td",Bc,E((a.start||"").split(" ")[0]),1),u("td",jc,E((r=(a.start||"").split(" ")[1])==null?void 0:r.slice(0,5)),1)],8,Fc),t.detailsIndex===n?(C(),A("tr",Uc,[u("td",Vc,[s[0]||(s[0]=u("div",null,[u("strong",null,"Details")],-1)),a.desc?(C(),A("div",zc,E(a.desc),1)):(C(),A("div",Kc,"No description"))])])):z("",!0)],64)}),128))])]))}}),Jc={class:"card time-summary compact"},Gc={class:"time-summary-firstline"},Zc={class:"time-summary-metrics"},Yc={key:0},Xc={key:1},Qc={key:2},eu={key:3},tu={key:4},su={key:0,class:"time-summary-row"},au={key:1,class:"time-summary-row"},nu={key:0,class:"share"},ru={key:2,class:"time-summary-row calendars"},ou={class:"label"},iu={class:"text"},lu={key:3,class:"time-summary-row top-category"},cu={class:"text"},uu={key:4,class:"time-summary-row"},du=Ot(Ee({__name:"TimeSummaryCard",props:{summary:{},mode:{},config:{}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},s=e,a=j(()=>Object.assign({},t,s.config??{})),n=j(()=>s.mode==="active"?"active days":"all days"),r=j(()=>{if(!a.value.showWeekendShare)return"";const d=s.summary.weekendShare;return d==null?"":`${l(d)}%`}),o=j(()=>{if(!a.value.showTopCategory)return null;const d=s.summary.topCategory;if(!d)return null;const p=f(d.actualHours),c=Number(d.percent??0).toFixed(0),y=d.targetHours>0?` (${c}% of ${f(d.targetHours)} h)`:"";return{text:`${d.label}  ${p} h${y}`,badge:d.statusLabel||"",badgeClass:g(d.status)}}),i=j(()=>{if(!a.value.showBusiest)return"";const d=s.summary.busiest;if(!d||!d.date)return"";const p=Number(d.hours??0);return`Busiest ${d.date}  ${f(p)} h`});function l(d){return Number(d??0).toFixed(1)}function f(d){return Number(d??0).toFixed(2)}function g(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(d,p)=>(C(),A("div",Jc,[u("div",Gc,[u("em",null,"Time Summary  "+E(d.summary.rangeLabel),1)]),u("ul",Zc,[a.value.showTotal?(C(),A("li",Yc,[u("strong",null,E(f(d.summary.totalHours))+" h",1),p[0]||(p[0]=me(" total",-1))])):z("",!0),a.value.showAverage?(C(),A("li",Xc,E(f(d.summary.avgDay))+" h/day ("+E(n.value)+")",1)):z("",!0),a.value.showAverage?(C(),A("li",Qc,E(f(d.summary.avgEvent))+" h/event",1)):z("",!0),a.value.showMedian?(C(),A("li",eu,E(f(d.summary.medianDay))+" h median/day",1)):z("",!0),a.value.showBusiest&&i.value?(C(),A("li",tu,E(i.value),1)):z("",!0)]),a.value.showWorkday?(C(),A("div",su,[p[1]||(p[1]=u("span",{class:"label"},"Workdays",-1)),me(" "+E(f(d.summary.workdayAvg))+" h avg  "+E(f(d.summary.workdayMedian))+" h median ",1)])):z("",!0),a.value.showWeekend?(C(),A("div",au,[p[2]||(p[2]=u("span",{class:"label"},"Weekend",-1)),me(" "+E(f(d.summary.weekendAvg))+" h avg  "+E(f(d.summary.weekendMedian))+" h median ",1),a.value.showWeekendShare&&r.value?(C(),A("span",nu,"("+E(r.value)+")",1)):z("",!0)])):z("",!0),a.value.showCalendarSummary?(C(),A("div",ru,[u("span",ou,E(d.summary.activeCalendars)+" calendars",1),d.summary.calendarSummary?(C(),A(ue,{key:0},[p[3]||(p[3]=u("span",{class:"sep"},"",-1)),u("span",iu,E(d.summary.calendarSummary),1)],64)):z("",!0)])):z("",!0),a.value.showTopCategory&&o.value?(C(),A("div",lu,[p[4]||(p[4]=u("span",{class:"label"},"Top category",-1)),u("span",cu,E(o.value.text),1),o.value.badge?(C(),A("span",{key:0,class:he(["summary-badge",o.value.badgeClass])},E(o.value.badge),3)):z("",!0)])):z("",!0),a.value.showBalance&&d.summary.balanceIndex!=null?(C(),A("div",uu,[p[5]||(p[5]=u("span",{class:"label"},"Balance",-1)),me(" "+E(f(d.summary.balanceIndex))+" ",1),p[6]||(p[6]=u("span",{class:"hint"},"(1 = perfekt)",-1))])):z("",!0)]))}}),[["__scopeId","data-v-c358573a"]]),fu={class:"card targets-card"},gu={class:"targets-header"},pu={key:0,class:"hint"},hu={class:"targets-main"},mu={class:"line total-line"},vu={class:"value"},yu={key:0,class:"line"},bu={key:1,class:"line"},wu={class:"line forecast"},_u={class:"hint"},ku={key:0,class:"targets-badges"},xu={key:1,class:"targets-categories"},Su={class:"cat-top"},Cu={class:"cat-label"},$u={class:"name"},Mu={class:"cat-meta"},Tu={class:"percent"},Au={class:"cat-progress"},Du={class:"bar"},Eu={class:"cat-metrics"},Pu={class:"hint"},Iu={key:1,class:"hint"},Nu={key:0,class:"cat-footer"},Lu={class:"hint"},Ou=Ot(Ee({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{}},setup(e){const t=e,s=j(()=>{var d;return((d=t.summary)==null?void 0:d.total)??l("total","Total")}),a=j(()=>{var p;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(c=>({id:c.id,label:c.label,summary:c.summary??l(c.id,c.label),color:c.color,rows:c.rows})):(((p=t.summary)==null?void 0:p.categories)??[]).map(c=>({id:c.id,label:c.label,summary:c,color:void 0,rows:[]}))}),n=j(()=>a.value.map(d=>{const p=d.summary??l(d.id,d.label);return{id:d.id,label:d.label||p.label,actualHours:p.actualHours,targetHours:p.targetHours,percent:p.percent,deltaHours:p.deltaHours,needPerDay:p.needPerDay,daysLeft:p.daysLeft,calendarPercent:p.calendarPercent,gap:p.gap,status:p.status,statusLabel:p.statusLabel,color:d.color,calendarCount:Array.isArray(d.rows)?d.rows.length:0,progress:f(p.percent,0,140),calendarLabel:Array.isArray(d.rows)&&d.rows.length===1?"calendar":"calendars"}}).filter(d=>d.targetHours>0||d.actualHours>0||d.calendarCount>0));function r(d){if(!isFinite(d))return"0";const p=Math.round(d*10)/10;return Math.abs(p-Math.round(p))<.05?String(Math.round(p)):p.toFixed(1)}function o(d){return!isFinite(d)||Math.abs(d)<.005?"0.0":(d>=0?"+":"")+r(Math.abs(d))}function i(d){switch(d){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function l(d,p){return{id:d,label:p,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function f(d,p,c){return!isFinite(d)||d<p?p:d>c?c:d}function g(d){return d==="momentum"?"Momentum":"Linear"}return(d,p)=>(C(),A("div",fu,[u("div",gu,[p[0]||(p[0]=u("strong",null,"Targets",-1)),s.value.targetHours>0?(C(),A("span",pu,E(s.value.percent.toFixed(0))+"%",1)):z("",!0)]),u("div",hu,[u("div",mu,[u("span",vu,[u("strong",null,E(r(s.value.actualHours)),1),me(" / "+E(r(s.value.targetHours))+" h",1)]),d.config.ui.showTotalDelta&&s.value.targetHours>0?(C(),A("span",{key:0,class:he(["delta",s.value.deltaHours>=0?"pos":"neg"])},"  "+E(o(s.value.deltaHours))+"h ",3)):z("",!0)]),d.config.ui.showNeedPerDay&&s.value.targetHours>0?(C(),A("div",yu," Days left "+E(s.value.daysLeft)+"  Need "+E(r(s.value.needPerDay))+" h/day ",1)):z("",!0),s.value.targetHours>0?(C(),A("div",bu,[me(" Pace: "+E(s.value.percent.toFixed(0))+"% vs "+E(s.value.calendarPercent.toFixed(0))+"%  ",1),u("span",{class:he(["status-label",i(s.value.status)])},E(s.value.statusLabel),3)])):z("",!0),u("div",wu,[me(" Forecast: "+E(d.summary.forecast.text)+" ",1),u("span",_u," Linear "+E(r(d.summary.forecast.linear))+"h  Momentum "+E(r(d.summary.forecast.momentum))+"h  Primary: "+E(g(d.summary.forecast.primaryMethod)),1)])]),d.config.ui.badges&&s.value.targetHours>0?(C(),A("div",ku,[u("span",{class:he(["badge",i(s.value.status)])},E(s.value.statusLabel),3)])):z("",!0),d.config.ui.showCategoryBlocks&&n.value.length?(C(),A("div",xu,[(C(!0),A(ue,null,je(n.value,c=>(C(),A("div",{class:"category",key:c.id},[u("div",Su,[u("div",Cu,[u("span",{class:"dot",style:At({background:c.color||"var(--brand)"})},null,4),u("span",$u,E(c.label),1)]),u("div",Mu,[u("span",Tu,E(c.percent.toFixed(0))+"%",1),d.config.ui.badges&&c.targetHours>0?(C(),A("span",{key:0,class:he(["badge",i(c.status)])},E(c.statusLabel),3)):z("",!0)])]),u("div",Au,[u("div",Du,[u("div",{class:"fill",style:At({width:c.progress+"%",background:c.color||"var(--brand)"})},null,4)])]),u("div",Eu,[u("strong",null,E(r(c.actualHours))+"h",1),u("span",Pu,"/ "+E(r(c.targetHours))+"h",1),c.targetHours>0?(C(),A("span",{key:0,class:he(["delta",c.deltaHours>=0?"pos":"neg"])},"  "+E(o(c.deltaHours))+"h ",3)):z("",!0),d.config.ui.showNeedPerDay&&c.targetHours>0?(C(),A("span",Iu," Need "+E(r(c.needPerDay))+"h/day  "+E(c.daysLeft)+" days left ",1)):z("",!0)]),c.calendarCount>0?(C(),A("div",Nu,[u("span",Lu,E(c.calendarCount)+" "+E(c.calendarLabel),1)])):z("",!0)]))),128))])):z("",!0)]))}}),[["__scopeId","data-v-bcb82b9a"]]);function Hu(e){const t=e?pt(e):Es(),s={id:"total",label:"Total",actualHours:0,targetHours:t.totalHours,percent:0,deltaHours:0,remainingHours:t.totalHours,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:s,categories:(t.categories||[]).map(a=>({...s,id:a.id,label:a.label,targetHours:a.targetHours,remainingHours:a.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:t.forecast.methodPrimary,primary:0,bandLow:0,bandHigh:0}}}function nn(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range"},thresholds:{noticeMaxShare:.65,warnMaxShare:.75,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:1},dayparts:{enabled:!1},ui:{roundPercent:1,roundRatio:1,showDailyStacks:!1,showInsights:!0}}}function us(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showHint:!0,forecastMode:"total"}}const rn=24*60*60*1e3;function Fu(e){const t=Number(e);if(!Number.isFinite(t))return 0;const s=Math.min(1e4,Math.max(0,t));return Number(s.toFixed(2))}function on(e){return Fu(Number(e)*4)}function Es(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:us(),balance:nn(),includeZeroDaysInStats:!1}}function ln(e){return JSON.parse(JSON.stringify(pt(e)))}function Ru(e){const t=pt(e.config),s=fo(e.from),a=fo(e.to),n=Ju(e.byDay),r=(e.byCal||[]).reduce((d,p)=>{const c=Number((p==null?void 0:p.total_hours)??(p==null?void 0:p.hours)??0);return Number.isFinite(c)?d+c:d},0),o=t.totalHours||0,i=uo({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n}),l=co({id:"total",label:"Total",actual:r,target:o,pace:i,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),f=t.categories.map(d=>{const p=Uu(d,e.byCal,e.groupsById),c=d.paceMode||t.pace.mode,y=uo({includeWeekend:d.includeWeekend,mode:c,includeZeroDays:t.includeZeroDaysInStats,start:s,end:a,dailyHours:n});return co({id:d.id,label:d.label,actual:p,target:d.targetHours,pace:y,thresholds:t.pace.thresholds,includeWeekend:d.includeWeekend,paceMode:c})}),g=Ku({config:t,totalProgress:l,dailyHours:n,pace:i});return{total:l,categories:f,forecast:g}}function pt(e){var o,i,l,f,g,d,p,c,y,h,w,M,k,S,T,L,G,q,B,ae,J,oe,we,Se,Pe;if(typeof e=="string")try{const U=JSON.parse(e);return pt(U)}catch{return pt(void 0)}const t=Es(),s=JSON.parse(JSON.stringify(e??{}));if(typeof s!="object"||s===null||Array.isArray(s))return t;Array.isArray(s.categories)||(s.categories=[]);const a=s.categories.map(U=>{const le=(U!=null&&U.id&&typeof U.id=="string"?U.id:"")||Yu(String((U==null?void 0:U.label)??"cat")),Y=typeof(U==null?void 0:U.label)=="string"&&U.label.trim()!==""?U.label.trim():Wu(le),Q=Ht(U==null?void 0:U.targetHours,0,1e4),_e=!!(U!=null&&U.includeWeekend),Te=(U==null?void 0:U.paceMode)==="time_aware"?"time_aware":"days_only",Ie=Array.isArray(U==null?void 0:U.groupIds)?U.groupIds.map(ve=>Number(ve)).filter(ve=>Number.isFinite(ve)&&ve>=0&&ve<=9):[];return{id:le,label:Y,targetHours:Q,includeWeekend:_e,paceMode:Te,groupIds:Ie}}),n=a.length?a:t.categories;return{totalHours:Ht(s.totalHours,0,1e4),categories:n,pace:{includeWeekendTotal:!!(((o=s.pace)==null?void 0:o.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((i=s.pace)==null?void 0:i.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Ht(((f=(l=s.pace)==null?void 0:l.thresholds)==null?void 0:f.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Ht(((d=(g=s.pace)==null?void 0:g.thresholds)==null?void 0:d.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((p=s.forecast)==null?void 0:p.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var le;const U=Math.round(((le=s.forecast)==null?void 0:le.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(U)?U:t.forecast.momentumLastNDays))})(),padding:Ht(((c=s.forecast)==null?void 0:c.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((y=s.ui)==null?void 0:y.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((h=s.ui)==null?void 0:h.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((w=s.ui)==null?void 0:w.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((M=s.ui)==null?void 0:M.badges)??t.ui.badges),includeWeekendToggle:!!(((k=s.ui)==null?void 0:k.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((S=s.ui)==null?void 0:S.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!s.ui.showCalendarCharts,showCategoryCharts:((T=s.ui)==null?void 0:T.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!s.ui.showCategoryCharts},allDayHours:Ht(s.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((L=s.timeSummary)==null?void 0:L.showTotal)===void 0?t.timeSummary.showTotal:!!s.timeSummary.showTotal,showAverage:((G=s.timeSummary)==null?void 0:G.showAverage)===void 0?t.timeSummary.showAverage:!!s.timeSummary.showAverage,showMedian:((q=s.timeSummary)==null?void 0:q.showMedian)===void 0?t.timeSummary.showMedian:!!s.timeSummary.showMedian,showBusiest:((B=s.timeSummary)==null?void 0:B.showBusiest)===void 0?t.timeSummary.showBusiest:!!s.timeSummary.showBusiest,showWorkday:((ae=s.timeSummary)==null?void 0:ae.showWorkday)===void 0?t.timeSummary.showWorkday:!!s.timeSummary.showWorkday,showWeekend:((J=s.timeSummary)==null?void 0:J.showWeekend)===void 0?t.timeSummary.showWeekend:!!s.timeSummary.showWeekend,showWeekendShare:((oe=s.timeSummary)==null?void 0:oe.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!s.timeSummary.showWeekendShare,showCalendarSummary:((we=s.timeSummary)==null?void 0:we.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!s.timeSummary.showCalendarSummary,showTopCategory:((Se=s.timeSummary)==null?void 0:Se.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!s.timeSummary.showTopCategory,showBalance:((Pe=s.timeSummary)==null?void 0:Pe.showBalance)===void 0?t.timeSummary.showBalance:!!s.timeSummary.showBalance},activityCard:Bu(s.activityCard,t.activityCard),balance:ju(s.balance,n,t.balance),includeZeroDaysInStats:!!(s.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Wu(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Ht(e,t,s){const a=Number(e);return Number.isFinite(a)?Math.min(s,Math.max(t,Math.round(a*100)/100)):t}function cn(e,t,s){const a=Number(e);if(!Number.isFinite(a))return t;const n=Math.round(a);return n<t?t:n>s?s:n}function Bu(e,t){const s={...t};if(!e||typeof e!="object")return s;["showWeekendShare","showEveningShare","showEarliestLatest","showOverlaps","showLongestSession","showLastDayOff","showHint"].forEach(r=>{Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=!!e[r])});const n=e==null?void 0:e.forecastMode;if(typeof n=="string"){const r=n.toLowerCase();(r==="off"||r==="total"||r==="calendar"||r==="category")&&(s.forecastMode=r)}return s}function ju(e,t,s){var f,g,d,p;const a=t.map(c=>c.id),n=new Set([...a,"__uncategorized__"]),r=Array.isArray(e==null?void 0:e.categories)?e.categories:s.categories,o=[];for(const c of r){const y=typeof c=="string"?c.trim():String(c??"").trim();y&&(n.size&&!n.has(y)||o.includes(y)||o.push(y))}o.length||(a.length?o.push(...a.slice(0,s.categories.length)):o.push(...s.categories));const i=(e==null?void 0:e.thresholds)??{},l=(e==null?void 0:e.ui)??{};return{categories:o,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??s.useCategoryMapping),index:{method:((f=e==null?void 0:e.index)==null?void 0:f.method)==="shannon_evenness"?"shannon_evenness":s.index.method},thresholds:{noticeMaxShare:Ht(i.noticeMaxShare??s.thresholds.noticeMaxShare,0,1),warnMaxShare:Ht(i.warnMaxShare??s.thresholds.warnMaxShare,0,1),warnIndex:Ht(i.warnIndex??s.thresholds.warnIndex,0,1)},relations:{displayMode:((g=e==null?void 0:e.relations)==null?void 0:g.displayMode)==="factor"?"factor":s.relations.displayMode},trend:{lookbackWeeks:cn(((d=e==null?void 0:e.trend)==null?void 0:d.lookbackWeeks)??s.trend.lookbackWeeks,1,12)},dayparts:{enabled:!!(((p=e==null?void 0:e.dayparts)==null?void 0:p.enabled)??s.dayparts.enabled)},ui:{roundPercent:cn(l.roundPercent??s.ui.roundPercent,0,3),roundRatio:cn(l.roundRatio??s.ui.roundRatio,0,3),showDailyStacks:!!(l.showDailyStacks??s.ui.showDailyStacks),showInsights:!!(l.showInsights??s.ui.showInsights)}}}function Uu(e,t,s){if(!Array.isArray(t))return 0;const a=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let n=0;for(const r of t){const o=Number((r==null?void 0:r.total_hours)??(r==null?void 0:r.hours)??0);if(!isFinite(o)||o<=0)continue;const i=String((r==null?void 0:r.id)??(r==null?void 0:r.calendar)??""),l=Number((r==null?void 0:r.group)??(r==null?void 0:r.group_id)??(s==null?void 0:s[i])??0);a&&!a.has(l)||(n+=o)}return n}function co(e){const t=Math.max(0,e.target||0),s=Math.max(0,e.actual||0),a=t>0?un(s/t*100):0,n=t-s,r=s-t,o=e.pace.daysLeft>0?Math.max(0,n)/e.pace.daysLeft:0,i=a-e.pace.calendarPercent,l=Vu({percent:a,target:t,gap:i,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:rt(s),targetHours:rt(t),percent:a,deltaHours:rt(r),remainingHours:rt(Math.max(0,n)),needPerDay:rt(o),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:un(e.pace.calendarPercent),gap:rt(i),status:l,statusLabel:zu(l),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function Vu(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function zu(e){switch(e){case"on_track":return"On Track";case"at_risk":return"At Risk";case"behind":return"Behind";case"done":return"Done";default:return""}}function uo(e){const{start:t,end:s}=e;if(!t||!s)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const a=pa(new Date),n=Vt(t),r=Vt(s),o=Gu(t,s).filter(d=>e.includeWeekend||!Zu(d)),i=o.length;if(i===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(Vt(a)>r)return{totalEligible:i,elapsedEligible:i,daysLeft:0,calendarPercent:100};if(Vt(a)<n)return{totalEligible:i,elapsedEligible:0,daysLeft:i,calendarPercent:0};let l=0;for(const d of o){const p=Vt(d),c=e.dailyHours.get(p)??0;if(!(!e.includeZeroDays&&c<=0&&p!==Vt(a))){if(p<Vt(a))l+=1;else if(p===Vt(a))if(e.mode==="time_aware"){const h=Math.min(new Date().getTime(),d.getTime()+rn)-d.getTime(),w=Math.max(0,Math.min(1,h/rn));(e.includeZeroDays||c>0||w>0)&&(l+=w)}else(e.includeZeroDays||c>0)&&(l+=1)}}const f=un(l/i*100),g=Math.max(0,i-l);return{totalEligible:i,elapsedEligible:l,daysLeft:g,calendarPercent:f}}function Ku(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,s=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,a=Math.max(0,Math.ceil(e.pace.daysLeft)),n=qu(e.dailyHours,e.config.forecast.momentumLastNDays),r=e.totalProgress.actualHours+n*a,o=Math.max(0,Math.min(s,r)-e.config.forecast.padding),i=Math.max(s,r)+e.config.forecast.padding,l=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",f=l==="momentum"?r:s,g=Math.max(0,f-e.config.forecast.padding),d=Math.max(0,f+e.config.forecast.padding),p=l==="momentum"?"Momentum":"Linear";return{linear:rt(s),momentum:rt(r),low:rt(Math.max(0,o)),high:rt(Math.max(0,i)),text:`${p} ${dn(e.config.forecast.padding)}h  ${dn(g)}${dn(d)} h`,primaryMethod:l,primary:rt(f),bandLow:rt(g),bandHigh:rt(d)}}function qu(e,t){if(t<=0)return 0;const s=Array.from(e.entries());if(!s.length)return 0;s.sort((r,o)=>r[0].localeCompare(o[0]));const a=s.slice(-t),n=a.reduce((r,[,o])=>r+Math.max(0,o||0),0);return a.length?n/a.length:0}function Ju(e){const t=new Map;if(!Array.isArray(e))return t;for(const s of e){const a=String((s==null?void 0:s.date)??(s==null?void 0:s.day)??"");if(!a)continue;const n=Number((s==null?void 0:s.total_hours)??(s==null?void 0:s.hours)??0);isFinite(n)&&t.set(a,n)}return t}function Gu(e,t){const s=[];let a=pa(e);const n=pa(t).getTime();for(;a.getTime()<=n;)s.push(new Date(a)),a=new Date(a.getTime()+rn);return s}function fo(e){if(!e)return null;const t=e.split("-").map(a=>Number(a));if(t.length!==3||t.some(a=>!Number.isInteger(a)))return null;const s=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(s.getTime())?null:pa(s)}function pa(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function Vt(e){return e.toISOString().slice(0,10)}function Zu(e){const t=e.getUTCDay();return t===0||t===6}function un(e){return isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function rt(e){return isFinite(e)?Number(e.toFixed(2)):0}function dn(e){if(!isFinite(e))return"0";const t=rt(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function Yu(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return`cat-${Math.abs(t)}`}const Xu={class:"card activity-card"},Qu={class:"activity-card__header"},ed={key:0,class:"pill"},td={key:0,class:"activity-card__hero"},sd={key:1,class:"activity-card__subline"},ad={key:2,class:"activity-card__meta"},nd={key:3,class:"activity-card__extra"},rd={key:4,class:"activity-card__hint"},od=Ot(Ee({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{}},setup(e){const t=us(),s=e,a=j(()=>Object.assign({},t,s.config??{})),n=j(()=>{const p=[];p.push(`Events ${s.summary.events}`),s.summary.activeDays!=null&&p.push(`Active Days ${s.summary.activeDays}`);const c=l(s.summary.typicalStart,s.summary.typicalEnd);return c&&p.push(`Typical ${c}`),p.join("  ")}),r=j(()=>{const p=[];return a.value.showWeekendShare&&s.summary.weekendShare!=null&&p.push(`Weekend ${f(s.summary.weekendShare)}`),a.value.showEveningShare&&s.summary.eveningShare!=null&&p.push(`Evening ${f(s.summary.eveningShare)}`),p.join("  ")}),o=j(()=>{const p=[];if(a.value.showEarliestLatest){const c=g(s.summary.earliestStart),y=g(s.summary.latestEnd);(c||y)&&p.push({label:"Earliest/Late",value:`${c||""} / ${y||""}`})}return a.value.showOverlaps&&s.summary.overlapEvents!=null&&p.push({label:"Overlaps",value:s.summary.overlapEvents.toString()}),p}),i=j(()=>{const p=[];return a.value.showLongestSession&&s.summary.longestSession!=null&&s.summary.longestSession>0&&p.push({label:"Longest Session",value:`${Number(s.summary.longestSession).toFixed(1)} h`}),a.value.showLastDayOff&&s.summary.lastDayOff&&p.push({label:"Last day off",value:d(s.summary.lastDayOff)}),a.value.showLastDayOff&&s.summary.lastHalfDayOff&&p.push({label:"Last half day",value:d(s.summary.lastHalfDayOff)}),p});function l(p,c){return p&&c?`${p}${c}`:p?`${p}`:c?`${c}`:""}function f(p){return`${Number(p||0).toFixed(1)}%`}function g(p){return p?p.length>=16?p.slice(11,16):p.length>=5?p.slice(0,5):null:null}function d(p){const c=p.trim();if(!c)return"";if(c.split("-").length>=2){const h=new Date(c.length===10?`${c}T00:00:00`:c);if(!Number.isNaN(h.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(h)}return c}return(p,c)=>(C(),A("div",Xu,[u("div",Qu,[u("span",null,"Activity & Schedule ("+E(p.rangeLabel)+")",1),p.summary.rangeLabel?(C(),A("span",ed,E(p.summary.rangeLabel),1)):z("",!0)]),n.value?(C(),A("div",td,[u("span",null,E(n.value),1)])):z("",!0),r.value?(C(),A("div",sd,[u("span",null,E(r.value),1)])):z("",!0),o.value.length?(C(),A("div",ad,[(C(!0),A(ue,null,je(o.value,y=>(C(),A("span",{key:y.label},[u("strong",null,E(y.label),1),me(" "+E(y.value),1)]))),128))])):z("",!0),i.value.length?(C(),A("div",nd,[(C(!0),A(ue,null,je(i.value,y=>(C(),A("span",{key:y.label},[u("strong",null,E(y.label),1),me(" "+E(y.value),1)]))),128))])):z("",!0),a.value.showHint&&p.categoryHint?(C(),A("div",rd,E(p.categoryHint),1)):z("",!0)]))}}),[["__scopeId","data-v-054cbd84"]]),id={class:"card balance-card"},ld={class:"balance-card__header"},cd={key:0,class:"balance-card__hero"},ud={key:1,class:"balance-card__relations"},dd={key:2,class:"balance-card__trend"},fd={key:3,class:"balance-card__insights"},gd={key:4,class:"balance-card__warnings"},pd=Ot(Ee({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},config:{}},setup(e){const t={showInsights:!0,showDailyStacks:!1},s=e,a=j(()=>Object.assign({},t,s.config??{})),n=j(()=>{if(!s.overview)return"";const f=s.overview.index??0,g=s.overview.categories.filter(p=>p.share>.1).slice(0,4).map(p=>`${p.label} ${p.share.toFixed(0)}%`),d=g.length?`  ${g.join(" | ")}`:"";return`Balance Index ${f.toFixed(2)}${d}`}),r=j(()=>{var f;return!s.overview||!((f=s.overview.relations)!=null&&f.length)?"":s.overview.relations.map(g=>`${g.label} ${g.value}`).join("  ")}),o=j(()=>{var g;if(!s.overview)return"";const f=((g=s.overview.trend)==null?void 0:g.delta)??[];return f.length?f.map(d=>{const p=d.delta>0?"+":d.delta<0?"":"";return`${d.label} ${p}${Math.abs(d.delta).toFixed(1)} pp`}).join(", "):""}),i=j(()=>{var f;return a.value.showInsights?((f=s.overview)==null?void 0:f.insights)??[]:[]}),l=j(()=>{var f;return((f=s.overview)==null?void 0:f.warnings)??[]});return(f,g)=>(C(),A("div",id,[u("div",ld,[u("span",null,"Balance Overview ("+E(f.rangeLabel)+")",1)]),n.value?(C(),A("div",cd,[u("span",null,E(n.value),1)])):z("",!0),r.value?(C(),A("div",ud,E(r.value),1)):z("",!0),o.value?(C(),A("div",dd,[g[0]||(g[0]=u("strong",null,"WoW-:",-1)),me(" "+E(o.value),1)])):z("",!0),i.value.length?(C(),A("ul",fd,[(C(!0),A(ue,null,je(i.value,d=>(C(),A("li",{key:d}," "+E(d),1))),128))])):z("",!0),l.value.length?(C(),A("ul",gd,[(C(!0),A(ue,null,je(l.value,d=>(C(),A("li",{key:d}," "+E(d),1))),128))])):z("",!0)]))}}),[["__scopeId","data-v-a9a4a7a3"]]),hd={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},md={class:"sb-actions"},vd={class:"sb-list"},yd=["aria-pressed","onClick"],bd={class:"cal-name"},wd={class:"cal-fields"},_d={class:"field"},kd=["value","onChange"],xd=["value"],Sd={class:"field"},Cd=["value","title","aria-invalid","onInput"],$d=Ee({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["select-all","toggle-calendar","set-category","target-input"],setup(e){const t=e,{calendars:s,selected:a,range:n,isLoading:r,categoryOptions:o,calendarTargetMessages:i,calendarCategoryId:l,getTarget:f}=t;return(g,d)=>(C(),A("div",hd,[u("div",md,[re(_(ut),{type:"tertiary",disabled:_(r),onClick:d[0]||(d[0]=p=>g.$emit("select-all",!0))},{default:Fe(()=>[...d[2]||(d[2]=[me("All",-1)])]),_:1},8,["disabled"]),re(_(ut),{type:"tertiary",disabled:_(r),onClick:d[1]||(d[1]=p=>g.$emit("select-all",!1))},{default:Fe(()=>[...d[3]||(d[3]=[me("None",-1)])]),_:1},8,["disabled"])]),d[8]||(d[8]=ml('<div class="sb-hints"><div class="sb-title" style="margin:0;">PerCalendar Settings</div><div class="sb-hintline" title="Use categories to drive targets, balance, and summaries."><strong>Category</strong>: choose how this calendar contributes to targets &amp; balance.</div><div class="sb-hintline" title="Define weekly/monthly goals per calendar. Values sync between ranges."><strong>Target (h)</strong>: goal hours for the active range (week  month converts automatically).</div><div class="sb-hintline" title="Only calendars marked Selected contribute to dashboards and KPIs.">Toggle calendars to include or exclude them from stats.</div></div>',1)),u("div",vd,[(C(!0),A(ue,null,je(_(s),p=>{var c,y;return C(),A("div",{key:p.id,class:"cal-card"},[u("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":_(a).includes(p.id),onClick:h=>g.$emit("toggle-calendar",p.id)},[u("span",{class:"color-dot",style:At({background:p.color||"var(--brand)"})},null,4),u("span",bd,E(p.displayname||p.id),1),u("span",{class:he(["cal-state",{on:_(a).includes(p.id)}])},E(_(a).includes(p.id)?"Selected":"Hidden"),3)],8,yd),u("div",wd,[u("label",_d,[d[5]||(d[5]=u("span",{class:"label"},"Category",-1)),u("select",{value:_(l)(p.id),onChange:h=>g.$emit("set-category",{id:p.id,category:h.target.value})},[d[4]||(d[4]=u("option",{value:""},"Unassigned",-1)),(C(!0),A(ue,null,je(_(o),h=>(C(),A("option",{key:h.id,value:h.id},E(h.label),9,xd))),128))],40,kd)]),u("label",Sd,[d[6]||(d[6]=u("span",{class:"label"},"Target (h)",-1)),u("input",{type:"number",value:_(f)(p.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${_(n)==="week"?"week":"month"}) in hours`,"aria-invalid":!!_(i)[p.id],class:"target-input",onInput:h=>g.$emit("target-input",{id:p.id,value:h.target.value})},null,40,Cd),_(i)[p.id]?(C(),A("div",{key:0,class:he(["input-message",(c=_(i)[p.id])==null?void 0:c.tone])},E((y=_(i)[p.id])==null?void 0:y.text),3)):z("",!0)])])])}),128)),d[7]||(d[7]=u("div",{class:"hint mt-8"},"Selection is stored per user.",-1))])]))}}),Md={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},Td={class:"target-config"},Ad={class:"field"},Dd=["value","aria-invalid"],Ed={class:"field"},Pd=["value","aria-invalid"],Id={class:"preset-buttons"},Nd={class:"cat-header"},Ld=["value","onInput"],Od=["disabled","onClick"],Hd={class:"cat-fields"},Fd={class:"field"},Rd=["value","aria-invalid","onInput"],Wd={class:"field"},Bd=["value","onChange"],jd={class:"field checkbox"},Ud=["checked","onChange"],Vd={class:"target-section"},zd={class:"field checkbox"},Kd=["checked"],qd={class:"field"},Jd=["value"],Gd={class:"field"},Zd=["value","aria-invalid"],Yd={class:"field"},Xd=["value","aria-invalid"],Qd={class:"target-section"},ef={class:"field"},tf=["value"],sf={class:"field"},af=["value","aria-invalid"],nf={class:"field"},rf=["value","aria-invalid"],of={class:"target-section"},lf={class:"field checkbox"},cf=["checked"],uf={class:"field checkbox"},df=["checked"],ff={class:"field checkbox"},gf=["checked"],pf={class:"field checkbox"},hf=["checked"],mf={class:"field checkbox"},vf=["checked"],yf={class:"field checkbox"},bf=["checked"],wf={class:"field checkbox"},_f=["checked"],kf={class:"field checkbox"},xf=["checked"],Sf=Ee({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean}},emits:["total-target-input","apply-preset","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option","set-include-zero-days"],setup(e){return(t,s)=>{var a,n,r,o,i,l,f,g,d,p,c,y;return C(),A("div",Md,[s[49]||(s[49]=u("div",{class:"sb-title"},"Target Settings",-1)),u("div",Td,[u("div",Ad,[s[20]||(s[20]=u("span",{class:"label"},"Total target (h)",-1)),u("input",{type:"number",value:t.targets.totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.totalTargetMessage,onInput:s[0]||(s[0]=h=>t.$emit("total-target-input",h.target.value))},null,40,Dd),t.totalTargetMessage?(C(),A("div",{key:0,class:he(["input-message",(a=t.totalTargetMessage)==null?void 0:a.tone])},E((n=t.totalTargetMessage)==null?void 0:n.text),3)):z("",!0)]),u("div",Ed,[s[21]||(s[21]=u("span",{class:"label"},"All-day event (h per day)",-1)),u("input",{type:"number",value:t.targets.allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!t.allDayHoursMessage,onInput:s[1]||(s[1]=h=>t.$emit("set-all-day-hours",h.target.value))},null,40,Pd),t.allDayHoursMessage?(C(),A("div",{key:0,class:he(["input-message",(r=t.allDayHoursMessage)==null?void 0:r.tone])},E((o=t.allDayHoursMessage)==null?void 0:o.text),3)):z("",!0)]),u("div",Id,[re(_(ut),{type:"tertiary",onClick:s[2]||(s[2]=h=>t.$emit("apply-preset","work-week"))},{default:Fe(()=>[...s[22]||(s[22]=[me("Preset: Work-Week",-1)])]),_:1}),re(_(ut),{type:"tertiary",onClick:s[3]||(s[3]=h=>t.$emit("apply-preset","balanced-life"))},{default:Fe(()=>[...s[23]||(s[23]=[me("Preset: Balanced-Life",-1)])]),_:1})]),(C(!0),A(ue,null,je(t.categoryOptions,h=>{var w,M;return C(),A("div",{class:"target-category",key:h.id},[u("div",Nd,[u("input",{class:"cat-name",type:"text",value:h.label,placeholder:"Category name",onInput:k=>t.$emit("set-category-label",{id:h.id,label:k.target.value})},null,40,Ld),u("button",{class:"remove-cat",type:"button",disabled:t.categoryOptions.length<=1,title:"Remove category",onClick:k=>t.$emit("remove-category",h.id)},"  ",8,Od)]),u("div",Hd,[u("label",Fd,[s[24]||(s[24]=u("span",{class:"label"},"Target (h)",-1)),u("input",{type:"number",value:h.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!t.categoryTargetMessages[h.id],onInput:k=>t.$emit("set-category-target",{id:h.id,value:k.target.value})},null,40,Rd),t.categoryTargetMessages[h.id]?(C(),A("div",{key:0,class:he(["input-message",(w=t.categoryTargetMessages[h.id])==null?void 0:w.tone])},E((M=t.categoryTargetMessages[h.id])==null?void 0:M.text),3)):z("",!0)]),u("label",Wd,[s[26]||(s[26]=u("span",{class:"label"},"Pace mode",-1)),u("select",{value:h.paceMode||t.targets.pace.mode,onChange:k=>t.$emit("set-category-pace",{id:h.id,mode:k.target.value})},[...s[25]||(s[25]=[u("option",{value:"days_only"},"Days only",-1),u("option",{value:"time_aware"},"Time aware",-1)])],40,Bd)]),u("label",jd,[u("input",{type:"checkbox",checked:h.includeWeekend,onChange:k=>t.$emit("set-category-weekend",{id:h.id,value:k.target.checked})},null,40,Ud),s[27]||(s[27]=u("span",null,"Weekend",-1))])])])}),128)),re(_(ut),{type:"tertiary",class:"add-category",disabled:!t.canAddCategory,onClick:s[4]||(s[4]=h=>t.$emit("add-category"))},{default:Fe(()=>[...s[28]||(s[28]=[me(" Add category ",-1)])]),_:1},8,["disabled"]),u("div",Vd,[s[34]||(s[34]=u("div",{class:"section-title"},"Pace",-1)),u("label",zd,[u("input",{type:"checkbox",checked:t.targets.pace.includeWeekendTotal,onChange:s[5]||(s[5]=h=>t.$emit("set-include-weekend-total",h.target.checked))},null,40,Kd),s[29]||(s[29]=u("span",null,"Count weekend in total pace",-1))]),u("label",qd,[s[31]||(s[31]=u("span",{class:"label"},"Mode",-1)),u("select",{value:t.targets.pace.mode,onChange:s[6]||(s[6]=h=>t.$emit("set-pace-mode",h.target.value))},[...s[30]||(s[30]=[u("option",{value:"days_only"},"Days only",-1),u("option",{value:"time_aware"},"Time aware",-1)])],40,Jd)]),u("label",Gd,[s[32]||(s[32]=u("span",{class:"label"},"On track  gap (%)",-1)),u("input",{type:"number",value:t.targets.pace.thresholds.onTrack,step:"0.1","aria-invalid":!!t.paceThresholdMessages.onTrack,onInput:s[7]||(s[7]=h=>t.$emit("set-threshold",{key:"onTrack",value:h.target.value}))},null,40,Zd),t.paceThresholdMessages.onTrack?(C(),A("div",{key:0,class:he(["input-message",(i=t.paceThresholdMessages.onTrack)==null?void 0:i.tone])},E((l=t.paceThresholdMessages.onTrack)==null?void 0:l.text),3)):z("",!0)]),u("label",Yd,[s[33]||(s[33]=u("span",{class:"label"},"At risk  gap (%)",-1)),u("input",{type:"number",value:t.targets.pace.thresholds.atRisk,step:"0.1","aria-invalid":!!t.paceThresholdMessages.atRisk,onInput:s[8]||(s[8]=h=>t.$emit("set-threshold",{key:"atRisk",value:h.target.value}))},null,40,Xd),t.paceThresholdMessages.atRisk?(C(),A("div",{key:0,class:he(["input-message",(f=t.paceThresholdMessages.atRisk)==null?void 0:f.tone])},E((g=t.paceThresholdMessages.atRisk)==null?void 0:g.text),3)):z("",!0)])]),u("div",Qd,[s[39]||(s[39]=u("div",{class:"section-title"},"Forecast",-1)),u("label",ef,[s[36]||(s[36]=u("span",{class:"label"},"Primary method",-1)),u("select",{value:t.targets.forecast.methodPrimary,onChange:s[9]||(s[9]=h=>t.$emit("set-forecast-method",h.target.value))},[...s[35]||(s[35]=[u("option",{value:"linear"},"Linear",-1),u("option",{value:"momentum"},"Momentum",-1)])],40,tf)]),u("label",sf,[s[37]||(s[37]=u("span",{class:"label"},"Momentum window (days)",-1)),u("input",{type:"number",value:t.targets.forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!t.forecastMomentumMessage,onInput:s[10]||(s[10]=h=>t.$emit("set-forecast-momentum",h.target.value))},null,40,af),t.forecastMomentumMessage?(C(),A("div",{key:0,class:he(["input-message",(d=t.forecastMomentumMessage)==null?void 0:d.tone])},E((p=t.forecastMomentumMessage)==null?void 0:p.text),3)):z("",!0)]),u("label",nf,[s[38]||(s[38]=u("span",{class:"label"},"Padding (h)",-1)),u("input",{type:"number",value:t.targets.forecast.padding,min:"0",step:"0.1","aria-invalid":!!t.forecastPaddingMessage,onInput:s[11]||(s[11]=h=>t.$emit("set-forecast-padding",h.target.value))},null,40,rf),t.forecastPaddingMessage?(C(),A("div",{key:0,class:he(["input-message",(c=t.forecastPaddingMessage)==null?void 0:c.tone])},E((y=t.forecastPaddingMessage)==null?void 0:y.text),3)):z("",!0)])]),u("div",of,[s[48]||(s[48]=u("div",{class:"section-title"},"Display",-1)),u("label",lf,[u("input",{type:"checkbox",checked:t.targets.ui.showCalendarCharts,onChange:s[12]||(s[12]=h=>t.$emit("set-ui-option",{key:"showCalendarCharts",value:h.target.checked}))},null,40,cf),s[40]||(s[40]=u("span",null,"Show calendar charts",-1))]),u("label",uf,[u("input",{type:"checkbox",checked:t.targets.ui.showCategoryCharts,onChange:s[13]||(s[13]=h=>t.$emit("set-ui-option",{key:"showCategoryCharts",value:h.target.checked}))},null,40,df),s[41]||(s[41]=u("span",null,"Show category charts",-1))]),u("label",ff,[u("input",{type:"checkbox",checked:t.targets.ui.showTotalDelta,onChange:s[14]||(s[14]=h=>t.$emit("set-ui-option",{key:"showTotalDelta",value:h.target.checked}))},null,40,gf),s[42]||(s[42]=u("span",null,"Show total delta",-1))]),u("label",pf,[u("input",{type:"checkbox",checked:t.targets.ui.showNeedPerDay,onChange:s[15]||(s[15]=h=>t.$emit("set-ui-option",{key:"showNeedPerDay",value:h.target.checked}))},null,40,hf),s[43]||(s[43]=u("span",null,"Show need per day",-1))]),u("label",mf,[u("input",{type:"checkbox",checked:t.targets.ui.showCategoryBlocks,onChange:s[16]||(s[16]=h=>t.$emit("set-ui-option",{key:"showCategoryBlocks",value:h.target.checked}))},null,40,vf),s[44]||(s[44]=u("span",null,"Show categories",-1))]),u("label",yf,[u("input",{type:"checkbox",checked:t.targets.ui.badges,onChange:s[17]||(s[17]=h=>t.$emit("set-ui-option",{key:"badges",value:h.target.checked}))},null,40,bf),s[45]||(s[45]=u("span",null,"Status badges",-1))]),u("label",wf,[u("input",{type:"checkbox",checked:t.targets.ui.includeWeekendToggle,onChange:s[18]||(s[18]=h=>t.$emit("set-ui-option",{key:"includeWeekendToggle",value:h.target.checked}))},null,40,_f),s[46]||(s[46]=u("span",null,"Weekend toggle",-1))]),u("label",kf,[u("input",{type:"checkbox",checked:t.targets.includeZeroDaysInStats,onChange:s[19]||(s[19]=h=>t.$emit("set-include-zero-days",h.target.checked))},null,40,xf),s[47]||(s[47]=u("span",null,"Include zero days in pace",-1))])])])])}}}),Cf={id:"opsdash-sidebar-pane-summary",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-summary"},$f={class:"target-config"},Mf={class:"field"},Tf={class:"summary-mode-toggle"},Af={class:"target-section"},Df=["checked","onChange"],Ef=Ee({__name:"SidebarSummaryPane",props:{summaryOptions:{},activeDayMode:{}},emits:["update:activeMode","toggle-option"],setup(e,{emit:t}){const s=e,a=t,n={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},r=j(()=>({...n,...s.summaryOptions??{}})),o=[{key:"showTotal",label:"Total hours"},{key:"showAverage",label:"Average per day"},{key:"showMedian",label:"Median per day"},{key:"showBusiest",label:"Busiest day"},{key:"showWorkday",label:"Workdays row"},{key:"showWeekend",label:"Weekend row"},{key:"showWeekendShare",label:"Weekend share"},{key:"showCalendarSummary",label:"Top calendars"},{key:"showTopCategory",label:"Top category"},{key:"showBalance",label:"Balance index"}];return(i,l)=>(C(),A("div",Cf,[l[6]||(l[6]=u("div",{class:"sb-title"},"Time Summary",-1)),u("div",$f,[u("div",Mf,[l[4]||(l[4]=u("span",{class:"label"},"Average mode",-1)),u("div",Tf,[re(_(ga),{type:"radio",name:"summary-mode-active",checked:i.activeDayMode==="active","onUpdate:checked":l[0]||(l[0]=f=>{f&&a("update:activeMode","active")})},{default:Fe(()=>[...l[2]||(l[2]=[me(" Active days ",-1)])]),_:1},8,["checked"]),re(_(ga),{type:"radio",name:"summary-mode-all",checked:i.activeDayMode==="all","onUpdate:checked":l[1]||(l[1]=f=>{f&&a("update:activeMode","all")})},{default:Fe(()=>[...l[3]||(l[3]=[me(" All days ",-1)])]),_:1},8,["checked"])])]),u("div",Af,[l[5]||(l[5]=u("div",{class:"section-title"},"Display",-1)),(C(),A(ue,null,je(o,f=>u("label",{key:f.key,class:"field checkbox"},[u("input",{type:"checkbox",checked:r.value[f.key],onChange:g=>a("toggle-option",{key:f.key,value:g.target.checked})},null,40,Df),u("span",null,E(f.label),1)])),64))])])]))}}),Pf={id:"opsdash-sidebar-pane-activity",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-activity"},If={class:"section-title-row"},Nf=["aria-expanded"],Lf={key:0,class:"section-hint"},Of={class:"target-section toggle-grid"},Hf=["checked","onChange"],Ff={class:"forecast-block"},Rf={class:"field"},Wf=["value"],Bf=["value"],jf={key:0,class:"section-hint forecast-hint"},Uf=Ot(Ee({__name:"SidebarActivityPane",props:{activitySettings:{},activityToggles:{},forecastMode:{},forecastOptions:{},helpOpen:{type:Boolean}},emits:["toggle-help","toggle-option","update-forecast-mode"],setup(e,{emit:t}){const s=e,a=t,{activitySettings:n,activityToggles:r,forecastMode:o,forecastOptions:i,helpOpen:l}=Yn(s),f=j(()=>{var p;const d=(p=i.value)==null?void 0:p.find(c=>c.value===o.value);return(d==null?void 0:d.description)??""});function g(d){(d==="off"||d==="total"||d==="calendar"||d==="category")&&a("update-forecast-mode",d)}return(d,p)=>(C(),A("div",Pf,[u("div",If,[p[3]||(p[3]=u("div",{class:"section-title"},"Activity & Schedule",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(l),"aria-label":"Activity & Schedule help",onClick:p[0]||(p[0]=c=>a("toggle-help"))},[...p[2]||(p[2]=[u("span",null,"?",-1)])],8,Nf)]),_(l)?(C(),A("p",Lf,"Choose which metrics appear on the Activity & Schedule card.")):z("",!0),u("div",Of,[(C(!0),A(ue,null,je(_(r),([c,y])=>(C(),A("label",{key:c,class:"field checkbox toggle-field"},[u("input",{type:"checkbox",checked:_(n)[c],onChange:h=>a("toggle-option",{key:c,value:h.target.checked})},null,40,Hf),u("span",null,E(y),1)]))),128))]),u("div",Ff,[p[5]||(p[5]=u("div",{class:"section-title"},"Bar chart projection",-1)),u("label",Rf,[p[4]||(p[4]=u("span",{class:"label"},"Projection mode",-1)),u("select",{value:_(o),onChange:p[1]||(p[1]=c=>g(c.target.value))},[(C(!0),A(ue,null,je(_(i),c=>(C(),A("option",{key:c.value,value:c.value},E(c.label),9,Bf))),128))],40,Wf)]),f.value?(C(),A("p",jf,E(f.value),1)):z("",!0)])]))}}),[["__scopeId","data-v-4d86aa83"]]),Vf={id:"opsdash-sidebar-pane-balance",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-balance"},zf={class:"section-title-row"},Kf=["aria-expanded"],qf={class:"target-section"},Jf={class:"section-title-row"},Gf=["aria-expanded"],Zf={key:0,class:"section-hint"},Yf={class:"field-grid"},Xf={class:"field"},Qf=["value","aria-invalid"],eg={class:"field"},tg=["value","aria-invalid"],sg={class:"field"},ag=["value","aria-invalid"],ng={class:"target-section"},rg={class:"section-title-row"},og=["aria-expanded"],ig={key:0,class:"section-hint"},lg={class:"field-grid"},cg={class:"field"},ug=["value"],dg={class:"field"},fg=["value","aria-invalid"],gg={class:"target-section"},pg={class:"section-title-row"},hg=["aria-expanded"],mg={key:0,class:"section-hint"},vg={class:"toggle-grid"},yg={class:"field checkbox toggle-field"},bg=["checked"],wg={class:"field checkbox toggle-field"},_g=["checked"],kg={class:"field checkbox toggle-field"},xg=["checked"],Sg={class:"field-grid mt-8"},Cg={class:"field"},$g=["value","aria-invalid"],Mg=["value"],Tg={class:"field"},Ag=["value","aria-invalid"],Dg=["value"],Eg=Ee({__name:"SidebarBalancePane",props:{balanceSettings:{},balanceThresholdMessages:{},balanceLookbackMessage:{},balanceUiPrecisionMessages:{},roundingOptions:{},helpThresholds:{type:Boolean},helpTrend:{type:Boolean},helpDisplay:{type:Boolean}},emits:["toggle-help","set-threshold","set-relation","set-lookback","set-ui-toggle","set-ui-precision"],setup(e,{emit:t}){const s=e,a=t,{balanceSettings:n,balanceThresholdMessages:r,balanceLookbackMessage:o,balanceUiPrecisionMessages:i,roundingOptions:l,helpThresholds:f,helpTrend:g,helpDisplay:d}=Yn(s);return(p,c)=>{var y,h,w,M,k,S,T,L,G,q,B,ae;return C(),A("div",Vf,[u("div",zf,[c[15]||(c[15]=u("div",{class:"section-title subtitle"},"Balance Overview",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(f)||_(g)||_(d),"aria-label":"Balance Overview help",onClick:c[0]||(c[0]=J=>a("toggle-help","all"))},[...c[14]||(c[14]=[u("span",null,"?",-1)])],8,Kf)]),u("div",qf,[u("div",Jf,[c[17]||(c[17]=u("div",{class:"section-subtitle subtitle"},"Thresholds",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(f),"aria-label":"Thresholds help",onClick:c[1]||(c[1]=J=>a("toggle-help","thresholds"))},[...c[16]||(c[16]=[u("span",null,"?",-1)])],8,Gf)]),_(f)?(C(),A("p",Zf,"Set the share/index limits that trigger balance warnings.")):z("",!0),u("div",Yf,[u("label",Xf,[c[18]||(c[18]=u("span",{class:"label"},"Notice max share",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.noticeMaxShare,"aria-invalid":!!_(r).noticeMaxShare,onInput:c[2]||(c[2]=J=>a("set-threshold",{key:"noticeMaxShare",value:J.target.value}))},null,40,Qf),_(r).noticeMaxShare?(C(),A("div",{key:0,class:he(["input-message",(y=_(r).noticeMaxShare)==null?void 0:y.tone])},E((h=_(r).noticeMaxShare)==null?void 0:h.text),3)):z("",!0)]),u("label",eg,[c[19]||(c[19]=u("span",{class:"label"},"Warn max share",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.warnMaxShare,"aria-invalid":!!_(r).warnMaxShare,onInput:c[3]||(c[3]=J=>a("set-threshold",{key:"warnMaxShare",value:J.target.value}))},null,40,tg),_(r).warnMaxShare?(C(),A("div",{key:0,class:he(["input-message",(w=_(r).warnMaxShare)==null?void 0:w.tone])},E((M=_(r).warnMaxShare)==null?void 0:M.text),3)):z("",!0)]),u("label",sg,[c[20]||(c[20]=u("span",{class:"label"},"Warn index",-1)),u("input",{type:"number",min:"0",max:"1",step:"0.01",value:_(n).thresholds.warnIndex,"aria-invalid":!!_(r).warnIndex,onInput:c[4]||(c[4]=J=>a("set-threshold",{key:"warnIndex",value:J.target.value}))},null,40,ag),_(r).warnIndex?(C(),A("div",{key:0,class:he(["input-message",(k=_(r).warnIndex)==null?void 0:k.tone])},E((S=_(r).warnIndex)==null?void 0:S.text),3)):z("",!0)])])]),u("div",ng,[u("div",rg,[c[22]||(c[22]=u("div",{class:"section-subtitle subtitle"},"Trend & Relations",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(g),"aria-label":"Trend help",onClick:c[5]||(c[5]=J=>a("toggle-help","trend"))},[...c[21]||(c[21]=[u("span",null,"?",-1)])],8,og)]),_(g)?(C(),A("p",ig,"Control the comparison window and how ratios are expressed.")):z("",!0),u("div",lg,[u("label",cg,[c[24]||(c[24]=u("span",{class:"label"},"Relation display",-1)),u("select",{value:_(n).relations.displayMode,onChange:c[6]||(c[6]=J=>a("set-relation",J.target.value))},[...c[23]||(c[23]=[u("option",{value:"ratio"},"Ratio (A : B)",-1),u("option",{value:"factor"},"Factor (A)",-1)])],40,ug)]),u("label",dg,[c[25]||(c[25]=u("span",{class:"label"},"Trend lookback (weeks)",-1)),u("input",{type:"number",min:"1",max:"12",step:"1",value:_(n).trend.lookbackWeeks,"aria-invalid":!!_(o),onInput:c[7]||(c[7]=J=>a("set-lookback",J.target.value))},null,40,fg),_(o)?(C(),A("div",{key:0,class:he(["input-message",(T=_(o))==null?void 0:T.tone])},E((L=_(o))==null?void 0:L.text),3)):z("",!0)])])]),u("div",gg,[u("div",pg,[c[27]||(c[27]=u("div",{class:"section-subtitle subtitle"},"Display",-1)),u("button",{type:"button",class:"info-button","aria-expanded":_(d),"aria-label":"Display help",onClick:c[8]||(c[8]=J=>a("toggle-help","display"))},[...c[26]||(c[26]=[u("span",null,"?",-1)])],8,hg)]),_(d)?(C(),A("p",mg,"Toggle optional insights and adjust rounding for the card values.")):z("",!0),u("div",vg,[u("label",yg,[u("input",{type:"checkbox",checked:_(n).ui.showInsights,onChange:c[9]||(c[9]=J=>a("set-ui-toggle",{key:"showInsights",value:J.target.checked}))},null,40,bg),c[28]||(c[28]=u("span",null,"Insights",-1))]),u("label",wg,[u("input",{type:"checkbox",checked:_(n).ui.showDailyStacks,onChange:c[10]||(c[10]=J=>a("set-ui-toggle",{key:"showDailyStacks",value:J.target.checked}))},null,40,_g),c[29]||(c[29]=u("span",null,"Daily mix (experimental)",-1))]),u("label",kg,[u("input",{type:"checkbox",checked:_(n).dayparts.enabled,onChange:c[11]||(c[11]=J=>a("set-ui-toggle",{key:"dayparts",value:J.target.checked}))},null,40,xg),c[30]||(c[30]=u("span",null,"Dayparts",-1))])]),u("div",Sg,[u("label",Cg,[c[31]||(c[31]=u("span",{class:"label"},"Percent precision",-1)),u("select",{value:_(n).ui.roundPercent,"aria-invalid":!!_(i).roundPercent,onChange:c[12]||(c[12]=J=>a("set-ui-precision",{key:"roundPercent",value:J.target.value}))},[(C(!0),A(ue,null,je(_(l),J=>(C(),A("option",{key:`round-percent-${J}`,value:J},E(J),9,Mg))),128))],40,$g),_(i).roundPercent?(C(),A("div",{key:0,class:he(["input-message",(G=_(i).roundPercent)==null?void 0:G.tone])},E((q=_(i).roundPercent)==null?void 0:q.text),3)):z("",!0)]),u("label",Tg,[c[32]||(c[32]=u("span",{class:"label"},"Ratio precision",-1)),u("select",{value:_(n).ui.roundRatio,"aria-invalid":!!_(i).roundRatio,onChange:c[13]||(c[13]=J=>a("set-ui-precision",{key:"roundRatio",value:J.target.value}))},[(C(!0),A(ue,null,je(_(l),J=>(C(),A("option",{key:`round-ratio-${J}`,value:J},E(J),9,Dg))),128))],40,Ag),_(i).roundRatio?(C(),A("div",{key:0,class:he(["input-message",(B=_(i).roundRatio)==null?void 0:B.tone])},E((ae=_(i).roundRatio)==null?void 0:ae.text),3)):z("",!0)])])])])}}}),Pg={class:"notes-section"},Ig=["title"],Ng=["value"],Lg=["title"],Og=["value"],Hg={class:"notes-actions"},Fg=Ot(Ee({__name:"NotesPanel",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e){return(t,s)=>(C(),A("div",Pg,[u("div",{class:"hint",title:t.prevTitle},E(t.prevLabel),9,Ig),u("textarea",{value:t.previous,readonly:"",rows:"5",class:"notes-textarea","aria-label":"Previous notes"},null,8,Ng),u("div",{class:"hint",title:t.currTitle},E(t.currLabel),9,Lg),u("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=a=>t.$emit("update:modelValue",a.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:"Write your notes","aria-label":"Current notes"},null,40,Og),u("div",Hg,[re(_(ut),{type:"tertiary",disabled:t.saving,onClick:s[1]||(s[1]=a=>t.$emit("save"))},{default:Fe(()=>[...s[2]||(s[2]=[me("Save",-1)])]),_:1},8,["disabled"])])]))}}),[["__scopeId","data-v-f84bfd89"]]),Rg={id:"opsdash-sidebar-pane-notes",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-notes"},Wg=Ee({__name:"SidebarNotesPane",props:{previous:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const s=e,a=t,{previous:n,modelValue:r,prevLabel:o,currLabel:i,prevTitle:l,currTitle:f,saving:g}=s;return(d,p)=>(C(),A("div",Rg,[p[2]||(p[2]=u("div",{class:"sb-title"},"Notes",-1)),re(Fg,{previous:_(n),"model-value":_(r),"prev-label":_(o),"curr-label":_(i),"prev-title":_(l),"curr-title":_(f),saving:_(g),"onUpdate:modelValue":p[0]||(p[0]=c=>a("update:modelValue",c)),onSave:p[1]||(p[1]=c=>a("save"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])]))}}),Bg={id:"opsdash-sidebar-pane-config",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-config"},jg={class:"preset-form"},Ug=["disabled"],Vg={key:0,class:"preset-error"},zg={key:0,class:"preset-warnings"},Kg={class:"preset-header"},qg={key:1,class:"preset-empty"},Jg={key:2,class:"preset-list"},Gg={class:"preset-meta"},Zg={class:"preset-name"},Yg={class:"preset-info"},Xg={key:0},Qg={class:"preset-actions"},ep=Ot(Ee({__name:"SidebarConfigPane",props:{presets:{},isLoading:{type:Boolean},isSaving:{type:Boolean},isApplying:{type:Boolean},warnings:{}},emits:["save","load","delete","refresh","clear-warnings"],setup(e,{emit:t}){const s=t,a=se(""),n=se(null);function r(){const f=a.value.trim();if(!f){n.value="Enter a profile name";return}n.value=null,s("save",f),a.value=""}function o(f){s("load",f)}function i(f){window.confirm(`Delete profile "${f}"?`)&&s("delete",f)}function l(f){if(!f)return"";const g=new Date(f);if(Number.isNaN(g.getTime()))return f;const p=new Date().getTime()-g.getTime(),c=Math.round(p/6e4);if(c<1)return"just now";if(c<60)return`${c} min ago`;const y=Math.round(c/60);if(y<24)return`${y} h ago`;const h=Math.round(y/24);return h<7?`${h} d ago`:g.toLocaleDateString()}return os(()=>{s("refresh")}),(f,g)=>(C(),A("div",Bg,[g[8]||(g[8]=u("div",{class:"sb-title"},"Configuration Profiles",-1)),g[9]||(g[9]=u("p",{class:"sb-description"}," Save and restore complete sidebar configurations (calendars, groups, targets, settings). ",-1)),u("div",jg,[g[3]||(g[3]=u("label",{class:"preset-label",for:"preset-name"},"Profile name",-1)),ws(u("input",{id:"preset-name","onUpdate:modelValue":g[0]||(g[0]=d=>a.value=d),type:"text",placeholder:"e.g. Focus week",disabled:f.isSaving,onKeyup:Ql(r,["enter"])},null,40,Ug),[[Gl,a.value]]),n.value?(C(),A("div",Vg,E(n.value),1)):z("",!0),re(_(ut),{class:"preset-save",type:"primary",disabled:f.isSaving||!a.value.trim(),onClick:r},{default:Fe(()=>[me(E(f.isSaving?"Saving":"Save current configuration"),1)]),_:1},8,["disabled"])]),f.warnings.length?(C(),A("div",zg,[g[5]||(g[5]=u("div",{class:"warnings-title"},"Warnings",-1)),u("ul",null,[(C(!0),A(ue,null,je(f.warnings,(d,p)=>(C(),A("li",{key:p},E(d),1))),128))]),re(_(ut),{type:"tertiary",class:"preset-clear",onClick:g[1]||(g[1]=d=>s("clear-warnings"))},{default:Fe(()=>[...g[4]||(g[4]=[me(" Clear warnings ",-1)])]),_:1})])):z("",!0),u("div",Kg,[g[6]||(g[6]=u("h3",null,"Saved profiles",-1)),re(_(ut),{type:"tertiary",disabled:f.isLoading,onClick:g[2]||(g[2]=d=>s("refresh"))},{default:Fe(()=>[me(E(f.isLoading?"Refreshing":"Refresh list"),1)]),_:1},8,["disabled"])]),!f.presets.length&&!f.isLoading?(C(),A("div",qg," No profiles yet. Save one above to get started. ")):(C(),A("ul",Jg,[(C(!0),A(ue,null,je(f.presets,d=>(C(),A("li",{key:d.name,class:"preset-item"},[u("div",Gg,[u("div",Zg,E(d.name),1),u("div",Yg,[u("span",null,E(d.selectedCount)+" calendars",1),u("span",null,E(d.calendarCount)+" groups",1),d.updatedAt?(C(),A("span",Xg,"Updated "+E(l(d.updatedAt)),1)):z("",!0)])]),u("div",Qg,[re(_(ut),{type:"primary",disabled:f.isApplying,onClick:p=>o(d.name)},{default:Fe(()=>[me(E(f.isApplying?"Applying":"Load"),1)]),_:2},1032,["disabled","onClick"]),re(_(ut),{type:"tertiary",disabled:f.isApplying,onClick:p=>i(d.name)},{default:Fe(()=>[...g[7]||(g[7]=[me(" Delete ",-1)])]),_:2},1032,["disabled","onClick"])])]))),128))]))]))}}),[["__scopeId","data-v-d602d23c"]]);function tp(e,t){const{allowEmpty:s=!1}=t;if(e===""||e===null||e===void 0)return s?{value:null}:{value:null,error:"Enter a number"};const a=Number(e);if(!Number.isFinite(a))return{value:null,error:"Enter a valid number"};let n=a,r;if(typeof t.min=="number"&&n<t.min&&(n=t.min,r=fn(t)),typeof t.max=="number"&&n>t.max&&(n=t.max,r=fn(t)),typeof t.step=="number"&&t.step>0){const i=ap(n,t.step);i!==n&&(n=i,r=fn(t))}const o=go(t);return typeof o=="number"&&(n=Number(n.toFixed(o))),{value:n,warning:r}}function sp(e,t){const s=tp(e,t),a=[];return s.error&&a.push({severity:"error",message:s.error}),s.warning&&a.push({severity:"warning",message:s.warning}),{value:s.value,issues:a}}function ap(e,t){const s=go({step:t}),a=Math.round(e/t)*t;return typeof s=="number"?Number(a.toFixed(s)):a}function go(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return np(e.step)}function np(e){const t=e.toString();if(t.includes("e-")){const[,a]=t.split("e-");return Number(a)}const[,s=""]=t.split(".");return s.length}function fn(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function rp(e,t,s="Enter a valid number"){const a=sp(e,t),n=a.issues.find(i=>i.severity==="error"),r=a.issues.find(i=>i.severity==="warning");let o=null;return n||a.value===null?o={text:(n==null?void 0:n.message)??s,tone:"error"}:r&&(o={text:r.message,tone:"warning"}),{ok:!n&&a.value!==null,value:a.value,message:o}}function $t(e,t,s,a,n){const{ok:r,value:o,message:i}=rp(e,t,n);return s(i),!r||o===null?!1:(a(o),!0)}const op={class:"rangebar",title:"Time range"},ip={class:"range-actions"},lp=["disabled"],cp=["aria-label"],up={class:"range-toggle"},dp={class:"range-nav"},fp={class:"range-dates"},gp={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},pp=["aria-selected"],hp=["aria-selected"],mp=["aria-selected"],vp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},yp=["aria-selected"],bp=["aria-selected"],wp=["aria-selected"],_p={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Advanced configuration"},kp=["aria-selected"],xp=Ot(Ee({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},notesPrev:{},notesCurrDraft:{},notesLabelPrev:{},notesLabelCurr:{},notesLabelPrevTitle:{},notesLabelCurrTitle:{},isSavingNote:{type:Boolean},targetsConfig:{},activeDayMode:{},navToggleLabel:{},navToggleIcon:{},presets:{},presetsLoading:{type:Boolean},presetSaving:{type:Boolean},presetApplying:{type:Boolean},presetWarnings:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:notes","save-notes","update:targets-config","update:active-mode","toggle-nav","save-preset","load-preset","delete-preset","refresh-presets","clear-preset-warnings"],setup(e,{emit:t}){const s=e,a=t,n=se("calendars"),r=j(()=>s.targetsConfig),o=j(()=>{var x;return((x=r.value)==null?void 0:x.categories)??[]}),i=j(()=>s.presets??[]);function l(x){const b=pt(JSON.parse(JSON.stringify(s.targetsConfig||{})));x(b),a("update:targets-config",b)}const f=j(()=>we()!==null),g=j(()=>{var x;return((x=r.value)==null?void 0:x.timeSummary)??{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0}}),d=j(()=>{var x;return{...us(),...((x=r.value)==null?void 0:x.activityCard)??{}}}),p={showWeekendShare:"Weekend share",showEveningShare:"Evening share",showEarliestLatest:"Earliest/Late times",showOverlaps:"Overlaps",showLongestSession:"Longest session",showLastDayOff:"Last day off",showHint:"Show mapping hint"},c=j(()=>Object.entries(p)),y=[{value:"off",label:"Do not project future days",description:"Keep charts empty until events occur."},{value:"total",label:"Distribute remaining total target",description:"Split leftover total target hours evenly across future days using current calendar mix."},{value:"calendar",label:"Respect calendar targets",description:"Use per-calendar targets for the current range and spread remaining hours across future days."},{value:"category",label:"Respect category targets",description:"Allocate remaining category targets across future days according to current mappings."}],h=j(()=>{var I;const x=nn(),b=((I=r.value)==null?void 0:I.balance)??x;return{...x,...b,thresholds:{...x.thresholds,...b.thresholds??{}},relations:{...x.relations,...b.relations??{}},trend:{...x.trend,...b.trend??{}},dayparts:{...x.dayparts,...b.dayparts??{}},ui:{...x.ui,...b.ui??{}}}}),w=[0,1,2,3],M=_t({activity:!1,balanceThresholds:!1,balanceTrend:!1,balanceDisplay:!1}),k=_t({}),S=_t({}),T=se(null),L=se(null),G=_t({onTrack:null,atRisk:null}),q=_t({noticeMaxShare:null,warnMaxShare:null,warnIndex:null}),B=se(null),ae=se(null),J=se(null),oe=_t({roundPercent:null,roundRatio:null});function we(){const x=new Set;for(const b of o.value)(b.groupIds||[]).forEach(I=>x.add(Number(I)));Object.values(s.groupsById||{}).forEach(b=>x.add(Number(b)));for(let b=1;b<=9;b++)if(!x.has(b))return b;return null}function Se(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function Pe(x){const b=Q(x),I=o.value.find(pe=>Array.isArray(pe.groupIds)&&pe.groupIds.includes(b));return I?I.id:""}function U(x,b){if(!b){a("set-group",{id:x,n:0});return}const I=o.value.find(Je=>Je.id===b);if(!I){a("set-group",{id:x,n:0});return}const pe=le(I.id);a("set-group",{id:x,n:pe})}function le(x){const b=o.value.find(Je=>Je.id===x);if(!b)return 0;const I=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;if(I&&Number.isFinite(I))return I;const pe=we()??0;return l(Je=>{const va=Je.categories.find(vn=>vn.id===x);va&&(va.groupIds=pe?[pe]:[])}),pe}function Y(x,b){l(I=>{const pe=I.categories.find(Je=>Je.id===x);pe&&b(pe)})}function Q(x){const b=Number((s.groupsById||{})[x]??0);return isFinite(b)?Math.max(0,Math.min(9,Math.trunc(b))):0}function _e(x){const b=s.range==="month"?s.targetsMonth||{}:s.targetsWeek||{},I=Number(b[x]??"");return isFinite(I)?I:""}function Te(x){a("select-all",x)}function Ie(x){a("toggle-calendar",x)}function ve(x){U(x.id,x.category)}function ye(x){m(x.id,x.value)}function Ce(x){F(x.key,x.value)}function Be(x){H(x.key,x.value)}function Ae(x){x!=="off"&&x!=="total"&&x!=="calendar"&&x!=="category"||l(b=>{b.activityCard||(b.activityCard=us()),b.activityCard.forecastMode=x})}function xe(){M.activity=!M.activity}function ee(x){if(x==="all"){const b=!(M.balanceThresholds&&M.balanceTrend&&M.balanceDisplay);M.balanceThresholds=b,M.balanceTrend=b,M.balanceDisplay=b;return}x==="thresholds"?M.balanceThresholds=!M.balanceThresholds:x==="trend"?M.balanceTrend=!M.balanceTrend:x==="display"&&(M.balanceDisplay=!M.balanceDisplay)}function Ue(x){te(x.key,x.value)}function Oe(x){if(x.key==="dayparts"){l(b=>{b.balance.dayparts.enabled=x.value});return}fe(x.key,x.value)}function Ye(x){$e(x.key,x.value)}function m(x,b){$t(b,{min:0,max:1e4,step:.25,decimals:2},I=>{k[x]=I},I=>a("set-target",{id:x,h:I}))}function v(x){$t(x,{min:0,max:1e3,step:.5,decimals:2},b=>{T.value=b},b=>l(I=>{I.totalHours=b}))}function $(x){$t(x,{min:0,max:24,step:.25,decimals:2},b=>{L.value=b},b=>l(I=>{I.allDayHours=b}),"024 hours per day")}function O(x,b){$t(b,{min:0,max:1e3,step:.5,decimals:2},I=>{S[x]=I},I=>Y(x,pe=>{pe.targetHours=I}))}function D(x,b){Y(x,I=>{I.label=b.trim()||I.label})}function P(x,b){Y(x,I=>{I.includeWeekend=b})}function R(x){s.activeDayMode!==x&&a("update:active-mode",x)}function F(x,b){l(I=>{I.timeSummary||(I.timeSummary=JSON.parse(JSON.stringify(g.value))),I.timeSummary[x]=b})}function H(x,b){l(I=>{I.activityCard||(I.activityCard=us()),I.activityCard[x]=b})}function N(x,b){b!=="days_only"&&b!=="time_aware"||Y(x,I=>{I.paceMode=b})}function X(x){l(b=>{b.pace.includeWeekendTotal=x})}function V(x){x!=="days_only"&&x!=="time_aware"||l(b=>{b.pace.mode=x})}function Z(x,b){$t(b,{min:-100,max:100,step:.1,decimals:1},I=>{G[x]=I},I=>l(pe=>{pe.pace.thresholds[x]=I}))}function te(x,b){$t(b,{min:0,max:1,step:.01,decimals:2},I=>{q[x]=I},I=>l(pe=>{pe.balance.thresholds[x]=Number(I.toFixed(2))}))}function de(x){const b=x==="factor"?"factor":"ratio";l(I=>{I.balance.relations.displayMode=b})}function ge(x){$t(x,{min:1,max:12,step:1,decimals:0},b=>{J.value=b},b=>l(I=>{I.balance.trend.lookbackWeeks=b}))}function fe(x,b){l(I=>{I.balance.ui[x]=b})}function $e(x,b){$t(b,{min:0,max:3,step:1,decimals:0},I=>{oe[x]=I},I=>l(pe=>{pe.balance.ui[x]=I}))}function He(x){const b=x==="momentum"?"momentum":"linear";l(I=>{I.forecast.methodPrimary=b})}function Le(x){$t(x,{min:1,max:14,step:1,decimals:0},b=>{B.value=b},b=>l(I=>{I.forecast.momentumLastNDays=b}))}function Ve(x){$t(x,{min:0,max:100,step:.1,decimals:1},b=>{ae.value=b},b=>l(I=>{I.forecast.padding=b}))}function dt(x,b){l(I=>{I.ui[x]=b})}function Zt(x){l(b=>{b.includeZeroDaysInStats=x})}function ze(x){l(b=>{x==="work-week"?(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="days_only",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0):x==="balanced-life"&&(b.totalHours=48,b.categories=[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"time_aware",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:8,includeWeekend:!0,paceMode:"time_aware",groupIds:[2]},{id:"sport",label:"Sport",targetHours:6,includeWeekend:!0,paceMode:"time_aware",groupIds:[3]}],b.allDayHours=8,b.pace.includeWeekendTotal=!0,b.pace.mode="time_aware",b.pace.thresholds={onTrack:-2,atRisk:-10},b.forecast.methodPrimary="linear",b.forecast.momentumLastNDays=2,b.forecast.padding=1.5,b.includeZeroDaysInStats=!1,b.ui.showCalendarCharts=!0,b.ui.showCategoryCharts=!0)})}function tt(){var b;const x=we();if(x===null){(b=window.alert)==null||b.call(window,"All category slots are currently in use (max 9).");return}l(I=>{I.categories=[...I.categories,{id:Se(),label:`Category ${I.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",groupIds:[x]}]})}function Yt(x){if(o.value.length<=1)return;const b=o.value.find(pe=>pe.id===x);if(!b)return;const I=Array.isArray(b.groupIds)&&b.groupIds.length?Number(b.groupIds[0]):null;l(pe=>{pe.categories=pe.categories.filter(Je=>Je.id!==x)}),I!==null&&Object.entries(s.groupsById||{}).forEach(([pe,Je])=>{Number(Je)===I&&a("set-group",{id:pe,n:0})})}return(x,b)=>(C(),qe(_(oc),null,{default:Fe(()=>[Hi(x.$slots,"actions",{},void 0,!0),b[30]||(b[30]=u("div",{class:"sb-title",title:"Kalender filtern und gruppieren"},"Filter Calendars",-1)),u("div",op,[u("div",ip,[u("button",{class:"sidebar-action-btn",type:"button",disabled:x.isLoading,onClick:b[0]||(b[0]=I=>x.$emit("load"))}," Refresh ",8,lp),u("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:b[1]||(b[1]=I=>x.$emit("toggle-nav")),"aria-label":x.navToggleLabel},E(x.navToggleIcon),9,cp)]),u("div",up,[re(_(ga),{type:"radio",name:"range-week",checked:x.range==="week","onUpdate:checked":b[2]||(b[2]=I=>{I&&x.$emit("update:range","week")})},{default:Fe(()=>[...b[26]||(b[26]=[me("Week",-1)])]),_:1},8,["checked"]),re(_(ga),{type:"radio",name:"range-month",checked:x.range==="month","onUpdate:checked":b[3]||(b[3]=I=>{I&&x.$emit("update:range","month")})},{default:Fe(()=>[...b[27]||(b[27]=[me("Month",-1)])]),_:1},8,["checked"])]),u("div",dp,[re(_(ut),{class:"nav-btn",type:"tertiary",disabled:x.isLoading,onClick:b[4]||(b[4]=I=>x.$emit("update:offset",x.offset-1)),title:"Previous"},{default:Fe(()=>[...b[28]||(b[28]=[me("",-1)])]),_:1},8,["disabled"]),u("span",fp,E(x.from)+"  "+E(x.to),1),re(_(ut),{class:"nav-btn",type:"tertiary",disabled:x.isLoading,onClick:b[5]||(b[5]=I=>x.$emit("update:offset",x.offset+1)),title:"Next"},{default:Fe(()=>[...b[29]||(b[29]=[me("",-1)])]),_:1},8,["disabled"])])]),u("div",gp,[u("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:he(["sb-tab",{active:n.value==="calendars"}]),role:"tab","aria-selected":n.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:b[6]||(b[6]=I=>n.value="calendars")}," Calendars ",10,pp),u("button",{id:"opsdash-sidebar-tab-targets",type:"button",class:he(["sb-tab",{active:n.value==="targets"}]),role:"tab","aria-selected":n.value==="targets","aria-controls":"opsdash-sidebar-pane-targets",onClick:b[7]||(b[7]=I=>n.value="targets")}," Targets ",10,hp),u("button",{id:"opsdash-sidebar-tab-summary",type:"button",class:he(["sb-tab",{active:n.value==="summary"}]),role:"tab","aria-selected":n.value==="summary","aria-controls":"opsdash-sidebar-pane-summary",onClick:b[8]||(b[8]=I=>n.value="summary")}," Summary ",10,mp)]),u("div",vp,[u("button",{id:"opsdash-sidebar-tab-activity",type:"button",class:he(["sb-tab",{active:n.value==="activity"}]),role:"tab","aria-selected":n.value==="activity","aria-controls":"opsdash-sidebar-pane-activity",onClick:b[9]||(b[9]=I=>n.value="activity")}," Activity & Schedule ",10,yp),u("button",{id:"opsdash-sidebar-tab-balance",type:"button",class:he(["sb-tab",{active:n.value==="balance"}]),role:"tab","aria-selected":n.value==="balance","aria-controls":"opsdash-sidebar-pane-balance",onClick:b[10]||(b[10]=I=>n.value="balance")}," Balance ",10,bp),u("button",{id:"opsdash-sidebar-tab-notes",type:"button",class:he(["sb-tab",{active:n.value==="notes"}]),role:"tab","aria-selected":n.value==="notes","aria-controls":"opsdash-sidebar-pane-notes",onClick:b[11]||(b[11]=I=>n.value="notes")}," Notes ",10,wp)]),u("div",_p,[u("button",{id:"opsdash-sidebar-tab-config",type:"button",class:he(["sb-tab",{active:n.value==="config"}]),role:"tab","aria-selected":n.value==="config","aria-controls":"opsdash-sidebar-pane-config",onClick:b[12]||(b[12]=I=>n.value="config")}," Config ",10,kp)]),n.value==="calendars"?(C(),qe($d,{key:0,calendars:x.calendars,selected:x.selected,range:x.range,"is-loading":x.isLoading,"category-options":o.value,"calendar-target-messages":k,"calendar-category-id":Pe,"get-target":_e,onSelectAll:Te,onToggleCalendar:Ie,onSetCategory:ve,onTargetInput:ye},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):n.value==="targets"?(C(),qe(Sf,{key:1,targets:r.value,"category-options":o.value,"total-target-message":T.value,"all-day-hours-message":L.value,"category-target-messages":S,"pace-threshold-messages":G,"forecast-momentum-message":B.value,"forecast-padding-message":ae.value,"can-add-category":f.value,onTotalTargetInput:v,onApplyPreset:ze,onSetAllDayHours:$,onSetCategoryLabel:b[13]||(b[13]=({id:I,label:pe})=>D(I,pe)),onRemoveCategory:Yt,onSetCategoryTarget:b[14]||(b[14]=({id:I,value:pe})=>O(I,pe)),onSetCategoryPace:b[15]||(b[15]=({id:I,mode:pe})=>N(I,pe)),onSetCategoryWeekend:b[16]||(b[16]=({id:I,value:pe})=>P(I,pe)),onAddCategory:tt,onSetIncludeWeekendTotal:X,onSetPaceMode:V,onSetThreshold:b[17]||(b[17]=({key:I,value:pe})=>Z(I,pe)),onSetForecastMethod:He,onSetForecastMomentum:Le,onSetForecastPadding:Ve,onSetUiOption:b[18]||(b[18]=({key:I,value:pe})=>dt(I,pe)),onSetIncludeZeroDays:Zt},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","can-add-category"])):n.value==="summary"?(C(),qe(Ef,{key:2,"summary-options":g.value,"active-day-mode":x.activeDayMode,"onUpdate:activeMode":R,onToggleOption:Ce},null,8,["summary-options","active-day-mode"])):n.value==="config"?(C(),qe(ep,{key:3,presets:i.value,"is-loading":s.presetsLoading,"is-saving":s.presetSaving,"is-applying":s.presetApplying,warnings:s.presetWarnings,onSave:b[19]||(b[19]=I=>a("save-preset",I)),onLoad:b[20]||(b[20]=I=>a("load-preset",I)),onDelete:b[21]||(b[21]=I=>a("delete-preset",I)),onRefresh:b[22]||(b[22]=()=>a("refresh-presets")),onClearWarnings:b[23]||(b[23]=()=>a("clear-preset-warnings"))},null,8,["presets","is-loading","is-saving","is-applying","warnings"])):n.value==="activity"?(C(),qe(Uf,{key:4,"activity-settings":d.value,"activity-toggles":c.value,"forecast-mode":d.value.forecastMode,"forecast-options":y,"help-open":M.activity,onToggleHelp:xe,onToggleOption:Be,onUpdateForecastMode:Ae},null,8,["activity-settings","activity-toggles","forecast-mode","help-open"])):n.value==="balance"?(C(),qe(Eg,{key:5,"balance-settings":h.value,"balance-threshold-messages":q,"balance-lookback-message":J.value,"balance-ui-precision-messages":oe,"rounding-options":w,"help-thresholds":M.balanceThresholds,"help-trend":M.balanceTrend,"help-display":M.balanceDisplay,onToggleHelp:ee,onSetThreshold:Ue,onSetRelation:de,onSetLookback:ge,onSetUiToggle:Oe,onSetUiPrecision:Ye},null,8,["balance-settings","balance-threshold-messages","balance-lookback-message","balance-ui-precision-messages","help-thresholds","help-trend","help-display"])):n.value==="notes"?(C(),qe(Wg,{key:6,previous:x.notesPrev,"model-value":x.notesCurrDraft,"prev-label":x.notesLabelPrev,"curr-label":x.notesLabelCurr,"prev-title":x.notesLabelPrevTitle,"curr-title":x.notesLabelCurrTitle,saving:x.isSavingNote,"onUpdate:modelValue":b[24]||(b[24]=I=>x.$emit("update:notes",I)),onSave:b[25]||(b[25]=I=>x.$emit("save-notes"))},null,8,["previous","model-value","prev-label","curr-label","prev-title","curr-title","saving"])):z("",!0)]),_:3}))}}),[["__scopeId","data-v-4d654bff"]]);function Sp(e){const t=se(""),s=se(""),a=se(!1);async function n(){var i,l;const o=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((i=o==null?void 0:o.notes)==null?void 0:i.previous)??""),s.value=String(((l=o==null?void 0:o.notes)==null?void 0:l.current)??"")}async function r(){try{a.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:s.value??""}),e.notifySuccess("Notes saved"),await n()}catch(o){console.error(o),e.notifyError("Failed to save notes")}finally{a.value=!1}}return{notesPrev:t,notesCurrDraft:s,isSavingNote:a,fetchNotes:n,saveNotes:r}}function Cp(e){const t=se([]),s=se({}),a=se({}),n=se({}),r=se([]),o=se(!1),i=se(!1),l=se(null),f=se(""),g=se(""),d=se(""),p=_t({}),c=se([]),y=se([]),h=se([]),w=se({}),M=se({}),k=se({}),S=se(pt(Es()));let T=0;async function L(){var q,B,ae,J,oe,we,Se,Pe,U,le,Y,Q,_e,Te,Ie,ve,ye,Ce,Be,Ae;const G=++T;o.value=!0;try{const xe={range:e.range.value,offset:e.offset.value|0,save:!1},ee=await e.getJson(e.route("load"),xe);if(G!==T){(q=e.isDebug)!=null&&q.call(e)&&console.warn("discarding stale load response",{currentSeq:G,loadSeq:T});return}f.value=String(((B=ee.meta)==null?void 0:B.uid)??""),g.value=String(((ae=ee.meta)==null?void 0:ae.from)??""),d.value=String(((J=ee.meta)==null?void 0:J.to)??""),i.value=!!((oe=ee.meta)!=null&&oe.truncated),l.value=((we=ee.meta)==null?void 0:we.limits)??null,t.value=Array.isArray(ee.calendars)?ee.calendars:[],s.value=((Se=ee.colors)==null?void 0:Se.byName)??{},a.value=((Pe=ee.colors)==null?void 0:Pe.byId)??{};const Ue=((U=ee.groups)==null?void 0:U.byId)??((le=ee.groups)==null?void 0:le.byID)??((Y=ee.groups)==null?void 0:Y.ids)??{},Oe={};t.value.forEach(v=>{const $=String((v==null?void 0:v.id)??""),O=Number((Ue==null?void 0:Ue[$])??0);Oe[$]=Number.isFinite(O)?Math.max(0,Math.min(9,Math.trunc(O))):0}),n.value=Oe;const Ye=((Q=ee.targets)==null?void 0:Q.week)??{},m=((_e=ee.targets)==null?void 0:_e.month)??{};if(M.value=Ye&&typeof Ye=="object"?Ye:{},k.value=m&&typeof m=="object"?m:{},S.value=pt(ee.targetsConfig??Es()),(Te=e.isDebug)!=null&&Te.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(v=>({id:v.id,name:v.displayname,color:v.color,raw:v.color_raw,src:v.color_src}))),console.log("colors.byId",a.value),console.log("colors.byName",s.value),ee.calDebug&&console.log("server calDebug",ee.calDebug),ee.debug&&(console.group("[opsdash] server query debug"),console.log(ee.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter($=>!$.color||$.color_src==="fallback").length)try{const $=await e.fetchDavColors(f.value,t.value.map(D=>String(D.id)));let O=!1;if(t.value=t.value.map(D=>{const P=$[D.id];return P&&P!==D.color&&(D.color_src="dav"(D).color_raw=P,D.color=P,O=!0),D}),Object.entries($).forEach(([D,P])=>{P&&(a.value[D]=String(P))}),O){(Ie=e.isDebug)!=null&&Ie.call(e)&&console.log("[opsdash] dav colors applied",$);try{const D=((ve=w.value)==null?void 0:ve.pie)||{},P=D.ids||[],R=D.colors||[],F=P.map((H,N)=>a.value[H]||R[N]||"#60a5fa");w.value={...w.value||{},pie:{...D,colors:F}},(ye=e.isDebug)!=null&&ye.call(e)&&console.log("[opsdash] recomputed pie colors",F)}catch(D){(Ce=e.isDebug)!=null&&Ce.call(e)&&console.warn("recompute pie colors failed",D)}try{const D=(Be=w.value)==null?void 0:Be.perDaySeries;if(D&&Array.isArray(D.series)){const P=D.series.map(R=>({...R,color:a.value[R.id]||R.color||"#60a5fa"}));w.value={...w.value||{},perDaySeries:{labels:D.labels,series:P}}}}catch{}e.scheduleDraw()}}catch($){(Ae=e.isDebug)!=null&&Ae.call(e)&&console.warn("dav colors failed",$)}r.value=Array.isArray(ee.selected)?ee.selected:Array.isArray(ee.saved)?ee.saved:[],e.userChangedSelection.value=!1,Object.assign(p,ee.stats??{}),c.value=Array.isArray(ee.byCal)?ee.byCal:[],y.value=Array.isArray(ee.byDay)?ee.byDay:[],h.value=Array.isArray(ee.longest)?ee.longest:[],w.value=ee.charts??{},await Ys(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(xe){console.error(xe),e.notifyError("Failed to load data")}finally{o.value=!1}}return{calendars:t,colorsByName:s,colorsById:a,groupsById:n,selected:r,isLoading:o,isTruncated:i,truncLimits:l,uid:f,from:g,to:d,stats:p,byCal:c,byDay:y,longest:h,charts:w,targetsWeek:M,targetsMonth:k,targetsConfig:S,load:L}}function $p(e){const t=se(!1);let s=null;function a(n=!0){s&&clearTimeout(s),s=setTimeout(async()=>{s=null;try{t.value=!0;const r=await e.postJson(e.route("persist"),{cals:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:ln(e.targetsConfig.value)});Array.isArray(r.read)?e.selected.value=r.read.map(l=>String(l)):Array.isArray(r.saved)&&(e.selected.value=r.saved.map(l=>String(l)));const o=r.targets_config_read,i=r.targets_config_saved;o?e.targetsConfig.value=pt(o):i&&(e.targetsConfig.value=pt(i)),n&&e.onReload&&await e.onReload(),e.notifySuccess("Selection saved")}catch(r){console.error(r),e.notifyError("Failed to save selection")}finally{t.value=!1}},250)}return{queueSave:a,isSaving:t}}const Mp=1e4;function Tp(e){function t(f){return e.selected.value.includes(f)}function s(f,g){const d=new Set(e.selected.value);g?d.add(f):d.delete(f),e.selected.value=Array.from(d)}function a(f){s(f,!t(f)),e.userChangedSelection.value=!0,e.queueSave()}function n(f){e.selected.value=f?e.calendars.value.map(g=>String(g.id)):[]}function r(f,g){const d=Math.max(0,Math.min(9,Math.trunc(Number(g)||0))),p=e.groupsById.value??{};e.groupsById.value={...p,[f]:d},e.queueSave(!1)}function o(f){const g=Math.round(f*100)/100;return Math.min(Mp,Math.max(0,g))}function i(f,g){const d=Number(g);if(!Number.isFinite(d)||d<0)return;const p=o(d);if(e.range.value==="month"){const c=o(p/4);e.targetsMonth.value={...e.targetsMonth.value||{},[f]:p},e.targetsWeek.value={...e.targetsWeek.value||{},[f]:c}}else{const c=o(p*4);e.targetsWeek.value={...e.targetsWeek.value||{},[f]:p},e.targetsMonth.value={...e.targetsMonth.value||{},[f]:c}}e.queueSave(!1)}function l(f){e.targetsConfig.value=pt(f),e.queueSave(!1)}return{isSelected:t,toggleCalendar:a,setGroup:r,setTarget:i,updateTargetsConfig:l,selectAll:n}}function Ap(e){const t=se([]),s=se(!1),a=se(!1),n=se(!1),r=se([]),o=se(null);async function i(){s.value=!0;try{const c=await e.getJson(e.route("presetsList"),{});t.value=Array.isArray(c==null?void 0:c.presets)?c.presets:[]}catch(c){console.error(c),e.notifyError("Failed to load presets")}finally{s.value=!1}}async function l(c){const y=c.trim();if(y===""){e.notifyError("Enter a preset name.");return}a.value=!0;try{const h={name:y,selected:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:e.targetsConfig.value},w=await e.postJson(e.route("presetsSave"),h);t.value=Array.isArray(w==null?void 0:w.presets)?w.presets:t.value;const M=Array.isArray(w==null?void 0:w.warnings)?w.warnings:[];r.value=M,o.value=y,e.notifySuccess(`Profile "${y}" saved`)}catch(h){console.error(h),e.notifyError("Failed to save preset")}finally{a.value=!1}}function f(c){const y=Array.isArray(c==null?void 0:c.selected)?c.selected.map(M=>String(M)):[];e.selected.value=y;const h=c!=null&&c.groups&&typeof c.groups=="object"?c.groups:{};e.groupsById.value={...h},e.targetsWeek.value=c!=null&&c.targets_week&&typeof c.targets_week=="object"?c.targets_week:{},e.targetsMonth.value=c!=null&&c.targets_month&&typeof c.targets_month=="object"?c.targets_month:{};const w=c!=null&&c.targets_config&&typeof c.targets_config=="object"?pt(c.targets_config):ln(e.targetsConfig.value);e.targetsConfig.value=w,e.userChangedSelection.value=!1}async function g(c){const y=c.trim();if(y!==""){n.value=!0;try{const h=await e.getJson(e.route("presetsLoad",y),{}),w=(h==null?void 0:h.preset)??{},M=Array.isArray(w==null?void 0:w.warnings)?w.warnings:Array.isArray(h==null?void 0:h.warnings)?h.warnings:[];if(M.length){const k=`Some items in the saved profile are no longer available:

${M.map(S=>` ${S}`).join(`
`)}

Apply the remaining values?`;if(!window.confirm(k)){r.value=M,n.value=!1;return}}f(w),r.value=M,o.value=y,e.notifySuccess(`Profile "${y}" applied`),e.queueSave(!0),i().catch(k=>console.warn("[opsdash] refresh presets after load failed",k))}catch(h){console.error(h),e.notifyError("Failed to load preset")}finally{n.value=!1}}}async function d(c){const y=c.trim();if(y!=="")try{const h=await e.deleteJson(e.route("presetsDelete",y));t.value=Array.isArray(h==null?void 0:h.presets)?h.presets:t.value,e.notifySuccess(`Profile "${y}" deleted`),o.value===y&&(o.value=null)}catch(h){console.error(h),e.notifyError("Failed to delete preset")}}function p(){r.value=[]}return{presets:t,presetsLoading:s,presetSaving:a,presetApplying:n,presetWarnings:r,lastLoadedPreset:o,refreshPresets:i,savePreset:l,loadPreset:g,deletePreset:d,clearPresetWarnings:p}}function Dp(){let e=null;function t(){typeof window>"u"||typeof window.requestAnimationFrame!="function"||(e!==null&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{e=null,window.dispatchEvent(new Event("resize"))}))}return ja(()=>{e!==null&&typeof window<"u"&&typeof window.cancelAnimationFrame=="function"&&(window.cancelAnimationFrame(e),e=null)}),{scheduleDraw:t}}const Ep={load:"/apps/opsdash/overview/load",persist:"/apps/opsdash/overview/persist",notes:"/apps/opsdash/overview/notes",notesSave:"/apps/opsdash/overview/notes",presetsList:"/apps/opsdash/overview/presets",presetsSave:"/apps/opsdash/overview/presets",presetsLoad:"/apps/opsdash/overview/presets",presetsDelete:"/apps/opsdash/overview/presets",ping:"/apps/opsdash/overview/ping"};function Pp(){var t,s;const e=typeof window<"u"?window:{};return e.OC&&(e.OC.webroot||((s=(t=e.OC).getRootPath)==null?void 0:s.call(t)))||e._oc_webroot||""}function Ip(){const e=j(()=>Pp());function t(o,i){const l=typeof window<"u"?window:{},f=Ep[o];if(o==="presetsLoad"||o==="presetsDelete"){const g=`${f}/${encodeURIComponent(String(i??""))}`;return l.OC&&typeof l.OC.generateUrl=="function"?l.OC.generateUrl(g):`${e.value}${g}`}return l.OC&&typeof l.OC.generateUrl=="function"?l.OC.generateUrl(f):`${e.value}${f}`}function s(o){const i=new URLSearchParams;return Object.entries(o||{}).forEach(([l,f])=>{Array.isArray(f)?f.forEach(g=>i.append(l,String(g))):f!=null&&i.set(l,String(f))}),i.toString()}async function a(o,i){const l=s(i),f=l?`${o}${o.includes("?")?"&":"?"}${l}`:o,g=await fetch(f,{method:"GET",credentials:"same-origin"});if(!g.ok)throw new Error(`HTTP ${g.status}`);return await g.json()}async function n(o,i){var p;const l=typeof window<"u"?window:{},f=((p=l.OC)==null?void 0:p.requestToken)||l.oc_requesttoken||"",g={"Content-Type":"application/json"};f&&(g.requesttoken=f);const d=await fetch(o,{method:"POST",credentials:"same-origin",headers:g,body:JSON.stringify(i||{})});if(!d.ok)throw new Error(`HTTP ${d.status}`);return await d.json()}async function r(o){var p;const i=typeof window<"u"?window:{},l=((p=i.OC)==null?void 0:p.requestToken)||i.oc_requesttoken||"",f={};l&&(f.requesttoken=l);const g=await fetch(o,{method:"DELETE",credentials:"same-origin",headers:f});if(!g.ok)throw new Error(`HTTP ${g.status}`);const d=await g.text();return d?JSON.parse(d):{}}return{route:t,getJson:a,postJson:n,deleteJson:r,root:e}}function po(e){const t=typeof document<"u"?document.getElementById("app"):null;if(!t||!t.dataset)return"";const s=t.dataset;return s?String(s[e]??""):""}function Np(e){const t=se(0),s=j(()=>{var d;const l=[],f=typeof window<"u"?window:{};try{if((d=f.OC)!=null&&d.imagePath){const p=f.OC.imagePath("opsdash","app.svg");p&&l.push(p)}}catch{}const g=e.root.value;return l.push(`${g}/apps/opsdash/img/app.svg`),l.push(`${g}/apps-extra/opsdash/img/app.svg`),l.push(`${g}/apps-writable/opsdash/img/app.svg`),l}),a=j(()=>s.value[Math.min(t.value,s.value.length-1)]||"");function n(){t.value+1<s.value.length&&t.value++}const r=se(po("opsdashVersion")||(e.pkgVersion?String(e.pkgVersion):"")),o=se(po("opsdashChangelog"));async function i(){if(!(r.value&&o.value))try{const l=await e.getJson(e.pingUrl(),{});!r.value&&typeof(l==null?void 0:l.version)=="string"&&(r.value=l.version),!o.value&&typeof(l==null?void 0:l.changelog)=="string"&&(o.value=l.changelog)}catch{}}return i(),{iconSrc:a,onIconError:n,appVersion:r,changelogUrl:o}}function Lp(e){const t=j(()=>{var n,r;return Fp({perDaySeries:(n=e.charts.value)==null?void 0:n.perDaySeries,forecastMode:((r=e.activityCardConfig.value)==null?void 0:r.forecastMode)??"total",targetsConfig:e.targetsConfig.value,currentTargets:e.currentTargets.value,calendarCategoryMap:e.calendarCategoryMap.value})}),s=j(()=>{var n;return{pie:((n=e.charts.value)==null?void 0:n.pie)||null,stacked:t.value}}),a=j(()=>{var w,M;const n={},r=(w=e.charts.value)==null?void 0:w.pie,o=(M=e.charts.value)==null?void 0:M.perDaySeries,i=t.value||o,l=r&&Array.isArray(r.data)&&Array.isArray(r.ids),f=i&&Array.isArray(i.series)&&Array.isArray(i.labels),g=e.calendarCategoryMap.value,d=l?(r.ids||[]).map(k=>String(k??"")):[],p=l?(r.labels||[]).map(k=>String(k??"")):[],c=l?(r.data||[]).map(k=>Number(k)||0):[],y=l?r.colors||[]:[],h=f?i.series:[];return e.calendarGroups.value.forEach(k=>{const S=[];l&&d.forEach((q,B)=>{g[q]===k.id&&S.push(B)});const T=S.length?{ids:S.map(q=>d[q]),labels:S.map(q=>p[q]),data:S.map(q=>c[q]),colors:S.map(q=>{var B;return y[q]||((B=e.colorsById.value)==null?void 0:B[d[q]])||"#60a5fa"})}:null,L=f?h.filter(q=>g[String((q==null?void 0:q.id)??"")]===k.id):[],G=L.length?{labels:i.labels,series:L}:null;n[k.id]={pie:T,stacked:G}}),n});return{calendarChartData:s,categoryChartsById:a}}const Op=/^\d{4}-\d{2}-\d{2}$/,Hp="__uncategorized__";function Fp(e){const t=e.perDaySeries;if(!t||!Array.isArray(t.labels)||!Array.isArray(t.series))return null;const s=t.labels.map(h=>String(h??"")),a=t.series.map(h=>{const w=String((h==null?void 0:h.id)??"");return{...h,id:w,name:String((h==null?void 0:h.name)??(h==null?void 0:h.label)??w),color:String((h==null?void 0:h.color)??""),data:s.map((M,k)=>{var T;const S=Number(((T=h==null?void 0:h.data)==null?void 0:T[k])??0);return Number.isFinite(S)?Math.max(0,S):0})}}),n=Rp(e.forecastMode),r=Wp(new Date),o=s.map(h=>Op.test(h)&&h>r),i=[];if(o.forEach((h,w)=>{h&&i.push(w)}),!i.length||n==="off")return{labels:s,series:a};const l=e.targetsConfig??Es(),f=jp(e.currentTargets),g=e.calendarCategoryMap??{},d=i.length,p=new Map;a.forEach(h=>{let w=0;h.data.forEach((M,k)=>{o[k]||(w+=Math.max(0,M))}),p.set(h.id,w)});const c=Array.from(p.values()).reduce((h,w)=>h+w,0),y=new Map;if(a.forEach(h=>{y.set(h.id,Bp(s.length))}),n==="total"){const h=Math.max(0,Number(l.totalHours??0)),w=Math.max(0,h-c);if(w>1e-4){const M=w/d,k=a.map(T=>T.id),S=ho(k,p,f);k.forEach(T=>{const L=S[T]??0;if(L<=0)return;const G=y.get(T);G&&i.forEach(q=>{G[q]=ha(M*L)})})}}else if(n==="calendar")a.forEach(h=>{const w=f[h.id]??0;if(w<=0)return;const M=Math.max(0,p.get(h.id)??0),k=Math.max(0,w-M);if(k<=1e-4)return;const S=k/d,T=y.get(h.id);T&&i.forEach(L=>{T[L]=ha(S)})});else if(n==="category"){const h=new Set,w=Array.isArray(l.categories)?l.categories:[],M=new Map;w.forEach(S=>{M.set(String(S.id),Math.max(0,Number(S.targetHours??0)))});const k=new Map;a.forEach(S=>{const T=g==null?void 0:g[S.id],L=T?String(T):Hp;k.has(L)||k.set(L,[]),k.get(L).push(S.id)}),k.forEach((S,T)=>{if(!S.length)return;const L=M.get(T)??0;if(L<=0)return;const G=S.reduce((oe,we)=>oe+Math.max(0,p.get(we)??0),0),q=Math.max(0,L-G);if(q<=1e-4)return;const B=q/d,ae={};S.forEach(oe=>{ae[oe]=f[oe]??0});const J=ho(S,p,ae);S.forEach(oe=>{const we=J[oe]??0;if(we<=0)return;const Se=y.get(oe);Se&&(i.forEach(Pe=>{Se[Pe]=ha(B*we)}),h.add(oe))})}),a.forEach(S=>{if(h.has(S.id))return;const T=f[S.id]??0;if(T<=0)return;const L=Math.max(0,p.get(S.id)??0),G=Math.max(0,T-L);if(G<=1e-4)return;const q=G/d,B=y.get(S.id);B&&i.forEach(ae=>{B[ae]=ha(q)})})}return a.forEach(h=>{const w=y.get(h.id);w&&w.some(M=>M>1e-4)&&(h.forecast=w)}),{labels:s,series:a}}function Rp(e){return e==="off"||e==="calendar"||e==="category"?e:"total"}function Wp(e){const t=e.getFullYear(),s=`${e.getMonth()+1}`.padStart(2,"0"),a=`${e.getDate()}`.padStart(2,"0");return`${t}-${s}-${a}`}function Bp(e){return Array.from({length:e},()=>0)}function ha(e){const t=Math.round(e*100)/100;return Number.isFinite(t)?t:0}function jp(e){const t={};return e&&Object.entries(e).forEach(([s,a])=>{const n=Number(a);Number.isFinite(n)&&n>0&&(t[String(s)]=n)}),t}function ho(e,t,s){const a={},n=e.reduce((i,l)=>i+Math.max(0,t.get(l)??0),0);if(n>1e-4)return e.forEach(i=>{const l=Math.max(0,t.get(i)??0);a[i]=l/n}),a;const r=e.reduce((i,l)=>i+Math.max(0,(s==null?void 0:s[l])??0),0);if(r>1e-4)return e.forEach(i=>{const l=Math.max(0,(s==null?void 0:s[i])??0);a[i]=l/r}),a;const o=e.length?1/e.length:0;return e.forEach(i=>{a[i]=o}),a}const Ft="__uncategorized__",mo="Unassigned";function Up(e){const t=j(()=>{var g;const f=(g=e.targetsConfig.value)==null?void 0:g.categories;return Array.isArray(f)?f:[]}),s=j(()=>{const f={};return t.value.forEach(g=>{f[String(g.id)]=g.label||String(g.id)}),f}),a=j(()=>{var d;const f=new Map;return(((d=e.targetsSummary.value)==null?void 0:d.categories)||[]).forEach(p=>f.set(String(p.id),p)),f}),n=j(()=>{const f=new Map;return t.value.forEach(g=>{(Array.isArray(g.groupIds)?g.groupIds:[]).forEach(p=>{const c=Math.max(0,Math.min(9,Math.trunc(Number(p)||0)));f.set(c,String(g.id))})}),f}),r=j(()=>{var d;const f=e.calendars.value;if(!Array.isArray(f))return(d=e.isDebug)!=null&&d.call(e)&&console.warn("[opsdash] calendars not array",f),{};const g={};return f.forEach(p=>{var h;const c=String((p==null?void 0:p.id)??"");if(!c)return;const y=((h=e.colorsById.value)==null?void 0:h[c])||String((p==null?void 0:p.color)||"");g[c]={name:String((p==null?void 0:p.displayname)||(p==null?void 0:p.name)||(p==null?void 0:p.calendar)||c),color:y||void 0}}),g}),o=j(()=>{var y;const f={},g=n.value,d=e.groupsById.value||{},p=h=>{const w=d==null?void 0:d[h],M=Math.max(0,Math.min(9,Math.trunc(Number(w)||0))),k=g.get(M);f[h]=k||Ft},c=e.calendars.value;return Array.isArray(c)?(c.forEach(h=>{const w=String((h==null?void 0:h.id)??"");w&&p(w)}),(e.selected.value||[]).forEach(h=>{const w=String(h??"");w&&(f[w]||p(w))}),f):((y=e.isDebug)!=null&&y.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",c),f)}),i=j(()=>{const f=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],g={};let d=0;const p=c=>{if(g[c])return g[c];const y=Object.entries(o.value).filter(([,w])=>w===c).map(([w])=>w);for(const w of y){const M=r.value[w];if(M!=null&&M.color)return g[c]=M.color,M.color}const h=f[d%f.length];return d+=1,g[c]=h,h};return t.value.forEach(c=>p(String(c.id))),Object.values(o.value||{}).some(c=>c===Ft)&&p(Ft),g}),l=j(()=>{var L,G,q,B,ae,J,oe,we,Se,Pe;const f=[],g=o.value,d=a.value,p=e.byCal.value;if(!Array.isArray(p))return(L=e.isDebug)!=null&&L.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",p),f;const c=new Map;p.forEach(U=>{const le=String((U==null?void 0:U.id)??(U==null?void 0:U.calendar_id)??(U==null?void 0:U.calendar)??"");if(!le)return;const Y=g[le]||Ft;c.has(Y)||c.set(Y,[]),c.get(Y).push({...U,calendarId:le})}),(G=e.isDebug)!=null&&G.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(p),rowsSourceLength:p.length,byCat:c,assignments:g});const y=((B=(q=e.targetsSummary.value)==null?void 0:q.total)==null?void 0:B.daysLeft)??0,h=((J=(ae=e.targetsSummary.value)==null?void 0:ae.total)==null?void 0:J.calendarPercent)??0,w=((we=(oe=e.targetsSummary.value)==null?void 0:oe.total)==null?void 0:we.paceMode)??((Pe=(Se=e.targetsConfig.value)==null?void 0:Se.pace)==null?void 0:Pe.mode)??"days_only",M=U=>Math.round(U*100)/100,k=e.currentTargets.value||{},S=(U,le,Y)=>{const Q=Y.reduce((Ae,xe)=>{const ee=Number(k[xe.calendarId]??0);return Number.isFinite(ee)?Ae+Math.max(0,ee):Ae},0),_e=Y.reduce((Ae,xe)=>{const ee=Number((xe==null?void 0:xe.total_hours)??(xe==null?void 0:xe.hours)??0);return Number.isFinite(ee)?Ae+Math.max(0,ee):Ae},0),Te=Q>0?Math.max(0,Math.min(100,_e/Q*100)):0,Ie=_e-Q,ve=Math.max(0,Q-_e),ye=Q<=0?"none":Te>=100?"done":Ie>=0?"on_track":"behind",Ce=ye==="done"?"Done":ye==="on_track"?"On Track":ye==="behind"?"Behind":"",Be=y>0?ve/y:0;return{id:U,label:le,actualHours:M(_e),targetHours:M(Q),percent:Te,deltaHours:M(Ie),remainingHours:M(ve),needPerDay:M(Be),daysLeft:y,calendarPercent:Math.max(0,Math.min(100,h)),gap:M(Te-h),status:ye,statusLabel:Ce,includeWeekend:!0,paceMode:w}};if(t.value.map(U=>String(U.id)).forEach(U=>{const le=s.value[U]||U,Y=c.get(U)||[],Q=d.get(U)||S(U,le,Y);f.push({id:U,label:le,rows:Y,summary:Q,color:i.value[U]})}),c.has(Ft)){const U=c.get(Ft)||[];f.push({id:Ft,label:mo,rows:U,summary:S(Ft,mo,U),color:i.value[Ft]})}return f});return{categoryConfigList:t,categoryLabelById:s,categoryColorMap:i,calendarCategoryMap:o,calendarGroups:l}}function Vp(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function ot(e){const t=Number(e);return Number.isFinite(t)?t:null}function ds(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function zp(e){const t=j(()=>{var k;const c=(k=e.charts.value)==null?void 0:k.pie;if(!c||!Array.isArray(c.data)||!Array.isArray(c.labels))return[];const y=c.data.map(S=>Number(S)||0),h=c.labels.map(S=>String(S||"")),w=y.reduce((S,T)=>S+Math.max(0,T),0);if(w<=0)return[];const M=y.map((S,T)=>({name:h[T]||"",value:Math.max(0,S)}));return M.sort((S,T)=>T.value-S.value),M.slice(0,3).map(S=>({name:S.name,share:S.value/w*100}))}),s=j(()=>{var y;if(t.value.length)return t.value.map(h=>`${h.name} ${yo(h.share)}`).join(", ");const c=(y=e.stats)==null?void 0:y.top_calendar;if(c&&c.calendar){const h=Number(c.share??0);return`${c.calendar} ${yo(h)}`}return""}),a=j(()=>{var c;return e.selected.value.length||(((c=e.calendars.value)==null?void 0:c.length)??0)}),n=j(()=>(e.byDay.value||[]).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),r=j(()=>{const c=n.value.map(y=>Number(y)||0);return e.activeDayMode.value==="active"?c.filter(y=>y>0):c}),o=j(()=>(e.byDay.value||[]).filter(c=>{const y=vo(String(c==null?void 0:c.date));return y>=1&&y<=5}).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),i=j(()=>(e.byDay.value||[]).filter(c=>{const y=vo(String(c==null?void 0:c.date));return y===0||y===6}).map(c=>Number((c==null?void 0:c.total_hours)??(c==null?void 0:c.hours)??0))),l=j(()=>e.activeDayMode.value==="active"?o.value.filter(c=>c>0):o.value),f=j(()=>e.activeDayMode.value==="active"?i.value.filter(c=>c>0):i.value),g=j(()=>{var h,w,M,k;const c=((h=e.stats)==null?void 0:h.balance_index)??((w=e.stats)==null?void 0:w.balanceIndex)??((k=(M=e.stats)==null?void 0:M.balance_overview)==null?void 0:k.index),y=Number(c);return Number.isFinite(y)?y:null}),d=j(()=>{var c,y,h,w;return{rangeLabel:e.rangeLabel.value,totalHours:Number(((c=e.stats)==null?void 0:c.total_hours)??0),avgDay:gn(r.value),avgEvent:Number(((y=e.stats)==null?void 0:y.avg_per_event)??0),medianDay:pn(r.value),busiest:((h=e.stats)==null?void 0:h.busiest_day)??null,workdayAvg:gn(l.value),workdayMedian:pn(l.value),weekendAvg:gn(f.value),weekendMedian:pn(f.value),weekendShare:((w=e.stats)==null?void 0:w.weekend_share)??null,activeCalendars:a.value,calendarSummary:s.value,balanceIndex:g.value,topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),p=j(()=>{const c=e.stats;return{rangeLabel:e.rangeLabel.value,events:Vp(c.events),activeDays:ot(c.active_days),typicalStart:ds(c.typical_start),typicalEnd:ds(c.typical_end),weekendShare:ot(c.weekend_share),eveningShare:ot(c.evening_share),earliestStart:ds(c.earliest_start),latestEnd:ds(c.latest_end),overlapEvents:ot(c.overlap_events),longestSession:ot(c.longest_session),lastDayOff:ds(c.last_day_off),lastHalfDayOff:ds(c.last_half_day_off)}});return{topThree:t,topCalendarsSummary:s,timeSummary:d,activitySummary:p}}function gn(e){return e.length?e.reduce((s,a)=>s+a,0)/e.length:0}function pn(e){if(!e.length)return 0;const t=[...e].sort((a,n)=>a-n),s=Math.floor(t.length/2);return t.length%2?t[s]:(t[s-1]+t[s])/2}function vo(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function yo(e){return`${Number(e||0).toFixed(1)}%`}function Kp(e){return{balanceOverview:j(()=>{var d,p,c;const s=(d=e.stats)==null?void 0:d.balance_overview;if(!s||typeof s!="object")return null;const a=Array.isArray(s.categories)?s.categories.map(y=>({id:String((y==null?void 0:y.id)??""),label:String((y==null?void 0:y.label)??""),hours:ot(y==null?void 0:y.hours)??0,share:ot(y==null?void 0:y.share)??0,prevShare:ot(y==null?void 0:y.prev_share)??0,delta:ot(y==null?void 0:y.delta)??0,color:e.categoryColorMap.value[String((y==null?void 0:y.id)??"")]})):[],n=Array.isArray(s.relations)?s.relations.map(y=>({label:String((y==null?void 0:y.label)??""),value:String((y==null?void 0:y.value)??"")})):[],r={delta:Array.isArray((p=s.trend)==null?void 0:p.delta)?s.trend.delta.map(y=>({id:String((y==null?void 0:y.id)??""),label:String((y==null?void 0:y.label)??""),delta:ot(y==null?void 0:y.delta)??0})):[],badge:String(((c=s.trend)==null?void 0:c.badge)??"")},o=Array.isArray(s.daily)?s.daily.map(y=>({date:String((y==null?void 0:y.date)??""),weekday:String((y==null?void 0:y.weekday)??""),total_hours:ot(y==null?void 0:y.total_hours)??0,categories:Array.isArray(y==null?void 0:y.categories)?y.categories.map(h=>({id:String((h==null?void 0:h.id)??""),label:String((h==null?void 0:h.label)??""),hours:ot(h==null?void 0:h.hours)??0,share:ot(h==null?void 0:h.share)??0})):[]})):[],i=Array.isArray(s.insights)?s.insights.map(y=>String(y)):[],l=Array.isArray(s.warnings)?s.warnings.map(y=>String(y)):[],f=ot(s.index)??0,g=e.balanceCardConfig.value.showInsights?i:[];return{index:f,categories:a,relations:n,trend:r,daily:o,insights:g,warnings:l}})}}const qp={version:"0.4.3"},Jp={class:"app-shell"},Gp={class:"app-main"},Zp={class:"app-container"},Yp={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},Xp=["aria-expanded","aria-label"],Qp=["disabled"],eh=["disabled","aria-pressed"],th={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},sh=["disabled"],ah=["title"],nh=["disabled"],rh={class:"appbar"},oh={class:"title"},ih=["src"],lh=["textContent"],ch={class:"hint appbar-meta"},uh=["textContent"],dh={key:1,title:"Results truncated for performance"},fh=["title"],gh={class:"cards"},ph={class:"tabs"},hh={class:"card full tab-panel"},mh={key:0,class:"chart-section"},vh={class:"grid2 mt-12"},yh={class:"card chart-card"},bh={class:"card chart-card"},wh={key:1,class:"chart-section"},_h={key:0,class:"category-chart-block"},kh={class:"category-chart-header"},xh={class:"name"},Sh={class:"grid2 mt-8"},Ch={class:"card chart-card"},$h={class:"card chart-card"},Mh={class:"card full tab-panel"},Th={class:"card full tab-panel"},Ah={class:"card full tab-panel"},Dh={class:"hint footer"},Eh=["href"],bo="opsdash.sidebarOpen",Ph=Ee({__name:"App",setup(e){function t(K){var Re,ce;const W=window;(ce=(Re=W.OC)==null?void 0:Re.Notification)!=null&&ce.showTemporary?W.OC.Notification.showTemporary(K):console.log("SUCCESS:",K)}function s(K){var Re,ce;const W=window;(ce=(Re=W.OC)==null?void 0:Re.Notification)!=null&&ce.showTemporary?W.OC.Notification.showTemporary(K):(console.error("ERROR:",K),alert(K))}const a=se((()=>{if(typeof window>"u")return!0;const K=window.localStorage.getItem(bo);return K==null?!0:K==="1"})()),n=()=>{a.value=!a.value},r=j(()=>a.value?"Hide sidebar":"Show sidebar"),o=j(()=>a.value?"":"");vt(a,K=>{typeof window<"u"&&(window.localStorage.setItem(bo,K?"1":"0"),Ys(()=>{window.dispatchEvent(new Event("resize"))}))});const i=se("cal"),l=se("week"),f=se(0),g=j(()=>!a.value),d=j(()=>l.value==="week"?"Switch to month":"Switch to week"),p=j(()=>!Ce.value||!Be.value?"":`${Ce.value}  ${Be.value}`);function c(){$().catch(console.error)}function y(){l.value=l.value==="week"?"month":"week",f.value=0,$().catch(console.error)}function h(){f.value=(f.value||0)-1,$().catch(console.error)}function w(){f.value=(f.value||0)+1,$().catch(console.error)}const M=j(()=>{const K=ve.value;if(!K)return"Partial data due to caps";const W=[];return K.maxPerCal!=null&&W.push(`cap per calendar: ${K.maxPerCal}`),K.maxTotal!=null&&W.push(`cap total: ${K.maxTotal}`),K.totalProcessed!=null&&W.push(`processed: ${K.totalProcessed}`),W.join("  ")}),k=se(!1),{scheduleDraw:S}=Dp(),{route:T,getJson:L,postJson:G,deleteJson:q,root:B}=Ip(),ae=Sp({range:l,offset:f,route:K=>T(K),getJson:L,postJson:G,notifySuccess:t,notifyError:s}),{notesPrev:J,notesCurrDraft:oe,isSavingNote:we,fetchNotes:Se,saveNotes:Pe}=ae,{calendars:U,colorsByName:le,colorsById:Y,groupsById:Q,selected:_e,isLoading:Te,isTruncated:Ie,truncLimits:ve,uid:ye,from:Ce,to:Be,stats:Ae,byCal:xe,byDay:ee,longest:Ue,charts:Oe,targetsWeek:Ye,targetsMonth:m,targetsConfig:v,load:$}=Cp({range:l,offset:f,userChangedSelection:k,route:K=>T(K),getJson:L,notifyError:s,scheduleDraw:S,fetchNotes:Se,isDebug:wa,fetchDavColors:Zh}),{queueSave:O}=$p({route:K=>T(K),postJson:G,notifyError:s,notifySuccess:t,onReload:()=>$(),selected:_e,groupsById:Q,targetsWeek:Ye,targetsMonth:m,targetsConfig:v}),{toggleCalendar:D,setGroup:P,setTarget:R,updateTargetsConfig:F,selectAll:H}=Tp({calendars:U,selected:_e,groupsById:Q,targetsWeek:Ye,targetsMonth:m,targetsConfig:v,range:l,queueSave:O,userChangedSelection:k}),{presets:N,presetsLoading:X,presetSaving:V,presetApplying:Z,presetWarnings:te,refreshPresets:de,savePreset:ge,loadPreset:fe,deletePreset:$e,clearPresetWarnings:He}=Ap({route:(K,W)=>T(K,W),getJson:L,postJson:G,deleteJson:q,notifyError:s,notifySuccess:t,queueSave:O,selected:_e,groupsById:Q,targetsWeek:Ye,targetsMonth:m,targetsConfig:v,userChangedSelection:k}),Le=se("active"),Ve=j(()=>l.value==="month"?"Month":"Week"),dt=j(()=>{const K=ln(v.value);return l.value==="month"&&(K.totalHours=on(K.totalHours),K.categories=K.categories.map(W=>({...W,targetHours:on(W.targetHours)}))),K}),Zt=j(()=>{const K=dt.value;try{return Ru({config:K,stats:Ae,byDay:ee.value||[],byCal:xe.value||[],groupsById:Q.value||{},range:l.value,from:Ce.value,to:Be.value})}catch(W){return console.error("[opsdash] targets summary failed",W),Hu(K)}}),ze=j(()=>{if(l.value==="month"){const K=m.value||{};if(K&&Object.keys(K).length>0)return K;const W=Ye.value||{},Re={};return Object.entries(W).forEach(([ce,Mt])=>{const ht=Number(Mt);Number.isFinite(ht)&&(Re[ce]=on(ht))}),Re}return Ye.value||{}}),tt=j(()=>{var K;return{...us(),...((K=v.value)==null?void 0:K.activityCard)??{}}}),Yt=j(()=>{var Re;const K=nn(),W=((Re=v.value)==null?void 0:Re.balance)??K;return{...K,...W,thresholds:{...K.thresholds,...W.thresholds??{}},relations:{...K.relations,...W.relations??{}},trend:{...K.trend,...W.trend??{}},dayparts:{...K.dayparts,...W.dayparts??{}},ui:{...K.ui,...W.ui??{}}}}),x=j(()=>({showInsights:!!Yt.value.ui.showInsights,showDailyStacks:!!Yt.value.ui.showDailyStacks})),{categoryLabelById:b,categoryColorMap:I,calendarCategoryMap:pe,calendarGroups:Je}=Up({calendars:U,selected:_e,groupsById:Q,colorsById:Y,targetsConfig:dt,targetsSummary:Zt,byCal:xe,currentTargets:ze,isDebug:wa}),{balanceOverview:va}=Kp({stats:Ae,categoryColorMap:I,balanceCardConfig:x}),vn=j(()=>{var Re,ce;if(!tt.value.showHint)return"";const W=(Array.isArray((ce=(Re=v.value)==null?void 0:Re.balance)==null?void 0:ce.categories)?v.value.balance.categories:[]).map(Mt=>{const ht=String(Mt??"").trim();if(!ht)return"";const zt=b.value[ht];return zt||ht.toUpperCase()}).filter(Mt=>Mt);return W.length?`Mapping via Sidebar  ${W.join(" / ")}`:""}),{calendarChartData:ya,categoryChartsById:ba}=Lp({charts:Oe,colorsById:Y,calendarGroups:Je,calendarCategoryMap:pe,targetsConfig:dt,currentTargets:ze,activityCardConfig:tt}),Rh=j(()=>{const K=Je.value||[];return K.length&&[...K].sort((Re,ce)=>(ce.summary.actualHours||0)-(Re.summary.actualHours||0))[0]||null}),{timeSummary:Wh,activitySummary:Bh}=zp({stats:Ae,byDay:ee,charts:Oe,calendars:U,selected:_e,rangeLabel:Ve,activeDayMode:Le,topCategory:Rh}),yn=se(null);function jh(K){yn.value=yn.value===K?null:K}function Uh(K){const W=window;return W.OC&&typeof W.OC.generateUrl=="function"?W.OC.generateUrl("/apps/calendar/timeGridDay/"+K):`${B.value}/index.php/apps/calendar/timeGridDay/${K}`}function wa(){return!1}const{iconSrc:Vh,onIconError:_o,appVersion:ko,changelogUrl:xo}=Np({pingUrl:()=>T("ping"),getJson:L,pkgVersion:String(qp.version),root:B}),zh=j(()=>l.value==="month"?"Last month":"Last week"),Kh=j(()=>l.value==="month"?"This month":"This week"),qh=j(()=>l.value==="month"?"Notes for previous month":"Notes for previous week"),Jh=j(()=>l.value==="month"?"Notes for current month":"Notes for current week");function bn(K){return Number(K??0).toFixed(2)}function Gh(K){Le.value!==K&&(Le.value=K)}async function Zh(K,W){var ht;const Re={};if(!K)return Re;const ce=((ht=window.OC)==null?void 0:ht.requestToken)||window.oc_requesttoken||"",Mt=B.value;for(const zt of W)try{const Is=`${Mt}/remote.php/dav/calendars/${encodeURIComponent(K)}/${encodeURIComponent(zt)}/`,Yh=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;wa();const So=await fetch(Is,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:ce},body:Yh});if(!So.ok)continue;const Xh=await So.text();wa();const Co=Xh.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);Co&&(Re[zt]=Co[1])}catch{}return Re}return os(()=>{console.info("[opsdash] start"),$().catch(K=>{console.error(K),alert("Initial load failed")}),de().catch(K=>console.warn("[opsdash] presets fetch failed",K))}),vt(l,()=>{f.value=0,$().catch(console.error)}),(K,W)=>{const Re=Ni("NcAppSidebarToggle");return C(),A("div",{id:"opsdash",class:he(["opsdash",{"is-nav-collapsed":!a.value}])},[re(_(rc),{"app-name":"Operational Dashboard","show-navigation":a.value},{navigation:Fe(()=>[re(xp,{id:"opsdash-sidebar",calendars:_(U),selected:_(_e),"groups-by-id":_(Q),"is-loading":_(Te),range:l.value,offset:f.value,from:_(Ce),to:_(Be),"targets-week":_(Ye),"targets-month":_(m),"targets-config":_(v),"notes-prev":_(J),"notes-curr-draft":_(oe),"notes-label-prev":zh.value,"notes-label-curr":Kh.value,"notes-label-prev-title":qh.value,"notes-label-curr-title":Jh.value,"is-saving-note":_(we),"active-day-mode":Le.value,"nav-toggle-label":r.value,"nav-toggle-icon":o.value,presets:_(N),"presets-loading":_(X),"preset-saving":_(V),"preset-applying":_(Z),"preset-warnings":_(te),onLoad:_($),"onUpdate:range":W[0]||(W[0]=ce=>{l.value=ce,f.value=0,_($)()}),"onUpdate:offset":W[1]||(W[1]=ce=>{f.value=ce,_($)()}),onSelectAll:W[2]||(W[2]=ce=>_(H)(ce)),onToggleCalendar:W[3]||(W[3]=ce=>_(D)(ce)),onSetGroup:W[4]||(W[4]=ce=>_(P)(ce.id,ce.n)),onSetTarget:W[5]||(W[5]=ce=>_(R)(ce.id,ce.h)),"onUpdate:notes":W[6]||(W[6]=ce=>oe.value=ce),onSaveNotes:_(Pe),"onUpdate:targetsConfig":_(F),"onUpdate:activeMode":Gh,onToggleNav:n,onSavePreset:_(ge),onLoadPreset:_(fe),onDeletePreset:_($e),onRefreshPresets:_(de),onClearPresetWarnings:_(He)},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","notes-prev","notes-curr-draft","notes-label-prev","notes-label-curr","notes-label-prev-title","notes-label-curr-title","is-saving-note","active-day-mode","nav-toggle-label","nav-toggle-icon","presets","presets-loading","preset-saving","preset-applying","preset-warnings","onLoad","onSaveNotes","onUpdate:targetsConfig","onSavePreset","onLoadPreset","onDeletePreset","onRefreshPresets","onClearPresetWarnings"])]),"sidebar-toggle":Fe(()=>[re(Re,{open:a.value,onToggle:n},null,8,["open"])]),default:Fe(()=>[u("div",Jp,[u("div",Gp,[u("div",Zp,[g.value?(C(),A("div",Yp,[u("button",{class:"range-toolbar__btn",type:"button",onClick:n,"aria-expanded":a.value,"aria-controls":"opsdash-sidebar","aria-label":r.value},E(o.value),9,Xp),u("button",{class:"range-toolbar__btn",type:"button",disabled:_(Te),onClick:c}," Refresh ",8,Qp),W[12]||(W[12]=u("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),u("button",{class:"range-toolbar__btn",type:"button",disabled:_(Te),onClick:y,"aria-pressed":l.value==="month"},E(d.value),9,eh),u("div",th,[u("button",{class:"range-toolbar__btn",type:"button",disabled:_(Te),onClick:h},"  ",8,sh),u("span",{class:"range-toolbar__label",title:p.value},E(p.value),9,ah),u("button",{class:"range-toolbar__btn",type:"button",disabled:_(Te),onClick:w},"  ",8,nh)])])):z("",!0),u("div",rh,[u("div",oh,[u("img",{src:_(Vh),onError:W[7]||(W[7]=(...ce)=>_(_o)&&_(_o)(...ce)),class:"app-icon",alt:"","aria-hidden":"true"},null,40,ih),W[13]||(W[13]=u("span",null,"Operational Dashboard",-1)),u("span",{class:"chip",textContent:E(l.value.toUpperCase())},null,8,lh)]),u("div",ch,[_(Te)?(C(),qe(_(ic),{key:0,size:16})):z("",!0),u("span",{textContent:E(_(ye))},null,8,uh),_(Ie)?(C(),A("span",dh," Partial data")):z("",!0)])]),_(Ie)?(C(),A("div",{key:1,class:"banner warn",title:M.value},[W[14]||(W[14]=me(" Showing partial data to keep things fast. ",-1)),_(ve)&&_(ve).totalProcessed!=null?(C(),A(ue,{key:0},[me(" Processed "+E(_(ve).totalProcessed)+" items. ",1)],64)):z("",!0)],8,fh)):z("",!0),u("div",gh,[re(du,{summary:_(Wh),mode:Le.value,config:_(v).timeSummary},null,8,["summary","mode","config"]),re(Ou,{summary:Zt.value,config:_(v),groups:_(Je)},null,8,["summary","config","groups"]),re(od,{summary:_(Bh),"range-label":Ve.value,"category-hint":vn.value,config:tt.value},null,8,["summary","range-label","category-hint","config"]),re(pd,{overview:_(va),"range-label":Ve.value,config:x.value},null,8,["overview","range-label","config"])]),u("div",ph,[u("a",{href:"#",class:he({active:i.value==="cal"}),onClick:W[8]||(W[8]=da(ce=>i.value="cal",["prevent"]))},"By Calendar",2),u("a",{href:"#",class:he({active:i.value==="day"}),onClick:W[9]||(W[9]=da(ce=>i.value="day",["prevent"]))},"By Day",2),u("a",{href:"#",class:he({active:i.value==="top"}),onClick:W[10]||(W[10]=da(ce=>i.value="top",["prevent"]))},"Longest Tasks",2),u("a",{href:"#",class:he({active:i.value==="heat"}),onClick:W[11]||(W[11]=da(ce=>i.value="heat",["prevent"]))},"Heatmap",2)]),ws(u("div",hh,[_(xe).length===0?(C(),qe(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),A(ue,{key:1},[re(Ec,{rows:_(xe),n2:bn,targets:ze.value,groups:_(Je)},null,8,["rows","targets","groups"]),_(v).ui.showCalendarCharts&&(_(ya).pie||_(ya).stacked)?(C(),A("div",mh,[W[17]||(W[17]=u("h3",{class:"section-title"},"Calendars (all)",-1)),u("div",vh,[u("div",yh,[W[15]||(W[15]=u("div",{class:"chart-card__title"},"Distribution by calendar",-1)),re(io,{data:_(ya).pie,"colors-by-id":_(Y),"colors-by-name":_(le)},null,8,["data","colors-by-id","colors-by-name"])]),u("div",bh,[W[16]||(W[16]=u("div",{class:"chart-card__title"},"Hours per day",-1)),re(lo,{stacked:_(ya).stacked,legacy:_(Oe).perDay,"colors-by-id":_(Y)},null,8,["stacked","legacy","colors-by-id"])])])])):z("",!0),_(v).ui.showCategoryCharts&&_(Je).length?(C(),A("div",wh,[W[20]||(W[20]=u("h3",{class:"section-title"},"Categories",-1)),(C(!0),A(ue,null,je(_(Je),ce=>{var Mt,ht,zt,Is;return C(),A(ue,{key:"cat-charts-"+ce.id},[(Mt=_(ba)[ce.id])!=null&&Mt.pie||(ht=_(ba)[ce.id])!=null&&ht.stacked?(C(),A("div",_h,[u("div",kh,[u("span",{class:"dot",style:At({background:_(I)[ce.id]||"var(--brand)"})},null,4),u("span",xh,E(ce.label),1)]),u("div",Sh,[u("div",Ch,[W[18]||(W[18]=u("div",{class:"chart-card__title"},"Calendar share",-1)),re(io,{data:(zt=_(ba)[ce.id])==null?void 0:zt.pie,"colors-by-id":_(Y),"colors-by-name":_(le)},null,8,["data","colors-by-id","colors-by-name"])]),u("div",$h,[W[19]||(W[19]=u("div",{class:"chart-card__title"},"Hours per day",-1)),re(lo,{stacked:(Is=_(ba)[ce.id])==null?void 0:Is.stacked,legacy:null,"colors-by-id":_(Y)},null,8,["stacked","colors-by-id"])])])])):z("",!0)],64)}),128))])):z("",!0)],64))],512),[[ca,i.value==="cal"]]),ws(u("div",Mh,[_(ee).length===0?(C(),qe(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),qe(Hc,{key:1,rows:_(ee),n2:bn,link:Uh},null,8,["rows"]))],512),[[ca,i.value==="day"]]),ws(u("div",Th,[_(Ue).length===0?(C(),qe(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),qe(qc,{key:1,rows:_(Ue),n2:bn,"details-index":yn.value,onToggle:jh},null,8,["rows","details-index"]))],512),[[ca,i.value==="top"]]),ws(u("div",Ah,[!_(Oe).hod||!_(Oe).hod.matrix||_(Oe).hod.matrix.length===0?(C(),qe(_(fa),{key:0,name:"No data",description:"Try changing the range or calendars"})):(C(),A(ue,{key:1},[re(cc,{hod:_(Oe).hod},null,8,["hod"]),W[21]||(W[21]=u("div",{class:"hint"},"247 Heatmap: cumulated hours by weekday (rows) and hour (columns).",-1))],64))],512),[[ca,i.value==="heat"]]),u("div",Dh,[W[23]||(W[23]=me(" Powered by ",-1)),W[24]||(W[24]=u("strong",null,"Gellert Innovation",-1)),W[25]||(W[25]=me("  Built with ",-1)),W[26]||(W[26]=u("span",{class:"mono"},"opsdash",-1)),_(ko)?(C(),A(ue,{key:0},[me(" v"+E(_(ko)),1)],64)):z("",!0),_(xo)?(C(),A(ue,{key:1},[W[22]||(W[22]=me("  ",-1)),u("a",{href:_(xo),target:"_blank",rel:"noreferrer noopener"},"Changelog",8,Eh)],64)):z("",!0)])])])])]),_:1},8,["show-navigation"])],2)}}});let Ps=null,hn=null,wo=!1;function Ih(){if(!(typeof window>"u"))try{ma(),Nh()}catch(e){Fh()&&console.warn("[opsdash] theme boot install failed",e)}}function Nh(){if(Ps||hn||wo)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Ps=new MutationObserver(()=>ma()),e.forEach(t=>{Ps==null||Ps.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>ma();typeof t.addEventListener=="function"?(t.addEventListener("change",s),hn=()=>t.removeEventListener("change",s)):typeof t.addListener=="function"&&(t.addListener(s),hn=()=>{t.removeListener(s)})}window.addEventListener("oc:theme:changed",ma),wo=!0}function ma(){const e=Lh();if(!e)return;["icon","shortcut icon"].forEach(s=>{let a=document.querySelector(`link[rel="${s}"]`);a||(a=document.createElement("link"),a.rel=s,document.head.appendChild(a)),a.type="image/svg+xml",a.href=e})}function Lh(){const e=Oh()==="dark",t=Hh(),s=t("favicon.svg");if(s)return s;if(e){const n=t("app-dark.svg");if(n)return n}const a=t(e?"app-dark.svg":"app.svg");return a||"/apps-extra/opsdash/img/favicon.svg"}function Oh(){var a,n,r,o,i;const e=(a=document.documentElement)==null?void 0:a.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(n=document.body)==null?void 0:n.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((r=document.body)!=null&&r.classList.contains("theme--dark"))return"dark";if((o=document.body)!=null&&o.classList.contains("theme--light"))return"light";const s=(i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)");return s!=null&&s.matches?"dark":"light"}function Hh(){const e=window;return t=>{var s;return typeof((s=e.OC)==null?void 0:s.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function Fh(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function mn(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=sc(Ph);t.config.errorHandler=(n,r,o)=>{const i=r!=null&&r.type&&r.type.name?r.type.name:"",l={err:n,info:o,name:i,stack:n instanceof Error?n.stack:void 0},f=window;Array.isArray(f.__opsdashErrors)||(f.__opsdashErrors=[]),f.__opsdashErrors.push(l),console.error("[opsdash] Vue error",l)};const s=t.mount(e),a=window;a.__opsdashApp=t,a.__opsdashRoot=s,Ih(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(mn,50):window.addEventListener("DOMContentLoaded",mn,{once:!0})}mn()})();
