(function(){"use strict";var bs=document.createElement("style");bs.textContent=`.shortcuts-box[data-v-03673507]{margin:8px 0 12px;background:color-mix(in oklab,#111827,#1f2937 60%);border:1px solid color-mix(in oklab,#4b5563,transparent 20%);border-radius:10px;box-shadow:0 10px 18px #0000002e;padding:10px}.shortcuts-box__header[data-v-03673507]{display:flex;align-items:center;justify-content:space-between;font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.04em;color:#cbd5f5;margin-bottom:8px}.shortcuts-box__body[data-v-03673507]{display:flex;flex-direction:column;gap:10px}.shortcuts-box__title[data-v-03673507]{font-size:11px;font-weight:700;color:#9ca3af;text-transform:uppercase;letter-spacing:.04em;margin-bottom:4px}.shortcuts-box__group ul[data-v-03673507]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:6px}.shortcuts-box__group li[data-v-03673507]{display:grid;grid-template-columns:1fr auto;gap:6px 10px;align-items:center;color:#e5e7eb;font-size:12px}.shortcuts-box__group .combo[data-v-03673507]{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:11px;background:#0f172acc;border-radius:6px;padding:2px 6px;color:#f8fafc}.shortcuts-box__group .desc[data-v-03673507]{grid-column:1 / -1;color:#94a3b8;font-size:11px}.forecast-block select[data-v-03673507]{width:100%}.section-hint[data-v-03673507]{background:var(--color-background-hover, rgba(0, 0, 0, .05));border:1px solid var(--color-border, #d1d5db);border-left:4px solid var(--color-primary-element, #2563eb);border-radius:8px;padding:10px 12px;margin:6px 0 10px;color:var(--color-text-maxcontrast, inherit);box-shadow:0 1px 2px var(--color-box-shadow, rgba(0, 0, 0, .08))}.section-hint.compact[data-v-03673507]{margin:4px 0 6px;padding:8px 10px}.hint-title[data-v-03673507]{display:block;font-weight:600;margin-bottom:2px}.hint-body[data-v-03673507]{display:block;line-height:1.4}.field .label[data-v-03673507]{font-weight:600;color:var(--color-text-maxcontrast, inherit)}.field input[type=number][data-v-03673507],.field select[data-v-03673507]{border-radius:6px;padding:6px 8px;border:1px solid var(--color-border, #d1d5db);background:var(--color-main-background, #fff);color:var(--color-text-maxcontrast, inherit)}.field input[disabled][data-v-03673507],.field select[disabled][data-v-03673507]{opacity:.6;cursor:not-allowed}.input-message.warning[data-v-03673507]{color:var(--warning, #f97316)}.input-message.error[data-v-03673507]{color:var(--neg, #dc2626)}.field-grid[data-v-03673507]{align-items:start}.sb-actions--secondary[data-v-03673507]{margin-top:8px;flex-wrap:wrap;gap:6px}.onboarding-jumps[data-v-03673507]{display:grid;gap:4px;margin:6px 0 10px;padding-left:18px;font-size:12px;color:var(--muted, #6b7280)}.onboarding-jumps .link[data-v-03673507]{background:transparent;border:0;padding:0;color:inherit;text-align:left;text-decoration:none;cursor:pointer}.onboarding-jumps .link[data-v-03673507]:hover{color:var(--color-primary-text);text-decoration:underline}.sb-title[data-v-1c577e0e]{font-weight:600;margin-bottom:6px}.sb-description[data-v-1c577e0e]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.theme-section[data-v-1c577e0e]{border:1px solid color-mix(in oklab,var(--line),transparent 30%);border-radius:10px;padding:12px;margin-bottom:16px;background:color-mix(in oklab,var(--card),transparent 6%);display:flex;flex-direction:column;gap:12px}.theme-header[data-v-1c577e0e]{display:flex;flex-direction:column;gap:2px}.theme-title[data-v-1c577e0e]{font-weight:600;font-size:13px;color:var(--fg)}.theme-hint[data-v-1c577e0e]{font-size:11px;color:var(--muted)}.theme-options[data-v-1c577e0e]{display:flex;flex-direction:column;gap:8px}.theme-option[data-v-1c577e0e]{display:flex;gap:10px;align-items:flex-start;padding:8px;border-radius:8px;border:1px solid color-mix(in oklab,var(--line),transparent 40%);background:color-mix(in oklab,var(--card),transparent 8%)}.theme-option input[type=radio][data-v-1c577e0e]{margin-top:4px}.theme-copy[data-v-1c577e0e]{display:flex;flex-direction:column;gap:2px;font-size:12px}.theme-option__title[data-v-1c577e0e]{font-weight:600;color:var(--fg)}.theme-option__desc[data-v-1c577e0e]{color:var(--muted)}.sb-title[data-v-d7ffdf01]{font-weight:600;margin-bottom:6px}.sb-description[data-v-d7ffdf01]{font-size:12px;color:var(--text-color-tertiary);margin:0 0 10px}.setup-actions[data-v-d7ffdf01]{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:12px}.setup-actions .import-input[data-v-d7ffdf01]{display:none}.preset-form[data-v-d7ffdf01]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.preset-label[data-v-d7ffdf01]{font-size:12px;font-weight:600}.preset-form input[data-v-d7ffdf01]{width:100%;padding:6px 8px;border-radius:4px;border:1px solid var(--color-border);background:var(--color-main-background);color:var(--color-main-text)}.preset-save[data-v-d7ffdf01]{align-self:flex-start}.preset-error[data-v-d7ffdf01]{color:var(--color-error);font-size:12px}.preset-warnings[data-v-d7ffdf01]{border:1px solid var(--color-warning);background:color-mix(in srgb,var(--color-warning) 10%,transparent);border-radius:6px;padding:8px;margin-bottom:12px}.warnings-title[data-v-d7ffdf01]{font-weight:600;margin-bottom:4px}.preset-warnings ul[data-v-d7ffdf01]{padding-left:18px;margin:0 0 6px}.preset-clear[data-v-d7ffdf01]{padding:2px 6px}.preset-header[data-v-d7ffdf01]{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.preset-header h3[data-v-d7ffdf01]{margin:0;font-size:13px;font-weight:600}.preset-empty[data-v-d7ffdf01]{font-size:12px;color:var(--text-color-tertiary)}.preset-list[data-v-d7ffdf01]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.preset-item[data-v-d7ffdf01]{border:1px solid var(--color-border);border-radius:6px;padding:8px;display:flex;flex-direction:column;gap:6px;background:var(--color-background-hover);color:var(--color-main-text)}.preset-meta[data-v-d7ffdf01]{display:flex;flex-direction:column;gap:2px}.preset-name[data-v-d7ffdf01]{font-weight:600}.preset-info[data-v-d7ffdf01]{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:var(--color-text-lighter)}.preset-actions[data-v-d7ffdf01]{display:flex;gap:6px}.report-card[data-v-f8445616]{border:1px solid var(--color-border-maxcontrast);border-radius:12px;padding:1rem;margin-bottom:1rem;background:var(--color-background-hover);color:var(--color-main-text)}.report-card__header[data-v-f8445616]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.report-card__title[data-v-f8445616]{font-weight:600;font-size:1rem}.report-card__subtitle[data-v-f8445616]{font-size:.85rem;color:var(--color-text-lighter)}.report-form[data-v-f8445616]{display:flex;flex-direction:column;gap:.75rem}.report-form--disabled[data-v-f8445616]{opacity:.6}.report-field[data-v-f8445616]{display:flex;flex-direction:column;gap:.35rem;font-size:.85rem}.report-field select[data-v-f8445616]{border-radius:8px;padding:.35rem .45rem;border:1px solid var(--color-border)}.report-field--checkbox[data-v-f8445616]{flex-direction:row;align-items:center;gap:.5rem}.report-risk[data-v-f8445616]{display:flex;flex-direction:column;gap:.25rem}.report-risk__header[data-v-f8445616]{display:flex;justify-content:space-between;font-size:.85rem;align-items:center}.report-notify[data-v-f8445616]{border:1px dashed var(--color-border);border-radius:8px;padding:.5rem;display:flex;gap:1rem;flex-wrap:wrap}.report-notify legend[data-v-f8445616]{font-size:.85rem;font-weight:600}.report-actions[data-v-f8445616]{display:flex;justify-content:flex-end;margin-top:.5rem}.report-save[data-v-f8445616]{border-radius:999px;border:1px solid var(--color-border-maxcontrast);padding:.35rem .9rem;background:var(--color-background-hover);cursor:pointer}.report-save[data-v-f8445616]:disabled{opacity:.6;cursor:not-allowed}.switch[data-v-f8445616]{position:relative;display:inline-block;width:38px;height:20px}.switch input[data-v-f8445616]{opacity:0;width:0;height:0}.switch span[data-v-f8445616]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--color-border);transition:.2s;border-radius:999px}.switch span[data-v-f8445616]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;transition:.2s;border-radius:50%}.switch input:checked+span[data-v-f8445616]{background-color:var(--color-primary)}.switch input:checked+span[data-v-f8445616]:before{transform:translate(18px)}.report-saving[data-v-f8445616]{font-size:.85rem;color:var(--color-text-lighter)}.input-message[data-v-dc2dbb66]{font-size:11px;margin-top:4px;color:var(--muted)}.input-message.error[data-v-dc2dbb66]{color:var(--neg)}.input-message.warning[data-v-dc2dbb66]{color:var(--warning)}.onboarding-fade-enter-active,.onboarding-fade-leave-active{transition:opacity .2s ease}.onboarding-fade-enter-from,.onboarding-fade-leave-to{opacity:0}.onboarding-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2000;display:flex;align-items:center;justify-content:center;padding:24px}.onboarding-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#0f172a73}.onboarding-panel{position:relative;z-index:1;width:min(960px,100%);max-height:calc(100vh - 48px);background:var(--color-main-background, #fff);border-radius:12px;box-shadow:0 18px 48px #0f172a59;display:flex;flex-direction:column;padding:24px 28px}.onboarding-header{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:16px}.onboarding-actions{display:flex;align-items:center;gap:12px}.onboarding-title h2{margin:0;font-size:1.6rem}.onboarding-title .subtitle{margin:4px 0 0;color:var(--color-text-light)}.onboarding-overlay .skip-link{background:none;border:none;color:var(--color-primary);cursor:pointer;font-size:.95rem}.onboarding-overlay .close-btn{background:none;border:none;font-size:1.4rem;line-height:1;cursor:pointer;color:var(--color-text-light)}.onboarding-overlay .close-btn:hover{color:var(--color-primary)}.onboarding-step-nav{display:flex;flex-wrap:wrap;gap:8px;margin:0 0 12px}.onboarding-overlay .step-pill{border:1px solid var(--color-border);background:var(--color-background-contrast);padding:6px 10px;border-radius:999px;font-size:12px;cursor:pointer;color:var(--color-text)}.onboarding-overlay .step-pill.active{border-color:var(--color-primary);color:var(--color-primary);background:#2563eb14}.onboarding-overlay .step-pill:disabled{opacity:.6;cursor:default}.onboarding-body{flex:1;overflow-y:auto;padding-right:8px;margin-right:-8px}.onboarding-step h3{margin-top:0}.onboarding-overlay .highlights{padding-left:18px}.onboarding-overlay .config-warning{border:1px solid color-mix(in srgb,var(--color-warning, #f97316) 35%,transparent);background:color-mix(in srgb,var(--color-warning, #f97316) 12%,transparent);border-radius:8px;padding:12px;margin:12px 0;display:flex;flex-direction:column;gap:8px}.onboarding-overlay .config-warning p{margin:0;font-size:.95rem;color:var(--color-text)}.onboarding-overlay .hint{color:var(--color-text-light);margin-top:12px}.onboarding-overlay .snapshot-notice{margin-top:12px;padding:10px 12px;border-radius:8px;font-size:.9rem}.onboarding-overlay .snapshot-notice--success{background:color-mix(in srgb,#22c55e 15%,transparent);color:#14532d}.onboarding-overlay .snapshot-notice--error{background:color-mix(in srgb,#ef4444 15%,transparent);color:#7f1d1d}.onboarding-overlay .strategy-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.onboarding-overlay .strategy-card{border:1px solid var(--color-border);border-radius:8px;padding:16px;cursor:pointer;display:flex;flex-direction:column;gap:8px;transition:border-color .15s ease,box-shadow .15s ease}.onboarding-overlay .strategy-card.active{border-color:var(--color-primary);box-shadow:0 0 0 2px #3b82f633}.onboarding-overlay .strategy-card h4{margin:0}.onboarding-overlay .strategy-card .subtitle{color:var(--color-text-light);margin:0}.onboarding-overlay .strategy-card footer{margin-top:auto;font-size:.85rem;color:var(--color-text-light)}.onboarding-overlay .calendar-list{display:grid;gap:8px;margin-top:8px}.onboarding-overlay .calendar-item{display:grid;grid-template-columns:auto auto 1fr;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--color-border);border-radius:6px}.onboarding-overlay .calendar-item.checked{border-color:var(--color-primary)}.onboarding-overlay .calendar-item input{margin:0}.onboarding-overlay .calendar-item .dot{width:12px;height:12px;border-radius:50%}.onboarding-overlay .warning{color:var(--color-error);margin-top:12px}.onboarding-overlay .review-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.onboarding-overlay .review-grid h5{margin:0 0 8px;font-size:.95rem;color:var(--color-text-light)}.onboarding-overlay .categories-editor{display:grid;gap:16px}.onboarding-overlay .category-card{border:1px solid var(--color-border);border-radius:8px;padding:16px;background:var(--color-main-background, #fff);display:flex;flex-direction:column;gap:12px}.onboarding-overlay .category-card__header{display:flex;gap:12px;align-items:center}.onboarding-overlay .category-color-indicator{width:14px;height:14px;border-radius:50%;border:1px solid color-mix(in oklab,var(--color-border),transparent 40%);flex-shrink:0}.onboarding-overlay .category-name{flex:1;padding:6px 8px;border:1px solid var(--color-border);border-radius:4px}.onboarding-overlay .category-actions{display:flex;gap:8px}.onboarding-overlay .remove-category{background:none;border:none;color:var(--color-text-light);cursor:pointer;font-size:1.1rem}.onboarding-overlay .remove-category:disabled{opacity:.4;cursor:default}.onboarding-overlay .remove-category:not(:disabled):hover{color:var(--color-error)}.onboarding-overlay .category-card__fields{display:flex;flex-wrap:wrap;gap:16px}.onboarding-overlay .color-field{display:flex;flex-direction:column;gap:6px;position:relative}.onboarding-overlay .color-link{align-self:flex-start;border:none;background:transparent;padding:0;font-size:12px;color:var(--brand, #2563eb);text-decoration:underline;cursor:pointer}.onboarding-overlay .color-link:focus-visible{outline:2px solid color-mix(in oklab,var(--brand, #2563eb),transparent 45%);outline-offset:2px}.onboarding-overlay .color-popover{position:absolute;top:calc(100% + 6px);left:0;z-index:30;min-width:160px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab,var(--color-border),transparent 30%);background:var(--color-main-background, #fff);box-shadow:0 12px 32px #0f172a40;display:flex;flex-direction:column;gap:8px}.onboarding-overlay .color-popover:focus-visible{outline:2px solid color-mix(in oklab,var(--brand, #2563eb),transparent 45%);outline-offset:2px}.onboarding-overlay .swatch-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(0,20px));justify-content:flex-start;gap:6px}.onboarding-overlay .color-swatch{width:18px;height:18px;aspect-ratio:1 / 1;border-radius:50%;border:1px solid color-mix(in oklab,#000,transparent 80%);padding:0;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}.onboarding-overlay .color-swatch.active{box-shadow:0 0 0 2px color-mix(in oklab,var(--brand, #2563eb),transparent 55%)}.onboarding-overlay .color-swatch:focus-visible{outline:2px solid color-mix(in oklab,var(--brand, #2563eb),transparent 45%);outline-offset:1px}.onboarding-overlay .custom-color{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:.85rem;color:var(--color-text-light)}.onboarding-overlay .color-input{width:44px;height:26px;padding:0;border-radius:6px;border:1px solid color-mix(in oklab,var(--color-border),transparent 40%);background:transparent}.onboarding-overlay .add-category{justify-self:flex-start}.onboarding-overlay .category-total{font-size:.9rem;color:var(--color-text-light)}.onboarding-overlay .calendar-assignments{margin-top:24px;display:grid;gap:12px}.onboarding-overlay .assignment-row{display:grid;grid-template-columns:1fr minmax(160px,220px);gap:12px;align-items:center}.onboarding-overlay .assignment-row select{padding:6px 8px}.onboarding-overlay .cal-name{font-size:.95rem}.onboarding-footer{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.onboarding-overlay .preferences-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}.onboarding-overlay .pref-card{border:1px solid color-mix(in oklab,var(--color-border),transparent 30%);border-radius:10px;padding:12px;background:color-mix(in oklab,var(--color-main-background, #fff),transparent 6%);display:flex;flex-direction:column;gap:12px}.onboarding-overlay .pref-card h4{margin:0}.onboarding-overlay .pref-card--deck .toggle-row{display:flex;gap:10px;align-items:center;font-size:.95rem}.onboarding-overlay .pref-card--deck input[type=checkbox]{transform:scale(1.05)}.onboarding-overlay .deck-board-list{border:1px solid color-mix(in oklab,var(--color-border),transparent 40%);border-radius:8px;padding:10px;background:color-mix(in oklab,var(--color-main-background, #fff),transparent 6%);display:flex;flex-direction:column;gap:8px}.onboarding-overlay .deck-board-options{display:flex;flex-direction:column;gap:6px}.onboarding-overlay .deck-board-option{display:flex;gap:8px;align-items:center;font-size:.9rem}.onboarding-overlay .deck-status{font-size:.85rem;color:var(--color-text-light)}.onboarding-overlay .deck-status--error{color:var(--color-error)}.onboarding-overlay .pref-desc{margin:0;font-size:.9rem;color:var(--color-text-light)}.onboarding-overlay .pref-hint{margin:0;font-size:.85rem;color:var(--color-text-light)}.onboarding-overlay .theme-options{display:flex;flex-direction:column;gap:8px}.onboarding-overlay .theme-option{display:flex;gap:10px;align-items:flex-start;padding:8px;border-radius:8px;border:1px solid color-mix(in oklab,var(--color-border),transparent 40%);background:color-mix(in oklab,var(--color-main-background, #fff),transparent 8%)}.onboarding-overlay .theme-option input[type=radio]{margin-top:4px}.onboarding-overlay .theme-copy{display:flex;flex-direction:column;gap:2px;font-size:.9rem}.onboarding-overlay .theme-option__title{font-weight:600;color:var(--color-text)}.onboarding-overlay .theme-option__desc{color:var(--color-text-light);font-size:.85rem}.onboarding-overlay .theme-preview{font-size:.85rem;color:var(--color-text-light)}:global(body.opsdash-onboarding-lock){overflow:hidden}.shortcuts-overlay[data-v-f8126e32]{position:fixed;top:0;right:0;bottom:0;left:0;background:color-mix(in srgb,var(--color-background-dark-default, rgba(0, 0, 0, .85)) 90%,transparent);display:flex;align-items:center;justify-content:center;padding:24px;z-index:9999}.shortcuts-panel[data-v-f8126e32]{width:min(720px,100%);max-height:90vh;overflow:auto;background:var(--color-main-background, #fff);border-radius:16px;box-shadow:0 12px 48px #00000059;padding:20px;display:flex;flex-direction:column;gap:16px;outline:none}.shortcuts-header[data-v-f8126e32]{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}.shortcuts-title h2[data-v-f8126e32]{margin:0;font-size:20px}.shortcuts-hint[data-v-f8126e32]{margin:4px 0 0;font-size:13px;color:var(--text-color-tertiary)}.shortcuts-close[data-v-f8126e32]{border:none;background:transparent;font-size:24px;line-height:1;cursor:pointer;color:var(--text-color-primary, #111)}.shortcuts-body[data-v-f8126e32]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.shortcuts-group h3[data-v-f8126e32]{margin:0 0 8px;font-size:14px;text-transform:uppercase;color:var(--text-color-tertiary);letter-spacing:.06em}.shortcuts-group ul[data-v-f8126e32]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}.shortcuts-group li[data-v-f8126e32]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 0;border-bottom:1px solid color-mix(in srgb,var(--color-border, rgba(0, 0, 0, .1)) 60%,transparent)}.shortcuts-group li[data-v-f8126e32]:last-child{border-bottom:none}.shortcut-label[data-v-f8126e32]{font-weight:600;display:flex;flex-direction:column;gap:2px}.shortcut-label small[data-v-f8126e32]{font-weight:400;font-size:12px;color:var(--text-color-tertiary)}.shortcut-combo[data-v-f8126e32]{display:inline-flex;gap:6px}kbd[data-v-f8126e32]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;padding:4px 8px;border-radius:6px;border:1px solid color-mix(in srgb,var(--color-border, rgba(0, 0, 0, .2)) 80%,transparent);background:color-mix(in srgb,var(--color-main-background, #fff) 80%,rgba(0,0,0,.05));color:var(--text-color-primary, #111);box-shadow:inset 0 -1px #fff9}.shortcuts-footer[data-v-f8126e32]{display:flex;justify-content:flex-end}@media (max-width: 600px){.shortcuts-panel[data-v-f8126e32]{padding:16px}.shortcuts-body[data-v-f8126e32]{grid-template-columns:1fr}}.layout-grid[data-v-9017abee]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;width:100%;position:relative;--grid-row: 24px;grid-auto-rows:var(--grid-row);grid-auto-flow:row}.layout-item[data-v-9017abee]{position:relative}.layout-item.is-loading[data-v-9017abee]>:not(.widget-loading){opacity:.35;filter:saturate(.85)}.widget-loading[data-v-9017abee]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;background:color-mix(in oklab,var(--card),transparent 20%);border-radius:16px;z-index:2}.widget-loading__spinner[data-v-9017abee]{width:20px;height:20px;border-radius:50%;border:2px solid color-mix(in oklab,var(--brand),transparent 65%);border-top-color:var(--brand);animation:widget-spin-9017abee .8s linear infinite}.widget-loading__label[data-v-9017abee]{font-size:12px;font-weight:600;color:var(--muted, #6b7280)}@keyframes widget-spin-9017abee{to{transform:rotate(360deg)}}.layout-grid.show-guides[data-v-9017abee]{background-image:linear-gradient(to right,rgba(148,163,184,.15) 1px,transparent 1px),linear-gradient(to bottom,rgba(148,163,184,.12) 1px,transparent 1px);background-size:calc((100% - 36px)/4) 100%,100% var(--grid-row);background-position:0 0,0 0}.layout-grid.show-guides[data-v-9017abee]:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.layout-item[data-v-9017abee]{min-width:0;position:relative;display:flex;padding:0;cursor:grab;align-self:stretch;overflow:hidden;--widget-scale:1;--widget-space:1;--widget-density:1;--widget-text-scale: var(--widget-scale);--widget-pad: calc(12px * var(--widget-space));--widget-gap: calc(8px * var(--widget-space));--widget-gap-tight: calc(6px * var(--widget-space));--widget-font: calc(14px * var(--widget-scale))}.layout-item[data-v-9017abee]>*{flex:1 1 auto;min-width:0;min-height:0;height:100%;overflow:auto}.w-quarter[data-v-9017abee]{grid-column:span 1}.w-half[data-v-9017abee]{grid-column:span 2}.w-full[data-v-9017abee]{grid-column:span 4}.h-s[data-v-9017abee]{grid-row-end:span 4}.h-m[data-v-9017abee]{grid-row-end:span 8}.h-l[data-v-9017abee]{grid-row-end:span 13}.h-xl[data-v-9017abee]{grid-row-end:span 22}.is-editable[data-v-9017abee]{outline:1px dashed rgba(107,114,128,.5);border-radius:10px}.is-selected[data-v-9017abee]{outline:2px solid var(--color-primary,#2563EB)}.is-dragging[data-v-9017abee]{opacity:.6}.scale-sm[data-v-9017abee]{--widget-scale:.85}.scale-md[data-v-9017abee]{--widget-scale:1}.scale-lg[data-v-9017abee]{--widget-scale:1.2}.scale-xl[data-v-9017abee]{--widget-scale:1.4}@media (max-width: 1024px){.w-quarter[data-v-9017abee],.w-half[data-v-9017abee]{grid-column:span 2}.w-full[data-v-9017abee]{grid-column:span 4}}@media (max-width: 768px){.w-quarter[data-v-9017abee],.w-half[data-v-9017abee],.w-full[data-v-9017abee]{grid-column:span 4}}.options-wrapper[data-v-fdb4e08b]{position:relative}.options-pop[data-v-fdb4e08b]{position:absolute;bottom:calc(100% + 6px);right:0;top:auto;background:color-mix(in oklab,#111827,#1f2937 60%);border:1px solid color-mix(in oklab,#4b5563,transparent 20%);border-radius:8px;box-shadow:0 10px 22px #00000038;padding:8px;width:33vw;z-index:30;max-height:360px;overflow:auto;overflow-x:hidden}.opt-row[data-v-fdb4e08b]{display:grid;grid-template-columns:minmax(120px,1fr) minmax(140px,1fr);align-items:center;gap:10px;margin-bottom:6px}.opt-row[data-v-fdb4e08b]:last-child{margin-bottom:0}.opt-row--footer[data-v-fdb4e08b]{grid-template-columns:1fr;justify-items:end}.opt-row--footer[data-v-fdb4e08b]{justify-content:flex-end}.link-btn[data-v-fdb4e08b]{border:none;background:transparent;color:var(--brand,#2563eb);cursor:pointer;font-size:12px;text-decoration:underline}.opt-row label[data-v-fdb4e08b]{font-size:17px;color:#e5e7eb}.opt-row input[type='"number"'][data-v-fdb4e08b],.opt-row select[data-v-fdb4e08b],.opt-row input[type='"text"'][data-v-fdb4e08b]{width:100%;background:#0f172a;border:1px solid color-mix(in oklab,#4b5563,transparent 30%);color:#e5e7eb;border-radius:6px;padding:6px 8px;font-size:15px}.opt-row input[type='"checkbox"'][data-v-fdb4e08b]{width:12px;height:12px;transform:scale(.85);transform-origin:center;align-self:center}.opt-row textarea[data-v-fdb4e08b]{width:100%;background:#0f172a;border:1px solid color-mix(in oklab,#4b5563,transparent 30%);color:#e5e7eb;border-radius:6px;padding:7px}.opt-section[data-v-fdb4e08b]{margin-bottom:10px;padding:8px;border-radius:8px;border:1px solid color-mix(in oklab,#4b5563,transparent 30%);background:color-mix(in oklab,#0f172a,#111827 75%)}.opt-section[data-v-fdb4e08b]:last-child{margin-bottom:0}.opt-section__title[data-v-fdb4e08b]{font-size:15px;text-transform:uppercase;letter-spacing:.04em;color:#9ca3af;margin-bottom:8px;font-weight:700}.colorlist[data-v-fdb4e08b]{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.colorlist__item input[type=color][data-v-fdb4e08b]{width:38px;height:28px;padding:0;border:1px solid color-mix(in oklab,#4b5563,transparent 30%);background:#0f172a}.multi[data-v-fdb4e08b]{display:grid;gap:6px;grid-template-columns:repeat(2,minmax(0,1fr))}.multi__item[data-v-fdb4e08b]{display:flex;align-items:center;gap:6px;font-size:16px}.multi__item input[type='"checkbox"'][data-v-fdb4e08b]{width:12px;height:12px;transform:scale(.85);transform-origin:center}.multi__item span[data-v-fdb4e08b]{color:#e5e7eb}.filter-builder[data-v-fdb4e08b]{display:flex;flex-direction:column;gap:8px;width:100%}.filter-builder__row[data-v-fdb4e08b]{display:grid;grid-template-columns:minmax(120px,1fr) minmax(140px,1fr) minmax(140px,1fr) auto;gap:6px;align-items:center}.filter-builder__hint[data-v-fdb4e08b]{font-size:12px;color:#9ca3af;line-height:1.35}.filter-builder__hint code[data-v-fdb4e08b]{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:10px;color:#e5e7eb;background:#0f172acc;padding:1px 4px;border-radius:4px}.filter-builder__label[data-v-fdb4e08b],.filter-builder__input[data-v-fdb4e08b]{background:#0f172a;border:1px solid color-mix(in oklab,#4b5563,transparent 30%);color:#e5e7eb;border-radius:6px;padding:4px 6px;font-size:13px}@media (max-width: 720px){.filter-builder__row[data-v-fdb4e08b]{grid-template-columns:1fr;align-items:stretch}.filter-builder__row .ghost[data-v-fdb4e08b]{justify-self:end}}.ghost[data-v-9225dfa8]{border:1px solid var(--color-border, #d1d5db);background:#ffffffe6;padding:2px 6px;border-radius:6px;font-size:12px;cursor:pointer}.ghost.danger[data-v-9225dfa8]{color:#b91c1c;border-color:#fca5a5}.widget-toolbar-layer[data-v-9225dfa8]{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:2147480000;display:flex;align-items:flex-end;justify-content:stretch;padding:0 12px 10px calc(16px + var(--opsdash-nav-offset, 0px));background:none}.widget-toolbar[data-v-9225dfa8]{pointer-events:auto;position:relative;margin-top:0;padding:5px 7px;border:1px solid rgba(59,130,246,.55);background:#0b1222;border:1px solid color-mix(in oklab,var(--color-primary,#2563eb),transparent 20%);background:linear-gradient(180deg,#0f172afa,#020617fa);border-radius:8px;display:flex;align-items:center;justify-content:space-between;gap:4px;box-shadow:0 8px 20px #0f172a8c,0 0 0 1px #3b82f62e;max-width:none;width:calc(100% - 12px);opacity:1;z-index:2147480001;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:background .14s ease,box-shadow .14s ease,transform .14s ease}.widget-toolbar[data-v-9225dfa8]:hover{background:linear-gradient(180deg,#1e293bfa,#0f172afa);box-shadow:0 10px 24px #0f172a99,0 0 0 1px #3b82f640}.toolbar-title[data-v-9225dfa8]{font-weight:600;color:#e5e7eb}.toolbar-actions[data-v-9225dfa8],.toolbar-quick[data-v-9225dfa8]{display:flex;gap:4px;flex-wrap:wrap;align-items:center}.toolbar-field[data-v-9225dfa8]{display:flex;align-items:center;gap:4px;font-size:10px;color:#e5e7eb}.toolbar-field span[data-v-9225dfa8]{opacity:.75}.toolbar-field input[type=text][data-v-9225dfa8],.toolbar-field select[data-v-9225dfa8]{border-radius:6px;border:1px solid color-mix(in oklab,#4b5563,transparent 35%);background:color-mix(in oklab,#0f172a,#111827 70%);color:#e2e8f0;padding:2px 5px;font-size:10px;min-width:72px}.toolbar-field input[type=color][data-v-9225dfa8]{width:22px;height:18px;padding:0;border:1px solid color-mix(in oklab,#4b5563,transparent 35%);border-radius:6px;background:transparent}.toolbar-field--toggle[data-v-9225dfa8]{gap:4px}.widget-toolbar .ghost[data-v-9225dfa8]{padding:3px 5px;font-size:11px;background:#0f172a;border-color:#4b5563;background:color-mix(in oklab,#111827,#1f2937 80%);border-color:color-mix(in oklab,#4b5563,transparent 35%);color:#f1f5f9}.widget-toolbar .ghost[data-v-9225dfa8]:hover{background:#1e3a8a;border-color:#2563eb;background:color-mix(in oklab,#2563EB,#111827 85%);border-color:color-mix(in oklab,#2563EB,transparent 50%)}body.opsdash-theme-light{border:1px solid color-mix(in oklab,#2563eb,transparent 65%);background:linear-gradient(180deg,#fff,#f8fafc);box-shadow:0 10px 20px #0f172a14,0 0 0 1px #3b82f61f}body.opsdash-theme-light{background:linear-gradient(180deg,#fff,#eef2ff);box-shadow:0 12px 24px #0f172a1f,0 0 0 1px #3b82f62e}body.opsdash-theme-light{color:#0f172a}body.opsdash-theme-light{opacity:.7}body.opsdash-theme-light{background:#fff;color:#0f172a;border-color:#d1d5db}body.opsdash-theme-light{border-color:#d1d5db}body.opsdash-theme-light{background:#fff;border-color:#d1d5db;color:#0f172a}body.opsdash-theme-light{background:#eff6ff;border-color:#60a5fa}.cat-header[data-v-1e606590]{display:flex;align-items:center;gap:8px}.cat-color-indicator[data-v-1e606590]{width:12px;height:12px;border-radius:50%;border:1px solid color-mix(in oklab,var(--fg),transparent 80%);flex-shrink:0}.cat-header .cat-name[data-v-1e606590]{flex:1;padding:6px 8px;border:1px solid var(--line);border-radius:6px;background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg)}.color-trigger-wrapper[data-v-1e606590]{position:relative;display:inline-flex;align-items:center}.color-link[data-v-1e606590]{border:none;background:transparent;padding:0;font-size:12px;color:var(--brand, #2563eb);text-decoration:underline;cursor:pointer}.color-link[data-v-1e606590]:focus-visible{outline:2px solid color-mix(in oklab,var(--brand, #2563eb),transparent 40%);outline-offset:2px}.swatch-grid[data-v-1e606590]{display:grid;grid-template-columns:repeat(auto-fit,minmax(0,20px));justify-content:flex-start;gap:6px}.color-swatch[data-v-1e606590]{width:18px!important;height:18px!important;border-radius:50%;border:1px solid color-mix(in oklab,#000,transparent 80%);padding:0!important;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.color-swatch.active[data-v-1e606590]{box-shadow:0 0 0 2px color-mix(in oklab,var(--brand, #2563eb),transparent 60%)}.color-swatch[data-v-1e606590]:focus-visible{outline:2px solid color-mix(in oklab,var(--brand, #2563eb),transparent 40%);outline-offset:1px}.ghost[data-v-539a10f9]{border:1px solid var(--color-border, #d1d5db);background:#ffffffe6;padding:2px 6px;border-radius:6px;font-size:12px;cursor:pointer}.ghost.primary[data-v-539a10f9]{border-color:var(--color-primary, #2563EB);color:var(--color-primary, #2563EB)}.advanced-overlay[data-v-539a10f9]{position:fixed;top:0;right:0;bottom:0;left:0;background:#0006;display:flex;align-items:flex-start;justify-content:center;padding:48px 16px;z-index:50}.advanced-panel[data-v-539a10f9]{background:var(--color-main-background, #fff);color:var(--color-main-text, #0f172a);width:min(960px,100%);max-height:calc(100vh - 96px);border-radius:12px;box-shadow:0 20px 60px #00000040;overflow:hidden;display:flex;flex-direction:column;border:1px solid var(--color-border, #e5e7eb)}.advanced-panel>.sb-pane[data-v-539a10f9]{flex:1 1 auto;overflow:auto;padding:16px}.overlay-header[data-v-539a10f9]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--color-border, #e5e7eb);background:var(--color-background-hover, #f8fafc)}.overlay-title[data-v-539a10f9]{font-weight:600;font-size:16px}.overlay-subtitle[data-v-539a10f9]{font-size:12px;color:var(--muted, #6b7280);margin-top:2px}.overlay-actions[data-v-539a10f9]{display:flex;justify-content:space-between;align-items:center;gap:8px;padding:12px 16px;border-top:1px solid var(--color-border, #e5e7eb);background:var(--color-background-hover, #f8fafc)}.overlay-actions__left[data-v-539a10f9],.overlay-actions__right[data-v-539a10f9]{display:flex;gap:8px;flex-wrap:wrap}@media (max-width: 640px){.advanced-overlay[data-v-539a10f9]{padding:16px;align-items:flex-start}}.layout-wrapper[data-v-98fee2cd]{position:relative}.layout-wrapper.editable-mode[data-v-98fee2cd]{padding-bottom:120px;overflow:visible}:root{--widget-scale:1;--widget-space:1;--widget-density:1;--widget-text-scale:1}.activity-card[data-v-5d73a7ec]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px);padding:var(--widget-pad, 14px);font-size:var(--widget-font, 13px);color:var(--muted)}.activity-card__header[data-v-5d73a7ec]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--fg);font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.activity-card__hero[data-v-5d73a7ec]{font-weight:600;color:var(--fg)}.activity-card__subline[data-v-5d73a7ec]{font-size:calc(12px * var(--widget-scale, 1))}.activity-card__meta[data-v-5d73a7ec],.activity-card__extra[data-v-5d73a7ec]{display:flex;flex-wrap:wrap;gap:calc(8px * var(--widget-space, 1)) calc(14px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1))}.activity-card__meta strong[data-v-5d73a7ec],.activity-card__extra strong[data-v-5d73a7ec]{font-weight:600;color:var(--fg)}.activity-card__hint[data-v-5d73a7ec]{font-size:calc(11px * var(--widget-scale, 1));color:var(--muted);opacity:.8}.activity-card__trend[data-v-5d73a7ec]{border-top:1px solid var(--color-border-maxcontrast, rgba(125, 125, 125, .2));padding-top:calc(10px * var(--widget-space, 1));display:flex;flex-direction:column;gap:var(--widget-gap, 8px)}.dayoff-header[data-v-5d73a7ec]{display:flex;justify-content:space-between;font-size:calc(11px * var(--widget-scale, 1));color:var(--muted)}.dayoff-meta[data-v-5d73a7ec]{opacity:.85}.dayoff-heatmap[data-v-5d73a7ec]{display:grid;grid-template-columns:repeat(auto-fit,minmax(calc(110px * var(--widget-scale, 1)),1fr));gap:var(--widget-gap, 8px)}.dayoff-tile[data-v-5d73a7ec]{border-radius:calc(10px * var(--widget-space, 1));padding:calc(10px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));display:flex;flex-direction:column;gap:calc(4px * var(--widget-space, 1));text-align:center;background:color-mix(in oklab,var(--muted),transparent 85%);color:var(--fg);transition:transform .2s ease,background .2s ease}.dayoff-tile--current[data-v-5d73a7ec]{outline:1px solid color-mix(in oklab,var(--brand),transparent 30%);outline-offset:1px}.dayoff-tile--low[data-v-5d73a7ec]{background:color-mix(in oklab,#dc2626,white 70%);color:#7f1d1d}.dayoff-tile--mid[data-v-5d73a7ec]{background:color-mix(in oklab,#f97316,white 68%);color:#7c2d12}.dayoff-tile--high[data-v-5d73a7ec]{background:color-mix(in oklab,#16a34a,white 65%);color:#14532d}.dayoff-tile__label[data-v-5d73a7ec]{font-size:calc(11px * var(--widget-scale, 1));font-weight:600}.dayoff-tile__value[data-v-5d73a7ec]{font-size:calc(14px * var(--widget-scale, 1));font-weight:700;font-variant-numeric:tabular-nums}.dayoff-tile__meta[data-v-5d73a7ec]{font-size:calc(10px * var(--widget-scale, 1));color:color-mix(in oklab,currentColor,transparent 55%);font-variant-numeric:tabular-nums}.pill[data-v-5d73a7ec]{display:inline-flex;align-items:center;gap:calc(4px * var(--widget-space, 1));padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));font-size:calc(11px * var(--widget-scale, 1));border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card[data-v-cdc30eb8]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px);--widget-pad: calc(14px * var(--widget-space, 1));padding:var(--widget-pad, 14px);font-size:var(--widget-font, 13px);color:var(--muted)}.balance-card__header[data-v-cdc30eb8]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.balance-card__activity[data-v-cdc30eb8]{display:flex;flex-direction:column;gap:calc(6px * var(--widget-space, 1));padding:calc(6px * var(--widget-space, 1)) 0;border-bottom:1px solid var(--border, rgba(125, 125, 125, .2))}.activity-hero__title[data-v-cdc30eb8]{font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)));font-weight:600;color:var(--fg)}.activity-hero__line[data-v-cdc30eb8]{font-weight:600;color:var(--fg)}.activity-subline[data-v-cdc30eb8]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.activity-meta[data-v-cdc30eb8]{display:flex;flex-wrap:wrap;gap:calc(8px * var(--widget-space, 1)) calc(12px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.activity-meta strong[data-v-cdc30eb8]{font-weight:600;color:var(--fg)}.activity-meta--extra[data-v-cdc30eb8]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.activity-dayoff[data-v-cdc30eb8]{display:flex;flex-direction:column;gap:calc(6px * var(--widget-space, 1))}.dayoff-header[data-v-cdc30eb8]{display:flex;align-items:center;justify-content:space-between;font-weight:600;font-size:calc(12px * var(--widget-scale, 1));color:var(--fg)}.dayoff-meta[data-v-cdc30eb8]{font-size:calc(11px * var(--widget-scale, 1));color:var(--muted)}.dayoff-heatmap[data-v-cdc30eb8]{display:grid;gap:calc(2px * var(--widget-space, 1));grid-template-columns:repeat(auto-fit,minmax(calc(90px * var(--widget-scale, 1)),1fr))}.dayoff-tile[data-v-cdc30eb8]{border:1px solid var(--color-border, rgba(125, 125, 125, .2));border-radius:calc(6px * var(--widget-space, 1));padding:calc(3px * var(--widget-space, 1));display:grid;gap:calc(1px * var(--widget-space, 1));background:var(--color-main-background)}.dayoff-tile--current[data-v-cdc30eb8]{border-color:var(--color-primary)}.dayoff-tile--low[data-v-cdc30eb8]{background:color-mix(in srgb,#10b981 12%,var(--color-main-background))}.dayoff-tile--mid[data-v-cdc30eb8]{background:color-mix(in srgb,#f59e0b 12%,var(--color-main-background))}.dayoff-tile--high[data-v-cdc30eb8]{background:color-mix(in srgb,#ef4444 12%,var(--color-main-background))}.dayoff-tile__label[data-v-cdc30eb8]{font-weight:600;color:var(--fg);font-size:calc(11px * var(--widget-scale, 1))}.dayoff-tile__value[data-v-cdc30eb8]{font-size:calc(11px * var(--widget-scale, 1));color:var(--fg)}.dayoff-tile__meta[data-v-cdc30eb8]{font-size:calc(9.5px * var(--widget-scale, 1));color:var(--muted)}.balance-card__warnings[data-v-cdc30eb8]{margin:0;padding-left:calc(16px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1));display:flex;flex-direction:column;gap:calc(4px * var(--widget-space, 1))}.balance-card__warnings[data-v-cdc30eb8]{color:var(--danger, #b91c1c)}.balance-card__note[data-v-cdc30eb8]{font-size:calc(12px * var(--widget-scale, 1));color:var(--fg);background:color-mix(in oklab,var(--brand),transparent 88%);border-radius:calc(6px * var(--widget-space, 1));padding:calc(6px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));white-space:pre-line}.badge[data-v-cdc30eb8]{display:inline-flex;align-items:center;padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:999px;font-size:calc(11px * var(--widget-scale, 1));background:color-mix(in srgb,var(--brand) 12%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.balance-card__mix[data-v-cdc30eb8]{border-top:1px solid var(--border, rgba(125, 125, 125, .2));padding-top:calc(8px * var(--widget-space, 1))}.mix-header[data-v-cdc30eb8]{display:flex;justify-content:space-between;align-items:flex-start;gap:calc(6px * var(--widget-space, 1));margin-bottom:calc(6px * var(--widget-space, 1))}.mix-title[data-v-cdc30eb8]{font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)));font-weight:600;color:var(--fg)}.mix-subtitle[data-v-cdc30eb8]{font-size:calc(9px * var(--widget-scale, 1));color:var(--muted)}.mix-badge[data-v-cdc30eb8]{font-size:calc(8px * var(--widget-scale, 1));text-transform:uppercase;letter-spacing:.05em;padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:999px;background:color-mix(in oklab,var(--brand),transparent 80%);color:var(--brand);border:1px solid color-mix(in oklab,var(--brand),transparent 60%)}.mix-list[data-v-cdc30eb8]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:calc(6px * var(--widget-space, 1));font-size:calc(11px * var(--widget-scale, 1))}.mix-row[data-v-cdc30eb8]{display:grid;grid-template-columns:calc(52px * var(--widget-scale, 1)) repeat(auto-fit,minmax(calc(32px * var(--widget-scale, 1)),1fr));gap:calc(1px * var(--widget-space, 1));align-items:stretch}.mix-label[data-v-cdc30eb8]{padding:calc(2px * var(--widget-space, 1)) calc(4px * var(--widget-space, 1));font-weight:600;color:var(--fg);font-size:calc(9px * var(--widget-scale, 1));text-align:left}.mix-columns[data-v-cdc30eb8]{display:grid;align-items:center}.mix-column-label[data-v-cdc30eb8]{text-align:center;font-size:calc(8px * var(--widget-scale, 1));color:var(--muted);text-transform:uppercase;padding:calc(1px * var(--widget-space, 1)) 0}.mix-column-label--current[data-v-cdc30eb8]{color:var(--brand)}.mix-cells[data-v-cdc30eb8]{display:contents}.mix-cell[data-v-cdc30eb8]{border-radius:calc(4px * var(--widget-space, 1));padding:calc(1px * var(--widget-space, 1)) calc(.25px * var(--widget-space, 1));text-align:center;font-size:calc(9px * var(--widget-scale, 1));font-weight:700;color:var(--fg);background:color-mix(in oklab,var(--muted),transparent 85%);transition:background .2s ease}.mix-cell--current[data-v-cdc30eb8]{outline:1px solid color-mix(in oklab,var(--brand),transparent 35%);outline-offset:1px}.mix-cell--trend-up[data-v-cdc30eb8]{background:color-mix(in oklab,#16a34a,white 65%);color:#14532d}.mix-cell--trend-down[data-v-cdc30eb8]{background:color-mix(in oklab,#dc2626,white 65%);color:#7f1d1d}.mix-cell--trend-flat[data-v-cdc30eb8]{background:color-mix(in oklab,#f97316,white 70%);color:#7c2d12}.mix-cell__value[data-v-cdc30eb8]{font-variant-numeric:tabular-nums}.balance-card[data-v-96453698]{background:var(--card,#fff);border:1px solid var(--color-border,#e5e7eb);border-radius:calc(12px * var(--widget-space, 1));padding:var(--widget-pad, 12px);color:var(--fg,#0f172a);display:flex;flex-direction:column;gap:var(--widget-gap, 10px);font-size:calc(14px * var(--widget-scale, 1))}.header[data-v-96453698]{display:flex;align-items:center;justify-content:space-between;gap:var(--widget-gap, 10px)}.header.compact[data-v-96453698]{justify-content:center}.title-row[data-v-96453698]{display:flex;align-items:center;gap:calc(8px * var(--widget-space, 1))}.title[data-v-96453698]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.index[data-v-96453698]{text-align:right}.index.centered[data-v-96453698]{text-align:center;width:100%}.trend[data-v-96453698]{display:flex;align-items:center;gap:var(--widget-gap, 10px)}.trend-line[data-v-96453698]{flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(calc(92px * var(--widget-scale, 1)),1fr));gap:calc(6px * var(--widget-space, 1));justify-content:flex-start}.trend-block[data-v-96453698]{min-width:0;background:color-mix(in oklab,var(--color-primary,#2563eb),#e5e7eb 50%);border-radius:calc(8px * var(--widget-space, 1));padding:calc(4px * var(--widget-space, 1)) calc(5px * var(--widget-space, 1));display:flex;align-items:center;justify-content:center;position:relative;color:#fff;font-size:calc(11px * var(--widget-scale, 1));border:none;cursor:default}.trend-block.no-range[data-v-96453698]{grid-column:span 1;padding:calc(4px * var(--widget-space, 1)) calc(5px * var(--widget-space, 1))}.trend-block.no-range.no-offset[data-v-96453698]{grid-column:span 1;padding:calc(4px * var(--widget-space, 1))}.trend-block.no-offset[data-v-96453698]{grid-column:span 1;padding:calc(4px * var(--widget-space, 1)) calc(6px * var(--widget-space, 1))}.trend-block.current[data-v-96453698]{background:var(--color-primary,#2563eb);box-shadow:0 0 0 2px color-mix(in oklab,var(--color-primary,#2563eb),#ffffff 60%)}.trend-line-row[data-v-96453698]{display:flex;align-items:center;justify-content:space-between;gap:calc(4px * var(--widget-space, 1));width:100%}.trend-value[data-v-96453698]{font-weight:700;font-size:calc(13px * var(--widget-scale, 1));text-align:left;white-space:nowrap}.trend-range[data-v-96453698]{flex:1;text-align:center;font-size:calc(10px * var(--widget-scale, 1));color:#e5e7eb;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.trend-offset[data-v-96453698]{min-width:calc(52px * var(--widget-scale, 1));text-align:right;font-size:calc(10px * var(--widget-scale, 1));color:#cbd5f5;white-space:nowrap}.trend-delta[data-v-96453698]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted);display:flex;align-items:center;justify-content:space-between;gap:calc(8px * var(--widget-space, 1))}.trend-left[data-v-96453698]{font-weight:700;color:var(--fg,#0f172a)}.trend-center[data-v-96453698]{flex:1;text-align:center;font-size:calc(11px * var(--widget-scale, 1))}.trend-right[data-v-96453698]{min-width:calc(56px * var(--widget-scale, 1));text-align:right;font-size:calc(11px * var(--widget-scale, 1))}.section-title[data-v-96453698]{font-weight:600;font-size:calc(13px * var(--widget-scale, 1));margin-bottom:calc(4px * var(--widget-space, 1))}.messages ul[data-v-96453698]{margin:0;padding-left:calc(18px * var(--widget-space, 1));color:var(--muted);font-size:calc(13px * var(--widget-scale, 1))}.messages li[data-v-96453698]{margin-bottom:calc(2px * var(--widget-space, 1))}.messages li[data-v-96453698]:last-child{margin-bottom:0}.config[data-v-96453698]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted);display:grid;grid-template-columns:repeat(auto-fit,minmax(calc(140px * var(--widget-scale, 1)),1fr));gap:calc(6px * var(--widget-space, 1))}.empty[data-v-96453698]{text-align:center;color:var(--muted);font-size:calc(13px * var(--widget-scale, 1))}.mix-card[data-v-9b471bde]{display:flex;flex-direction:column;gap:var(--widget-gap, 10px);--mix-label-width: clamp(34px, calc(52px * var(--widget-scale, 1)), 64px);--mix-gap: clamp(2px, calc(6px * var(--widget-space, 1)), 8px);--mix-row-gap: clamp(4px, calc(8px * var(--widget-space, 1)), 12px);--mix-cell-padding: clamp(2px, calc(6px * var(--widget-space, 1)), 8px);--mix-cell-font: clamp(9px, calc(12px * var(--widget-scale, 1)), 14px);--mix-label-font: clamp(9px, calc(12px * var(--widget-scale, 1)), 13px);--mix-column-font: clamp(9px, calc(12px * var(--widget-scale, 1)), 12px);--mix-cell-min: clamp(18px, calc(30px * var(--widget-scale, 1)), 36px);--mix-radius: clamp(4px, calc(8px * var(--widget-space, 1)), 10px)}.mix-card--dense[data-v-9b471bde]{gap:calc(6px * var(--widget-space, 1));--mix-label-width: clamp(28px, calc(40px * var(--widget-scale, 1)), 52px);--mix-gap: clamp(1px, calc(3px * var(--widget-space, 1)), 6px);--mix-row-gap: clamp(3px, calc(5px * var(--widget-space, 1)), 8px);--mix-cell-padding: clamp(1px, calc(3px * var(--widget-space, 1)), 5px);--mix-cell-font: clamp(8px, calc(10px * var(--widget-scale, 1)), 12px);--mix-label-font: clamp(8px, calc(10px * var(--widget-scale, 1)), 11px);--mix-column-font: clamp(8px, calc(9px * var(--widget-scale, 1)), 10px);--mix-cell-min: clamp(16px, calc(22px * var(--widget-scale, 1)), 30px);--mix-radius: clamp(3px, calc(5px * var(--widget-space, 1)), 8px)}.mix-card--no-header[data-v-9b471bde]{gap:calc(6px * var(--widget-space, 1))}.mix-header[data-v-9b471bde]{display:flex;justify-content:space-between;align-items:center}.mix-title[data-v-9b471bde]{font-weight:700;color:var(--fg);font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.mix-subtitle[data-v-9b471bde]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.mix-badge[data-v-9b471bde]{padding:calc(4px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:calc(8px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1));font-weight:600;background:color-mix(in oklab,var(--brand),transparent 80%);border:1px solid color-mix(in oklab,var(--brand),transparent 60%);color:var(--brand)}.mix-list[data-v-9b471bde]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:var(--mix-row-gap)}.mix-row[data-v-9b471bde]{display:grid;grid-template-columns:var(--mix-label-width) 1fr;gap:var(--mix-gap);align-items:center}.mix-label[data-v-9b471bde]{font-weight:600;color:var(--fg);font-size:var(--mix-label-font);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mix-columns[data-v-9b471bde]{display:grid;gap:var(--mix-gap);align-items:center;justify-content:start;font-size:var(--mix-column-font);color:var(--muted)}.mix-column-label[data-v-9b471bde]{text-align:center;white-space:nowrap;font-variant-numeric:tabular-nums;line-height:1.1;overflow:hidden;text-overflow:ellipsis}.mix-column-label--label[data-v-9b471bde]{text-align:left}.mix-column-label--current[data-v-9b471bde]{font-weight:700;color:var(--fg)}.mix-cells[data-v-9b471bde]{display:grid;gap:var(--mix-gap);align-items:stretch;justify-content:start;width:100%;min-width:0}.mix-cell[data-v-9b471bde]{position:relative;border-radius:var(--mix-radius);padding:var(--mix-cell-padding);background:linear-gradient(135deg,color-mix(in oklab,var(--mix-bg),white 12%),var(--mix-bg));color:var(--mix-fg, var(--fg));text-align:center;font-size:var(--mix-cell-font);border:1px solid color-mix(in oklab,var(--mix-bg),var(--fg) 12%);box-shadow:inset 0 0 0 1px color-mix(in oklab,var(--mix-bg),transparent 60%);min-height:var(--mix-cell-min);display:flex;align-items:center;justify-content:center}.mix-cell--current[data-v-9b471bde]{outline:1px solid color-mix(in oklab,var(--brand),transparent 35%);outline-offset:1px}.mix-cell--mode-hybrid[data-v-9b471bde]{box-shadow:inset 0 -3px color-mix(in oklab,var(--mix-accent),transparent 30%)}.mix-cell--mode-share[data-v-9b471bde]{box-shadow:inset 0 0 0 1px color-mix(in oklab,var(--mix-bg),transparent 40%)}.mix-card--square .mix-cell[data-v-9b471bde]{aspect-ratio:1 / 1;min-height:0}.mix-cell__value[data-v-9b471bde]{font-weight:700;font-variant-numeric:tabular-nums;white-space:nowrap}.pill[data-v-9b471bde]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;font-size:11px;border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.hint[data-v-9b471bde]{font-size:12px;color:var(--muted)}.chart-widget[data-v-debbf435]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px)}.chart-widget__header[data-v-debbf435]{display:flex;flex-direction:column;gap:calc(2px * var(--widget-space, 1))}.chart-widget__title[data-v-debbf435]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.chart-widget__subtitle[data-v-debbf435]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.chart-widget__empty[data-v-debbf435]{padding:calc(12px * var(--widget-space, 1));border:1px dashed var(--line);border-radius:calc(10px * var(--widget-space, 1));color:var(--muted);text-align:center}.chart-widget[data-v-1c648f65]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px)}.chart-widget__header[data-v-1c648f65]{display:flex;flex-direction:column;gap:calc(2px * var(--widget-space, 1))}.chart-widget__title[data-v-1c648f65]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.chart-widget__subtitle[data-v-1c648f65]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.chart-widget__empty[data-v-1c648f65]{padding:calc(12px * var(--widget-space, 1));border:1px dashed var(--line);border-radius:calc(10px * var(--widget-space, 1));color:var(--muted);text-align:center}.chart-widget__hint[data-v-1c648f65]{font-size:calc(11px * var(--widget-scale, 1));color:var(--muted)}.chart-widget[data-v-af12c79b]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px)}.chart-widget__header[data-v-af12c79b]{display:flex;flex-direction:column;gap:calc(2px * var(--widget-space, 1))}.chart-widget__title[data-v-af12c79b]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.chart-widget__subtitle[data-v-af12c79b]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.chart-widget__empty[data-v-af12c79b]{padding:calc(12px * var(--widget-space, 1));border:1px dashed var(--line);border-radius:calc(10px * var(--widget-space, 1));color:var(--muted);text-align:center}.chart-widget[data-v-b9796562]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px)}.chart-widget__header[data-v-b9796562]{display:flex;flex-direction:column;gap:calc(2px * var(--widget-space, 1))}.chart-widget__title[data-v-b9796562]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.chart-widget__subtitle[data-v-b9796562]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.chart-widget__empty[data-v-b9796562]{padding:calc(12px * var(--widget-space, 1));border:1px dashed var(--line);border-radius:calc(10px * var(--widget-space, 1));color:var(--muted);text-align:center}.chart-widget__legend[data-v-b9796562]{list-style:none;padding:0;margin:0;display:grid;gap:calc(6px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1))}.chart-widget__legend li[data-v-b9796562]{display:flex;align-items:center;gap:calc(6px * var(--widget-space, 1))}.chart-widget__legend .dot[data-v-b9796562]{width:calc(10px * var(--widget-space, 1));height:calc(10px * var(--widget-space, 1));border-radius:50%}.chart-widget__legend .val[data-v-b9796562]{margin-left:auto;color:var(--muted)}.chart-widget[data-v-93cdb211]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px)}.chart-widget__header[data-v-93cdb211]{display:flex;flex-direction:column;gap:calc(2px * var(--widget-space, 1))}.chart-widget__title[data-v-93cdb211]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.chart-widget__subtitle[data-v-93cdb211]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.chart-widget__empty[data-v-93cdb211]{padding:calc(12px * var(--widget-space, 1));border:1px dashed var(--line);border-radius:calc(10px * var(--widget-space, 1));color:var(--muted);text-align:center}.chart-widget__legend[data-v-93cdb211]{list-style:none;padding:0;margin:0;display:grid;gap:calc(6px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1))}.chart-widget__legend li[data-v-93cdb211]{display:flex;align-items:center;gap:calc(6px * var(--widget-space, 1))}.chart-widget__legend .dot[data-v-93cdb211]{width:calc(10px * var(--widget-space, 1));height:calc(10px * var(--widget-space, 1));border-radius:50%}table[data-v-2efa83d5]{width:100%;border-collapse:collapse;font-size:13px}thead th[data-v-2efa83d5]{text-align:left;padding:6px 8px;font-weight:600;color:var(--muted);border-bottom:1px solid var(--line)}thead th.num[data-v-2efa83d5]{text-align:right}tbody td[data-v-2efa83d5]{padding:6px 8px;border-top:1px solid var(--line);vertical-align:top}.col-w-42[data-v-2efa83d5]{width:42%}.col-w-12[data-v-2efa83d5]{width:12%}.col-w-14[data-v-2efa83d5]{width:14%}.col-w-18[data-v-2efa83d5]{width:18%}.group-row td[data-v-2efa83d5]{padding-top:12px;padding-bottom:8px;background:color-mix(in srgb,var(--muted) 6%,transparent)}.group-header[data-v-2efa83d5]{display:flex;justify-content:space-between;align-items:center;gap:12px;font-size:12px}.group-label[data-v-2efa83d5]{display:flex;align-items:center;gap:8px;font-weight:600;color:var(--fg)}.group-label .dot[data-v-2efa83d5]{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 12%,transparent)}.group-meta[data-v-2efa83d5]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;color:var(--muted)}.group-meta .summary[data-v-2efa83d5]{font-size:12px}.group-meta .summary-percent[data-v-2efa83d5]{font-variant-numeric:tabular-nums;color:var(--fg);font-weight:600}.badge[data-v-2efa83d5]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-2efa83d5]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-2efa83d5]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-2efa83d5]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-2efa83d5]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-2efa83d5]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.cell[data-v-2efa83d5]{display:flex;flex-direction:column;gap:4px}.row-name[data-v-2efa83d5]{font-weight:600;color:var(--fg)}.progress[data-v-2efa83d5]{position:relative;height:6px;background:color-mix(in srgb,var(--muted) 22%,transparent);border-radius:999px;overflow:hidden}.progress-bar[data-v-2efa83d5]{height:100%;border-radius:999px;background:var(--brand);transition:width .2s ease}.progress-today[data-v-2efa83d5]{position:absolute;top:-2px;height:10px;border-radius:8px;opacity:.9;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 4px #0000001f}.progress-chip[data-v-2efa83d5]{font-size:10px;font-weight:700;color:#fff;padding:0 6px;white-space:nowrap;text-shadow:0 1px 3px rgba(0,0,0,.25)}.num[data-v-2efa83d5]{text-align:right;font-variant-numeric:tabular-nums;color:var(--fg)}.hint[data-v-2efa83d5]{color:var(--muted);font-size:11px}.delta[data-v-2efa83d5]{font-weight:600}.delta.pos[data-v-2efa83d5]{color:var(--pos)}.delta.neg[data-v-2efa83d5]{color:var(--neg)}.empty-row td.empty[data-v-2efa83d5]{font-style:italic;color:var(--muted);text-align:center}.table-widget[data-v-e75cc444]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px)}.table-widget__header[data-v-e75cc444]{display:flex;flex-direction:column;gap:calc(2px * var(--widget-space, 1))}.table-widget__title[data-v-e75cc444]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.table-widget__subtitle[data-v-e75cc444]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.table-widget__empty[data-v-e75cc444]{padding:calc(12px * var(--widget-space, 1));border:1px dashed var(--line);border-radius:calc(10px * var(--widget-space, 1));color:var(--muted);text-align:center}.dayoff-card[data-v-5119adef]{display:flex;flex-direction:column;gap:var(--widget-gap, 10px)}.dayoff-card__header[data-v-5119adef]{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fg);font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.dayoff-heatmap[data-v-5119adef]{display:grid;grid-template-columns:repeat(auto-fit,minmax(calc(110px * var(--widget-scale, 1)),1fr));gap:var(--widget-gap, 8px)}.dayoff-tile[data-v-5119adef]{border-radius:calc(10px * var(--widget-space, 1));padding:calc(10px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));display:flex;flex-direction:column;gap:calc(4px * var(--widget-space, 1));text-align:center;background:var(--tile-bg, color-mix(in oklab, var(--muted), transparent 85%));color:var(--tile-fg, var(--fg));transition:transform .2s ease,background .2s ease}.dayoff-tile--current[data-v-5119adef]{outline:1px solid color-mix(in oklab,var(--brand),transparent 30%);outline-offset:1px}.dayoff-tile--low[data-v-5119adef]{background:var(--tile-bg, color-mix(in oklab, #dc2626, white 70%));color:var(--tile-fg, #7f1d1d)}.dayoff-tile--mid[data-v-5119adef]{background:var(--tile-bg, color-mix(in oklab, #f97316, white 68%));color:var(--tile-fg, #7c2d12)}.dayoff-tile--high[data-v-5119adef]{background:var(--tile-bg, color-mix(in oklab, #16a34a, white 65%));color:var(--tile-fg, #14532d)}.dayoff-tile__label[data-v-5119adef]{font-size:calc(11px * var(--widget-scale, 1));font-weight:600}.dayoff-tile__value[data-v-5119adef]{font-size:calc(14px * var(--widget-scale, 1));font-weight:700;font-variant-numeric:tabular-nums}.dayoff-tile__meta[data-v-5119adef]{font-size:calc(10px * var(--widget-scale, 1));color:color-mix(in oklab,currentColor,transparent 55%);font-variant-numeric:tabular-nums}.pill[data-v-5119adef]{display:inline-flex;align-items:center;gap:calc(4px * var(--widget-space, 1));padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));font-size:calc(11px * var(--widget-scale, 1));border-radius:999px;background:color-mix(in srgb,var(--brand) 15%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.hint[data-v-5119adef]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.deck-summary-card[data-v-7d6316aa]{display:flex;flex-direction:column;gap:calc(12px * var(--widget-space, 1));font-size:var(--widget-font, 14px)}.deck-summary-card__header[data-v-7d6316aa]{display:flex;justify-content:space-between;align-items:center}.deck-summary-card__title[data-v-7d6316aa]{font-weight:700;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.deck-summary-card__subtitle[data-v-7d6316aa],.deck-summary-card__meta[data-v-7d6316aa]{color:var(--color-text-maxcontrast);font-size:calc(14px * var(--widget-scale, 1))}.deck-summary-card__loading[data-v-7d6316aa],.deck-summary-card__error[data-v-7d6316aa],.deck-summary-card__empty[data-v-7d6316aa]{display:flex;align-items:center;gap:calc(8px * var(--widget-space, 1));color:var(--color-text-maxcontrast)}.deck-summary-card__error[data-v-7d6316aa]{background:var(--color-error-hover);color:var(--color-error-text);border-radius:calc(8px * var(--widget-space, 1));padding:calc(8px * var(--widget-space, 1)) calc(12px * var(--widget-space, 1))}.deck-summary-card__rows[data-v-7d6316aa]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:calc(8px * var(--widget-space, 1))}.deck-summary-card__row[data-v-7d6316aa]{border:1px solid var(--color-border);border-radius:calc(10px * var(--widget-space, 1));padding:calc(10px * var(--widget-space, 1)) calc(12px * var(--widget-space, 1));display:flex;flex-direction:column;gap:calc(6px * var(--widget-space, 1));background:var(--color-main-background)}.deck-summary-card__row--clickable[data-v-7d6316aa]{cursor:pointer}.deck-summary-card__row--active[data-v-7d6316aa]{border-color:var(--color-primary);box-shadow:inset 0 0 0 1px var(--color-primary)}.deck-summary-card__row-head[data-v-7d6316aa]{display:flex;align-items:center;justify-content:space-between;font-weight:600}.bucket-label[data-v-7d6316aa]{font-size:calc(14px * var(--widget-scale, 1))}.bucket-count[data-v-7d6316aa]{font-size:calc(13px * var(--widget-scale, 1));border-radius:999px;padding:calc(2px * var(--widget-space, 1)) calc(9px * var(--widget-space, 1));background:var(--color-background-darker)}.deck-summary-card__row-body[data-v-7d6316aa]{display:flex;flex-wrap:wrap;gap:calc(8px * var(--widget-space, 1));align-items:center}.bucket-board[data-v-7d6316aa]{border:2px solid var(--color-border);padding:calc(3px * var(--widget-space, 1)) calc(10px * var(--widget-space, 1));border-radius:999px;font-size:calc(12px * var(--widget-scale, 1));text-transform:uppercase}.bucket-titles[data-v-7d6316aa]{display:flex;flex-wrap:wrap;gap:calc(6px * var(--widget-space, 1))}.bucket-title[data-v-7d6316aa]{padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));background:var(--color-background-darker);border-radius:999px;font-size:calc(13px * var(--widget-scale, 1))}.bucket-title--muted[data-v-7d6316aa]{color:var(--color-text-maxcontrast)}.deck-panel[data-v-f53d016f]{display:flex;flex-direction:column;gap:calc(16px * var(--widget-space, 1));height:100%;min-height:0;font-size:var(--widget-font, 14px)}.deck-panel__header[data-v-f53d016f]{display:flex;align-items:center;justify-content:space-between}.deck-panel__title[data-v-f53d016f]{font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)));font-weight:600}.deck-panel__subtitle[data-v-f53d016f]{font-size:calc(14px * var(--widget-scale, 1));color:var(--color-text-maxcontrast)}.deck-panel__actions[data-v-f53d016f]{display:flex;align-items:center;gap:calc(8px * var(--widget-space, 1))}.deck-panel__count[data-v-f53d016f]{font-size:calc(14px * var(--widget-scale, 1));background:var(--color-background-darker);border:1px solid var(--color-border-dark);padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:calc(12px * var(--widget-space, 1))}.deck-panel__refresh[data-v-f53d016f]{border:1px solid var(--color-primary);background:transparent;color:var(--color-primary);border-radius:999px;padding:calc(4px * var(--widget-space, 1)) calc(12px * var(--widget-space, 1));font-size:calc(14px * var(--widget-scale, 1));cursor:pointer}.deck-panel__refresh[data-v-f53d016f]:disabled{opacity:.6;cursor:default}.deck-panel__link[data-v-f53d016f]{font-size:calc(14px * var(--widget-scale, 1));text-decoration:none;color:var(--color-text-maxcontrast)}.deck-panel__loading[data-v-f53d016f]{display:flex;align-items:center;gap:calc(8px * var(--widget-space, 1));color:var(--color-text-maxcontrast)}.deck-panel__filters[data-v-f53d016f]{display:flex;gap:calc(8px * var(--widget-space, 1));flex-wrap:wrap}.deck-panel__body[data-v-f53d016f]{flex:1;min-height:0;overflow:auto;padding-right:calc(4px * var(--widget-space, 1))}.deck-filter-btn[data-v-f53d016f]{border:1px solid var(--color-border-maxcontrast);background:var(--color-main-background);border-radius:999px;padding:calc(3px * var(--widget-space, 1)) calc(14px * var(--widget-space, 1));font-size:calc(13px * var(--widget-scale, 1));cursor:pointer;display:inline-flex;align-items:center;gap:calc(6px * var(--widget-space, 1))}.deck-filter-btn.is-draggable[data-v-f53d016f]{cursor:grab}.deck-filter-btn.is-draggable[data-v-f53d016f]:active{cursor:grabbing}.deck-filter-btn.active[data-v-f53d016f]{border-color:var(--color-primary);color:var(--color-primary)}.deck-filter-count[data-v-f53d016f]{font-size:calc(11px * var(--widget-scale, 1));opacity:.7}.deck-filter-btn[data-v-f53d016f]:disabled{opacity:.5;cursor:not-allowed}.deck-panel__error[data-v-f53d016f]{padding:calc(12px * var(--widget-space, 1));border-radius:calc(8px * var(--widget-space, 1));background:var(--color-error-hover);color:var(--color-error-text)}.deck-card-list[data-v-f53d016f]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:calc(16px * var(--widget-space, 1))}.deck-card[data-v-f53d016f]{border:1px solid var(--color-border);border-radius:calc(12px * var(--widget-space, 1));padding:calc(14px * var(--widget-space, 1));background:var(--color-main-background);display:flex;flex-direction:column;gap:calc(6px * var(--widget-space, 1))}.deck-card__status-row[data-v-f53d016f]{display:flex;align-items:center;gap:calc(8px * var(--widget-space, 1));font-size:calc(14px * var(--widget-scale, 1));color:var(--color-text-maxcontrast)}.deck-card__status[data-v-f53d016f]{font-weight:600;text-transform:uppercase;font-size:calc(12px * var(--widget-scale, 1));letter-spacing:.05em}.deck-card__status.done[data-v-f53d016f]{color:var(--color-success)}.deck-card__status.archived[data-v-f53d016f]{color:var(--color-text-maxcontrast)}.deck-card__title[data-v-f53d016f]{font-size:calc(16px * var(--widget-scale, 1));font-weight:600;color:var(--color-text)}.deck-card__meta[data-v-f53d016f]{display:flex;align-items:center;gap:calc(8px * var(--widget-space, 1));font-size:calc(13px * var(--widget-scale, 1))}.deck-card__board[data-v-f53d016f]{border:2px solid var(--color-border);padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:999px;text-transform:uppercase;font-size:calc(11px * var(--widget-scale, 1))}.deck-card__stack[data-v-f53d016f]{color:var(--color-text-maxcontrast)}.deck-card__labels[data-v-f53d016f]{display:flex;gap:calc(6px * var(--widget-space, 1));flex-wrap:wrap}.deck-card__label[data-v-f53d016f]{color:#fff;font-size:calc(11px * var(--widget-scale, 1));padding:calc(2px * var(--widget-space, 1)) calc(7px * var(--widget-space, 1));border-radius:999px}.deck-card__assignees[data-v-f53d016f]{display:flex;flex-wrap:wrap;gap:calc(6px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1))}.deck-card__assignees-label[data-v-f53d016f]{color:var(--color-text-maxcontrast)}.deck-card__assignee[data-v-f53d016f]{font-weight:500}.note-card[data-v-5e293970]{background:var(--card,#fff);border:1px solid var(--color-border,#d1d5db);border-radius:calc(10px * var(--widget-space, 1));padding:var(--widget-pad, 12px);color:var(--fg,#0f172a);display:flex;flex-direction:column;gap:var(--widget-gap, 10px);font-size:var(--widget-font, 14px)}.note-header[data-v-5e293970]{display:flex;align-items:center;justify-content:space-between}.title[data-v-5e293970]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.btn[data-v-5e293970]{padding:calc(6px * var(--widget-space, 1)) calc(10px * var(--widget-space, 1));border-radius:calc(6px * var(--widget-space, 1));border:1px solid var(--color-border,#d1d5db);background:var(--card,#fff);cursor:pointer;font-size:calc(12px * var(--widget-scale, 1))}.field[data-v-5e293970]{display:flex;flex-direction:column;gap:calc(4px * var(--widget-space, 1))}.field-head[data-v-5e293970]{display:flex;align-items:center;justify-content:space-between;gap:calc(6px * var(--widget-space, 1))}.label[data-v-5e293970]{font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.note[data-v-5e293970]{width:100%;min-height:calc(80px * var(--widget-scale, 1));border:1px solid var(--color-border,#d1d5db);border-radius:calc(6px * var(--widget-space, 1));padding:calc(8px * var(--widget-space, 1));resize:vertical;font-size:calc(13px * var(--widget-scale, 1))}.note--compact[data-v-5e293970]{min-height:calc(60px * var(--widget-scale, 1));font-size:calc(12px * var(--widget-scale, 1))}.note-select[data-v-5e293970]{max-width:55%;padding:calc(4px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:calc(6px * var(--widget-space, 1));border:1px solid var(--color-border,#d1d5db);background:var(--card,#fff);color:var(--fg,#0f172a);font-size:calc(12px * var(--widget-scale, 1))}.text-card[data-v-01eb6d28]{background:var(--card, #fff);border:1px solid var(--color-border, #d1d5db);border-radius:calc(10px * var(--widget-space, 1));padding:var(--widget-pad, 12px);color:var(--fg, #0f172a);line-height:calc(1.4 * var(--widget-density, 1));font-size:var(--widget-font, 14px)}.text-card h3[data-v-01eb6d28]{margin:0 0 calc(6px * var(--widget-space, 1)) 0;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.text-card .body[data-v-01eb6d28]{margin:0;white-space:pre-wrap;font-size:calc(.95em * var(--widget-scale, 1))}.text-card .body.empty[data-v-01eb6d28]{color:var(--muted)}.notes-section[data-v-91e76a62]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px);font-size:var(--widget-font, 14px)}.notes-header[data-v-91e76a62]{font-weight:600;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.notes-textarea[data-v-91e76a62]{width:100%;min-height:calc(120px * var(--widget-scale, 1));padding:calc(8px * var(--widget-space, 1)) calc(10px * var(--widget-space, 1));border-radius:calc(8px * var(--widget-space, 1));border:1px solid var(--line);background:color-mix(in oklab,var(--card),transparent 5%);color:var(--fg);resize:vertical;box-sizing:border-box;font:calc(13px * var(--widget-scale, 1))/1.4 ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}.notes-textarea--compact[data-v-91e76a62]{min-height:calc(70px * var(--widget-scale, 1));font-size:calc(12px * var(--widget-scale, 1))}.notes-textarea[data-v-91e76a62]:focus{outline:2px solid color-mix(in oklab,var(--brand),transparent 60%);outline-offset:1px}.notes-textarea[data-v-91e76a62]:read-only{background:color-mix(in oklab,var(--card),transparent 15%);color:var(--muted)}.notes-actions[data-v-91e76a62]{display:flex;justify-content:flex-end;margin-top:calc(4px * var(--widget-space, 1))}.notes-history[data-v-91e76a62]{display:flex;flex-direction:column;gap:calc(6px * var(--widget-space, 1))}.notes-history__head[data-v-91e76a62]{display:flex;align-items:center;justify-content:space-between;gap:calc(6px * var(--widget-space, 1))}.notes-select[data-v-91e76a62]{max-width:55%;padding:calc(4px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:calc(6px * var(--widget-space, 1));border:1px solid var(--line);background:var(--card);color:var(--fg);font-size:calc(12px * var(--widget-scale, 1))}.targets-card[data-v-9ee23cb0]{display:flex;flex-direction:column;gap:var(--widget-gap, 8px);font-size:var(--widget-font, 14px)}.targets-header[data-v-9ee23cb0]{display:flex;justify-content:space-between;align-items:center}.targets-header strong[data-v-9ee23cb0]{font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.targets-main[data-v-9ee23cb0]{display:flex;flex-direction:column;gap:calc(4px * var(--widget-space, 1));font-size:calc(13px * var(--widget-scale, 1))}.targets-main .line[data-v-9ee23cb0]{display:flex;flex-wrap:wrap;gap:calc(6px * var(--widget-space, 1))}.targets-main .line.forecast[data-v-9ee23cb0]{flex-direction:column;gap:calc(2px * var(--widget-space, 1))}.targets-main .line .value[data-v-9ee23cb0]{display:flex;gap:calc(6px * var(--widget-space, 1));align-items:center}.targets-badges[data-v-9ee23cb0]{display:flex;flex-wrap:wrap;gap:calc(6px * var(--widget-space, 1))}.targets-categories[data-v-9ee23cb0]{display:flex;flex-direction:column;gap:calc(10px * var(--widget-space, 1));padding-top:calc(6px * var(--widget-space, 1));border-top:1px solid var(--line)}.category[data-v-9ee23cb0]{display:flex;flex-direction:column;gap:calc(6px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1));padding:calc(4px * var(--widget-space, 1)) 0}.category .cat-top[data-v-9ee23cb0]{display:flex;align-items:center;justify-content:space-between;gap:calc(8px * var(--widget-space, 1))}.category .cat-label[data-v-9ee23cb0]{display:flex;align-items:center;gap:calc(6px * var(--widget-space, 1));font-weight:600;color:var(--fg)}.category .cat-label .dot[data-v-9ee23cb0]{width:calc(10px * var(--widget-space, 1));height:calc(10px * var(--widget-space, 1));border-radius:50%;background:var(--brand);box-shadow:0 0 0 1px color-mix(in srgb,var(--fg) 10%,transparent)}.category .cat-label .name[data-v-9ee23cb0]{color:var(--fg)}.category .cat-meta[data-v-9ee23cb0]{display:flex;align-items:center;gap:calc(6px * var(--widget-space, 1));font-weight:600;color:var(--muted)}.category .cat-meta .percent[data-v-9ee23cb0]{font-variant-numeric:tabular-nums;color:var(--fg)}.cat-progress .bar[data-v-9ee23cb0]{position:relative;width:100%;height:calc(8px * var(--widget-space, 1));border-radius:999px;background:color-mix(in srgb,var(--muted) 20%,transparent);overflow:hidden}.cat-progress .bar .fill[data-v-9ee23cb0]{height:100%;border-radius:999px;transition:width .2s ease;max-width:100%}.cat-progress .bar .today-overlay[data-v-9ee23cb0]{position:absolute;top:calc(-2px * var(--widget-space, 1));height:calc(12px * var(--widget-space, 1));border-radius:calc(8px * var(--widget-space, 1));opacity:.85;border:1px solid transparent;pointer-events:none}.today-chip[data-v-9ee23cb0]{position:absolute;top:calc(-22px * var(--widget-space, 1));transform:translate(-50%);padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:999px;font-size:calc(10px * var(--widget-scale, 1));font-weight:700;color:#fff;border:1px solid transparent;white-space:nowrap;box-shadow:0 2px 6px #0000001f}.today-label[data-v-9ee23cb0]{font-size:calc(10px * var(--widget-scale, 1));line-height:1.2}.category .cat-metrics[data-v-9ee23cb0]{display:flex;flex-wrap:wrap;gap:calc(6px * var(--widget-space, 1));align-items:center;color:var(--fg)}.cat-footer[data-v-9ee23cb0]{display:flex;justify-content:space-between;align-items:center}.hint[data-v-9ee23cb0]{color:var(--muted);font-size:calc(12px * var(--widget-scale, 1))}.badge[data-v-9ee23cb0]{display:inline-flex;align-items:center;gap:calc(4px * var(--widget-space, 1));padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:999px;font-size:calc(11px * var(--widget-scale, 1));font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-label[data-v-9ee23cb0]{font-weight:600}.status-on[data-v-9ee23cb0]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-9ee23cb0]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-9ee23cb0]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-9ee23cb0]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-9ee23cb0]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}.delta[data-v-9ee23cb0]{font-weight:600}.delta.pos[data-v-9ee23cb0]{color:var(--pos)}.delta.neg[data-v-9ee23cb0]{color:var(--neg)}.cat-metrics .hint[data-v-9ee23cb0],.cat-footer .hint[data-v-9ee23cb0]{font-size:calc(11px * var(--widget-scale, 1))}.cat-progress[data-v-9ee23cb0]{padding:calc(2px * var(--widget-space, 1)) 0}.cat-meta .badge[data-v-9ee23cb0]{font-size:calc(10px * var(--widget-scale, 1))}.text-card[data-v-f5a0bc50]{background:var(--card, #fff);border:1px solid var(--color-border, #d1d5db);border-radius:calc(10px * var(--widget-space, 1));padding:var(--widget-pad, 14px);color:var(--fg, #0f172a);line-height:calc(1.4 * var(--widget-density, 1));font-size:var(--widget-font, 14px)}.text-card h3[data-v-f5a0bc50]{margin:0 0 calc(6px * var(--widget-space, 1)) 0;font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)))}.text-card .body[data-v-f5a0bc50]{margin:0;white-space:pre-wrap}.line[data-v-f5a0bc50]{display:flex;align-items:center;gap:calc(8px * var(--widget-space, 1));font-size:inherit;line-height:calc(1.3 * var(--widget-density, 1))}.line+.line[data-v-f5a0bc50]{margin-top:calc(4px * var(--widget-space, 1))}.line .label[data-v-f5a0bc50]{flex:1;color:var(--muted)}.line .value[data-v-f5a0bc50]{text-align:right;font-variant-numeric:tabular-nums;font-weight:600;font-size:inherit}.card.time-summary[data-v-30983ce4]{display:flex;flex-direction:column;gap:var(--widget-gap, 6px);font-size:var(--widget-font, 13px);color:var(--muted);--widget-pad: calc(14px * var(--widget-space, 1));padding:var(--widget-pad, 14px)}.today-highlight[data-v-30983ce4]{display:flex;align-items:center;justify-content:space-between;padding:calc(10px * var(--widget-space, 1)) calc(12px * var(--widget-space, 1));border-radius:calc(10px * var(--widget-space, 1));background:color-mix(in oklab,var(--brand, #2563eb) 14%,transparent);border:1px solid color-mix(in oklab,var(--brand, #2563eb),transparent 70%);color:var(--fg)}.today-label[data-v-30983ce4]{font-size:calc(12px * var(--widget-scale, 1));text-transform:uppercase;letter-spacing:.04em;color:color-mix(in oklab,var(--fg),transparent 35%)}.today-value[data-v-30983ce4]{font-size:calc(18px * var(--widget-scale, 1));font-weight:700;letter-spacing:-.02em}.today-cats[data-v-30983ce4]{display:flex;flex-wrap:wrap;gap:calc(8px * var(--widget-space, 1)) calc(12px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1));color:var(--fg)}.today-cat[data-v-30983ce4]{display:inline-flex;align-items:center;gap:calc(6px * var(--widget-space, 1));padding:calc(4px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:calc(8px * var(--widget-space, 1));background:color-mix(in oklab,var(--card, #fff),transparent 6%);border:1px solid color-mix(in oklab,var(--line, #e5e7eb),transparent 30%)}.today-cat .dot[data-v-30983ce4]{width:calc(9px * var(--widget-space, 1));height:calc(9px * var(--widget-space, 1));border-radius:50%;box-shadow:0 0 0 1px color-mix(in oklab,var(--fg) 10%,transparent)}.today-cat .name[data-v-30983ce4]{font-weight:600}.today-cat .value[data-v-30983ce4]{color:var(--muted)}.time-summary-firstline[data-v-30983ce4]{display:flex;align-items:center;justify-content:space-between;gap:var(--widget-gap, 8px);font-size:var(--widget-title-size, calc(14px * var(--widget-scale, 1)));color:var(--fg);font-weight:600}.time-summary-firstline em[data-v-30983ce4]{font-style:italic;color:var(--fg)}.mode-pill[data-v-30983ce4]{display:inline-flex;align-items:center;padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));font-size:calc(11px * var(--widget-scale, 1));font-weight:600;border-radius:999px;background:color-mix(in srgb,var(--brand) 18%,white);color:var(--brand);text-transform:uppercase;letter-spacing:.05em}.time-summary-metrics[data-v-30983ce4]{display:grid;gap:calc(4px * var(--widget-space, 1));margin:0;padding:0;list-style:none}.time-summary-metrics li[data-v-30983ce4]{display:flex;flex-wrap:wrap;gap:calc(4px * var(--widget-space, 1));color:var(--muted)}.time-summary-metrics strong[data-v-30983ce4]{color:var(--fg);font-size:calc(14px * var(--widget-scale, 1))}.time-summary-inline[data-v-30983ce4]{font-size:calc(13px * var(--widget-scale, 1));color:var(--fg)}.time-summary-row[data-v-30983ce4]{display:flex;flex-wrap:wrap;gap:calc(4px * var(--widget-space, 1));line-height:1.4;color:var(--muted)}.time-summary-row .label[data-v-30983ce4]{color:var(--fg);font-weight:600}.time-summary-row.calendars[data-v-30983ce4]{word-break:break-word}.time-summary-row .sep[data-v-30983ce4],.time-summary-row .hint[data-v-30983ce4],.time-summary-row .share[data-v-30983ce4]{color:var(--muted)}.time-summary-row.top-category[data-v-30983ce4]{align-items:center;gap:calc(6px * var(--widget-space, 1))}.time-summary-activity[data-v-30983ce4]{margin-top:calc(6px * var(--widget-space, 1));padding-top:calc(6px * var(--widget-space, 1));border-top:1px solid var(--line);display:grid;gap:calc(2px * var(--widget-space, 1));font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.time-summary-activity__title[data-v-30983ce4]{font-weight:600;color:var(--fg)}.time-summary-activity__line[data-v-30983ce4]{display:flex;flex-wrap:wrap;gap:calc(6px * var(--widget-space, 1))}.time-summary-activity__delta[data-v-30983ce4]{color:var(--muted)}.time-summary-delta[data-v-30983ce4]{margin-top:calc(6px * var(--widget-space, 1));padding-top:calc(6px * var(--widget-space, 1));border-top:1px dashed color-mix(in oklab,var(--muted),transparent 70%);font-size:calc(12px * var(--widget-scale, 1));color:var(--muted)}.summary-badge[data-v-30983ce4]{display:inline-flex;align-items:center;gap:calc(4px * var(--widget-space, 1));padding:calc(2px * var(--widget-space, 1)) calc(8px * var(--widget-space, 1));border-radius:999px;font-size:calc(11px * var(--widget-scale, 1));font-weight:600;text-transform:uppercase;letter-spacing:.05em}.status-on[data-v-30983ce4]{background:color-mix(in srgb,var(--brand) 20%,white);color:var(--brand)}.status-risk[data-v-30983ce4]{background:color-mix(in srgb,#f97316 20%,white);color:#f97316}.status-behind[data-v-30983ce4]{background:color-mix(in srgb,#ef4444 20%,white);color:#ef4444}.status-done[data-v-30983ce4]{background:color-mix(in srgb,var(--pos) 25%,white);color:var(--pos)}.status-none[data-v-30983ce4]{background:color-mix(in srgb,var(--muted) 12%,white);color:var(--muted)}
/*$vite$:1*/`,document.head.appendChild(bs);/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function zr(e){const t=Object.create(null);for(const a of e.split(","))t[a]=1;return a=>a in t}const Ge={},Wa=[],Kt=()=>{},ys=()=>!1,zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rr=e=>e.startsWith("onUpdate:"),dt=Object.assign,jr=(e,t)=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)},Uc=Object.prototype.hasOwnProperty,Re=(e,t)=>Uc.call(e,t),De=Array.isArray,za=e=>no(e)==="[object Map]",Ro=e=>no(e)==="[object Set]",ws=e=>no(e)==="[object Date]",Be=e=>typeof e=="function",Qe=e=>typeof e=="string",It=e=>typeof e=="symbol",Je=e=>e!==null&&typeof e=="object",ks=e=>(Je(e)||Be(e))&&Be(e.then)&&Be(e.catch),_s=Object.prototype.toString,no=e=>_s.call(e),Vc=e=>no(e).slice(8,-1),xs=e=>no(e)==="[object Object]",Ur=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,so=zr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jo=e=>{const t=Object.create(null);return a=>t[a]||(t[a]=e(a))},Kc=/-(\w)/g,At=jo(e=>e.replace(Kc,(t,a)=>a?a.toUpperCase():"")),qc=/\B([A-Z])/g,ga=jo(e=>e.replace(qc,"-$1").toLowerCase()),Uo=jo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vr=jo(e=>e?`on${Uo(e)}`:""),pa=(e,t)=>!Object.is(e,t),Vo=(e,...t)=>{for(let a=0;a<e.length;a++)e[a](...t)},Cs=(e,t,a,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:a})},Ko=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Gc=e=>{const t=Qe(e)?Number(e):NaN;return isNaN(t)?e:t};let Ss;const qo=()=>Ss||(Ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Le(e){if(De(e)){const t={};for(let a=0;a<e.length;a++){const o=e[a],r=Qe(o)?Xc(o):Le(o);if(r)for(const n in r)t[n]=r[n]}return t}else if(Qe(e)||Je(e))return e}const Jc=/;(?![^(]*\))/g,Yc=/:([^]+)/,Zc=/\/\*[^]*?\*\//g;function Xc(e){const t={};return e.replace(Zc,"").split(Jc).forEach(a=>{if(a){const o=a.split(Yc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Ee(e){let t="";if(Qe(e))t=e;else if(De(e))for(let a=0;a<e.length;a++){const o=Ee(e[a]);o&&(t+=o+" ")}else if(Je(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}const Qc=zr("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function $s(e){return!!e||e===""}function ed(e,t){if(e.length!==t.length)return!1;let a=!0;for(let o=0;a&&o<e.length;o++)a=Go(e[o],t[o]);return a}function Go(e,t){if(e===t)return!0;let a=ws(e),o=ws(t);if(a||o)return a&&o?e.getTime()===t.getTime():!1;if(a=It(e),o=It(t),a||o)return e===t;if(a=De(e),o=De(t),a||o)return a&&o?ed(e,t):!1;if(a=Je(e),o=Je(t),a||o){if(!a||!o)return!1;const r=Object.keys(e).length,n=Object.keys(t).length;if(r!==n)return!1;for(const s in e){const l=e.hasOwnProperty(s),i=t.hasOwnProperty(s);if(l&&!i||!l&&i||!Go(e[s],t[s]))return!1}}return String(e)===String(t)}function td(e,t){return e.findIndex(a=>Go(a,t))}const Ts=e=>!!(e&&e.__v_isRef===!0),B=e=>Qe(e)?e:e==null?"":De(e)||Je(e)&&(e.toString===_s||!Be(e.toString))?Ts(e)?B(e.value):JSON.stringify(e,Ms,2):String(e),Ms=(e,t)=>Ts(t)?Ms(e,t.value):za(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((a,[o,r],n)=>(a[Kr(o,n)+" =>"]=r,a),{})}:Ro(t)?{[`Set(${t.size})`]:[...t.values()].map(a=>Kr(a))}:It(t)?Kr(t):Je(t)&&!De(t)&&!xs(t)?String(t):t,Kr=(e,t="")=>{var a;return It(e)?`Symbol(${(a=e.description)!=null?a:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class ad{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!t&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,a;if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].pause();for(t=0,a=this.effects.length;t<a;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,a;if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].resume();for(t=0,a=this.effects.length;t<a;t++)this.effects[t].resume()}}run(t){if(this._active){const a=Ct;try{return Ct=this,t()}finally{Ct=a}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let a,o;for(a=0,o=this.effects.length;a<o;a++)this.effects[a].stop();for(this.effects.length=0,a=0,o=this.cleanups.length;a<o;a++)this.cleanups[a]();if(this.cleanups.length=0,this.scopes){for(a=0,o=this.scopes.length;a<o;a++)this.scopes[a].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function od(){return Ct}let Ye;const qr=new WeakSet;class Ds{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qr.has(this)&&(qr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ls(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Is(this),Es(this);const t=Ye,a=Pt;Ye=this,Pt=!0;try{return this.fn()}finally{Os(this),Ye=t,Pt=a,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zr(t);this.deps=this.depsTail=void 0,Is(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yr(this)&&this.run()}get dirty(){return Yr(this)}}let As=0,lo,io;function Ls(e,t=!1){if(e.flags|=8,t){e.next=io,io=e;return}e.next=lo,lo=e}function Gr(){As++}function Jr(){if(--As>0)return;if(io){let t=io;for(io=void 0;t;){const a=t.next;t.next=void 0,t.flags&=-9,t=a}}let e;for(;lo;){let t=lo;for(lo=void 0;t;){const a=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=a}}if(e)throw e}function Es(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Os(e){let t,a=e.depsTail,o=a;for(;o;){const r=o.prevDep;o.version===-1?(o===a&&(a=r),Zr(o),rd(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=a}function Yr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Bs(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Bs(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===co)||(e.globalVersion=co,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Yr(e))))return;e.flags|=2;const t=e.dep,a=Ye,o=Pt;Ye=e,Pt=!0;try{Es(e);const r=e.fn(e._value);(t.version===0||pa(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ye=a,Pt=o,Os(e),e.flags&=-3}}function Zr(e,t=!1){const{dep:a,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),a.subs===e&&(a.subs=o,!o&&a.computed)){a.computed.flags&=-5;for(let n=a.computed.deps;n;n=n.nextDep)Zr(n,!0)}!t&&!--a.sc&&a.map&&a.map.delete(a.key)}function rd(e){const{prevDep:t,nextDep:a}=e;t&&(t.nextDep=a,e.prevDep=void 0),a&&(a.prevDep=t,e.nextDep=void 0)}let Pt=!0;const Ns=[];function qt(){Ns.push(Pt),Pt=!1}function Gt(){const e=Ns.pop();Pt=e===void 0?!0:e}function Is(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const a=Ye;Ye=void 0;try{t()}finally{Ye=a}}}let co=0;class nd{constructor(t,a){this.sub=t,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ye||!Pt||Ye===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==Ye)a=this.activeLink=new nd(Ye,this),Ye.deps?(a.prevDep=Ye.depsTail,Ye.depsTail.nextDep=a,Ye.depsTail=a):Ye.deps=Ye.depsTail=a,Ps(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const o=a.nextDep;o.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=o),a.prevDep=Ye.depsTail,a.nextDep=void 0,Ye.depsTail.nextDep=a,Ye.depsTail=a,Ye.deps===a&&(Ye.deps=o)}return a}trigger(t){this.version++,co++,this.notify(t)}notify(t){Gr();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{Jr()}}}function Ps(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Ps(o)}const a=e.dep.subs;a!==e&&(e.prevSub=a,a&&(a.nextSub=e)),e.dep.subs=e}}const Jo=new WeakMap,Da=Symbol(""),Qr=Symbol(""),uo=Symbol("");function mt(e,t,a){if(Pt&&Ye){let o=Jo.get(e);o||Jo.set(e,o=new Map);let r=o.get(a);r||(o.set(a,r=new Xr),r.map=o,r.key=a),r.track()}}function ea(e,t,a,o,r,n){const s=Jo.get(e);if(!s){co++;return}const l=i=>{i&&i.trigger()};if(Gr(),t==="clear")s.forEach(l);else{const i=De(e),c=i&&Ur(a);if(i&&a==="length"){const f=Number(o);s.forEach((p,b)=>{(b==="length"||b===uo||!It(b)&&b>=f)&&l(p)})}else switch((a!==void 0||s.has(void 0))&&l(s.get(a)),c&&l(s.get(uo)),t){case"add":i?c&&l(s.get("length")):(l(s.get(Da)),za(e)&&l(s.get(Qr)));break;case"delete":i||(l(s.get(Da)),za(e)&&l(s.get(Qr)));break;case"set":za(e)&&l(s.get(Da));break}}Jr()}function sd(e,t){const a=Jo.get(e);return a&&a.get(t)}function Ra(e){const t=Fe(e);return t===e?t:(mt(t,"iterate",uo),Lt(e)?t:t.map(ft))}function Yo(e){return mt(e=Fe(e),"iterate",uo),e}const ld={__proto__:null,[Symbol.iterator](){return en(this,Symbol.iterator,ft)},concat(...e){return Ra(this).concat(...e.map(t=>De(t)?Ra(t):t))},entries(){return en(this,"entries",e=>(e[1]=ft(e[1]),e))},every(e,t){return ta(this,"every",e,t,void 0,arguments)},filter(e,t){return ta(this,"filter",e,t,a=>a.map(ft),arguments)},find(e,t){return ta(this,"find",e,t,ft,arguments)},findIndex(e,t){return ta(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ta(this,"findLast",e,t,ft,arguments)},findLastIndex(e,t){return ta(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ta(this,"forEach",e,t,void 0,arguments)},includes(...e){return tn(this,"includes",e)},indexOf(...e){return tn(this,"indexOf",e)},join(e){return Ra(this).join(e)},lastIndexOf(...e){return tn(this,"lastIndexOf",e)},map(e,t){return ta(this,"map",e,t,void 0,arguments)},pop(){return fo(this,"pop")},push(...e){return fo(this,"push",e)},reduce(e,...t){return Fs(this,"reduce",e,t)},reduceRight(e,...t){return Fs(this,"reduceRight",e,t)},shift(){return fo(this,"shift")},some(e,t){return ta(this,"some",e,t,void 0,arguments)},splice(...e){return fo(this,"splice",e)},toReversed(){return Ra(this).toReversed()},toSorted(e){return Ra(this).toSorted(e)},toSpliced(...e){return Ra(this).toSpliced(...e)},unshift(...e){return fo(this,"unshift",e)},values(){return en(this,"values",ft)}};function en(e,t,a){const o=Yo(e),r=o[t]();return o!==e&&!Lt(e)&&(r._next=r.next,r.next=()=>{const n=r._next();return n.value&&(n.value=a(n.value)),n}),r}const id=Array.prototype;function ta(e,t,a,o,r,n){const s=Yo(e),l=s!==e&&!Lt(e),i=s[t];if(i!==id[t]){const p=i.apply(e,n);return l?ft(p):p}let c=a;s!==e&&(l?c=function(p,b){return a.call(this,ft(p),b,e)}:a.length>2&&(c=function(p,b){return a.call(this,p,b,e)}));const f=i.call(s,c,o);return l&&r?r(f):f}function Fs(e,t,a,o){const r=Yo(e);let n=a;return r!==e&&(Lt(e)?a.length>3&&(n=function(s,l,i){return a.call(this,s,l,i,e)}):n=function(s,l,i){return a.call(this,s,ft(l),i,e)}),r[t](n,...o)}function tn(e,t,a){const o=Fe(e);mt(o,"iterate",uo);const r=o[t](...a);return(r===-1||r===!1)&&on(a[0])?(a[0]=Fe(a[0]),o[t](...a)):r}function fo(e,t,a=[]){qt(),Gr();const o=Fe(e)[t].apply(e,a);return Jr(),Gt(),o}const cd=zr("__proto__,__v_isRef,__isVue"),Hs=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(It));function dd(e){It(e)||(e=String(e));const t=Fe(this);return mt(t,"has",e),t.hasOwnProperty(e)}class Ws{constructor(t=!1,a=!1){this._isReadonly=t,this._isShallow=a}get(t,a,o){if(a==="__v_skip")return t.__v_skip;const r=this._isReadonly,n=this._isShallow;if(a==="__v_isReactive")return!r;if(a==="__v_isReadonly")return r;if(a==="__v_isShallow")return n;if(a==="__v_raw")return o===(r?n?Ks:Vs:n?Us:js).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const s=De(t);if(!r){let i;if(s&&(i=ld[a]))return i;if(a==="hasOwnProperty")return dd}const l=Reflect.get(t,a,lt(t)?t:o);return(It(a)?Hs.has(a):cd(a))||(r||mt(t,"get",a),n)?l:lt(l)?s&&Ur(a)?l:l.value:Je(l)?r?qs(l):aa(l):l}}class zs extends Ws{constructor(t=!1){super(!1,t)}set(t,a,o,r){let n=t[a];if(!this._isShallow){const i=ha(n);if(!Lt(o)&&!ha(o)&&(n=Fe(n),o=Fe(o)),!De(t)&&lt(n)&&!lt(o))return i||(n.value=o),!0}const s=De(t)&&Ur(a)?Number(a)<t.length:Re(t,a),l=Reflect.set(t,a,o,lt(t)?t:r);return t===Fe(r)&&(s?pa(o,n)&&ea(t,"set",a,o):ea(t,"add",a,o)),l}deleteProperty(t,a){const o=Re(t,a);t[a];const r=Reflect.deleteProperty(t,a);return r&&o&&ea(t,"delete",a,void 0),r}has(t,a){const o=Reflect.has(t,a);return(!It(a)||!Hs.has(a))&&mt(t,"has",a),o}ownKeys(t){return mt(t,"iterate",De(t)?"length":Da),Reflect.ownKeys(t)}}class Rs extends Ws{constructor(t=!1){super(!0,t)}set(t,a){return!0}deleteProperty(t,a){return!0}}const ud=new zs,fd=new Rs,gd=new zs(!0),pd=new Rs(!0),an=e=>e,Zo=e=>Reflect.getPrototypeOf(e);function hd(e,t,a){return function(...o){const r=this.__v_raw,n=Fe(r),s=za(n),l=e==="entries"||e===Symbol.iterator&&s,i=e==="keys"&&s,c=r[e](...o),f=a?an:t?tr:ft;return!t&&mt(n,"iterate",i?Qr:Da),{next(){const{value:p,done:b}=c.next();return b?{value:p,done:b}:{value:l?[f(p[0]),f(p[1])]:f(p),done:b}},[Symbol.iterator](){return this}}}}function Xo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function vd(e,t){const a={get(r){const n=this.__v_raw,s=Fe(n),l=Fe(r);e||(pa(r,l)&&mt(s,"get",r),mt(s,"get",l));const{has:i}=Zo(s),c=t?an:e?tr:ft;if(i.call(s,r))return c(n.get(r));if(i.call(s,l))return c(n.get(l));n!==s&&n.get(r)},get size(){const r=this.__v_raw;return!e&&mt(Fe(r),"iterate",Da),r.size},has(r){const n=this.__v_raw,s=Fe(n),l=Fe(r);return e||(pa(r,l)&&mt(s,"has",r),mt(s,"has",l)),r===l?n.has(r):n.has(r)||n.has(l)},forEach(r,n){const s=this,l=s.__v_raw,i=Fe(l),c=t?an:e?tr:ft;return!e&&mt(i,"iterate",Da),l.forEach((f,p)=>r.call(n,c(f),c(p),s))}};return dt(a,e?{add:Xo("add"),set:Xo("set"),delete:Xo("delete"),clear:Xo("clear")}:{add(r){!t&&!Lt(r)&&!ha(r)&&(r=Fe(r));const n=Fe(this);return Zo(n).has.call(n,r)||(n.add(r),ea(n,"add",r,r)),this},set(r,n){!t&&!Lt(n)&&!ha(n)&&(n=Fe(n));const s=Fe(this),{has:l,get:i}=Zo(s);let c=l.call(s,r);c||(r=Fe(r),c=l.call(s,r));const f=i.call(s,r);return s.set(r,n),c?pa(n,f)&&ea(s,"set",r,n):ea(s,"add",r,n),this},delete(r){const n=Fe(this),{has:s,get:l}=Zo(n);let i=s.call(n,r);i||(r=Fe(r),i=s.call(n,r)),l&&l.call(n,r);const c=n.delete(r);return i&&ea(n,"delete",r,void 0),c},clear(){const r=Fe(this),n=r.size!==0,s=r.clear();return n&&ea(r,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(r=>{a[r]=hd(r,e,t)}),a}function Qo(e,t){const a=vd(e,t);return(o,r,n)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Re(a,r)&&r in o?a:o,r,n)}const md={get:Qo(!1,!1)},bd={get:Qo(!1,!0)},yd={get:Qo(!0,!1)},wd={get:Qo(!0,!0)},js=new WeakMap,Us=new WeakMap,Vs=new WeakMap,Ks=new WeakMap;function kd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _d(e){return e.__v_skip||!Object.isExtensible(e)?0:kd(Vc(e))}function aa(e){return ha(e)?e:er(e,!1,ud,md,js)}function xd(e){return er(e,!1,gd,bd,Us)}function qs(e){return er(e,!0,fd,yd,Vs)}function JS(e){return er(e,!0,pd,wd,Ks)}function er(e,t,a,o,r){if(!Je(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=_d(e);if(n===0)return e;const s=r.get(e);if(s)return s;const l=new Proxy(e,n===2?o:a);return r.set(e,l),l}function ja(e){return ha(e)?ja(e.__v_raw):!!(e&&e.__v_isReactive)}function ha(e){return!!(e&&e.__v_isReadonly)}function Lt(e){return!!(e&&e.__v_isShallow)}function on(e){return e?!!e.__v_raw:!1}function Fe(e){const t=e&&e.__v_raw;return t?Fe(t):e}function Cd(e){return!Re(e,"__v_skip")&&Object.isExtensible(e)&&Cs(e,"__v_skip",!0),e}const ft=e=>Je(e)?aa(e):e,tr=e=>Je(e)?qs(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function te(e){return Sd(e,!1)}function Sd(e,t){return lt(e)?e:new $d(e,t)}class $d{constructor(t,a){this.dep=new Xr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?t:Fe(t),this._value=a?t:ft(t),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(t){const a=this._rawValue,o=this.__v_isShallow||Lt(t)||ha(t);t=o?t:Fe(t),pa(t,a)&&(this._rawValue=t,this._value=o?t:ft(t),this.dep.trigger())}}function A(e){return lt(e)?e.value:e}const Td={get:(e,t,a)=>t==="__v_raw"?e:A(Reflect.get(e,t,a)),set:(e,t,a,o)=>{const r=e[t];return lt(r)&&!lt(a)?(r.value=a,!0):Reflect.set(e,t,a,o)}};function Gs(e){return ja(e)?e:new Proxy(e,Td)}function rn(e){const t=De(e)?new Array(e.length):{};for(const a in e)t[a]=Dd(e,a);return t}class Md{constructor(t,a,o){this._object=t,this._key=a,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return sd(Fe(this._object),this._key)}}function Dd(e,t,a){const o=e[t];return lt(o)?o:new Md(e,t,a)}class Ad{constructor(t,a,o){this.fn=t,this.setter=a,this._value=void 0,this.dep=new Xr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=co-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ye!==this)return Ls(this,!0),!0}get value(){const t=this.dep.track();return Bs(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ld(e,t,a=!1){let o,r;return Be(e)?o=e:(o=e.get,r=e.set),new Ad(o,r,a)}const ar={},or=new WeakMap;let Aa;function Ed(e,t=!1,a=Aa){if(a){let o=or.get(a);o||or.set(a,o=[]),o.push(e)}}function Od(e,t,a=Ge){const{immediate:o,deep:r,once:n,scheduler:s,augmentJob:l,call:i}=a,c=C=>r?C:Lt(C)||r===!1||r===0?oa(C,1):oa(C);let f,p,b,m,g=!1,u=!1;if(lt(e)?(p=()=>e.value,g=Lt(e)):ja(e)?(p=()=>c(e),g=!0):De(e)?(u=!0,g=e.some(C=>ja(C)||Lt(C)),p=()=>e.map(C=>{if(lt(C))return C.value;if(ja(C))return c(C);if(Be(C))return i?i(C,2):C()})):Be(e)?t?p=i?()=>i(e,2):e:p=()=>{if(b){qt();try{b()}finally{Gt()}}const C=Aa;Aa=f;try{return i?i(e,3,[m]):e(m)}finally{Aa=C}}:p=Kt,t&&r){const C=p,S=r===!0?1/0:r;p=()=>oa(C(),S)}const v=od(),M=()=>{f.stop(),v&&v.active&&jr(v.effects,f)};if(n&&t){const C=t;t=(...S)=>{C(...S),M()}}let $=u?new Array(e.length).fill(ar):ar;const T=C=>{if(!(!(f.flags&1)||!f.dirty&&!C))if(t){const S=f.run();if(r||g||(u?S.some((P,w)=>pa(P,$[w])):pa(S,$))){b&&b();const P=Aa;Aa=f;try{const w=[S,$===ar?void 0:u&&$[0]===ar?[]:$,m];$=S,i?i(t,3,w):t(...w)}finally{Aa=P}}}else f.run()};return l&&l(T),f=new Ds(p),f.scheduler=s?()=>s(T,!1):T,m=C=>Ed(C,!1,f),b=f.onStop=()=>{const C=or.get(f);if(C){if(i)i(C,4);else for(const S of C)S();or.delete(f)}},t?o?T(!0):$=f.run():s?s(T.bind(null,!0),!0):f.run(),M.pause=f.pause.bind(f),M.resume=f.resume.bind(f),M.stop=M,M}function oa(e,t=1/0,a){if(t<=0||!Je(e)||e.__v_skip||(a=a||new Set,a.has(e)))return e;if(a.add(e),t--,lt(e))oa(e.value,t,a);else if(De(e))for(let o=0;o<e.length;o++)oa(e[o],t,a);else if(Ro(e)||za(e))e.forEach(o=>{oa(o,t,a)});else if(xs(e)){for(const o in e)oa(e[o],t,a);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&oa(e[o],t,a)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const go=[];let nn=!1;function YS(e,...t){if(nn)return;nn=!0,qt();const a=go.length?go[go.length-1].component:null,o=a&&a.appContext.config.warnHandler,r=Bd();if(o)Ua(o,a,11,[e+t.map(n=>{var s,l;return(l=(s=n.toString)==null?void 0:s.call(n))!=null?l:JSON.stringify(n)}).join(""),a&&a.proxy,r.map(({vnode:n})=>`at <${ti(a,n.type)}>`).join(`
`),r]);else{const n=[`[Vue warn]: ${e}`,...t];r.length&&n.push(`
`,...Nd(r)),console.warn(...n)}Gt(),nn=!1}function Bd(){let e=go[go.length-1];if(!e)return[];const t=[];for(;e;){const a=t[0];a&&a.vnode===e?a.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Nd(e){const t=[];return e.forEach((a,o)=>{t.push(...o===0?[]:[`
`],...Id(a))}),t}function Id({vnode:e,recurseCount:t}){const a=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,r=` at <${ti(e.component,e.type,o)}`,n=">"+a;return e.props?[r,...Pd(e.props),n]:[r+n]}function Pd(e){const t=[],a=Object.keys(e);return a.slice(0,3).forEach(o=>{t.push(...Js(o,e[o]))}),a.length>3&&t.push(" ..."),t}function Js(e,t,a){return Qe(t)?(t=JSON.stringify(t),a?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?a?t:[`${e}=${t}`]:lt(t)?(t=Js(e,Fe(t.value),!0),a?t:[`${e}=Ref<`,t,">"]):Be(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Fe(t),a?t:[`${e}=`,t])}function Ua(e,t,a,o){try{return o?e(...o):e()}catch(r){po(r,t,a)}}function Ft(e,t,a,o){if(Be(e)){const r=Ua(e,t,a,o);return r&&ks(r)&&r.catch(n=>{po(n,t,a)}),r}if(De(e)){const r=[];for(let n=0;n<e.length;n++)r.push(Ft(e[n],t,a,o));return r}}function po(e,t,a,o=!0){const r=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Ge;if(t){let l=t.parent;const i=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${a}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](e,i,c)===!1)return}l=l.parent}if(n){qt(),Ua(n,null,10,[e,i,c]),Gt();return}}Fd(e,a,r,o,s)}function Fd(e,t,a,o=!0,r=!1){if(r)throw e;console.error(e)}const wt=[];let Jt=-1;const Va=[];let va=null,Ka=0;const Ys=Promise.resolve();let rr=null;function ra(e){const t=rr||Ys;return e?t.then(this?e.bind(this):e):t}function Hd(e){let t=Jt+1,a=wt.length;for(;t<a;){const o=t+a>>>1,r=wt[o],n=ho(r);n<e||n===e&&r.flags&2?t=o+1:a=o}return t}function sn(e){if(!(e.flags&1)){const t=ho(e),a=wt[wt.length-1];!a||!(e.flags&2)&&t>=ho(a)?wt.push(e):wt.splice(Hd(t),0,e),e.flags|=1,Zs()}}function Zs(){rr||(rr=Ys.then(el))}function Wd(e){De(e)?Va.push(...e):va&&e.id===-1?va.splice(Ka+1,0,e):e.flags&1||(Va.push(e),e.flags|=1),Zs()}function Xs(e,t,a=Jt+1){for(;a<wt.length;a++){const o=wt[a];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;wt.splice(a,1),a--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Qs(e){if(Va.length){const t=[...new Set(Va)].sort((a,o)=>ho(a)-ho(o));if(Va.length=0,va){va.push(...t);return}for(va=t,Ka=0;Ka<va.length;Ka++){const a=va[Ka];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}va=null,Ka=0}}const ho=e=>e.id==null?e.flags&2?-1:1/0:e.id;function el(e){try{for(Jt=0;Jt<wt.length;Jt++){const t=wt[Jt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ua(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Jt<wt.length;Jt++){const t=wt[Jt];t&&(t.flags&=-2)}Jt=-1,wt.length=0,Qs(),rr=null,(wt.length||Va.length)&&el()}}let gt=null,tl=null;function nr(e){const t=gt;return gt=e,tl=e&&e.type.__scopeId||null,t}function Ve(e,t=gt,a){if(!t||e._n)return e;const o=(...r)=>{o._d&&Kl(-1);const n=nr(t);let s;try{s=e(...r)}finally{nr(n),o._d&&Kl(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function vo(e,t){if(gt===null)return e;const a=mr(gt),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[n,s,l,i=Ge]=t[r];n&&(Be(n)&&(n={mounted:n,updated:n}),n.deep&&oa(s),o.push({dir:n,instance:a,value:s,oldValue:void 0,arg:l,modifiers:i}))}return e}function La(e,t,a,o){const r=e.dirs,n=t&&t.dirs;for(let s=0;s<r.length;s++){const l=r[s];n&&(l.oldValue=n[s].value);let i=l.dir[o];i&&(qt(),Ft(i,a,8,[e.el,l,e,t]),Gt())}}const al=Symbol("_vte"),ol=e=>e.__isTeleport,mo=e=>e&&(e.disabled||e.disabled===""),rl=e=>e&&(e.defer||e.defer===""),nl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,sl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ln=(e,t)=>{const a=e&&e.to;return Qe(a)?t?t(a):null:a},ll={name:"Teleport",__isTeleport:!0,process(e,t,a,o,r,n,s,l,i,c){const{mc:f,pc:p,pbc:b,o:{insert:m,querySelector:g,createText:u,createComment:v}}=c,M=mo(t.props);let{shapeFlag:$,children:T,dynamicChildren:C}=t;if(e==null){const S=t.el=u(""),P=t.anchor=u("");m(S,a,o),m(P,a,o);const w=(x,h)=>{$&16&&(r&&r.isCE&&(r.ce._teleportTarget=x),f(T,x,h,r,n,s,l,i))},_=()=>{const x=t.target=ln(t.props,g),h=il(x,t,u,m);x&&(s!=="svg"&&nl(x)?s="svg":s!=="mathml"&&sl(x)&&(s="mathml"),M||(w(x,h),lr(t,!1)))};M&&(w(a,P),lr(t,!0)),rl(t.props)?(t.el.__isMounted=!1,_t(()=>{_(),delete t.el.__isMounted},n)):_()}else{if(rl(t.props)&&e.el.__isMounted===!1){_t(()=>{ll.process(e,t,a,o,r,n,s,l,i,c)},n);return}t.el=e.el,t.targetStart=e.targetStart;const S=t.anchor=e.anchor,P=t.target=e.target,w=t.targetAnchor=e.targetAnchor,_=mo(e.props),x=_?a:P,h=_?S:w;if(s==="svg"||nl(P)?s="svg":(s==="mathml"||sl(P))&&(s="mathml"),C?(b(e.dynamicChildren,C,x,r,n,s,l),_n(e,t,!0)):i||p(e,t,x,h,r,n,s,l,!1),M)_?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):sr(t,a,S,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=ln(t.props,g);D&&sr(t,D,null,c,0)}else _&&sr(t,P,w,c,1);lr(t,M)}},remove(e,t,a,{um:o,o:{remove:r}},n){const{shapeFlag:s,children:l,anchor:i,targetStart:c,targetAnchor:f,target:p,props:b}=e;if(p&&(r(c),r(f)),n&&r(i),s&16){const m=n||!mo(b);for(let g=0;g<l.length;g++){const u=l[g];o(u,t,a,m,!!u.dynamicChildren)}}},move:sr,hydrate:zd};function sr(e,t,a,{o:{insert:o},m:r},n=2){n===0&&o(e.targetAnchor,t,a);const{el:s,anchor:l,shapeFlag:i,children:c,props:f}=e,p=n===2;if(p&&o(s,t,a),(!p||mo(f))&&i&16)for(let b=0;b<c.length;b++)r(c[b],t,a,2);p&&o(l,t,a)}function zd(e,t,a,o,r,n,{o:{nextSibling:s,parentNode:l,querySelector:i,insert:c,createText:f}},p){const b=t.target=ln(t.props,i);if(b){const m=mo(t.props),g=b._lpa||b.firstChild;if(t.shapeFlag&16)if(m)t.anchor=p(s(e),t,l(e),a,o,r,n),t.targetStart=g,t.targetAnchor=g&&s(g);else{t.anchor=s(e);let u=g;for(;u;){if(u&&u.nodeType===8){if(u.data==="teleport start anchor")t.targetStart=u;else if(u.data==="teleport anchor"){t.targetAnchor=u,b._lpa=t.targetAnchor&&s(t.targetAnchor);break}}u=s(u)}t.targetAnchor||il(b,t,f,c),p(g&&s(g),t,b,a,o,r,n)}lr(t,m)}return t.anchor&&s(t.anchor)}const Rd=ll;function lr(e,t){const a=e.ctx;if(a&&a.ut){let o,r;for(t?(o=e.el,r=e.anchor):(o=e.targetStart,r=e.targetAnchor);o&&o!==r;)o.nodeType===1&&o.setAttribute("data-v-owner",a.uid),o=o.nextSibling;a.ut()}}function il(e,t,a,o){const r=t.targetStart=a(""),n=t.targetAnchor=a("");return r[al]=n,e&&(o(r,e),o(n,e)),n}const na=Symbol("_leaveCb"),ir=Symbol("_enterCb");function jd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mt(()=>{e.isMounted=!0}),Ot(()=>{e.isUnmounting=!0}),e}const Et=[Function,Array],cl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Et,onEnter:Et,onAfterEnter:Et,onEnterCancelled:Et,onBeforeLeave:Et,onLeave:Et,onAfterLeave:Et,onLeaveCancelled:Et,onBeforeAppear:Et,onAppear:Et,onAfterAppear:Et,onAppearCancelled:Et},dl=e=>{const t=e.subTree;return t.component?dl(t.component):t},Ud={name:"BaseTransition",props:cl,setup(e,{slots:t}){const a=hr(),o=jd();return()=>{const r=t.default&&pl(t.default(),!0);if(!r||!r.length)return;const n=ul(r),s=Fe(e),{mode:l}=s;if(o.isLeaving)return dn(n);const i=gl(n);if(!i)return dn(n);let c=cn(i,s,o,a,p=>c=p);i.type!==bt&&bo(i,c);let f=a.subTree&&gl(a.subTree);if(f&&f.type!==bt&&!Oa(i,f)&&dl(a).type!==bt){let p=cn(f,s,o,a);if(bo(f,p),l==="out-in"&&i.type!==bt)return o.isLeaving=!0,p.afterLeave=()=>{o.isLeaving=!1,a.job.flags&8||a.update(),delete p.afterLeave,f=void 0},dn(n);l==="in-out"&&i.type!==bt?p.delayLeave=(b,m,g)=>{const u=fl(o,f);u[String(f.key)]=f,b[na]=()=>{m(),b[na]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return n}}};function ul(e){let t=e[0];if(e.length>1){for(const a of e)if(a.type!==bt){t=a;break}}return t}const Vd=Ud;function fl(e,t){const{leavingVNodes:a}=e;let o=a.get(t.type);return o||(o=Object.create(null),a.set(t.type,o)),o}function cn(e,t,a,o,r){const{appear:n,mode:s,persisted:l=!1,onBeforeEnter:i,onEnter:c,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:b,onLeave:m,onAfterLeave:g,onLeaveCancelled:u,onBeforeAppear:v,onAppear:M,onAfterAppear:$,onAppearCancelled:T}=t,C=String(e.key),S=fl(a,e),P=(x,h)=>{x&&Ft(x,o,9,h)},w=(x,h)=>{const D=h[1];P(x,h),De(x)?x.every(O=>O.length<=1)&&D():x.length<=1&&D()},_={mode:s,persisted:l,beforeEnter(x){let h=i;if(!a.isMounted)if(n)h=v||i;else return;x[na]&&x[na](!0);const D=S[C];D&&Oa(e,D)&&D.el[na]&&D.el[na](),P(h,[x])},enter(x){let h=c,D=f,O=p;if(!a.isMounted)if(n)h=M||c,D=$||f,O=T||p;else return;let z=!1;const re=x[ir]=I=>{z||(z=!0,I?P(O,[x]):P(D,[x]),_.delayedLeave&&_.delayedLeave(),x[ir]=void 0)};h?w(h,[x,re]):re()},leave(x,h){const D=String(e.key);if(x[ir]&&x[ir](!0),a.isUnmounting)return h();P(b,[x]);let O=!1;const z=x[na]=re=>{O||(O=!0,h(),re?P(u,[x]):P(g,[x]),x[na]=void 0,S[D]===e&&delete S[D])};S[D]=e,m?w(m,[x,z]):z()},clone(x){const h=cn(x,t,a,o,r);return r&&r(h),h}};return _}function dn(e){if(wo(e))return e=ma(e),e.children=null,e}function gl(e){if(!wo(e))return ol(e.type)&&e.children?ul(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:a}=e;if(a){if(t&16)return a[0];if(t&32&&Be(a.default))return a.default()}}function bo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,bo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function pl(e,t=!1,a){let o=[],r=0;for(let n=0;n<e.length;n++){let s=e[n];const l=a==null?s.key:String(a)+String(s.key!=null?s.key:n);s.type===ue?(s.patchFlag&128&&r++,o=o.concat(pl(s.children,t,l))):(t||s.type!==bt)&&o.push(l!=null?ma(s,{key:l}):s)}if(r>1)for(let n=0;n<o.length;n++)o[n].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function Te(e,t){return Be(e)?dt({name:e.name},t,{setup:e}):e}function un(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function yo(e,t,a,o,r=!1){if(De(e)){e.forEach((g,u)=>yo(g,t&&(De(t)?t[u]:t),a,o,r));return}if(qa(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&yo(e,t,a,o.component.subTree);return}const n=o.shapeFlag&4?mr(o.component):o.el,s=r?null:n,{i:l,r:i}=e,c=t&&t.r,f=l.refs===Ge?l.refs={}:l.refs,p=l.setupState,b=Fe(p),m=p===Ge?ys:g=>Re(b,g);if(c!=null&&c!==i){if(Qe(c))f[c]=null,m(c)&&(p[c]=null);else if(lt(c)){c.value=null;const g=t;g.k&&(f[g.k]=null)}}if(Be(i))Ua(i,l,12,[s,f]);else{const g=Qe(i),u=lt(i);if(g||u){const v=()=>{if(e.f){const M=g?m(i)?p[i]:f[i]:i.value;if(r)De(M)&&jr(M,n);else if(De(M))M.includes(n)||M.push(n);else if(g)f[i]=[n],m(i)&&(p[i]=f[i]);else{const $=[n];i.value=$,e.k&&(f[e.k]=$)}}else g?(f[i]=s,m(i)&&(p[i]=s)):u&&(i.value=s,e.k&&(f[e.k]=s))};s?(v.id=-1,_t(v,a)):v()}}}const hl=e=>e.nodeType===8;qo().requestIdleCallback,qo().cancelIdleCallback;function Kd(e,t){if(hl(e)&&e.data==="["){let a=1,o=e.nextSibling;for(;o;){if(o.nodeType===1){if(t(o)===!1)break}else if(hl(o))if(o.data==="]"){if(--a===0)break}else o.data==="["&&a++;o=o.nextSibling}}else t(e)}const qa=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function tt(e){Be(e)&&(e={loader:e});const{loader:t,loadingComponent:a,errorComponent:o,delay:r=200,hydrate:n,timeout:s,suspensible:l=!0,onError:i}=e;let c=null,f,p=0;const b=()=>(p++,c=null,m()),m=()=>{let g;return c||(g=c=t().catch(u=>{if(u=u instanceof Error?u:new Error(String(u)),i)return new Promise((v,M)=>{i(u,()=>v(b()),()=>M(u),p+1)});throw u}).then(u=>g!==c&&c?c:(u&&(u.__esModule||u[Symbol.toStringTag]==="Module")&&(u=u.default),f=u,u)))};return Te({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(g,u,v){let M=!1;(u.bu||(u.bu=[])).push(()=>M=!0);const $=()=>{M||v()},T=n?()=>{const C=n($,S=>Kd(g,S));C&&(u.bum||(u.bum=[])).push(C)}:$;f?T():m().then(()=>!u.isUnmounted&&T())},get __asyncResolved(){return f},setup(){const g=pt;if(un(g),f)return()=>fn(f,g);const u=T=>{c=null,po(T,g,13,!o)};if(l&&g.suspense||Ja)return m().then(T=>()=>fn(T,g)).catch(T=>(u(T),()=>o?$e(o,{error:T}):null));const v=te(!1),M=te(),$=te(!!r);return r&&setTimeout(()=>{$.value=!1},r),s!=null&&setTimeout(()=>{if(!v.value&&!M.value){const T=new Error(`Async component timed out after ${s}ms.`);u(T),M.value=T}},s),m().then(()=>{v.value=!0,g.parent&&wo(g.parent.vnode)&&g.parent.update()}).catch(T=>{u(T),M.value=T}),()=>{if(v.value&&f)return fn(f,g);if(M.value&&o)return $e(o,{error:M.value});if(a&&!$.value)return $e(a)}}})}function fn(e,t){const{ref:a,props:o,children:r,ce:n}=t.vnode,s=$e(e,o,r);return s.ref=a,s.ce=n,delete t.vnode.ce,s}const wo=e=>e.type.__isKeepAlive;function qd(e,t){vl(e,"a",t)}function Gd(e,t){vl(e,"da",t)}function vl(e,t,a=pt){const o=e.__wdc||(e.__wdc=()=>{let r=a;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(cr(t,o,a),a){let r=a.parent;for(;r&&r.parent;)wo(r.parent.vnode)&&Jd(o,t,a,r),r=r.parent}}function Jd(e,t,a,o){const r=cr(t,e,o,!0);gn(()=>{jr(o[t],r)},a)}function cr(e,t,a=pt,o=!1){if(a){const r=a[e]||(a[e]=[]),n=t.__weh||(t.__weh=(...s)=>{qt();const l=$o(a),i=Ft(t,a,e,s);return l(),Gt(),i});return o?r.unshift(n):r.push(n),n}}const sa=e=>(t,a=pt)=>{(!Ja||e==="sp")&&cr(e,(...o)=>t(...o),a)},Yd=sa("bm"),Mt=sa("m"),Zd=sa("bu"),Xd=sa("u"),Ot=sa("bum"),gn=sa("um"),Qd=sa("sp"),eu=sa("rtg"),tu=sa("rtc");function au(e,t=pt){cr("ec",e,t)}const ml="components";function ou(e,t){return yl(ml,e,!0,t)||e}const bl=Symbol.for("v-ndc");function ru(e){return Qe(e)?yl(ml,e,!1)||e:e||bl}function yl(e,t,a=!0,o=!1){const r=gt||pt;if(r){const n=r.type;{const l=ei(n,!1);if(l&&(l===t||l===At(t)||l===Uo(At(t))))return n}const s=wl(r[e]||n[e],t)||wl(r.appContext[e],t);return!s&&o?n:s}}function wl(e,t){return e&&(e[t]||e[At(t)]||e[Uo(At(t))])}function xe(e,t,a,o){let r;const n=a,s=De(e);if(s||Qe(e)){const l=s&&ja(e);let i=!1,c=!1;l&&(i=!Lt(e),c=ha(e),e=Yo(e)),r=new Array(e.length);for(let f=0,p=e.length;f<p;f++)r[f]=t(i?c?tr(ft(e[f])):ft(e[f]):e[f],f,void 0,n)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,n)}else if(Je(e))if(e[Symbol.iterator])r=Array.from(e,(l,i)=>t(l,i,void 0,n));else{const l=Object.keys(e);r=new Array(l.length);for(let i=0,c=l.length;i<c;i++){const f=l[i];r[i]=t(e[f],f,i,n)}}else r=[];return r}function nu(e,t,a={},o,r){if(gt.ce||gt.parent&&qa(gt.parent)&&gt.parent.ce)return a.name=t,y(),Xe(ue,null,[$e("slot",a,o)],64);let n=e[t];n&&n._c&&(n._d=!1),y();const s=n&&kl(n(a)),l=a.key||s&&s.key,i=Xe(ue,{key:(l&&!It(l)?l:`_${t}`)+(!s&&o?"_fb":"")},s||[],s&&e._===1?64:-2);return n&&n._c&&(n._d=!0),i}function kl(e){return e.some(t=>So(t)?!(t.type===bt||t.type===ue&&!kl(t.children)):!0)?e:null}const pn=e=>e?Zl(e)?mr(e):pn(e.parent):null,ko=dt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pn(e.parent),$root:e=>pn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Sl(e),$forceUpdate:e=>e.f||(e.f=()=>{sn(e.update)}),$nextTick:e=>e.n||(e.n=ra.bind(e.proxy)),$watch:e=>Tu.bind(e)}),hn=(e,t)=>e!==Ge&&!e.__isScriptSetup&&Re(e,t),su={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:a,setupState:o,data:r,props:n,accessCache:s,type:l,appContext:i}=e;let c;if(t[0]!=="$"){const m=s[t];if(m!==void 0)switch(m){case 1:return o[t];case 2:return r[t];case 4:return a[t];case 3:return n[t]}else{if(hn(o,t))return s[t]=1,o[t];if(r!==Ge&&Re(r,t))return s[t]=2,r[t];if((c=e.propsOptions[0])&&Re(c,t))return s[t]=3,n[t];if(a!==Ge&&Re(a,t))return s[t]=4,a[t];vn&&(s[t]=0)}}const f=ko[t];let p,b;if(f)return t==="$attrs"&&mt(e.attrs,"get",""),f(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(a!==Ge&&Re(a,t))return s[t]=4,a[t];if(b=i.config.globalProperties,Re(b,t))return b[t]},set({_:e},t,a){const{data:o,setupState:r,ctx:n}=e;return hn(r,t)?(r[t]=a,!0):o!==Ge&&Re(o,t)?(o[t]=a,!0):Re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=a,!0)},has({_:{data:e,setupState:t,accessCache:a,ctx:o,appContext:r,propsOptions:n,type:s}},l){let i,c;return!!(a[l]||e!==Ge&&l[0]!=="$"&&Re(e,l)||hn(t,l)||(i=n[0])&&Re(i,l)||Re(o,l)||Re(ko,l)||Re(r.config.globalProperties,l)||(c=s.__cssModules)&&c[l])},defineProperty(e,t,a){return a.get!=null?e._.accessCache[t]=0:Re(a,"value")&&this.set(e,t,a.value,null),Reflect.defineProperty(e,t,a)}};function _l(e){return De(e)?e.reduce((t,a)=>(t[a]=null,t),{}):e}let vn=!0;function lu(e){const t=Sl(e),a=e.proxy,o=e.ctx;vn=!1,t.beforeCreate&&xl(t.beforeCreate,e,"bc");const{data:r,computed:n,methods:s,watch:l,provide:i,inject:c,created:f,beforeMount:p,mounted:b,beforeUpdate:m,updated:g,activated:u,deactivated:v,beforeDestroy:M,beforeUnmount:$,destroyed:T,unmounted:C,render:S,renderTracked:P,renderTriggered:w,errorCaptured:_,serverPrefetch:x,expose:h,inheritAttrs:D,components:O,directives:z,filters:re}=t;if(c&&iu(c,o,null),s)for(const X in s){const Y=s[X];Be(Y)&&(o[X]=Y.bind(a))}if(r){const X=r.call(a,a);Je(X)&&(e.data=aa(X))}if(vn=!0,n)for(const X in n){const Y=n[X],he=Be(Y)?Y.bind(a,a):Be(Y.get)?Y.get.bind(a,a):Kt,ee=!Be(Y)&&Be(Y.set)?Y.set.bind(a):Kt,K=E({get:he,set:ee});Object.defineProperty(o,X,{enumerable:!0,configurable:!0,get:()=>K.value,set:U=>K.value=U})}if(l)for(const X in l)Cl(l[X],o,a,X);if(i){const X=Be(i)?i.call(a):i;Reflect.ownKeys(X).forEach(Y=>{pu(Y,X[Y])})}f&&xl(f,e,"c");function V(X,Y){De(Y)?Y.forEach(he=>X(he.bind(a))):Y&&X(Y.bind(a))}if(V(Yd,p),V(Mt,b),V(Zd,m),V(Xd,g),V(qd,u),V(Gd,v),V(au,_),V(tu,P),V(eu,w),V(Ot,$),V(gn,C),V(Qd,x),De(h))if(h.length){const X=e.exposed||(e.exposed={});h.forEach(Y=>{Object.defineProperty(X,Y,{get:()=>a[Y],set:he=>a[Y]=he,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===Kt&&(e.render=S),D!=null&&(e.inheritAttrs=D),O&&(e.components=O),z&&(e.directives=z),x&&un(e)}function iu(e,t,a=Kt){De(e)&&(e=mn(e));for(const o in e){const r=e[o];let n;Je(r)?"default"in r?n=ur(r.from||o,r.default,!0):n=ur(r.from||o):n=ur(r),lt(n)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>n.value,set:s=>n.value=s}):t[o]=n}}function xl(e,t,a){Ft(De(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,a)}function Cl(e,t,a,o){let r=o.includes(".")?zl(a,o):()=>a[o];if(Qe(e)){const n=t[e];Be(n)&&Oe(r,n)}else if(Be(e))Oe(r,e.bind(a));else if(Je(e))if(De(e))e.forEach(n=>Cl(n,t,a,o));else{const n=Be(e.handler)?e.handler.bind(a):t[e.handler];Be(n)&&Oe(r,n,e)}}function Sl(e){const t=e.type,{mixins:a,extends:o}=t,{mixins:r,optionsCache:n,config:{optionMergeStrategies:s}}=e.appContext,l=n.get(t);let i;return l?i=l:!r.length&&!a&&!o?i=t:(i={},r.length&&r.forEach(c=>dr(i,c,s,!0)),dr(i,t,s)),Je(t)&&n.set(t,i),i}function dr(e,t,a,o=!1){const{mixins:r,extends:n}=t;n&&dr(e,n,a,!0),r&&r.forEach(s=>dr(e,s,a,!0));for(const s in t)if(!(o&&s==="expose")){const l=cu[s]||a&&a[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const cu={data:$l,props:Tl,emits:Tl,methods:_o,computed:_o,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:_o,directives:_o,watch:uu,provide:$l,inject:du};function $l(e,t){return t?e?function(){return dt(Be(e)?e.call(this,this):e,Be(t)?t.call(this,this):t)}:t:e}function du(e,t){return _o(mn(e),mn(t))}function mn(e){if(De(e)){const t={};for(let a=0;a<e.length;a++)t[e[a]]=e[a];return t}return e}function kt(e,t){return e?[...new Set([].concat(e,t))]:t}function _o(e,t){return e?dt(Object.create(null),e,t):t}function Tl(e,t){return e?De(e)&&De(t)?[...new Set([...e,...t])]:dt(Object.create(null),_l(e),_l(t??{})):t}function uu(e,t){if(!e)return t;if(!t)return e;const a=dt(Object.create(null),e);for(const o in t)a[o]=kt(e[o],t[o]);return a}function Ml(){return{app:null,config:{isNativeTag:ys,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fu=0;function gu(e,t){return function(o,r=null){Be(o)||(o=dt({},o)),r!=null&&!Je(r)&&(r=null);const n=Ml(),s=new WeakSet,l=[];let i=!1;const c=n.app={_uid:fu++,_component:o,_props:r,_container:null,_context:n,_instance:null,version:Gu,get config(){return n.config},set config(f){},use(f,...p){return s.has(f)||(f&&Be(f.install)?(s.add(f),f.install(c,...p)):Be(f)&&(s.add(f),f(c,...p))),c},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),c},component(f,p){return p?(n.components[f]=p,c):n.components[f]},directive(f,p){return p?(n.directives[f]=p,c):n.directives[f]},mount(f,p,b){if(!i){const m=c._ceVNode||$e(o,r);return m.appContext=n,b===!0?b="svg":b===!1&&(b=void 0),e(m,f,b),i=!0,c._container=f,f.__vue_app__=c,mr(m.component)}},onUnmount(f){l.push(f)},unmount(){i&&(Ft(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,p){return n.provides[f]=p,c},runWithContext(f){const p=Ga;Ga=c;try{return f()}finally{Ga=p}}};return c}}let Ga=null;function pu(e,t){if(pt){let a=pt.provides;const o=pt.parent&&pt.parent.provides;o===a&&(a=pt.provides=Object.create(o)),a[e]=t}}function ur(e,t,a=!1){const o=hr();if(o||Ga){let r=Ga?Ga._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return a&&Be(t)?t.call(o&&o.proxy):t}}const Dl={},Al=()=>Object.create(Dl),Ll=e=>Object.getPrototypeOf(e)===Dl;function hu(e,t,a,o=!1){const r={},n=Al();e.propsDefaults=Object.create(null),El(e,t,r,n);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);a?e.props=o?r:xd(r):e.type.props?e.props=r:e.props=n,e.attrs=n}function vu(e,t,a,o){const{props:r,attrs:n,vnode:{patchFlag:s}}=e,l=Fe(r),[i]=e.propsOptions;let c=!1;if((o||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let b=f[p];if(fr(e.emitsOptions,b))continue;const m=t[b];if(i)if(Re(n,b))m!==n[b]&&(n[b]=m,c=!0);else{const g=At(b);r[g]=bn(i,l,g,m,e,!1)}else m!==n[b]&&(n[b]=m,c=!0)}}}else{El(e,t,r,n)&&(c=!0);let f;for(const p in l)(!t||!Re(t,p)&&((f=ga(p))===p||!Re(t,f)))&&(i?a&&(a[p]!==void 0||a[f]!==void 0)&&(r[p]=bn(i,l,p,void 0,e,!0)):delete r[p]);if(n!==l)for(const p in n)(!t||!Re(t,p))&&(delete n[p],c=!0)}c&&ea(e.attrs,"set","")}function El(e,t,a,o){const[r,n]=e.propsOptions;let s=!1,l;if(t)for(let i in t){if(so(i))continue;const c=t[i];let f;r&&Re(r,f=At(i))?!n||!n.includes(f)?a[f]=c:(l||(l={}))[f]=c:fr(e.emitsOptions,i)||(!(i in o)||c!==o[i])&&(o[i]=c,s=!0)}if(n){const i=Fe(a),c=l||Ge;for(let f=0;f<n.length;f++){const p=n[f];a[p]=bn(r,i,p,c[p],e,!Re(c,p))}}return s}function bn(e,t,a,o,r,n){const s=e[a];if(s!=null){const l=Re(s,"default");if(l&&o===void 0){const i=s.default;if(s.type!==Function&&!s.skipFactory&&Be(i)){const{propsDefaults:c}=r;if(a in c)o=c[a];else{const f=$o(r);o=c[a]=i.call(null,t),f()}}else o=i;r.ce&&r.ce._setProp(a,o)}s[0]&&(n&&!l?o=!1:s[1]&&(o===""||o===ga(a))&&(o=!0))}return o}const mu=new WeakMap;function Ol(e,t,a=!1){const o=a?mu:t.propsCache,r=o.get(e);if(r)return r;const n=e.props,s={},l=[];let i=!1;if(!Be(e)){const f=p=>{i=!0;const[b,m]=Ol(p,t,!0);dt(s,b),m&&l.push(...m)};!a&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!n&&!i)return Je(e)&&o.set(e,Wa),Wa;if(De(n))for(let f=0;f<n.length;f++){const p=At(n[f]);Bl(p)&&(s[p]=Ge)}else if(n)for(const f in n){const p=At(f);if(Bl(p)){const b=n[f],m=s[p]=De(b)||Be(b)?{type:b}:dt({},b),g=m.type;let u=!1,v=!0;if(De(g))for(let M=0;M<g.length;++M){const $=g[M],T=Be($)&&$.name;if(T==="Boolean"){u=!0;break}else T==="String"&&(v=!1)}else u=Be(g)&&g.name==="Boolean";m[0]=u,m[1]=v,(u||Re(m,"default"))&&l.push(p)}}const c=[s,l];return Je(e)&&o.set(e,c),c}function Bl(e){return e[0]!=="$"&&!so(e)}const yn=e=>e==="_"||e==="_ctx"||e==="$stable",wn=e=>De(e)?e.map(Yt):[Yt(e)],bu=(e,t,a)=>{if(t._n)return t;const o=Ve((...r)=>wn(t(...r)),a);return o._c=!1,o},Nl=(e,t,a)=>{const o=e._ctx;for(const r in e){if(yn(r))continue;const n=e[r];if(Be(n))t[r]=bu(r,n,o);else if(n!=null){const s=wn(n);t[r]=()=>s}}},Il=(e,t)=>{const a=wn(t);e.slots.default=()=>a},Pl=(e,t,a)=>{for(const o in t)(a||!yn(o))&&(e[o]=t[o])},yu=(e,t,a)=>{const o=e.slots=Al();if(e.vnode.shapeFlag&32){const r=t._;r?(Pl(o,t,a),a&&Cs(o,"_",r,!0)):Nl(t,o)}else t&&Il(e,t)},wu=(e,t,a)=>{const{vnode:o,slots:r}=e;let n=!0,s=Ge;if(o.shapeFlag&32){const l=t._;l?a&&l===1?n=!1:Pl(r,t,a):(n=!t.$stable,Nl(t,r)),s=t}else t&&(Il(e,t),s={default:1});if(n)for(const l in r)!yn(l)&&s[l]==null&&delete r[l]},_t=Bu;function ku(e){return _u(e)}function _u(e,t){const a=qo();a.__VUE__=!0;const{insert:o,remove:r,patchProp:n,createElement:s,createText:l,createComment:i,setText:c,setElementText:f,parentNode:p,nextSibling:b,setScopeId:m=Kt,insertStaticContent:g}=e,u=(L,W,q,ie=null,oe=null,ce=null,ve=void 0,ge=null,fe=!!W.dynamicChildren)=>{if(L===W)return;L&&!Oa(L,W)&&(ie=F(L),U(L,oe,ce,!0),L=null),W.patchFlag===-2&&(fe=!1,W.dynamicChildren=null);const{type:le,ref:we,shapeFlag:me}=W;switch(le){case gr:v(L,W,q,ie);break;case bt:M(L,W,q,ie);break;case xn:L==null&&$(W,q,ie,ve);break;case ue:O(L,W,q,ie,oe,ce,ve,ge,fe);break;default:me&1?S(L,W,q,ie,oe,ce,ve,ge,fe):me&6?z(L,W,q,ie,oe,ce,ve,ge,fe):(me&64||me&128)&&le.process(L,W,q,ie,oe,ce,ve,ge,fe,ae)}we!=null&&oe?yo(we,L&&L.ref,ce,W||L,!W):we==null&&L&&L.ref!=null&&yo(L.ref,null,ce,L,!0)},v=(L,W,q,ie)=>{if(L==null)o(W.el=l(W.children),q,ie);else{const oe=W.el=L.el;W.children!==L.children&&c(oe,W.children)}},M=(L,W,q,ie)=>{L==null?o(W.el=i(W.children||""),q,ie):W.el=L.el},$=(L,W,q,ie)=>{[L.el,L.anchor]=g(L.children,W,q,ie,L.el,L.anchor)},T=({el:L,anchor:W},q,ie)=>{let oe;for(;L&&L!==W;)oe=b(L),o(L,q,ie),L=oe;o(W,q,ie)},C=({el:L,anchor:W})=>{let q;for(;L&&L!==W;)q=b(L),r(L),L=q;r(W)},S=(L,W,q,ie,oe,ce,ve,ge,fe)=>{W.type==="svg"?ve="svg":W.type==="math"&&(ve="mathml"),L==null?P(W,q,ie,oe,ce,ve,ge,fe):x(L,W,oe,ce,ve,ge,fe)},P=(L,W,q,ie,oe,ce,ve,ge)=>{let fe,le;const{props:we,shapeFlag:me,transition:pe,dirs:be}=L;if(fe=L.el=s(L.type,ce,we&&we.is,we),me&8?f(fe,L.children):me&16&&_(L.children,fe,null,ie,oe,kn(L,ce),ve,ge),be&&La(L,null,ie,"created"),w(fe,L,L.scopeId,ve,ie),we){for(const Se in we)Se!=="value"&&!so(Se)&&n(fe,Se,null,we[Se],ce,ie);"value"in we&&n(fe,"value",null,we.value,ce),(le=we.onVnodeBeforeMount)&&Zt(le,ie,L)}be&&La(L,null,ie,"beforeMount");const Ce=xu(oe,pe);Ce&&pe.beforeEnter(fe),o(fe,W,q),((le=we&&we.onVnodeMounted)||Ce||be)&&_t(()=>{le&&Zt(le,ie,L),Ce&&pe.enter(fe),be&&La(L,null,ie,"mounted")},oe)},w=(L,W,q,ie,oe)=>{if(q&&m(L,q),ie)for(let ce=0;ce<ie.length;ce++)m(L,ie[ce]);if(oe){let ce=oe.subTree;if(W===ce||Vl(ce.type)&&(ce.ssContent===W||ce.ssFallback===W)){const ve=oe.vnode;w(L,ve,ve.scopeId,ve.slotScopeIds,oe.parent)}}},_=(L,W,q,ie,oe,ce,ve,ge,fe=0)=>{for(let le=fe;le<L.length;le++){const we=L[le]=ge?ba(L[le]):Yt(L[le]);u(null,we,W,q,ie,oe,ce,ve,ge)}},x=(L,W,q,ie,oe,ce,ve)=>{const ge=W.el=L.el;let{patchFlag:fe,dynamicChildren:le,dirs:we}=W;fe|=L.patchFlag&16;const me=L.props||Ge,pe=W.props||Ge;let be;if(q&&Ea(q,!1),(be=pe.onVnodeBeforeUpdate)&&Zt(be,q,W,L),we&&La(W,L,q,"beforeUpdate"),q&&Ea(q,!0),(me.innerHTML&&pe.innerHTML==null||me.textContent&&pe.textContent==null)&&f(ge,""),le?h(L.dynamicChildren,le,ge,q,ie,kn(W,oe),ce):ve||Y(L,W,ge,null,q,ie,kn(W,oe),ce,!1),fe>0){if(fe&16)D(ge,me,pe,q,oe);else if(fe&2&&me.class!==pe.class&&n(ge,"class",null,pe.class,oe),fe&4&&n(ge,"style",me.style,pe.style,oe),fe&8){const Ce=W.dynamicProps;for(let Se=0;Se<Ce.length;Se++){const Ae=Ce[Se],Ne=me[Ae],Pe=pe[Ae];(Pe!==Ne||Ae==="value")&&n(ge,Ae,Ne,Pe,oe,q)}}fe&1&&L.children!==W.children&&f(ge,W.children)}else!ve&&le==null&&D(ge,me,pe,q,oe);((be=pe.onVnodeUpdated)||we)&&_t(()=>{be&&Zt(be,q,W,L),we&&La(W,L,q,"updated")},ie)},h=(L,W,q,ie,oe,ce,ve)=>{for(let ge=0;ge<W.length;ge++){const fe=L[ge],le=W[ge],we=fe.el&&(fe.type===ue||!Oa(fe,le)||fe.shapeFlag&198)?p(fe.el):q;u(fe,le,we,null,ie,oe,ce,ve,!0)}},D=(L,W,q,ie,oe)=>{if(W!==q){if(W!==Ge)for(const ce in W)!so(ce)&&!(ce in q)&&n(L,ce,W[ce],null,oe,ie);for(const ce in q){if(so(ce))continue;const ve=q[ce],ge=W[ce];ve!==ge&&ce!=="value"&&n(L,ce,ge,ve,oe,ie)}"value"in q&&n(L,"value",W.value,q.value,oe)}},O=(L,W,q,ie,oe,ce,ve,ge,fe)=>{const le=W.el=L?L.el:l(""),we=W.anchor=L?L.anchor:l("");let{patchFlag:me,dynamicChildren:pe,slotScopeIds:be}=W;be&&(ge=ge?ge.concat(be):be),L==null?(o(le,q,ie),o(we,q,ie),_(W.children||[],q,we,oe,ce,ve,ge,fe)):me>0&&me&64&&pe&&L.dynamicChildren?(h(L.dynamicChildren,pe,q,oe,ce,ve,ge),(W.key!=null||oe&&W===oe.subTree)&&_n(L,W,!0)):Y(L,W,q,we,oe,ce,ve,ge,fe)},z=(L,W,q,ie,oe,ce,ve,ge,fe)=>{W.slotScopeIds=ge,L==null?W.shapeFlag&512?oe.ctx.activate(W,q,ie,ve,fe):re(W,q,ie,oe,ce,ve,fe):I(L,W,fe)},re=(L,W,q,ie,oe,ce,ve)=>{const ge=L.component=Wu(L,ie,oe);if(wo(L)&&(ge.ctx.renderer=ae),zu(ge,!1,ve),ge.asyncDep){if(oe&&oe.registerDep(ge,V,ve),!L.el){const fe=ge.subTree=$e(bt);M(null,fe,W,q),L.placeholder=fe.el}}else V(ge,L,W,q,oe,ce,ve)},I=(L,W,q)=>{const ie=W.component=L.component;if(Eu(L,W,q))if(ie.asyncDep&&!ie.asyncResolved){X(ie,W,q);return}else ie.next=W,ie.update();else W.el=L.el,ie.vnode=W},V=(L,W,q,ie,oe,ce,ve)=>{const ge=()=>{if(L.isMounted){let{next:me,bu:pe,u:be,parent:Ce,vnode:Se}=L;{const Ue=Fl(L);if(Ue){me&&(me.el=Se.el,X(L,me,ve)),Ue.asyncDep.then(()=>{L.isUnmounted||ge()});return}}let Ae=me,Ne;Ea(L,!1),me?(me.el=Se.el,X(L,me,ve)):me=Se,pe&&Vo(pe),(Ne=me.props&&me.props.onVnodeBeforeUpdate)&&Zt(Ne,Ce,me,Se),Ea(L,!0);const Pe=jl(L),He=L.subTree;L.subTree=Pe,u(He,Pe,p(He.el),F(He),L,oe,ce),me.el=Pe.el,Ae===null&&Ou(L,Pe.el),be&&_t(be,oe),(Ne=me.props&&me.props.onVnodeUpdated)&&_t(()=>Zt(Ne,Ce,me,Se),oe)}else{let me;const{el:pe,props:be}=W,{bm:Ce,m:Se,parent:Ae,root:Ne,type:Pe}=L,He=qa(W);Ea(L,!1),Ce&&Vo(Ce),!He&&(me=be&&be.onVnodeBeforeMount)&&Zt(me,Ae,W),Ea(L,!0);{Ne.ce&&Ne.ce._def.shadowRoot!==!1&&Ne.ce._injectChildStyle(Pe);const Ue=L.subTree=jl(L);u(null,Ue,q,ie,L,oe,ce),W.el=Ue.el}if(Se&&_t(Se,oe),!He&&(me=be&&be.onVnodeMounted)){const Ue=W;_t(()=>Zt(me,Ae,Ue),oe)}(W.shapeFlag&256||Ae&&qa(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&L.a&&_t(L.a,oe),L.isMounted=!0,W=q=ie=null}};L.scope.on();const fe=L.effect=new Ds(ge);L.scope.off();const le=L.update=fe.run.bind(fe),we=L.job=fe.runIfDirty.bind(fe);we.i=L,we.id=L.uid,fe.scheduler=()=>sn(we),Ea(L,!0),le()},X=(L,W,q)=>{W.component=L;const ie=L.vnode.props;L.vnode=W,L.next=null,vu(L,W.props,ie,q),wu(L,W.children,q),qt(),Xs(L),Gt()},Y=(L,W,q,ie,oe,ce,ve,ge,fe=!1)=>{const le=L&&L.children,we=L?L.shapeFlag:0,me=W.children,{patchFlag:pe,shapeFlag:be}=W;if(pe>0){if(pe&128){ee(le,me,q,ie,oe,ce,ve,ge,fe);return}else if(pe&256){he(le,me,q,ie,oe,ce,ve,ge,fe);return}}be&8?(we&16&&de(le,oe,ce),me!==le&&f(q,me)):we&16?be&16?ee(le,me,q,ie,oe,ce,ve,ge,fe):de(le,oe,ce,!0):(we&8&&f(q,""),be&16&&_(me,q,ie,oe,ce,ve,ge,fe))},he=(L,W,q,ie,oe,ce,ve,ge,fe)=>{L=L||Wa,W=W||Wa;const le=L.length,we=W.length,me=Math.min(le,we);let pe;for(pe=0;pe<me;pe++){const be=W[pe]=fe?ba(W[pe]):Yt(W[pe]);u(L[pe],be,q,null,oe,ce,ve,ge,fe)}le>we?de(L,oe,ce,!0,!1,me):_(W,q,ie,oe,ce,ve,ge,fe,me)},ee=(L,W,q,ie,oe,ce,ve,ge,fe)=>{let le=0;const we=W.length;let me=L.length-1,pe=we-1;for(;le<=me&&le<=pe;){const be=L[le],Ce=W[le]=fe?ba(W[le]):Yt(W[le]);if(Oa(be,Ce))u(be,Ce,q,null,oe,ce,ve,ge,fe);else break;le++}for(;le<=me&&le<=pe;){const be=L[me],Ce=W[pe]=fe?ba(W[pe]):Yt(W[pe]);if(Oa(be,Ce))u(be,Ce,q,null,oe,ce,ve,ge,fe);else break;me--,pe--}if(le>me){if(le<=pe){const be=pe+1,Ce=be<we?W[be].el:ie;for(;le<=pe;)u(null,W[le]=fe?ba(W[le]):Yt(W[le]),q,Ce,oe,ce,ve,ge,fe),le++}}else if(le>pe)for(;le<=me;)U(L[le],oe,ce,!0),le++;else{const be=le,Ce=le,Se=new Map;for(le=Ce;le<=pe;le++){const Ie=W[le]=fe?ba(W[le]):Yt(W[le]);Ie.key!=null&&Se.set(Ie.key,le)}let Ae,Ne=0;const Pe=pe-Ce+1;let He=!1,Ue=0;const Ze=new Array(Pe);for(le=0;le<Pe;le++)Ze[le]=0;for(le=be;le<=me;le++){const Ie=L[le];if(Ne>=Pe){U(Ie,oe,ce,!0);continue}let st;if(Ie.key!=null)st=Se.get(Ie.key);else for(Ae=Ce;Ae<=pe;Ae++)if(Ze[Ae-Ce]===0&&Oa(Ie,W[Ae])){st=Ae;break}st===void 0?U(Ie,oe,ce,!0):(Ze[st-Ce]=le+1,st>=Ue?Ue=st:He=!0,u(Ie,W[st],q,null,oe,ce,ve,ge,fe),Ne++)}const ut=He?Cu(Ze):Wa;for(Ae=ut.length-1,le=Pe-1;le>=0;le--){const Ie=Ce+le,st=W[Ie],Sa=W[Ie+1],Rt=Ie+1<we?Sa.el||Sa.placeholder:ie;Ze[le]===0?u(null,st,q,Rt,oe,ce,ve,ge,fe):He&&(Ae<0||le!==ut[Ae]?K(st,q,Rt,2):Ae--)}}},K=(L,W,q,ie,oe=null)=>{const{el:ce,type:ve,transition:ge,children:fe,shapeFlag:le}=L;if(le&6){K(L.component.subTree,W,q,ie);return}if(le&128){L.suspense.move(W,q,ie);return}if(le&64){ve.move(L,W,q,ae);return}if(ve===ue){o(ce,W,q);for(let me=0;me<fe.length;me++)K(fe[me],W,q,ie);o(L.anchor,W,q);return}if(ve===xn){T(L,W,q);return}if(ie!==2&&le&1&&ge)if(ie===0)ge.beforeEnter(ce),o(ce,W,q),_t(()=>ge.enter(ce),oe);else{const{leave:me,delayLeave:pe,afterLeave:be}=ge,Ce=()=>{L.ctx.isUnmounted?r(ce):o(ce,W,q)},Se=()=>{ce._isLeaving&&ce[na](!0),me(ce,()=>{Ce(),be&&be()})};pe?pe(ce,Ce,Se):Se()}else o(ce,W,q)},U=(L,W,q,ie=!1,oe=!1)=>{const{type:ce,props:ve,ref:ge,children:fe,dynamicChildren:le,shapeFlag:we,patchFlag:me,dirs:pe,cacheIndex:be}=L;if(me===-2&&(oe=!1),ge!=null&&(qt(),yo(ge,null,q,L,!0),Gt()),be!=null&&(W.renderCache[be]=void 0),we&256){W.ctx.deactivate(L);return}const Ce=we&1&&pe,Se=!qa(L);let Ae;if(Se&&(Ae=ve&&ve.onVnodeBeforeUnmount)&&Zt(Ae,W,L),we&6)J(L.component,q,ie);else{if(we&128){L.suspense.unmount(q,ie);return}Ce&&La(L,null,W,"beforeUnmount"),we&64?L.type.remove(L,W,q,ae,ie):le&&!le.hasOnce&&(ce!==ue||me>0&&me&64)?de(le,W,q,!1,!0):(ce===ue&&me&384||!oe&&we&16)&&de(fe,W,q),ie&&Q(L)}(Se&&(Ae=ve&&ve.onVnodeUnmounted)||Ce)&&_t(()=>{Ae&&Zt(Ae,W,L),Ce&&La(L,null,W,"unmounted")},q)},Q=L=>{const{type:W,el:q,anchor:ie,transition:oe}=L;if(W===ue){N(q,ie);return}if(W===xn){C(L);return}const ce=()=>{r(q),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(L.shapeFlag&1&&oe&&!oe.persisted){const{leave:ve,delayLeave:ge}=oe,fe=()=>ve(q,ce);ge?ge(L.el,ce,fe):fe()}else ce()},N=(L,W)=>{let q;for(;L!==W;)q=b(L),r(L),L=q;r(W)},J=(L,W,q)=>{const{bum:ie,scope:oe,job:ce,subTree:ve,um:ge,m:fe,a:le}=L;Hl(fe),Hl(le),ie&&Vo(ie),oe.stop(),ce&&(ce.flags|=8,U(ve,L,W,q)),ge&&_t(ge,W),_t(()=>{L.isUnmounted=!0},W)},de=(L,W,q,ie=!1,oe=!1,ce=0)=>{for(let ve=ce;ve<L.length;ve++)U(L[ve],W,q,ie,oe)},F=L=>{if(L.shapeFlag&6)return F(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const W=b(L.anchor||L.el),q=W&&W[al];return q?b(q):W};let H=!1;const R=(L,W,q)=>{L==null?W._vnode&&U(W._vnode,null,null,!0):u(W._vnode||null,L,W,null,null,null,q),W._vnode=L,H||(H=!0,Xs(),Qs(),H=!1)},ae={p:u,um:U,m:K,r:Q,mt:re,mc:_,pc:Y,pbc:h,n:F,o:e};return{render:R,hydrate:void 0,createApp:gu(R)}}function kn({type:e,props:t},a){return a==="svg"&&e==="foreignObject"||a==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:a}function Ea({effect:e,job:t},a){a?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function xu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _n(e,t,a=!1){const o=e.children,r=t.children;if(De(o)&&De(r))for(let n=0;n<o.length;n++){const s=o[n];let l=r[n];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[n]=ba(r[n]),l.el=s.el),!a&&l.patchFlag!==-2&&_n(s,l)),l.type===gr&&l.patchFlag!==-1&&(l.el=s.el),l.type===bt&&!l.el&&(l.el=s.el)}}function Cu(e){const t=e.slice(),a=[0];let o,r,n,s,l;const i=e.length;for(o=0;o<i;o++){const c=e[o];if(c!==0){if(r=a[a.length-1],e[r]<c){t[o]=r,a.push(o);continue}for(n=0,s=a.length-1;n<s;)l=n+s>>1,e[a[l]]<c?n=l+1:s=l;c<e[a[n]]&&(n>0&&(t[o]=a[n-1]),a[n]=o)}}for(n=a.length,s=a[n-1];n-- >0;)a[n]=s,s=t[s];return a}function Fl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fl(t)}function Hl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Su=Symbol.for("v-scx"),$u=()=>ur(Su);function Oe(e,t,a){return Wl(e,t,a)}function Wl(e,t,a=Ge){const{immediate:o,deep:r,flush:n,once:s}=a,l=dt({},a),i=t&&o||!t&&n!=="post";let c;if(Ja){if(n==="sync"){const m=$u();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!i){const m=()=>{};return m.stop=Kt,m.resume=Kt,m.pause=Kt,m}}const f=pt;l.call=(m,g,u)=>Ft(m,f,g,u);let p=!1;n==="post"?l.scheduler=m=>{_t(m,f&&f.suspense)}:n!=="sync"&&(p=!0,l.scheduler=(m,g)=>{g?m():sn(m)}),l.augmentJob=m=>{t&&(m.flags|=4),p&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const b=Od(e,t,l);return Ja&&(c?c.push(b):i&&b()),b}function Tu(e,t,a){const o=this.proxy,r=Qe(e)?e.includes(".")?zl(o,e):()=>o[e]:e.bind(o,o);let n;Be(t)?n=t:(n=t.handler,a=t);const s=$o(this),l=Wl(r,n.bind(o),a);return s(),l}function zl(e,t){const a=t.split(".");return()=>{let o=e;for(let r=0;r<a.length&&o;r++)o=o[a[r]];return o}}const Mu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${At(t)}Modifiers`]||e[`${ga(t)}Modifiers`];function Du(e,t,...a){if(e.isUnmounted)return;const o=e.vnode.props||Ge;let r=a;const n=t.startsWith("update:"),s=n&&Mu(o,t.slice(7));s&&(s.trim&&(r=a.map(f=>Qe(f)?f.trim():f)),s.number&&(r=a.map(Ko)));let l,i=o[l=Vr(t)]||o[l=Vr(At(t))];!i&&n&&(i=o[l=Vr(ga(t))]),i&&Ft(i,e,6,r);const c=o[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ft(c,e,6,r)}}function Rl(e,t,a=!1){const o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;const n=e.emits;let s={},l=!1;if(!Be(e)){const i=c=>{const f=Rl(c,t,!0);f&&(l=!0,dt(s,f))};!a&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!n&&!l?(Je(e)&&o.set(e,null),null):(De(n)?n.forEach(i=>s[i]=null):dt(s,n),Je(e)&&o.set(e,s),s)}function fr(e,t){return!e||!zo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Re(e,t[0].toLowerCase()+t.slice(1))||Re(e,ga(t))||Re(e,t))}function ZS(){}function jl(e){const{type:t,vnode:a,proxy:o,withProxy:r,propsOptions:[n],slots:s,attrs:l,emit:i,render:c,renderCache:f,props:p,data:b,setupState:m,ctx:g,inheritAttrs:u}=e,v=nr(e);let M,$;try{if(a.shapeFlag&4){const C=r||o,S=C;M=Yt(c.call(S,C,f,p,m,b,g)),$=l}else{const C=t;M=Yt(C.length>1?C(p,{attrs:l,slots:s,emit:i}):C(p,null)),$=t.props?l:Au(l)}}catch(C){xo.length=0,po(C,e,1),M=$e(bt)}let T=M;if($&&u!==!1){const C=Object.keys($),{shapeFlag:S}=T;C.length&&S&7&&(n&&C.some(Rr)&&($=Lu($,n)),T=ma(T,$,!1,!0))}return a.dirs&&(T=ma(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(a.dirs):a.dirs),a.transition&&bo(T,a.transition),M=T,nr(v),M}const Au=e=>{let t;for(const a in e)(a==="class"||a==="style"||zo(a))&&((t||(t={}))[a]=e[a]);return t},Lu=(e,t)=>{const a={};for(const o in e)(!Rr(o)||!(o.slice(9)in t))&&(a[o]=e[o]);return a};function Eu(e,t,a){const{props:o,children:r,component:n}=e,{props:s,children:l,patchFlag:i}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(a&&i>=0){if(i&1024)return!0;if(i&16)return o?Ul(o,s,c):!!s;if(i&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const b=f[p];if(s[b]!==o[b]&&!fr(c,b))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:o===s?!1:o?s?Ul(o,s,c):!0:!!s;return!1}function Ul(e,t,a){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const n=o[r];if(t[n]!==e[n]&&!fr(a,n))return!0}return!1}function Ou({vnode:e,parent:t},a){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=a,t=t.parent;else break}}const Vl=e=>e.__isSuspense;function Bu(e,t){t&&t.pendingBranch?De(e)?t.effects.push(...e):t.effects.push(e):Wd(e)}const ue=Symbol.for("v-fgt"),gr=Symbol.for("v-txt"),bt=Symbol.for("v-cmt"),xn=Symbol.for("v-stc"),xo=[];let Dt=null;function y(e=!1){xo.push(Dt=e?null:[])}function Nu(){xo.pop(),Dt=xo[xo.length-1]||null}let Co=1;function Kl(e,t=!1){Co+=e,e<0&&Dt&&t&&(Dt.hasOnce=!0)}function ql(e){return e.dynamicChildren=Co>0?Dt||Wa:null,Nu(),Co>0&&Dt&&Dt.push(e),e}function k(e,t,a,o,r,n){return ql(d(e,t,a,o,r,n,!0))}function Xe(e,t,a,o,r){return ql($e(e,t,a,o,r,!0))}function So(e){return e?e.__v_isVNode===!0:!1}function Oa(e,t){return e.type===t.type&&e.key===t.key}const Gl=({key:e})=>e??null,pr=({ref:e,ref_key:t,ref_for:a})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||lt(e)||Be(e)?{i:gt,r:e,k:t,f:!!a}:e:null);function d(e,t=null,a=null,o=0,r=null,n=e===ue?0:1,s=!1,l=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gl(t),ref:t&&pr(t),scopeId:tl,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:gt};return l?(Cn(i,a),n&128&&e.normalize(i)):a&&(i.shapeFlag|=Qe(a)?8:16),Co>0&&!s&&Dt&&(i.patchFlag>0||n&6)&&i.patchFlag!==32&&Dt.push(i),i}const $e=Iu;function Iu(e,t=null,a=null,o=0,r=null,n=!1){if((!e||e===bl)&&(e=bt),So(e)){const l=ma(e,t,!0);return a&&Cn(l,a),Co>0&&!n&&Dt&&(l.shapeFlag&6?Dt[Dt.indexOf(e)]=l:Dt.push(l)),l.patchFlag=-2,l}if(qu(e)&&(e=e.__vccOpts),t){t=Pu(t);let{class:l,style:i}=t;l&&!Qe(l)&&(t.class=Ee(l)),Je(i)&&(on(i)&&!De(i)&&(i=dt({},i)),t.style=Le(i))}const s=Qe(e)?1:Vl(e)?128:ol(e)?64:Je(e)?4:Be(e)?2:0;return d(e,t,a,o,r,s,n,!0)}function Pu(e){return e?on(e)||Ll(e)?dt({},e):e:null}function ma(e,t,a=!1,o=!1){const{props:r,ref:n,patchFlag:s,children:l,transition:i}=e,c=t?Jl(r||{},t):r,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Gl(c),ref:t&&t.ref?a&&n?De(n)?n.concat(pr(t)):[n,pr(t)]:pr(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ue?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:i,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ma(e.ssContent),ssFallback:e.ssFallback&&ma(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return i&&o&&bo(f,i.clone(f)),f}function Me(e=" ",t=0){return $e(gr,null,e,t)}function G(e="",t=!1){return t?(y(),Xe(bt,null,e)):$e(bt,null,e)}function Yt(e){return e==null||typeof e=="boolean"?$e(bt):De(e)?$e(ue,null,e.slice()):So(e)?ba(e):$e(gr,null,String(e))}function ba(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ma(e)}function Cn(e,t){let a=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(De(t))a=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),Cn(e,r()),r._c&&(r._d=!0));return}else{a=32;const r=t._;!r&&!Ll(t)?t._ctx=gt:r===3&&gt&&(gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Be(t)?(t={default:t,_ctx:gt},a=32):(t=String(t),o&64?(a=16,t=[Me(t)]):a=8);e.children=t,e.shapeFlag|=a}function Jl(...e){const t={};for(let a=0;a<e.length;a++){const o=e[a];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Ee([t.class,o.class]));else if(r==="style")t.style=Le([t.style,o.style]);else if(zo(r)){const n=t[r],s=o[r];s&&n!==s&&!(De(n)&&n.includes(s))&&(t[r]=n?[].concat(n,s):s)}else r!==""&&(t[r]=o[r])}return t}function Zt(e,t,a,o=null){Ft(e,t,7,[a,o])}const Fu=Ml();let Hu=0;function Wu(e,t,a){const o=e.type,r=(t?t.appContext:e.appContext)||Fu,n={uid:Hu++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ad(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ol(o,r),emitsOptions:Rl(o,r),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:o.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=Du.bind(null,n),e.ce&&e.ce(n),n}let pt=null;const hr=()=>pt||gt;let vr,Sn;{const e=qo(),t=(a,o)=>{let r;return(r=e[a])||(r=e[a]=[]),r.push(o),n=>{r.length>1?r.forEach(s=>s(n)):r[0](n)}};vr=t("__VUE_INSTANCE_SETTERS__",a=>pt=a),Sn=t("__VUE_SSR_SETTERS__",a=>Ja=a)}const $o=e=>{const t=pt;return vr(e),e.scope.on(),()=>{e.scope.off(),vr(t)}},Yl=()=>{pt&&pt.scope.off(),vr(null)};function Zl(e){return e.vnode.shapeFlag&4}let Ja=!1;function zu(e,t=!1,a=!1){t&&Sn(t);const{props:o,children:r}=e.vnode,n=Zl(e);hu(e,o,n,t),yu(e,r,a||t);const s=n?Ru(e,t):void 0;return t&&Sn(!1),s}function Ru(e,t){const a=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,su);const{setup:o}=a;if(o){qt();const r=e.setupContext=o.length>1?Uu(e):null,n=$o(e),s=Ua(o,e,0,[e.props,r]),l=ks(s);if(Gt(),n(),(l||e.sp)&&!qa(e)&&un(e),l){if(s.then(Yl,Yl),t)return s.then(i=>{Xl(e,i)}).catch(i=>{po(i,e,0)});e.asyncDep=s}else Xl(e,s)}else Ql(e)}function Xl(e,t,a){Be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Je(t)&&(e.setupState=Gs(t)),Ql(e)}function Ql(e,t,a){const o=e.type;e.render||(e.render=o.render||Kt);{const r=$o(e);qt();try{lu(e)}finally{Gt(),r()}}}const ju={get(e,t){return mt(e,"get",""),e[t]}};function Uu(e){const t=a=>{e.exposed=a||{}};return{attrs:new Proxy(e.attrs,ju),slots:e.slots,emit:e.emit,expose:t}}function mr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Gs(Cd(e.exposed)),{get(t,a){if(a in t)return t[a];if(a in ko)return ko[a](e)},has(t,a){return a in t||a in ko}})):e.proxy}const Vu=/(?:^|[-_])(\w)/g,Ku=e=>e.replace(Vu,t=>t.toUpperCase()).replace(/[-_]/g,"");function ei(e,t=!0){return Be(e)?e.displayName||e.name:e.name||t&&e.__name}function ti(e,t,a=!1){let o=ei(t);if(!o&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(o=r[1])}if(!o&&e&&e.parent){const r=n=>{for(const s in n)if(n[s]===t)return s};o=r(e.components||e.parent.type.components)||r(e.appContext.components)}return o?Ku(o):a?"App":"Anonymous"}function qu(e){return Be(e)&&"__vccOpts"in e}const E=(e,t)=>Ld(e,t,Ja);function St(e,t,a){const o=arguments.length;return o===2?Je(t)&&!De(t)?So(t)?$e(e,null,[t]):$e(e,t):$e(e,null,t):(o>3?a=Array.prototype.slice.call(arguments,2):o===3&&So(a)&&(a=[a]),$e(e,t,a))}const Gu="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $n;const ai=typeof window<"u"&&window.trustedTypes;if(ai)try{$n=ai.createPolicy("vue",{createHTML:e=>e})}catch{}const oi=$n?e=>$n.createHTML(e):e=>e,Ju="http://www.w3.org/2000/svg",Yu="http://www.w3.org/1998/Math/MathML",la=typeof document<"u"?document:null,ri=la&&la.createElement("template"),Zu={insert:(e,t,a)=>{t.insertBefore(e,a||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,a,o)=>{const r=t==="svg"?la.createElementNS(Ju,e):t==="mathml"?la.createElementNS(Yu,e):a?la.createElement(e,{is:a}):la.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>la.createTextNode(e),createComment:e=>la.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>la.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,a,o,r,n){const s=a?a.previousSibling:t.lastChild;if(r&&(r===n||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),a),!(r===n||!(r=r.nextSibling)););else{ri.innerHTML=oi(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=ri.content;if(o==="svg"||o==="mathml"){const i=l.firstChild;for(;i.firstChild;)l.appendChild(i.firstChild);l.removeChild(i)}t.insertBefore(l,a)}return[s?s.nextSibling:t.firstChild,a?a.previousSibling:t.lastChild]}},ya="transition",To="animation",Mo=Symbol("_vtc"),ni={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xu=dt({},cl,ni),Qu=(e=>(e.displayName="Transition",e.props=Xu,e))((e,{slots:t})=>St(Vd,ef(e),t)),Ba=(e,t=[])=>{De(e)?e.forEach(a=>a(...t)):e&&e(...t)},si=e=>e?De(e)?e.some(t=>t.length>1):e.length>1:!1;function ef(e){const t={};for(const O in e)O in ni||(t[O]=e[O]);if(e.css===!1)return t;const{name:a="v",type:o,duration:r,enterFromClass:n=`${a}-enter-from`,enterActiveClass:s=`${a}-enter-active`,enterToClass:l=`${a}-enter-to`,appearFromClass:i=n,appearActiveClass:c=s,appearToClass:f=l,leaveFromClass:p=`${a}-leave-from`,leaveActiveClass:b=`${a}-leave-active`,leaveToClass:m=`${a}-leave-to`}=e,g=tf(r),u=g&&g[0],v=g&&g[1],{onBeforeEnter:M,onEnter:$,onEnterCancelled:T,onLeave:C,onLeaveCancelled:S,onBeforeAppear:P=M,onAppear:w=$,onAppearCancelled:_=T}=t,x=(O,z,re,I)=>{O._enterCancelled=I,Na(O,z?f:l),Na(O,z?c:s),re&&re()},h=(O,z)=>{O._isLeaving=!1,Na(O,p),Na(O,m),Na(O,b),z&&z()},D=O=>(z,re)=>{const I=O?w:$,V=()=>x(z,O,re);Ba(I,[z,V]),li(()=>{Na(z,O?i:n),ia(z,O?f:l),si(I)||ii(z,o,u,V)})};return dt(t,{onBeforeEnter(O){Ba(M,[O]),ia(O,n),ia(O,s)},onBeforeAppear(O){Ba(P,[O]),ia(O,i),ia(O,c)},onEnter:D(!1),onAppear:D(!0),onLeave(O,z){O._isLeaving=!0;const re=()=>h(O,z);ia(O,p),O._enterCancelled?(ia(O,b),ui()):(ui(),ia(O,b)),li(()=>{O._isLeaving&&(Na(O,p),ia(O,m),si(C)||ii(O,o,v,re))}),Ba(C,[O,re])},onEnterCancelled(O){x(O,!1,void 0,!0),Ba(T,[O])},onAppearCancelled(O){x(O,!0,void 0,!0),Ba(_,[O])},onLeaveCancelled(O){h(O),Ba(S,[O])}})}function tf(e){if(e==null)return null;if(Je(e))return[Tn(e.enter),Tn(e.leave)];{const t=Tn(e);return[t,t]}}function Tn(e){return Gc(e)}function ia(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.add(a)),(e[Mo]||(e[Mo]=new Set)).add(t)}function Na(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const a=e[Mo];a&&(a.delete(t),a.size||(e[Mo]=void 0))}function li(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let af=0;function ii(e,t,a,o){const r=e._endId=++af,n=()=>{r===e._endId&&o()};if(a!=null)return setTimeout(n,a);const{type:s,timeout:l,propCount:i}=of(e,t);if(!s)return o();const c=s+"end";let f=0;const p=()=>{e.removeEventListener(c,b),n()},b=m=>{m.target===e&&++f>=i&&p()};setTimeout(()=>{f<i&&p()},l+1),e.addEventListener(c,b)}function of(e,t){const a=window.getComputedStyle(e),o=g=>(a[g]||"").split(", "),r=o(`${ya}Delay`),n=o(`${ya}Duration`),s=ci(r,n),l=o(`${To}Delay`),i=o(`${To}Duration`),c=ci(l,i);let f=null,p=0,b=0;t===ya?s>0&&(f=ya,p=s,b=n.length):t===To?c>0&&(f=To,p=c,b=i.length):(p=Math.max(s,c),f=p>0?s>c?ya:To:null,b=f?f===ya?n.length:i.length:0);const m=f===ya&&/\b(transform|all)(,|$)/.test(o(`${ya}Property`).toString());return{type:f,timeout:p,propCount:b,hasTransform:m}}function ci(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((a,o)=>di(a)+di(e[o])))}function di(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ui(){return document.body.offsetHeight}function rf(e,t,a){const o=e[Mo];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):a?e.setAttribute("class",t):e.className=t}const fi=Symbol("_vod"),nf=Symbol("_vsh"),sf=Symbol(""),lf=/(^|;)\s*display\s*:/;function cf(e,t,a){const o=e.style,r=Qe(a);let n=!1;if(a&&!r){if(t)if(Qe(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();a[l]==null&&br(o,l,"")}else for(const s in t)a[s]==null&&br(o,s,"");for(const s in a)s==="display"&&(n=!0),br(o,s,a[s])}else if(r){if(t!==a){const s=o[sf];s&&(a+=";"+s),o.cssText=a,n=lf.test(a)}}else t&&e.removeAttribute("style");fi in e&&(e[fi]=n?o.display:"",e[nf]&&(o.display="none"))}const gi=/\s*!important$/;function br(e,t,a){if(De(a))a.forEach(o=>br(e,t,o));else if(a==null&&(a=""),t.startsWith("--"))e.setProperty(t,a);else{const o=df(e,t);gi.test(a)?e.setProperty(ga(o),a.replace(gi,""),"important"):e[o]=a}}const pi=["Webkit","Moz","ms"],Mn={};function df(e,t){const a=Mn[t];if(a)return a;let o=At(t);if(o!=="filter"&&o in e)return Mn[t]=o;o=Uo(o);for(let r=0;r<pi.length;r++){const n=pi[r]+o;if(n in e)return Mn[t]=n}return t}const hi="http://www.w3.org/1999/xlink";function vi(e,t,a,o,r,n=Qc(t)){o&&t.startsWith("xlink:")?a==null?e.removeAttributeNS(hi,t.slice(6,t.length)):e.setAttributeNS(hi,t,a):a==null||n&&!$s(a)?e.removeAttribute(t):e.setAttribute(t,n?"":It(a)?String(a):a)}function mi(e,t,a,o,r){if(t==="innerHTML"||t==="textContent"){a!=null&&(e[t]=t==="innerHTML"?oi(a):a);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const l=n==="OPTION"?e.getAttribute("value")||"":e.value,i=a==null?e.type==="checkbox"?"on":"":String(a);(l!==i||!("_value"in e))&&(e.value=i),a==null&&e.removeAttribute(t),e._value=a;return}let s=!1;if(a===""||a==null){const l=typeof e[t];l==="boolean"?a=$s(a):a==null&&l==="string"?(a="",s=!0):l==="number"&&(a=0,s=!0)}try{e[t]=a}catch{}s&&e.removeAttribute(r||t)}function Ia(e,t,a,o){e.addEventListener(t,a,o)}function uf(e,t,a,o){e.removeEventListener(t,a,o)}const bi=Symbol("_vei");function ff(e,t,a,o,r=null){const n=e[bi]||(e[bi]={}),s=n[t];if(o&&s)s.value=o;else{const[l,i]=gf(t);if(o){const c=n[t]=vf(o,r);Ia(e,l,c,i)}else s&&(uf(e,l,s,i),n[t]=void 0)}}const yi=/(?:Once|Passive|Capture)$/;function gf(e){let t;if(yi.test(e)){t={};let o;for(;o=e.match(yi);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ga(e.slice(2)),t]}let Dn=0;const pf=Promise.resolve(),hf=()=>Dn||(pf.then(()=>Dn=0),Dn=Date.now());function vf(e,t){const a=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=a.attached)return;Ft(mf(o,a.value),t,5,[o])};return a.value=e,a.attached=hf(),a}function mf(e,t){if(De(t)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const wi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bf=(e,t,a,o,r,n)=>{const s=r==="svg";t==="class"?rf(e,o,s):t==="style"?cf(e,a,o):zo(t)?Rr(t)||ff(e,t,a,o,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yf(e,t,o,s))?(mi(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&vi(e,t,o,s,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qe(o))?mi(e,At(t),o,n,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),vi(e,t,o,s))};function yf(e,t,a,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&wi(t)&&Be(a));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return wi(t)&&Qe(a)?!1:t in e}const yr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return De(t)?a=>Vo(t,a):t};function wf(e){e.target.composing=!0}function ki(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ya=Symbol("_assign"),_i={created(e,{modifiers:{lazy:t,trim:a,number:o}},r){e[Ya]=yr(r);const n=o||r.props&&r.props.type==="number";Ia(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;a&&(l=l.trim()),n&&(l=Ko(l)),e[Ya](l)}),a&&Ia(e,"change",()=>{e.value=e.value.trim()}),t||(Ia(e,"compositionstart",wf),Ia(e,"compositionend",ki),Ia(e,"change",ki))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:a,modifiers:{lazy:o,trim:r,number:n}},s){if(e[Ya]=yr(s),e.composing)return;const l=(n||e.type==="number")&&!/^0\d/.test(e.value)?Ko(e.value):e.value,i=t??"";l!==i&&(document.activeElement===e&&e.type!=="range"&&(o&&t===a||r&&e.value.trim()===i)||(e.value=i))}},An={deep:!0,created(e,{value:t,modifiers:{number:a}},o){const r=Ro(t);Ia(e,"change",()=>{const n=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>a?Ko(wr(s)):wr(s));e[Ya](e.multiple?r?new Set(n):n:n[0]),e._assigning=!0,ra(()=>{e._assigning=!1})}),e[Ya]=yr(o)},mounted(e,{value:t}){xi(e,t)},beforeUpdate(e,t,a){e[Ya]=yr(a)},updated(e,{value:t}){e._assigning||xi(e,t)}};function xi(e,t){const a=e.multiple,o=De(t);if(!(a&&!o&&!Ro(t))){for(let r=0,n=e.options.length;r<n;r++){const s=e.options[r],l=wr(s);if(a)if(o){const i=typeof l;i==="string"||i==="number"?s.selected=t.some(c=>String(c)===String(l)):s.selected=td(t,l)>-1}else s.selected=t.has(l);else if(Go(wr(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!a&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wr(e){return"_value"in e?e._value:e.value}const kf=["ctrl","shift","alt","meta"],_f={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kf.some(a=>e[`${a}Key`]&&!t.includes(a))},et=(e,t)=>{const a=e._withMods||(e._withMods={}),o=t.join(".");return a[o]||(a[o]=(r,...n)=>{for(let s=0;s<t.length;s++){const l=_f[t[s]];if(l&&l(r,t))return}return e(r,...n)})},xf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wa=(e,t)=>{const a=e._withKeys||(e._withKeys={}),o=t.join(".");return a[o]||(a[o]=r=>{if(!("key"in r))return;const n=ga(r.key);if(t.some(s=>s===n||xf[s]===n))return e(r)})},Cf=dt({patchProp:bf},Zu);let Ci;function Sf(){return Ci||(Ci=ku(Cf))}const $f=(...e)=>{const t=Sf().createApp(...e),{mount:a}=t;return t.mount=o=>{const r=Mf(o);if(!r)return;const n=t._component;!Be(n)&&!n.render&&!n.template&&(n.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const s=a(r,!1,Tf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function Tf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Mf(e){return Qe(e)?document.querySelector(e):e}const Df=Te({name:"NcAppContent",props:{appName:{type:String,default:""},showNavigation:{type:Boolean,default:!0}},setup(e,{slots:t,attrs:a}){return()=>{const o=e.showNavigation!==!1,r={...a,class:[a.class,"app-content",o?null:"app-content--navigation-hidden"]},n={class:"app-content__navigation","aria-label":e.appName||"App navigation","aria-hidden":o?"false":"true"};return St("div",r,[St("aside",n,t.navigation?t.navigation():[]),St("section",{class:"app-content__main",role:"main"},t.default?t.default():[])])}}}),Af=Te({name:"NcAppNavigation",setup(e,{slots:t,attrs:a}){return()=>{const o={...a,class:[a.class,"app-navigation"]};"role"in o||(o.role="navigation");const r=[];return t.actions&&r.push(St("div",{class:"app-navigation__actions"},t.actions())),t.default&&r.push(...t.default()),St("nav",o,r)}}}),rt=Te({name:"NcButton",props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t,slots:a,attrs:o}){return()=>{const r={...o,class:[o.class,"btn",e.type],disabled:e.disabled,onClick:()=>t("click")};return"type"in r||(r.type="button"),St("button",r,a.default?a.default():[])}}}),Lf=Te({name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},setup(e,{attrs:t}){return()=>St("div",{...t,class:[t.class,"card empty"]},[St("div",{class:"value"},e.name),St("div",{class:"hint"},e.description)])}}),Si=Te({name:"NcCheckboxRadioSwitch",props:{type:{type:String,default:"checkbox"},name:{type:String,default:""},checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(e,{emit:t,slots:a,attrs:o}){const r=s=>{var l;return t("update:checked",!!((l=s==null?void 0:s.target)!=null&&l.checked))},n={...o,class:[o.class,"nc-checkbox-radio-switch"]};return()=>St("label",n,[St("input",{type:e.type,name:e.name,checked:e.checked,onInput:r}),St("span",{},a.default?a.default():[])])}}),Ln=Te({name:"NcLoadingIcon",props:{size:{type:[String,Number],default:16}},setup(e,{attrs:t}){return()=>St("span",{...t,class:[t.class,"nc-loading-icon"],style:`width:${e.size}px;height:${e.size}px;border:2px solid var(--line);border-top-color:var(--brand);border-radius:50%;display:inline-block;animation:spin 1s linear infinite`})}}),En=24*60*60*1e3;function Ht(e,t,a){const o=Number(e);return Number.isFinite(o)?Math.min(a,Math.max(t,Math.round(o*100)/100)):t}function Ef(e,t,a){const o=Number(e);if(!Number.isFinite(o))return t;const r=Math.round(o);return r<t?t:r>a?a:r}function $t(e){return Number.isFinite(e)?Number(e.toFixed(2)):0}function On(e){return Number.isFinite(e)?Math.max(0,Math.min(999,Number(e.toFixed(2)))):0}function Bn(e){if(!Number.isFinite(e))return"0";const t=$t(Math.max(0,e));return Math.abs(t-Math.round(t))<.05?Math.round(t).toString():t.toFixed(1)}function Of(e){const t=Number(e);if(!Number.isFinite(t))return 0;const a=Math.min(1e4,Math.max(0,t));return Number(a.toFixed(2))}function Do(e){return Of(Number(e)*4)}function kr(){return{showWeekendShare:!0,showEveningShare:!0,showEarliestLatest:!0,showOverlaps:!0,showLongestSession:!0,showLastDayOff:!0,showDayOffTrend:!0,showHint:!0,forecastMode:"total"}}function Za(){return{categories:["work","hobby","sport"],useCategoryMapping:!0,index:{method:"simple_range",basis:"category"},thresholds:{noticeAbove:.15,noticeBelow:.15,warnAbove:.3,warnBelow:.3,warnIndex:.6},relations:{displayMode:"ratio"},trend:{lookbackWeeks:3},dayparts:{enabled:!1},ui:{showNotes:!1}}}function Xt(){return{totalHours:48,categories:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,paceMode:"days_only",color:"#2563EB",groupIds:[1]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,paceMode:"days_only",color:"#F97316",groupIds:[2]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,paceMode:"days_only",color:"#10B981",groupIds:[3]}],pace:{includeWeekendTotal:!0,mode:"days_only",thresholds:{onTrack:-2,atRisk:-10}},forecast:{methodPrimary:"linear",momentumLastNDays:2,padding:1.5},ui:{showTotalDelta:!0,showNeedPerDay:!0,showCategoryBlocks:!0,badges:!0,includeWeekendToggle:!0,showCalendarCharts:!0,showCategoryCharts:!0},allDayHours:8,timeSummary:{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},activityCard:kr(),balance:Za(),includeZeroDaysInStats:!1}}function Qt(e){return JSON.parse(JSON.stringify(ht(e)))}function ht(e){var s,l,i,c,f,p,b,m,g,u,v,M,$,T,C,S,P,w,_,x,h,D,O,z,re;if(typeof e=="string")try{const I=JSON.parse(e);return ht(I)}catch{return ht(void 0)}const t=Xt(),a=JSON.parse(JSON.stringify(e??{}));if(typeof a!="object"||a===null||Array.isArray(a))return t;Array.isArray(a.categories)||(a.categories=[]);const o=a.categories.map(I=>{const V=(I!=null&&I.id&&typeof I.id=="string"?I.id:"")||Ff(String((I==null?void 0:I.label)??"cat")),X=typeof(I==null?void 0:I.label)=="string"&&I.label.trim()!==""?I.label.trim():Pf(V),Y=Ht(I==null?void 0:I.targetHours,0,1e4),he=!!(I!=null&&I.includeWeekend),ee=(I==null?void 0:I.paceMode)==="time_aware"?"time_aware":"days_only",K=If(I==null?void 0:I.color),U=Array.isArray(I==null?void 0:I.groupIds)?I.groupIds.map(Q=>Number(Q)).filter(Q=>Number.isFinite(Q)&&Q>=0&&Q<=9):[];return{id:V,label:X,targetHours:Y,includeWeekend:he,paceMode:ee,color:K,groupIds:U}}),r=o.length?o:t.categories;return{totalHours:Ht(a.totalHours,0,1e4),categories:r,pace:{includeWeekendTotal:!!(((s=a.pace)==null?void 0:s.includeWeekendTotal)??t.pace.includeWeekendTotal),mode:((l=a.pace)==null?void 0:l.mode)==="time_aware"?"time_aware":t.pace.mode,thresholds:{onTrack:Ht(((c=(i=a.pace)==null?void 0:i.thresholds)==null?void 0:c.onTrack)??t.pace.thresholds.onTrack,-100,100),atRisk:Ht(((p=(f=a.pace)==null?void 0:f.thresholds)==null?void 0:p.atRisk)??t.pace.thresholds.atRisk,-100,100)}},forecast:{methodPrimary:((b=a.forecast)==null?void 0:b.methodPrimary)==="momentum"?"momentum":"linear",momentumLastNDays:(()=>{var V;const I=Math.round(((V=a.forecast)==null?void 0:V.momentumLastNDays)??t.forecast.momentumLastNDays);return Math.min(14,Math.max(1,Number.isFinite(I)?I:t.forecast.momentumLastNDays))})(),padding:Ht(((m=a.forecast)==null?void 0:m.padding)??t.forecast.padding,0,100)},ui:{showTotalDelta:!!(((g=a.ui)==null?void 0:g.showTotalDelta)??t.ui.showTotalDelta),showNeedPerDay:!!(((u=a.ui)==null?void 0:u.showNeedPerDay)??t.ui.showNeedPerDay),showCategoryBlocks:!!(((v=a.ui)==null?void 0:v.showCategoryBlocks)??t.ui.showCategoryBlocks),badges:!!(((M=a.ui)==null?void 0:M.badges)??t.ui.badges),includeWeekendToggle:!!((($=a.ui)==null?void 0:$.includeWeekendToggle)??t.ui.includeWeekendToggle),showCalendarCharts:((T=a.ui)==null?void 0:T.showCalendarCharts)===void 0?t.ui.showCalendarCharts:!!a.ui.showCalendarCharts,showCategoryCharts:((C=a.ui)==null?void 0:C.showCategoryCharts)===void 0?t.ui.showCategoryCharts:!!a.ui.showCategoryCharts},allDayHours:Ht(a.allDayHours??t.allDayHours,0,24),timeSummary:{showTotal:((S=a.timeSummary)==null?void 0:S.showTotal)===void 0?t.timeSummary.showTotal:!!a.timeSummary.showTotal,showAverage:((P=a.timeSummary)==null?void 0:P.showAverage)===void 0?t.timeSummary.showAverage:!!a.timeSummary.showAverage,showMedian:((w=a.timeSummary)==null?void 0:w.showMedian)===void 0?t.timeSummary.showMedian:!!a.timeSummary.showMedian,showBusiest:((_=a.timeSummary)==null?void 0:_.showBusiest)===void 0?t.timeSummary.showBusiest:!!a.timeSummary.showBusiest,showWorkday:((x=a.timeSummary)==null?void 0:x.showWorkday)===void 0?t.timeSummary.showWorkday:!!a.timeSummary.showWorkday,showWeekend:((h=a.timeSummary)==null?void 0:h.showWeekend)===void 0?t.timeSummary.showWeekend:!!a.timeSummary.showWeekend,showWeekendShare:((D=a.timeSummary)==null?void 0:D.showWeekendShare)===void 0?t.timeSummary.showWeekendShare:!!a.timeSummary.showWeekendShare,showCalendarSummary:((O=a.timeSummary)==null?void 0:O.showCalendarSummary)===void 0?t.timeSummary.showCalendarSummary:!!a.timeSummary.showCalendarSummary,showTopCategory:((z=a.timeSummary)==null?void 0:z.showTopCategory)===void 0?t.timeSummary.showTopCategory:!!a.timeSummary.showTopCategory,showBalance:((re=a.timeSummary)==null?void 0:re.showBalance)===void 0?t.timeSummary.showBalance:!!a.timeSummary.showBalance},activityCard:Bf(a.activityCard,t.activityCard),balance:Nf(a.balance,r,t.balance),includeZeroDaysInStats:!!(a.includeZeroDaysInStats??t.includeZeroDaysInStats)}}function Bf(e,t){const a={...t};if(!e||typeof e!="object")return a;["showWeekendShare","showEveningShare","showEarliestLatest","showOverlaps","showLongestSession","showLastDayOff","showDayOffTrend","showHint"].forEach(n=>{Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=!!e[n])});const r=e==null?void 0:e.forecastMode;if(typeof r=="string"){const n=r.toLowerCase();(n==="off"||n==="total"||n==="calendar"||n==="category")&&(a.forecastMode=n)}return a}function Nf(e,t,a){var f,p,b;const o=t.map(m=>m.id),r=new Set([...o,"__uncategorized__"]),n=Array.isArray(e==null?void 0:e.categories)?e.categories:a.categories,s=[];for(const m of n){const g=typeof m=="string"?m.trim():String(m??"").trim();g&&(r.size&&!r.has(g)||s.includes(g)||s.push(g))}s.length||(o.length?s.push(...o.slice(0,a.categories.length)):s.push(...a.categories));const l=(e==null?void 0:e.thresholds)??{},i=(e==null?void 0:e.ui)??{},c=(e==null?void 0:e.index)??{};return{categories:s,useCategoryMapping:!!((e==null?void 0:e.useCategoryMapping)??a.useCategoryMapping),index:{method:(c==null?void 0:c.method)==="shannon_evenness"?"shannon_evenness":a.index.method,basis:(c==null?void 0:c.basis)==="calendar"||(c==null?void 0:c.basis)==="both"||(c==null?void 0:c.basis)==="off"?c.basis:a.index.basis},thresholds:{noticeAbove:Ht(l.noticeAbove??a.thresholds.noticeAbove,0,1),noticeBelow:Ht(l.noticeBelow??a.thresholds.noticeBelow,0,1),warnAbove:Ht(l.warnAbove??a.thresholds.warnAbove,0,1),warnBelow:Ht(l.warnBelow??a.thresholds.warnBelow,0,1),warnIndex:Ht(l.warnIndex??a.thresholds.warnIndex,0,1)},relations:{displayMode:((f=e==null?void 0:e.relations)==null?void 0:f.displayMode)==="factor"?"factor":a.relations.displayMode},trend:{lookbackWeeks:Ef(((p=e==null?void 0:e.trend)==null?void 0:p.lookbackWeeks)??a.trend.lookbackWeeks,1,6)},dayparts:{enabled:!!(((b=e==null?void 0:e.dayparts)==null?void 0:b.enabled)??a.dayparts.enabled)},ui:{showNotes:!!(i.showNotes??a.ui.showNotes)}}}function If(e){if(typeof e!="string")return;const t=e.trim();if(/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(t)){if(t.length===4){const[,a,o,r]=t;return`#${a}${a}${o}${o}${r}${r}`.toUpperCase()}return t.toUpperCase()}}function Pf(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function Ff(e){let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t|=0;return`cat-${Math.abs(t)}`}function Hf(e){const t=e.pace.totalEligible>0?e.pace.elapsedEligible/e.pace.totalEligible:0,a=t>0?e.totalProgress.actualHours/t:e.totalProgress.actualHours,o=Math.max(0,Math.ceil(e.pace.daysLeft)),r=Wf(e.dailyHours,e.config.forecast.momentumLastNDays),n=e.totalProgress.actualHours+r*o,s=Math.max(0,Math.min(a,n)-e.config.forecast.padding),l=Math.max(a,n)+e.config.forecast.padding,i=e.config.forecast.methodPrimary==="momentum"?"momentum":"linear",c=i==="momentum"?n:a,f=Math.max(0,c-e.config.forecast.padding),p=Math.max(0,c+e.config.forecast.padding),b=i==="momentum"?"Momentum":"Linear";return{linear:$t(a),momentum:$t(n),low:$t(Math.max(0,s)),high:$t(Math.max(0,l)),text:`${b} ${Bn(e.config.forecast.padding)}h  ${Bn(f)}${Bn(p)} h`,primaryMethod:i,primary:$t(c),bandLow:$t(f),bandHigh:$t(p)}}function Wf(e,t){if(t<=0)return 0;const a=Array.from(e.entries());if(!a.length)return 0;a.sort((n,s)=>n[0].localeCompare(s[0]));const o=a.slice(-t),r=o.reduce((n,[,s])=>n+Math.max(0,s||0),0);return o.length?r/o.length:0}function zf(e,t){var o,r;if(typeof window<"u"){const n=window;try{if(typeof(n==null?void 0:n.t)=="function")return n.t("opsdash",e,t||{});if(typeof((r=(o=n==null?void 0:n.OC)==null?void 0:o.L10N)==null?void 0:r.translate)=="function")return n.OC.L10N.translate("opsdash",e,t||{})}catch(s){n!=null&&n.console&&console.warn("[opsdash] translate failed",s)}}let a=e;return t&&Object.entries(t).forEach(([n,s])=>{a=a.replace(new RegExp(`{${n}}`,"g"),String(s))}),a}const Wt=zf;function $i(e){const t=e?ht(e):Xt(),a=(t==null?void 0:t.totalHours)??0,o=(t==null?void 0:t.categories)??[],r={id:"total",label:Wt("Total"),actualHours:0,targetHours:a,percent:0,deltaHours:0,remainingHours:a,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"};return{total:r,categories:o.map(n=>({...r,id:n.id,label:n.label,targetHours:n.targetHours,remainingHours:n.targetHours})),forecast:{linear:0,momentum:0,low:0,high:0,text:"~00 h",primaryMethod:(t==null?void 0:t.forecast.methodPrimary)??"linear",primary:0,bandLow:0,bandHigh:0}}}function Ti(e){const t=e.config,a=Ai(e.from),o=Ai(e.to),r=Vf(e.byDay),n=(e.byCal||[]).reduce((p,b)=>{const m=Number((b==null?void 0:b.total_hours)??(b==null?void 0:b.hours)??0);return Number.isFinite(m)?p+m:p},0),s=t.totalHours||0,l=Mi({includeWeekend:t.pace.includeWeekendTotal,mode:t.pace.mode,includeZeroDays:t.includeZeroDaysInStats,start:a,end:o,dailyHours:r}),i=Di({id:"total",label:Wt("Total"),actual:n,target:s,pace:l,thresholds:t.pace.thresholds,includeWeekend:t.pace.includeWeekendTotal,paceMode:t.pace.mode}),c=t.categories.map(p=>{const b=Uf(p,e.byCal,e.groupsById),m=p.paceMode||t.pace.mode,g=Mi({includeWeekend:p.includeWeekend,mode:m,includeZeroDays:t.includeZeroDaysInStats,start:a,end:o,dailyHours:r});return Di({id:p.id,label:p.label,actual:b,target:p.targetHours,pace:g,thresholds:t.pace.thresholds,includeWeekend:p.includeWeekend,paceMode:m})}),f=Hf({config:t,totalProgress:i,dailyHours:r,pace:l});return{total:i,categories:c,forecast:f}}function Mi(e){const{start:t,end:a}=e;if(!t||!a)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};const o=_r(new Date),r=ka(t),n=ka(a),s=Kf(t,a).filter(p=>e.includeWeekend||!qf(p)),l=s.length;if(l===0)return{totalEligible:0,elapsedEligible:0,daysLeft:0,calendarPercent:0};if(ka(o)>n)return{totalEligible:l,elapsedEligible:l,daysLeft:0,calendarPercent:100};if(ka(o)<r)return{totalEligible:l,elapsedEligible:0,daysLeft:l,calendarPercent:0};let i=0;for(const p of s){const b=ka(p),m=e.dailyHours.get(b)??0;if(!(!e.includeZeroDays&&m<=0&&b!==ka(o))){if(b<ka(o))i+=1;else if(b===ka(o))if(e.mode==="time_aware"){const u=Math.min(new Date().getTime(),p.getTime()+En)-p.getTime(),v=Math.max(0,Math.min(1,u/En));(e.includeZeroDays||m>0||v>0)&&(i+=v)}else(e.includeZeroDays||m>0)&&(i+=1)}}const c=On(i/l*100),f=Math.max(0,l-i);return{totalEligible:l,elapsedEligible:i,daysLeft:f,calendarPercent:c}}function Di(e){const t=Math.max(0,e.target||0),a=Math.max(0,e.actual||0),o=t>0?On(a/t*100):0,r=t-a,n=a-t,s=e.pace.daysLeft>0?Math.max(0,r)/e.pace.daysLeft:0,l=o-e.pace.calendarPercent,i=Rf({percent:o,target:t,gap:l,thresholds:e.thresholds});return{id:e.id,label:e.label,actualHours:$t(a),targetHours:$t(t),percent:o,deltaHours:$t(n),remainingHours:$t(Math.max(0,r)),needPerDay:$t(s),daysLeft:Math.max(0,Math.ceil(e.pace.daysLeft)),calendarPercent:On(e.pace.calendarPercent),gap:$t(l),status:i,statusLabel:jf(i),includeWeekend:e.includeWeekend,paceMode:e.paceMode}}function Rf(e){return e.target<=0?"none":e.percent>=100?"done":e.gap>=e.thresholds.onTrack?"on_track":e.gap>=e.thresholds.atRisk?"at_risk":"behind"}function jf(e){switch(e){case"on_track":return Wt("On Track");case"at_risk":return Wt("At Risk");case"behind":return Wt("Behind");case"done":return Wt("Done");default:return""}}function Uf(e,t,a){if(!Array.isArray(t))return 0;const o=Array.isArray(e.groupIds)&&e.groupIds.length?new Set(e.groupIds):null;let r=0;for(const n of t){const s=Number((n==null?void 0:n.total_hours)??(n==null?void 0:n.hours)??0);if(!Number.isFinite(s)||s<=0)continue;const l=String((n==null?void 0:n.id)??(n==null?void 0:n.calendar)??""),i=Number((n==null?void 0:n.group)??(n==null?void 0:n.group_id)??(a==null?void 0:a[l])??0);o&&!o.has(i)||(r+=s)}return r}function Vf(e){const t=new Map;if(!Array.isArray(e))return t;for(const a of e){const o=String((a==null?void 0:a.date)??(a==null?void 0:a.day)??"");if(!o)continue;const r=Number((a==null?void 0:a.total_hours)??(a==null?void 0:a.hours)??0);Number.isFinite(r)&&t.set(o,r)}return t}function Kf(e,t){const a=[];let o=_r(e);const r=_r(t).getTime();for(;o.getTime()<=r;)a.push(new Date(o)),o=new Date(o.getTime()+En);return a}function Ai(e){if(!e)return null;const t=e.split("-").map(o=>Number(o));if(t.length!==3||t.some(o=>!Number.isInteger(o)))return null;const a=new Date(Date.UTC(t[0],t[1]-1,t[2]));return Number.isNaN(a.getTime())?null:_r(a)}function _r(e){const t=new Date(e);return t.setUTCHours(0,0,0,0),t}function ka(e){return e.toISOString().slice(0,10)}function qf(e){const t=e.getUTCDay();return t===0||t===6}const Li=[{id:"navigation",title:"Navigation",items:[{id:"nav-prev",label:"Previous period",combo:["Alt",""],description:"Go to the previous week or month"},{id:"nav-next",label:"Next period",combo:["Alt",""],description:"Go to the next week or month"},{id:"nav-toggle-range",label:"Toggle week/month",combo:["Alt","Shift","R"],description:"Switch between week and month range"}]},{id:"notes",title:"Notes",items:[{id:"notes-save",label:"Save note",combo:["Ctrl / ","S"],description:"Persist the current note draft"}]},{id:"targets",title:"Targets",items:[{id:"targets-focus",label:"Open Theme",combo:["Alt","T"],description:"Jump to theme controls"}]},{id:"misc",title:"Misc",items:[{id:"shortcuts-open",label:"Open cheat sheet",combo:["?"],description:"Display this overlay"},{id:"widget-options",label:"Open widget options",combo:["Shift","C"],description:"Toggle options for the selected widget (edit mode)"},{id:"layout-edit",label:"Toggle edit layout",combo:["Shift","E"],description:"Enter or exit widget layout editing"}]}],Gf={id:"opsdash-sidebar-pane-calendars",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-calendars"},Jf={class:"sb-actions sb-actions--secondary"},Yf={class:"shortcuts-wrap"},Zf={class:"onboarding-jumps"},Xf={key:0,class:"shortcuts-box",role:"region","aria-label":"Keyboard shortcuts"},Qf={class:"shortcuts-box__header"},eg={class:"shortcuts-box__body"},tg={class:"shortcuts-box__title"},ag={class:"label"},og={class:"combo"},rg={key:0,class:"desc"},ng={class:"sb-list"},sg=["aria-pressed","onClick"],lg={class:"cal-name"},ig={class:"cal-fields"},cg={class:"field"},dg=["value","onChange"],ug=["value"],fg={class:"field"},gg=["value","title","aria-invalid","onInput"],pg=Te({__name:"SidebarCalendarsPane",props:{calendars:{},selected:{},range:{},isLoading:{type:Boolean},categoryOptions:{},calendarTargetMessages:{},calendarCategoryId:{type:Function},getTarget:{type:Function}},emits:["toggle-calendar","set-category","target-input","rerun-onboarding","open-shortcuts"],setup(e,{emit:t}){const a=e,{calendars:o,selected:r,range:n,isLoading:s,categoryOptions:l,calendarTargetMessages:i}=rn(a),c=g=>a.calendarCategoryId(g),f=g=>a.getTarget(g),p=te(!1),b=Li;function m(g){p.value=!p.value}return(g,u)=>(y(),k("div",Gf,[d("div",Jf,[$e(A(rt),{type:"primary",size:"small",class:"rerun-btn",title:"Open the onboarding setup again",onClick:u[0]||(u[0]=v=>g.$emit("rerun-onboarding"))},{default:Ve(()=>[...u[7]||(u[7]=[Me(" Re-run onboarding ",-1)])]),_:1}),d("div",Yf,[$e(A(rt),{type:"tertiary",size:"small",class:"shortcuts-btn",onClick:m},{default:Ve(()=>[...u[8]||(u[8]=[Me(" Keyboard shortcuts ",-1)])]),_:1})])]),d("ol",Zf,[d("li",null,[d("button",{type:"button",class:"link",onClick:u[1]||(u[1]=v=>g.$emit("rerun-onboarding","dashboard"))},"Dashboard")]),d("li",null,[d("button",{type:"button",class:"link",onClick:u[2]||(u[2]=v=>g.$emit("rerun-onboarding","calendars"))},"Calendars")]),d("li",null,[d("button",{type:"button",class:"link",onClick:u[3]||(u[3]=v=>g.$emit("rerun-onboarding","categories"))},"Targets")]),d("li",null,[d("button",{type:"button",class:"link",onClick:u[4]||(u[4]=v=>g.$emit("rerun-onboarding","preferences"))},"Preferences")]),d("li",null,[d("button",{type:"button",class:"link",onClick:u[5]||(u[5]=v=>g.$emit("rerun-onboarding","review"))},"Review")])]),p.value?(y(),k("div",Xf,[d("div",Qf,[u[9]||(u[9]=d("span",null,"Keyboard shortcuts",-1)),d("button",{type:"button",class:"ghost sm",onClick:u[6]||(u[6]=v=>p.value=!1)},"")]),d("div",eg,[(y(!0),k(ue,null,xe(A(b),v=>(y(),k("div",{key:v.id,class:"shortcuts-box__group"},[d("div",tg,B(v.title),1),d("ul",null,[(y(!0),k(ue,null,xe(v.items,M=>(y(),k("li",{key:M.id},[d("span",ag,B(M.label),1),d("span",og,B(M.combo.join(" + ")),1),M.description?(y(),k("span",rg,B(M.description),1)):G("",!0)]))),128))])]))),128))])])):G("",!0),d("div",ng,[(y(!0),k(ue,null,xe(A(o),v=>{var M,$;return y(),k("div",{key:v.id,class:"cal-card"},[d("div",{class:"cal-card-head",role:"button",tabindex:"0","aria-pressed":A(r).includes(v.id),onClick:T=>g.$emit("toggle-calendar",v.id)},[d("span",{class:"color-dot",style:Le({background:v.color||"var(--brand)"})},null,4),d("span",lg,B(v.displayname||v.id),1),d("span",{class:Ee(["cal-state",{on:A(r).includes(v.id)}])},B(A(r).includes(v.id)?"Selected":"Hidden"),3)],8,sg),d("div",ig,[d("label",cg,[u[11]||(u[11]=d("span",{class:"label"},"Category",-1)),d("select",{value:c(v.id),onChange:T=>g.$emit("set-category",{id:v.id,category:T.target.value})},[u[10]||(u[10]=d("option",{value:""},"Unassigned",-1)),(y(!0),k(ue,null,xe(A(l),T=>(y(),k("option",{key:T.id,value:T.id},B(T.label),9,ug))),128))],40,dg)]),d("label",fg,[u[12]||(u[12]=d("span",{class:"label"},"Target (h)",-1)),d("input",{type:"number",value:f(v.id),min:"0",max:"10000",step:"0.25","aria-label":"Target hours",title:`Target (${A(n)==="week"?"week":"month"}) in hours`,"aria-invalid":!!A(i)[v.id],class:"target-input",onInput:T=>g.$emit("target-input",{id:v.id,value:T.target.value})},null,40,gg),A(i)[v.id]?(y(),k("div",{key:0,class:Ee(["input-message",(M=A(i)[v.id])==null?void 0:M.tone])},B(($=A(i)[v.id])==null?void 0:$.text),3)):G("",!0)])])])}),128))])]))}}),We=(e,t)=>{const a=e.__vccOpts||e;for(const[o,r]of t)a[o]=r;return a},hg=We(pg,[["__scopeId","data-v-03673507"]]),vg={id:"opsdash-sidebar-pane-config",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-config"},mg={class:"theme-section"},bg={class:"theme-header"},yg={class:"theme-hint"},wg={class:"theme-options",role:"radiogroup","aria-label":"Theme preference"},kg={class:"theme-option"},_g=["checked"],xg={class:"theme-copy"},Cg={class:"theme-option__desc"},Sg={class:"theme-option"},$g=["checked"],Tg={class:"theme-option"},Mg=["checked"],Dg=We(Te({__name:"SidebarConfigPane",props:{themePreference:{},effectiveTheme:{},systemTheme:{}},emits:["set-theme-preference"],setup(e,{emit:t}){const a=e,{themePreference:o,effectiveTheme:r,systemTheme:n}=rn(a),s=t,l=E(()=>n.value==="dark"?"dark":"light"),i=E(()=>r.value==="dark"?"Dark":"Light");function c(f){s("set-theme-preference",f)}return(f,p)=>(y(),k("div",vg,[p[7]||(p[7]=d("div",{class:"sb-title"},"Theme",-1)),p[8]||(p[8]=d("p",{class:"sb-description"}," Pick how Opsdash follows Nextcloud themes. Profile management lives under the Profiles tab. ",-1)),d("div",mg,[d("div",bg,[p[3]||(p[3]=d("div",{class:"theme-title"},"Theme & appearance",-1)),d("div",yg,"Currently showing "+B(i.value),1)]),d("div",wg,[d("label",kg,[d("input",{type:"radio",name:"opsdash-theme-preference",value:"auto",checked:A(o)==="auto",onChange:p[0]||(p[0]=b=>c("auto"))},null,40,_g),d("div",xg,[p[4]||(p[4]=d("div",{class:"theme-option__title"},"Follow Nextcloud",-1)),d("div",Cg,"Match account theme (currently "+B(l.value)+").",1)])]),d("label",Sg,[d("input",{type:"radio",name:"opsdash-theme-preference",value:"light",checked:A(o)==="light",onChange:p[1]||(p[1]=b=>c("light"))},null,40,$g),p[5]||(p[5]=d("div",{class:"theme-copy"},[d("div",{class:"theme-option__title"},"Force light"),d("div",{class:"theme-option__desc"},"Use the light palette even when Nextcloud switches to dark.")],-1))]),d("label",Tg,[d("input",{type:"radio",name:"opsdash-theme-preference",value:"dark",checked:A(o)==="dark",onChange:p[2]||(p[2]=b=>c("dark"))},null,40,Mg),p[6]||(p[6]=d("div",{class:"theme-copy"},[d("div",{class:"theme-option__title"},"Force dark"),d("div",{class:"theme-option__desc"},"Keep Opsdash in dark mode, even if Nextcloud stays light.")],-1))])])])]))}}),[["__scopeId","data-v-1c577e0e"]]),Ag={id:"opsdash-sidebar-pane-profiles",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-profiles"},Lg={class:"setup-actions"},Eg={class:"preset-form"},Og=["disabled"],Bg={key:0,class:"preset-error"},Ng={key:0,class:"preset-warnings"},Ig={class:"preset-header"},Pg={key:1,class:"preset-empty"},Fg={key:2,class:"preset-list"},Hg={class:"preset-meta"},Wg={class:"preset-name"},zg={class:"preset-info"},Rg={key:0},jg={class:"preset-actions"},Ug=We(Te({__name:"SidebarProfilesPane",props:{presets:{},isLoading:{type:Boolean},isSaving:{type:Boolean},isApplying:{type:Boolean},warnings:{}},emits:["save","load","delete","refresh","clear-warnings","export-config","import-config"],setup(e,{emit:t}){const a=t,o=te(""),r=te(null),n=te(null);function s(){const b=o.value.trim();if(!b){r.value="Enter a profile name";return}r.value=null,a("save",b),o.value=""}function l(b){a("load",b)}function i(b){window.confirm(`Delete profile "${b}"?`)&&a("delete",b)}function c(){var b;(b=n.value)==null||b.click()}function f(b){var u;const m=b.target,g=(u=m==null?void 0:m.files)==null?void 0:u[0];g&&a("import-config",g),m&&(m.value="")}function p(b){if(!b)return"";const m=new Date(b);if(Number.isNaN(m.getTime()))return b;const u=new Date().getTime()-m.getTime(),v=Math.round(u/6e4);if(v<1)return"just now";if(v<60)return`${v} min ago`;const M=Math.round(v/60);if(M<24)return`${M}h ago`;const $=Math.round(M/24);if($<7)return`${$}d ago`;const T=Math.round($/7);return T<5?`${T}w ago`:m.toLocaleDateString()}return(b,m)=>(y(),k("div",Ag,[m[11]||(m[11]=d("div",{class:"sb-title"},"Profiles",-1)),m[12]||(m[12]=d("p",{class:"sb-description"}," Export/import full configs or save/load named profiles (calendars, groups, targets, settings). ",-1)),d("div",Lg,[$e(A(rt),{type:"tertiary",size:"small",onClick:m[0]||(m[0]=g=>a("export-config"))},{default:Ve(()=>[...m[4]||(m[4]=[Me(" Export configuration ",-1)])]),_:1}),$e(A(rt),{type:"tertiary",size:"small",onClick:c},{default:Ve(()=>[...m[5]||(m[5]=[Me(" Import configuration ",-1)])]),_:1}),d("input",{ref_key:"fileInput",ref:n,type:"file",accept:"application/json",class:"import-input",onChange:f},null,544)]),d("div",Eg,[m[6]||(m[6]=d("label",{class:"preset-label",for:"preset-name"},"Profile name",-1)),vo(d("input",{id:"preset-name","onUpdate:modelValue":m[1]||(m[1]=g=>o.value=g),type:"text",placeholder:"e.g. Focus week",disabled:b.isSaving,onKeyup:wa(s,["enter"])},null,40,Og),[[_i,o.value]]),r.value?(y(),k("div",Bg,B(r.value),1)):G("",!0),$e(A(rt),{class:"preset-save",type:"primary",disabled:b.isSaving||!o.value.trim(),onClick:s},{default:Ve(()=>[Me(B(b.isSaving?"Saving":"Save current configuration"),1)]),_:1},8,["disabled"])]),b.warnings.length?(y(),k("div",Ng,[m[8]||(m[8]=d("div",{class:"warnings-title"},"Warnings",-1)),d("ul",null,[(y(!0),k(ue,null,xe(b.warnings,(g,u)=>(y(),k("li",{key:u},B(g),1))),128))]),$e(A(rt),{type:"tertiary",class:"preset-clear",onClick:m[2]||(m[2]=g=>a("clear-warnings"))},{default:Ve(()=>[...m[7]||(m[7]=[Me(" Clear warnings ",-1)])]),_:1})])):G("",!0),d("div",Ig,[m[9]||(m[9]=d("h3",null,"Saved profiles",-1)),$e(A(rt),{type:"tertiary",disabled:b.isLoading,onClick:m[3]||(m[3]=g=>a("refresh"))},{default:Ve(()=>[Me(B(b.isLoading?"Refreshing":"Refresh list"),1)]),_:1},8,["disabled"])]),!b.presets.length&&!b.isLoading?(y(),k("div",Pg," No profiles yet. Save one above to get started. ")):(y(),k("ul",Fg,[(y(!0),k(ue,null,xe(b.presets,g=>(y(),k("li",{key:g.name,class:"preset-item"},[d("div",Hg,[d("div",Wg,B(g.name),1),d("div",zg,[d("span",null,B(g.selectedCount)+" calendars",1),d("span",null,B(g.calendarCount)+" groups",1),g.updatedAt?(y(),k("span",Rg,"Updated "+B(p(g.updatedAt)),1)):G("",!0)])]),d("div",jg,[$e(A(rt),{type:"primary",disabled:b.isApplying,onClick:u=>l(g.name)},{default:Ve(()=>[Me(B(b.isApplying?"Applying":"Load"),1)]),_:2},1032,["disabled","onClick"]),$e(A(rt),{type:"tertiary",disabled:b.isApplying,onClick:u=>i(g.name)},{default:Ve(()=>[...m[10]||(m[10]=[Me(" Delete ",-1)])]),_:2},1032,["disabled","onClick"])])]))),128))]))]))}}),[["__scopeId","data-v-d7ffdf01"]]),Vg={id:"opsdash-sidebar-pane-report",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-report"},Kg={class:"report-card"},qg={class:"report-card__header"},Gg={class:"report-card__subtitle"},Jg={class:"switch"},Yg=["checked"],Zg={class:"report-field"},Xg=["value","disabled"],Qg={class:"report-field"},ep=["value","disabled"],tp={class:"report-field"},ap=["value","disabled"],op={class:"report-risk"},rp={class:"report-risk__header"},np=["checked","disabled"],sp=["disabled","value"],lp=["disabled"],ip=["checked","disabled"],cp=["checked","disabled"],dp={class:"report-actions"},up=["disabled"],fp=We(Te({__name:"SidebarReportPane",props:{reportingConfig:{},saving:{type:Boolean}},emits:["save-reporting"],setup(e,{emit:t}){const a=e,o=t,r=te(c(a.reportingConfig));Oe(()=>a.reportingConfig,f=>{r.value=c(f)},{deep:!0});const n=E(()=>JSON.stringify(r.value)!==JSON.stringify(a.reportingConfig));function s(f){r.value={...r.value,...f}}function l(){o("save-reporting",c(r.value))}function i(f){const p=f.target;if(!p)return;const b=Number(p.value);Number.isFinite(b)&&s({riskThreshold:Math.max(.5,Math.min(1,b/100))})}function c(f){return JSON.parse(JSON.stringify(f))}return(f,p)=>(y(),k("div",Vg,[p[19]||(p[19]=d("div",{class:"sb-title"},"Reports & Automation",-1)),p[20]||(p[20]=d("p",{class:"sb-description"}," Configure weekly/monthly digests, interim reminders, and Deck visibility. ",-1)),d("div",Kg,[d("div",qg,[d("div",null,[p[7]||(p[7]=d("div",{class:"report-card__title"},"Scheduled summaries",-1)),d("div",Gg,B(r.value.enabled?"Sending on schedule":"Disabled"),1)]),d("label",Jg,[d("input",{type:"checkbox",checked:r.value.enabled,onChange:p[0]||(p[0]=b=>s({enabled:!r.value.enabled}))},null,40,Yg),p[8]||(p[8]=d("span",null,null,-1))])]),d("div",{class:Ee(["report-form",{"report-form--disabled":!r.value.enabled}])},[d("label",Zg,[p[10]||(p[10]=d("span",null,"Cadence",-1)),d("select",{value:r.value.schedule,disabled:!r.value.enabled,onChange:p[1]||(p[1]=b=>s({schedule:b.target.value}))},[...p[9]||(p[9]=[d("option",{value:"week"},"Weekly only",-1),d("option",{value:"month"},"Monthly only",-1),d("option",{value:"both"},"Weekly + Monthly",-1)])],40,Xg)]),d("label",Qg,[p[12]||(p[12]=d("span",null,"Interim updates",-1)),d("select",{value:r.value.interim,disabled:!r.value.enabled,onChange:p[2]||(p[2]=b=>s({interim:b.target.value}))},[...p[11]||(p[11]=[d("option",{value:"none"},"None",-1),d("option",{value:"midweek"},"Mid-week snapshot",-1),d("option",{value:"daily"},"Daily digest",-1)])],40,ep)]),d("label",tp,[p[14]||(p[14]=d("span",null,"Reminder lead",-1)),d("select",{value:r.value.reminderLead,disabled:!r.value.enabled,onChange:p[3]||(p[3]=b=>s({reminderLead:b.target.value}))},[...p[13]||(p[13]=[d("option",{value:"none"},"No reminder",-1),d("option",{value:"1d"},"1 day before",-1),d("option",{value:"2d"},"2 days before",-1)])],40,ap)]),d("div",op,[d("div",rp,[d("label",null,[d("input",{type:"checkbox",checked:r.value.alertOnRisk,disabled:!r.value.enabled,onChange:p[4]||(p[4]=b=>s({alertOnRisk:!r.value.alertOnRisk}))},null,40,np),p[15]||(p[15]=Me(" Alert when schedule is at risk ",-1))]),d("span",null,B(Math.round(r.value.riskThreshold*100))+"%",1)]),d("input",{type:"range",min:"50",max:"100",step:"5",disabled:!r.value.enabled,value:Math.round(r.value.riskThreshold*100),onChange:i},null,40,sp)]),d("fieldset",{class:"report-notify",disabled:!r.value.enabled},[p[18]||(p[18]=d("legend",null,"Delivery channels",-1)),d("label",null,[d("input",{type:"checkbox",checked:r.value.notifyEmail,disabled:!r.value.enabled,onChange:p[5]||(p[5]=b=>s({notifyEmail:!r.value.notifyEmail}))},null,40,ip),p[16]||(p[16]=Me(" Send via email ",-1))]),d("label",null,[d("input",{type:"checkbox",checked:r.value.notifyNotification,disabled:!r.value.enabled,onChange:p[6]||(p[6]=b=>s({notifyNotification:!r.value.notifyNotification}))},null,40,cp),p[17]||(p[17]=Me(" Nextcloud notification ",-1))])],8,lp)],2)]),d("div",dp,[d("button",{type:"button",class:"report-save",disabled:f.saving||!n.value,onClick:l},B(f.saving?"Saving":n.value?"Save changes":"Saved"),9,up)])]))}}),[["__scopeId","data-v-f8445616"]]);function gp(e,t){const{allowEmpty:a=!1}=t;if(e===""||e===null||e===void 0)return a?{value:null}:{value:null,error:"Enter a number"};const o=Number(e);if(!Number.isFinite(o))return{value:null,error:"Enter a valid number"};let r=o,n;if(typeof t.min=="number"&&r<t.min&&(r=t.min,n=Nn(t)),typeof t.max=="number"&&r>t.max&&(r=t.max,n=Nn(t)),typeof t.step=="number"&&t.step>0){const l=hp(r,t.step);l!==r&&(r=l,n=Nn(t))}const s=Ei(t);return typeof s=="number"&&(r=Number(r.toFixed(s))),{value:r,warning:n}}function pp(e,t){const a=gp(e,t),o=[];return a.error&&o.push({severity:"error",message:a.error}),a.warning&&o.push({severity:"warning",message:a.warning}),{value:a.value,issues:o}}function hp(e,t){const a=Ei({step:t}),o=Math.round(e/t)*t;return typeof a=="number"?Number(o.toFixed(a)):o}function Ei(e){if(typeof e.decimals=="number")return e.decimals;if(typeof e.step=="number")return vp(e.step)}function vp(e){const t=e.toString();if(t.includes("e-")){const[,o]=t.split("e-");return Number(o)}const[,a=""]=t.split(".");return a.length}function Nn(e){const t=[];return typeof e.min=="number"&&typeof e.max=="number"?t.push(`Allowed range ${e.min}  ${e.max}`):typeof e.min=="number"?t.push(`Minimum ${e.min}`):typeof e.max=="number"&&t.push(`Maximum ${e.max}`),typeof e.step=="number"&&e.step>0&&t.push(`step ${e.step}`),`Adjusted to allowed value (${t.join(", ")})`}function mp(e,t,a="Enter a valid number"){const o=pp(e,t),r=o.issues.find(l=>l.severity==="error"),n=o.issues.find(l=>l.severity==="warning");let s=null;return r||o.value===null?s={text:(r==null?void 0:r.message)??a,tone:"error"}:n&&(s={text:n.message,tone:"warning"}),{ok:!r&&o.value!==null,value:o.value,message:s}}function Pa(e,t,a,o,r){const{ok:n,value:s,message:l}=mp(e,t,r);return a(l),!n||s===null?!1:(o(s),!0)}const bp={class:"rangebar",title:"Time range"},yp={class:"range-actions"},wp=["disabled"],kp=["aria-label"],_p={class:"range-toggle"},xp={class:"range-nav"},Cp={class:"range-dates"},Sp={class:"sb-tabs sb-tabs--primary",role:"tablist","aria-label":"Sidebar sections"},$p=["aria-selected"],Tp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Detail settings"},Mp=["aria-selected"],Dp={class:"sb-tabs sb-tabs--secondary",role:"tablist","aria-label":"Advanced configuration"},Ap=["aria-selected"],Lp=["aria-selected"],Ep=We(Te({__name:"Sidebar",props:{calendars:{},selected:{},groupsById:{},isLoading:{type:Boolean},range:{},offset:{},from:{},to:{},targetsWeek:{},targetsMonth:{},targetsConfig:{},navToggleLabel:{},navToggleIcon:{},presets:{},presetsLoading:{type:Boolean},presetSaving:{type:Boolean},presetApplying:{type:Boolean},presetWarnings:{},themePreference:{},effectiveTheme:{},systemTheme:{},reportingConfig:{},deckSettings:{},reportingSaving:{type:Boolean},dashboardMode:{}},emits:["load","update:range","update:offset","select-all","toggle-calendar","set-group","set-target","update:targets-config","toggle-nav","save-preset","load-preset","delete-preset","refresh-presets","clear-preset-warnings","rerun-onboarding","set-theme-preference","export-config","import-config","open-shortcuts","save-reporting","save-deck-settings"],setup(e,{expose:t,emit:a}){const o=e,r=a,n=te("calendars");Oe(()=>o.dashboardMode,x=>{x==="quick"&&(n.value==="profiles"||n.value==="report")&&(n.value="calendars")});const s=E(()=>o.targetsConfig),l=E(()=>{var x;return((x=s.value)==null?void 0:x.categories)??[]}),i=E(()=>o.presets??[]),c=["#2563EB","#F97316","#10B981","#A855F7","#EC4899","#14B8A6","#F59E0B","#6366F1","#0EA5E9","#65A30D"];E(()=>{const x=new Set,h=D=>{const O=w(D);O&&x.add(O)};return(o.calendars||[]).forEach(D=>h(D==null?void 0:D.color)),l.value.forEach(D=>h(D==null?void 0:D.color)),c.forEach(D=>x.add(D)),Array.from(x)});function f(x){const h=ht(JSON.parse(JSON.stringify(o.targetsConfig||{})));x(h),r("update:targets-config",h)}E(()=>b()!==null);const p=aa({});aa({}),te(null),te(null),aa({onTrack:null,atRisk:null}),te(null),te(null);function b(){const x=new Set;for(const h of l.value)(h.groupIds||[]).forEach(D=>x.add(Number(D)));Object.values(o.groupsById||{}).forEach(h=>x.add(Number(h)));for(let h=1;h<=9;h++)if(!x.has(h))return h;return null}function m(x){const h=v(x),D=l.value.find(O=>Array.isArray(O.groupIds)&&O.groupIds.includes(h));return D?D.id:""}function g(x,h){if(!h){r("set-group",{id:x,n:0});return}const D=l.value.find(z=>z.id===h);if(!D){r("set-group",{id:x,n:0});return}const O=u(D.id);r("set-group",{id:x,n:O})}function u(x){const h=l.value.find(z=>z.id===x);if(!h)return 0;const D=Array.isArray(h.groupIds)&&h.groupIds.length?Number(h.groupIds[0]):null;if(D&&Number.isFinite(D))return D;const O=b()??0;return f(z=>{const re=z.categories.find(I=>I.id===x);re&&(re.groupIds=O?[O]:[])}),O}function v(x){const h=Number((o.groupsById||{})[x]??0);return isFinite(h)?Math.max(0,Math.min(9,Math.trunc(h))):0}function M(x){const h=o.range==="month"?o.targetsMonth||{}:o.targetsWeek||{},D=Number(h[x]??"");return isFinite(D)?D:""}function $(x){r("select-all",x)}function T(x){r("toggle-calendar",x)}function C(x){g(x.id,x.category)}function S(x){P(x.id,x.value)}function P(x,h){Pa(h,{min:0,max:1e4,step:.25,decimals:2},D=>{p[x]=D},D=>r("set-target",{id:x,h:D}))}function w(x){if(typeof x!="string")return null;const h=x.trim();if(!/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(h))return null;if(h.length===4){const[,D,O,z]=h;return`#${D}${D}${O}${O}${z}${z}`.toUpperCase()}return h.toUpperCase()}function _(x){n.value=x}return t({openTab:_}),(x,h)=>(y(),Xe(A(Af),null,{default:Ve(()=>[nu(x.$slots,"actions",{},void 0,!0),h[30]||(h[30]=d("div",{class:"sb-title",title:"Filter and group calendars"},"Filter Calendars",-1)),d("div",bp,[d("div",yp,[d("button",{class:"sidebar-action-btn",type:"button",disabled:x.isLoading,onClick:h[0]||(h[0]=D=>x.$emit("load"))}," Refresh ",8,wp),d("button",{class:"sidebar-action-btn sidebar-action-btn--icon",type:"button",onClick:h[1]||(h[1]=D=>x.$emit("toggle-nav")),"aria-label":x.navToggleLabel},B(x.navToggleIcon),9,kp)]),d("div",_p,[$e(A(Si),{type:"radio",name:"range-week",checked:x.range==="week","onUpdate:checked":h[2]||(h[2]=D=>{D&&x.$emit("update:range","week")})},{default:Ve(()=>[...h[26]||(h[26]=[Me("Week",-1)])]),_:1},8,["checked"]),$e(A(Si),{type:"radio",name:"range-month",checked:x.range==="month","onUpdate:checked":h[3]||(h[3]=D=>{D&&x.$emit("update:range","month")})},{default:Ve(()=>[...h[27]||(h[27]=[Me("Month",-1)])]),_:1},8,["checked"])]),d("div",xp,[$e(A(rt),{class:"nav-btn",type:"tertiary",disabled:x.isLoading,onClick:h[4]||(h[4]=D=>x.$emit("update:offset",x.offset-1)),title:"Previous"},{default:Ve(()=>[...h[28]||(h[28]=[Me("",-1)])]),_:1},8,["disabled"]),d("span",Cp,B(x.from)+"  "+B(x.to),1),$e(A(rt),{class:"nav-btn",type:"tertiary",disabled:x.isLoading,onClick:h[5]||(h[5]=D=>x.$emit("update:offset",x.offset+1)),title:"Next"},{default:Ve(()=>[...h[29]||(h[29]=[Me("",-1)])]),_:1},8,["disabled"])])]),d("div",Sp,[d("button",{id:"opsdash-sidebar-tab-calendars",type:"button",class:Ee(["sb-tab",{active:n.value==="calendars"}]),role:"tab","aria-selected":n.value==="calendars","aria-controls":"opsdash-sidebar-pane-calendars",onClick:h[6]||(h[6]=D=>n.value="calendars")}," Calendars ",10,$p)]),d("div",Tp,[o.dashboardMode!=="quick"?(y(),k("button",{key:0,id:"opsdash-sidebar-tab-profiles",type:"button",class:Ee(["sb-tab",{active:n.value==="profiles"}]),role:"tab","aria-selected":n.value==="profiles","aria-controls":"opsdash-sidebar-pane-profiles",onClick:h[7]||(h[7]=D=>n.value="profiles")}," Profiles ",10,Mp)):G("",!0)]),d("div",Dp,[d("button",{id:"opsdash-sidebar-tab-config",type:"button",class:Ee(["sb-tab",{active:n.value==="config"}]),role:"tab","aria-selected":n.value==="config","aria-controls":"opsdash-sidebar-pane-config",onClick:h[8]||(h[8]=D=>n.value="config")}," Theme ",10,Ap),o.dashboardMode!=="quick"?(y(),k("button",{key:0,id:"opsdash-sidebar-tab-report",type:"button",class:Ee(["sb-tab",{active:n.value==="report"}]),role:"tab","aria-selected":n.value==="report","aria-controls":"opsdash-sidebar-pane-report",onClick:h[9]||(h[9]=D=>n.value="report")}," Report ",10,Lp)):G("",!0)]),n.value==="calendars"?(y(),Xe(hg,{key:0,calendars:x.calendars,selected:x.selected,range:x.range,"is-loading":x.isLoading,"category-options":l.value,"calendar-target-messages":p,"calendar-category-id":m,"get-target":M,onSelectAll:$,onToggleCalendar:T,onSetCategory:C,onTargetInput:S,onRerunOnboarding:h[10]||(h[10]=D=>r("rerun-onboarding",D)),onOpenShortcuts:h[11]||(h[11]=D=>r("open-shortcuts",D))},null,8,["calendars","selected","range","is-loading","category-options","calendar-target-messages"])):n.value==="config"?(y(),Xe(Dg,{key:1,presets:i.value,"is-loading":o.presetsLoading,"is-saving":o.presetSaving,"is-applying":o.presetApplying,warnings:o.presetWarnings,"theme-preference":o.themePreference,"effective-theme":o.effectiveTheme,"system-theme":o.systemTheme,onSave:h[12]||(h[12]=D=>r("save-preset",D)),onLoad:h[13]||(h[13]=D=>r("load-preset",D)),onDelete:h[14]||(h[14]=D=>r("delete-preset",D)),onRefresh:h[15]||(h[15]=()=>r("refresh-presets")),onClearWarnings:h[16]||(h[16]=()=>r("clear-preset-warnings")),onSetThemePreference:h[17]||(h[17]=D=>r("set-theme-preference",D))},null,8,["presets","is-loading","is-saving","is-applying","warnings","theme-preference","effective-theme","system-theme"])):n.value==="profiles"?(y(),Xe(Ug,{key:2,presets:i.value,"is-loading":o.presetsLoading,"is-saving":o.presetSaving,"is-applying":o.presetApplying,warnings:o.presetWarnings,onSave:h[18]||(h[18]=D=>r("save-preset",D)),onLoad:h[19]||(h[19]=D=>r("load-preset",D)),onDelete:h[20]||(h[20]=D=>r("delete-preset",D)),onRefresh:h[21]||(h[21]=()=>r("refresh-presets")),onClearWarnings:h[22]||(h[22]=()=>r("clear-preset-warnings")),onExportConfig:h[23]||(h[23]=()=>r("export-config")),onImportConfig:h[24]||(h[24]=D=>r("import-config",D))},null,8,["presets","is-loading","is-saving","is-applying","warnings"])):n.value==="report"?(y(),Xe(fp,{key:3,"reporting-config":o.reportingConfig,saving:o.reportingSaving,onSaveReporting:h[25]||(h[25]=D=>r("save-reporting",D))},null,8,["reporting-config","saving"])):G("",!0)]),_:3}))}}),[["__scopeId","data-v-dc2dbb66"]]),Op={key:0,class:"config-warning"},Bp=Te({__name:"OnboardingIntroStep",props:{hasExistingConfig:{type:Boolean},snapshotSaving:{type:Boolean},saving:{type:Boolean},snapshotNotice:{},onSaveCurrentConfig:{type:Function}},setup(e){return(t,a)=>(y(),k(ue,null,[a[2]||(a[2]=d("h3",null,"Opsdash visualises your calendar time and keeps goals on track.",-1)),a[3]||(a[3]=d("ul",{class:"highlights"},[d("li",null,"Targets  stay aligned with your weekly/monthly goals."),d("li",null,"Balance  ensure your focus areas get the right attention."),d("li",null,"Notes  capture insights and the story behind the numbers.")],-1)),t.hasExistingConfig?(y(),k("div",Op,[a[1]||(a[1]=d("p",null," You already have a dashboard configuration. Saving a preset now keeps a backup before onboarding applies new values. ",-1)),$e(A(rt),{type:"tertiary",size:"small",disabled:t.snapshotSaving||t.saving,"aria-busy":t.snapshotSaving,onClick:t.onSaveCurrentConfig},{default:Ve(()=>[...a[0]||(a[0]=[Me(" Save current setup as preset ",-1)])]),_:1},8,["disabled","aria-busy","onClick"])])):G("",!0),a[4]||(a[4]=d("p",{class:"hint"},"You can change configuration later from the Sidebar.",-1)),t.snapshotNotice?(y(),k("div",{key:1,class:Ee(["snapshot-notice",`snapshot-notice--${t.snapshotNotice.type}`]),role:"status"},B(t.snapshotNotice.message),3)):G("",!0)],64))}}),Np={class:"preferences-grid"},Ip={class:"pref-card"},Pp={class:"theme-options",role:"radiogroup","aria-label":"Theme preference"},Fp={class:"theme-option"},Hp=["checked"],Wp={class:"theme-copy"},zp={class:"theme-option__desc"},Rp={class:"theme-option"},jp=["checked"],Up={class:"theme-option"},Vp=["checked"],Kp={class:"theme-preview"},qp={class:"pref-card"},Gp={class:"field"},Jp=["value","disabled"],Yp={key:0,class:"pref-hint"},Zp={class:"pref-card"},Xp={class:"field"},Qp=["value"],eh={class:"pref-card"},th={class:"field"},ah=["value"],oh={class:"pref-card pref-card--deck"},rh={class:"toggle-row"},nh=["checked"],sh={class:"deck-board-list"},lh={key:0,class:"deck-status"},ih={key:1,class:"deck-status deck-status--error"},ch={key:0,class:"deck-status"},dh={key:1,class:"deck-board-options",role:"list"},uh=["checked","onChange"],fh={class:"pref-card pref-card--reporting"},gh={class:"toggle-row"},ph=["checked"],hh={class:"field"},vh=["value"],mh={class:"field"},bh=["value"],yh={class:"field checkbox toggle-row"},wh=["checked"],kh={class:"pref-card pref-card--activity"},_h={class:"toggle-row"},xh=["checked"],Ch=Te({__name:"OnboardingPreferencesStep",props:{themePreference:{},systemThemeLabel:{},previewTheme:{},setThemePreference:{type:Function},totalHoursInput:{},categoryTotalHours:{},categoriesEnabled:{type:Boolean},onTotalHoursChange:{type:Function},allDayHoursInput:{},onAllDayHoursChange:{type:Function},trendLookbackInput:{},onTrendLookbackChange:{type:Function},deckSettingsDraft:{},setDeckEnabled:{type:Function},deckBoards:{},deckBoardsLoading:{type:Boolean},deckBoardsError:{},isDeckBoardVisible:{type:Function},toggleDeckBoard:{type:Function},reportingDraft:{},setReportingEnabled:{type:Function},setReportingSchedule:{type:Function},setReportingInterim:{type:Function},updateReporting:{type:Function},activityDraft:{},setActivityDayOff:{type:Function}},setup(e){return(t,a)=>(y(),k(ue,null,[a[44]||(a[44]=d("h3",null,"Final tweaks",-1)),a[45]||(a[45]=d("p",{class:"hint"},"You can change these options later from Config & Setup.",-1)),d("div",Np,[d("article",Ip,[a[15]||(a[15]=d("h4",null,"Theme & appearance",-1)),a[16]||(a[16]=d("p",{class:"pref-desc"},"Choose how Opsdash reacts to your Nextcloud theme. Charts keep their calendar colors.",-1)),d("div",Pp,[d("label",Fp,[d("input",{type:"radio",name:"onboarding-theme",value:"auto",checked:t.themePreference==="auto",onChange:a[0]||(a[0]=o=>t.setThemePreference("auto"))},null,40,Hp),d("div",Wp,[a[12]||(a[12]=d("div",{class:"theme-option__title"},"Follow Nextcloud",-1)),d("div",zp,"Matches your account theme (currently "+B(t.systemThemeLabel)+").",1)])]),d("label",Rp,[d("input",{type:"radio",name:"onboarding-theme",value:"light",checked:t.themePreference==="light",onChange:a[1]||(a[1]=o=>t.setThemePreference("light"))},null,40,jp),a[13]||(a[13]=d("div",{class:"theme-copy"},[d("div",{class:"theme-option__title"},"Force light"),d("div",{class:"theme-option__desc"},"Always use the light palette, even if Nextcloud switches to dark.")],-1))]),d("label",Up,[d("input",{type:"radio",name:"onboarding-theme",value:"dark",checked:t.themePreference==="dark",onChange:a[2]||(a[2]=o=>t.setThemePreference("dark"))},null,40,Vp),a[14]||(a[14]=d("div",{class:"theme-copy"},[d("div",{class:"theme-option__title"},"Force dark"),d("div",{class:"theme-option__desc"},"Keep Opsdash dark, even when Nextcloud stays light.")],-1))])]),d("div",Kp,"Preview: "+B(t.previewTheme==="dark"?"Dark":"Light")+" mode",1)]),d("article",qp,[a[18]||(a[18]=d("h4",null,"Total weekly target",-1)),a[19]||(a[19]=d("p",{class:"pref-desc"},"Set your overall weekly goal. You can fine-tune per-category targets later.",-1)),d("label",Gp,[a[17]||(a[17]=d("span",{class:"label"},"Total target (h / week)",-1)),d("input",{type:"number",value:t.totalHoursInput??t.categoryTotalHours,disabled:t.categoriesEnabled,min:"0",max:"1000",step:"0.5",onInput:a[3]||(a[3]=o=>t.onTotalHoursChange(o.target))},null,40,Jp)]),t.categoriesEnabled?(y(),k("p",Yp," Using categories  total derives from category targets ("+B(t.categoryTotalHours.toFixed(1))+" h). ",1)):G("",!0)]),d("article",Zp,[a[21]||(a[21]=d("h4",null,"All-day events",-1)),a[22]||(a[22]=d("p",{class:"pref-desc"},"Tell Opsdash how many hours an all-day calendar event should contribute per day.",-1)),d("label",Xp,[a[20]||(a[20]=d("span",{class:"label"},"All-day hours per day",-1)),d("input",{type:"number",value:t.allDayHoursInput,min:"0",max:"24",step:"0.25",onInput:a[4]||(a[4]=o=>t.onAllDayHoursChange(o.target))},null,40,Qp)]),a[23]||(a[23]=d("p",{class:"pref-hint"},"Default is 8 h  adjust if your organisation tracks different durations.",-1))]),d("article",eh,[a[25]||(a[25]=d("h4",null,"Trend lookback (global)",-1)),a[26]||(a[26]=d("p",{class:"pref-desc"},"Controls how many past periods trend widgets compare against.",-1)),d("label",th,[a[24]||(a[24]=d("span",{class:"label"},"Lookback (weeks / months)",-1)),d("input",{type:"number",value:t.trendLookbackInput,min:"1",max:"6",step:"1",onInput:a[5]||(a[5]=o=>t.onTrendLookbackChange(o.target))},null,40,ah)]),a[27]||(a[27]=d("p",{class:"pref-hint"},"Applies to both week and month views.",-1))]),d("article",oh,[a[30]||(a[30]=d("h4",null,"Deck cards",-1)),a[31]||(a[31]=d("p",{class:"pref-desc"},"Bring Deck boards into Opsdash. Cards remain read-only so you can focus on status.",-1)),d("label",rh,[d("input",{type:"checkbox",checked:t.deckSettingsDraft.enabled,onChange:a[6]||(a[6]=o=>t.setDeckEnabled(o.target.checked))},null,40,nh),a[28]||(a[28]=d("span",null,"Show Deck tab inside Config & Setup",-1))]),t.deckSettingsDraft.enabled?(y(),k(ue,{key:0},[a[29]||(a[29]=d("p",{class:"pref-hint"},"Select which boards appear. Deck permissions still apply.",-1)),d("div",sh,[t.deckBoardsLoading?(y(),k("p",lh,"Loading Deck boards")):t.deckBoardsError?(y(),k("p",ih,B(t.deckBoardsError),1)):(y(),k(ue,{key:2},[t.deckBoards.length?(y(),k("div",dh,[(y(!0),k(ue,null,xe(t.deckBoards,o=>(y(),k("label",{key:o.id,class:"deck-board-option",role:"listitem"},[d("input",{type:"checkbox",checked:t.isDeckBoardVisible(o.id),onChange:r=>t.toggleDeckBoard(o.id,r.target.checked)},null,40,uh),d("span",null,B(o.title),1)]))),128))])):(y(),k("p",ch,"Open the Deck app to create a board."))],64))])],64)):G("",!0)]),d("article",fh,[a[38]||(a[38]=d("h4",null,"Weekly/monthly recap",-1)),a[39]||(a[39]=d("p",{class:"pref-desc"},"Opsdash can send a summary of targets, balance, and notes so you stay aligned.",-1)),d("label",gh,[d("input",{type:"checkbox",checked:t.reportingDraft.enabled,onChange:a[7]||(a[7]=o=>t.setReportingEnabled(o.target.checked))},null,40,ph),a[32]||(a[32]=d("span",null,"Send a recap automatically",-1))]),t.reportingDraft.enabled?(y(),k(ue,{key:0},[d("label",hh,[a[34]||(a[34]=d("span",{class:"label"},"Schedule",-1)),d("select",{value:t.reportingDraft.schedule,onChange:a[8]||(a[8]=o=>t.setReportingSchedule(o.target.value))},[...a[33]||(a[33]=[d("option",{value:"week"},"Weekly",-1),d("option",{value:"month"},"Monthly",-1),d("option",{value:"both"},"Weekly + Monthly",-1)])],40,vh)]),d("label",mh,[a[36]||(a[36]=d("span",{class:"label"},"Mid-range reminders",-1)),d("select",{value:t.reportingDraft.interim,onChange:a[9]||(a[9]=o=>t.setReportingInterim(o.target.value))},[...a[35]||(a[35]=[d("option",{value:"none"},"No interim reminder",-1),d("option",{value:"midweek"},"Mid-week / mid-month only",-1),d("option",{value:"daily"},"Daily nudge while enabled",-1)])],40,bh)]),d("label",yh,[d("input",{type:"checkbox",checked:t.reportingDraft.alertOnRisk,onChange:a[10]||(a[10]=o=>t.updateReporting({alertOnRisk:o.target.checked}))},null,40,wh),a[37]||(a[37]=d("span",null,"Highlight when targets drift off-track",-1))])],64)):G("",!0)]),d("article",kh,[a[41]||(a[41]=d("h4",null,"Activity insights",-1)),a[42]||(a[42]=d("p",{class:"pref-desc"},"Choose whether the Activity & Schedule card shows the day-off heatmap.",-1)),d("label",_h,[d("input",{type:"checkbox",checked:t.activityDraft.showDayOffTrend,onChange:a[11]||(a[11]=o=>t.setActivityDayOff(o.target.checked))},null,40,xh),a[40]||(a[40]=d("span",null,"Show Days off trend heatmap",-1))]),a[43]||(a[43]=d("p",{class:"pref-hint"},"Helps you compare recent weeks/months at a glance.",-1))])])],64))}}),Sh={class:"strategy-grid"},$h=["onClick"],Th={class:"subtitle"},Mh=Te({__name:"OnboardingDashboardStep",props:{dashboardMode:{},setDashboardMode:{type:Function},dashboardPresets:{}},setup(e){return(t,a)=>(y(),k(ue,null,[a[0]||(a[0]=d("h3",null,"Dashboard preset",-1)),a[1]||(a[1]=d("p",{class:"hint"},"Pick how much you want to see by default. You can change widgets later.",-1)),d("div",Sh,[(y(!0),k(ue,null,xe(t.dashboardPresets,o=>(y(),k("article",{key:o.id,class:Ee(["strategy-card",{active:t.dashboardMode===o.id}]),onClick:r=>t.setDashboardMode(o.id)},[d("h4",null,B(o.title),1),d("p",Th,B(o.subtitle),1),d("ul",null,[(y(!0),k(ue,null,xe(o.highlights,r=>(y(),k("li",{key:r},B(r),1))),128))]),d("footer",null,"Widgets: "+B(o.widgets),1)],10,$h))),128))])],64))}}),Dh={class:"strategy-grid"},Ah=["onClick"],Lh={class:"subtitle"},Eh=Te({__name:"OnboardingStrategyStep",props:{strategies:{},selectedStrategy:{},setSelectedStrategy:{type:Function}},setup(e){return(t,a)=>(y(),k(ue,null,[a[0]||(a[0]=d("h3",null,"Select a starting strategy",-1)),d("div",Dh,[(y(!0),k(ue,null,xe(t.strategies,o=>(y(),k("article",{key:o.id,class:Ee(["strategy-card",{active:t.selectedStrategy===o.id}]),onClick:r=>t.setSelectedStrategy(o.id)},[d("h4",null,B(o.title),1),d("p",Lh,B(o.subtitle),1),d("ul",null,[(y(!0),k(ue,null,xe(o.highlights,r=>(y(),k("li",{key:r},B(r),1))),128))]),d("footer",null,"Best for: "+B(o.recommendedFor),1)],10,Ah))),128))])],64))}}),Oh={class:"calendar-list"},Bh=["value","checked","onChange"],Nh={key:0,class:"warning"},Ih=Te({__name:"OnboardingCalendarsStep",props:{calendars:{},localSelection:{},toggleCalendar:{type:Function}},setup(e){return(t,a)=>(y(),k(ue,null,[a[0]||(a[0]=d("h3",null,"Choose calendars to include",-1)),a[1]||(a[1]=d("p",null,"Select the calendars you want to track. You can adjust later at any time.",-1)),d("div",Oh,[(y(!0),k(ue,null,xe(t.calendars,o=>(y(),k("label",{key:o.id,class:Ee(["calendar-item",{checked:t.localSelection.includes(o.id)}])},[d("input",{type:"checkbox",value:o.id,checked:t.localSelection.includes(o.id),onChange:r=>t.toggleCalendar(o.id,r.target)},null,40,Bh),d("span",{class:"dot",style:Le({backgroundColor:o.color||"#3B82F6"})},null,4),d("span",null,B(o.displayname),1)],2))),128))]),t.localSelection.length?G("",!0):(y(),k("div",Nh,"Select at least one calendar to continue."))],64))}}),Ph={key:0,class:"hint"},Fh={class:"categories-editor"},Hh={class:"category-card__header"},Wh=["value","onInput"],zh={class:"category-actions"},Rh=["disabled","onClick"],jh={class:"category-card__fields"},Uh={class:"field"},Vh=["value","onInput"],Kh={class:"field checkbox"},qh=["checked","onChange"],Gh={class:"field color-field"},Jh=["aria-expanded","aria-label","onClick"],Yh=["id"],Zh={class:"swatch-grid",role:"group","aria-label":"Preset colors"},Xh=["aria-label","onClick"],Qh={class:"custom-color"},ev=["value","onInput"],tv={class:"category-total"},av={key:0,class:"calendar-assignments"},ov={class:"cal-name"},rv=["value","onChange"],nv=["value"],sv={key:1,class:"hint"},lv=Te({__name:"OnboardingCategoriesStep",props:{categoriesEnabled:{type:Boolean},categories:{},categoryTotalHours:{},selectedCalendars:{},assignments:{},addCategory:{type:Function},removeCategory:{type:Function},setCategoryLabel:{type:Function},setCategoryTarget:{type:Function},toggleCategoryWeekend:{type:Function},assignCalendar:{type:Function},openColorId:{},toggleColorPopover:{type:Function},closeColorPopover:{type:Function},categoryColorPalette:{},resolvedColor:{type:Function},applyColor:{type:Function},onColorInput:{type:Function}},setup(e){return(t,a)=>(y(),k(ue,null,[a[6]||(a[6]=d("h3",null,"Configure categories & targets",-1)),t.categoriesEnabled?(y(),k(ue,{key:1},[d("div",Fh,[(y(!0),k(ue,null,xe(t.categories,o=>(y(),k("article",{key:o.id,class:"category-card"},[d("header",Hh,[d("span",{class:"category-color-indicator",style:Le({backgroundColor:t.resolvedColor(o)}),"aria-hidden":"true"},null,4),d("input",{class:"category-name",type:"text",value:o.label,placeholder:"Category name",onInput:r=>t.setCategoryLabel(o.id,r.target.value)},null,40,Wh),d("div",zh,[d("button",{class:"remove-category",type:"button",disabled:t.categories.length<=1,title:"Remove category",onClick:r=>t.removeCategory(o.id)},"  ",8,Rh)])]),d("div",jh,[d("label",Uh,[a[1]||(a[1]=d("span",{class:"label"},"Target (h / week)",-1)),d("input",{type:"number",value:o.targetHours,min:"0",step:"0.5",onInput:r=>t.setCategoryTarget(o.id,r.target.value)},null,40,Vh)]),d("label",Kh,[d("input",{type:"checkbox",checked:o.includeWeekend,onChange:r=>t.toggleCategoryWeekend(o.id,r.target.checked)},null,40,qh),a[2]||(a[2]=d("span",null,"Include weekend",-1))]),d("div",Gh,[d("button",{type:"button",class:"color-link","aria-expanded":t.openColorId===o.id,"aria-label":`Choose color for ${o.label}`,"data-color-popover":"",onClick:et(r=>t.toggleColorPopover(o.id),["stop"])}," Color ",8,Jh),t.openColorId===o.id?(y(),k("div",{key:0,class:"color-popover",id:`onboarding-color-popover-${o.id}`,tabindex:"-1",onKeydown:a[0]||(a[0]=wa(et(r=>t.closeColorPopover(),["prevent"]),["esc"]))},[d("div",Zh,[(y(!0),k(ue,null,xe(t.categoryColorPalette,r=>(y(),k("button",{key:`${o.id}-swatch-${r}`,type:"button",class:Ee(["color-swatch",{active:t.resolvedColor(o)===r}]),style:Le({backgroundColor:r}),"aria-label":`Use color ${r}`,onClick:n=>t.applyColor(o.id,r)},null,14,Xh))),128))]),d("label",Qh,[a[3]||(a[3]=d("span",null,"Custom",-1)),d("input",{class:"color-input",type:"color",value:t.resolvedColor(o),"aria-label":"Pick custom color",onInput:r=>t.onColorInput(o.id,r.target.value)},null,40,ev)])],40,Yh)):G("",!0)])])]))),128)),$e(A(rt),{type:"tertiary",class:"add-category",onClick:t.addCategory},{default:Ve(()=>[...a[4]||(a[4]=[Me("Add category",-1)])]),_:1},8,["onClick"]),d("div",tv,"Total weekly target: "+B(t.categoryTotalHours.toFixed(1))+" h",1)]),t.selectedCalendars.length?(y(),k("div",av,[a[5]||(a[5]=d("h4",null,"Assign calendars",-1)),(y(!0),k(ue,null,xe(t.selectedCalendars,o=>(y(),k("div",{key:o.id,class:"assignment-row"},[d("span",ov,B(o.displayname),1),d("select",{value:t.assignments[o.id],onChange:r=>t.assignCalendar(o.id,r.target.value)},[(y(!0),k(ue,null,xe(t.categories,r=>(y(),k("option",{key:r.id,value:r.id},B(r.label),9,nv))),128))],40,rv)]))),128))])):(y(),k("p",sv,"Select at least one calendar to continue."))],64)):(y(),k("p",Ph,"This strategy does not require categories."))],64))}}),iv={class:"review-grid"},cv={class:"hint"},dv={key:1},uv={key:0},fv={key:0},gv=Te({__name:"OnboardingReviewStep",props:{strategyTitle:{},selectedCalendars:{},draftTargetsCategories:{},draftTotalHours:{},categoryTotalHours:{},deckReviewSummary:{},deckEnabled:{type:Boolean},deckVisibleBoards:{},reportingEnabled:{type:Boolean},reportingSummary:{},showDayOffTrend:{type:Boolean}},setup(e){return(t,a)=>(y(),k(ue,null,[a[6]||(a[6]=d("h3",null,"Review your setup",-1)),d("div",iv,[d("div",null,[a[0]||(a[0]=d("h5",null,"Strategy",-1)),d("p",null,B(t.strategyTitle),1)]),d("div",null,[a[1]||(a[1]=d("h5",null,"Calendars",-1)),d("ul",null,[(y(!0),k(ue,null,xe(t.selectedCalendars,o=>(y(),k("li",{key:o.id},B(o.displayname),1))),128))])]),d("div",null,[a[2]||(a[2]=d("h5",null,"Targets preview",-1)),t.draftTargetsCategories.length?(y(),k(ue,{key:0},[d("ul",null,[(y(!0),k(ue,null,xe(t.draftTargetsCategories,o=>(y(),k("li",{key:o.id},B(o.label)+"  "+B(o.targetHours)+" h",1))),128))]),d("p",cv,"Total weekly target: "+B(t.categoryTotalHours.toFixed(1))+" h",1)],64)):(y(),k("p",dv,"Total target: "+B(t.draftTotalHours)+" h per week",1))]),d("div",null,[a[3]||(a[3]=d("h5",null,"Deck tab",-1)),d("p",null,B(t.deckReviewSummary),1),t.deckEnabled&&t.deckVisibleBoards.length?(y(),k("ul",uv,[(y(!0),k(ue,null,xe(t.deckVisibleBoards.slice(0,3),o=>(y(),k("li",{key:o.id},B(o.title),1))),128)),t.deckVisibleBoards.length>3?(y(),k("li",fv,"+"+B(t.deckVisibleBoards.length-3)+" more",1)):G("",!0)])):G("",!0)]),d("div",null,[a[4]||(a[4]=d("h5",null,"Reporting",-1)),d("p",null,B(t.reportingEnabled?t.reportingSummary:"Recap disabled"),1)]),d("div",null,[a[5]||(a[5]=d("h5",null,"Activity card",-1)),d("p",null,B(t.showDayOffTrend?"Days-off heatmap enabled":"Heatmap hidden"),1)])]),a[7]||(a[7]=d("p",{class:"hint"},"You can fine-tune categories, goals, and pacing once the dashboard loads.",-1))],64))}});function pv(){const e=te(!1),t=te(!1),a=te(0),o=te(null),r=E(()=>e.value||t.value);async function n(s){a.value+=1,o.value=s??null,e.value=!1,t.value=!0,await ra()}return{autoWizardNeeded:e,manualWizardOpen:t,onboardingRunId:a,onboardingWizardVisible:r,openWizardFromSidebar:n,wizardStartStep:o}}const _a=1,hv=[{id:"total_only",title:"Focused",subtitle:"Keep it simple with one total goal",highlights:["Single weekly/monthly target","Great for personal overview","Upgradable later"],layers:{total:!0,categories:!1,calendars:!1},recommendedFor:"Individuals tracking a single workload"},{id:"total_plus_categories",title:"Balanced",subtitle:"Track balance across a few life areas",highlights:["Total goal plus key categories","Automatic category summaries","Calendar grouping suggestions"],layers:{total:!0,categories:!0,calendars:!1},recommendedFor:"Work/life blend with a handful of focus areas"},{id:"full_granular",title:"Power",subtitle:"Targets per category and calendar",highlights:["Detailed per-calendar goals","Category dashboards & pacing","Best for multi-project oversight"],layers:{total:!0,categories:!0,calendars:!0},recommendedFor:"Power users managing several project calendars"}],vv={work:["work","focus","deep","project"],personal:["personal","home","family","life"],recovery:["recovery","wellness","rest","health"],hobby:["hobby","learn","study","growth"],sport:["sport","fitness","gym","run","ride"]},xa=["#2563EB","#F97316","#10B981","#A855F7","#EC4899","#14B8A6","#F59E0B","#6366F1"];function mv(e,t,a,o){const r=e.toLowerCase();for(const n of t)if((a[n]||[]).some(l=>r.includes(l)))return n;return t[o%t.length]}function bv(e){const t={};return Object.entries(e).forEach(([a,o])=>{t[a]=Number((o*4).toFixed(2))}),t}function Ao(e){if(typeof e!="string")return null;const t=e.trim();if(!/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(t))return null;if(t.length===4){const[,a,o,r]=t;return`#${a}${a}${o}${o}${r}${r}`.toUpperCase()}return t.toUpperCase()}function yv(e){const t=new Set,a=[];return e.forEach((o,r)=>{const n=((o==null?void 0:o.id)||`cat_${r}`).trim()||`cat_${r}`;t.has(n)||(t.add(n),a.push({id:n,label:((o==null?void 0:o.label)||n).trim()||`Category ${r+1}`,targetHours:Number.isFinite(o==null?void 0:o.targetHours)?Number(o.targetHours):0,includeWeekend:!!(o!=null&&o.includeWeekend),paceMode:(o==null?void 0:o.paceMode)==="time_aware"?"time_aware":"days_only",color:Ao(o==null?void 0:o.color)??null}))}),a}function wv(e,t,a){const o={};if(!t.length)return o;const r=new Set(t.map(s=>s.id)),n=t[0].id;return e.forEach(s=>{const l=a[s];o[s]=r.has(l)?l:n}),o}function kv(){return hv}function Oi(e,t,a){const o=a.length?[...new Set(a.filter(c=>t.some(f=>f.id===c)))]:t.map(c=>c.id);if(e==="total_only")return{categories:[],assignments:{}};const r=e==="total_plus_categories"?["work","personal","recovery"]:["work","hobby","sport"],n=e==="total_plus_categories"?[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,color:xa[0]},{id:"personal",label:"Personal",targetHours:8,includeWeekend:!0,color:xa[1]},{id:"recovery",label:"Recovery",targetHours:4,includeWeekend:!0,color:xa[2]}]:[{id:"work",label:"Work",targetHours:32,includeWeekend:!1,color:xa[0]},{id:"hobby",label:"Hobby",targetHours:6,includeWeekend:!0,color:xa[1]},{id:"sport",label:"Sport",targetHours:4,includeWeekend:!0,color:xa[2]}],s={};let l=0;return t.filter(c=>o.includes(c.id)).forEach(c=>{s[c.id]=mv(c.displayname,r,vv,l),l+=1}),{categories:n.map(c=>({id:c.id,label:c.label,targetHours:c.targetHours,includeWeekend:c.includeWeekend,paceMode:"days_only",color:Ao(c.color)??null})),assignments:s}}function In(e,t,a,o){var v;const r=a.length?[...new Set(a.filter(M=>t.some($=>$.id===M)))]:t.map(M=>M.id),n=ht(Xt()),s={},l={};if(e==="total_only"){const M=Qt(n);return M.totalHours=M.totalHours||40,M.categories=[],M.ui.showCategoryBlocks=!1,M.ui.showCategoryCharts=!1,M.ui.showCalendarCharts=!1,{selected:r,targetsConfig:ht(M),groups:s,targetsWeek:l,targetsMonth:{}}}const i=Oi(e,t,r),c=yv((v=o==null?void 0:o.categories)!=null&&v.length?o.categories:i.categories),f=wv(r,c.length?c:i.categories,(o==null?void 0:o.assignments)??i.assignments),p=Qt(n),b=new Map;let m=0;const g=M=>{const $=Ao(M.color);if($)return $;const T=t.find(S=>f[S.id]===M.id&&Ao(S.color));if(T)return Ao(T.color)??null;const C=xa[m%xa.length];return m+=1,C??null};p.categories=c.map((M,$)=>{const T=$+1;return b.set(M.id,T),{id:M.id,label:M.label,targetHours:Number(M.targetHours.toFixed(2)),includeWeekend:M.includeWeekend,paceMode:M.paceMode,color:g(M),groupIds:[T]}}),p.totalHours=p.categories.reduce((M,$)=>M+$.targetHours,0),p.totalHours<=0&&(p.totalHours=40),p.ui.showCategoryBlocks=p.categories.length>0,p.ui.showCategoryCharts=p.categories.length>0,p.ui.showCalendarCharts=e==="full_granular",p.includeZeroDaysInStats=!1,p.balance.categories=p.categories.map(M=>M.id),p.balance.useCategoryMapping=!0;const u={};return Object.values(f).forEach(M=>{u[M]=(u[M]??0)+1}),Object.entries(f).forEach(([M,$])=>{const T=b.get($);if(T&&(s[M]=T,e==="full_granular")){const C=p.categories.find(w=>w.id===$);if(!C)return;const S=u[$]||1,P=Number((C.targetHours/S).toFixed(2));l[M]=P}}),{selected:r,targetsConfig:ht(p),groups:s,targetsWeek:l,targetsMonth:bv(l)}}function xr(){return{enabled:!1,schedule:"both",interim:"none",reminderLead:"1d",alertOnRisk:!0,riskThreshold:.85,notifyEmail:!0,notifyNotification:!0}}function Pn(e,t){const a=t??xr();if(!e||typeof e!="object")return{...a};const o=e.schedule==="week"||e.schedule==="month"?e.schedule:"both",r=e.interim==="midweek"||e.interim==="daily"?e.interim:"none",n=e.reminderLead==="1d"||e.reminderLead==="2d"?e.reminderLead:"none",s=Number(e.riskThreshold),l=Number.isFinite(s)&&s>=0&&s<=1?s:a.riskThreshold;return{enabled:!!e.enabled,schedule:o,interim:r,reminderLead:n,alertOnRisk:e.alertOnRisk!==!1,riskThreshold:l,notifyEmail:e.notifyEmail!==!1,notifyNotification:!!e.notifyNotification}}function Cr(){return{enabled:!0,filtersEnabled:!0,defaultFilter:"all",hiddenBoards:[],mineMode:"assignee",solvedIncludesArchived:!0,ticker:{autoScroll:!0,intervalSeconds:5,showBoardBadges:!0}}}function Fn(e,t){var p,b,m;const a=t??Cr();if(!e||typeof e!="object")return{...a};const o=(g,u)=>{if(typeof g=="boolean")return g;if(typeof g=="number")return g===1?!0:g===0?!1:u;if(typeof g=="string"){const v=g.trim().toLowerCase();if(["1","true","yes","on"].includes(v))return!0;if(["0","false","no","off","null",""].includes(v))return!1}return u},r=g=>{const u=Number(g);return!Number.isInteger(u)||u<=0||u>1e5?null:u},s=["all","mine","open_all","open_mine","done_all","done_mine","archived_all","archived_mine","due_all","due_mine","due_today_all","due_today_mine"].includes(e.defaultFilter)?e.defaultFilter:"all",l=e.mineMode==="creator"||e.mineMode==="both"?e.mineMode:"assignee",i=o(e.solvedIncludesArchived,a.solvedIncludesArchived),c={autoScroll:o((p=e.ticker)==null?void 0:p.autoScroll,a.ticker.autoScroll),intervalSeconds:_v((b=e.ticker)==null?void 0:b.intervalSeconds,a.ticker.intervalSeconds),showBoardBadges:o((m=e.ticker)==null?void 0:m.showBoardBadges,a.ticker.showBoardBadges)},f=Array.isArray(e.hiddenBoards)?Array.from(new Set(e.hiddenBoards.map(g=>r(g)).filter(g=>Number.isInteger(g)&&g>0))):a.hiddenBoards.slice();return{enabled:o(e.enabled,a.enabled),filtersEnabled:o(e.filtersEnabled,a.filtersEnabled),defaultFilter:s,hiddenBoards:f,mineMode:l,solvedIncludesArchived:i,ticker:c}}function _v(e,t){const a=Number(e);return Number.isFinite(a)?Math.min(10,Math.max(3,Math.trunc(a))):t}class Hn extends Error{constructor(t,a,o){super(t),this.status=a,this.body=o}}async function xv(e){const t=Date.parse(e.from),a=Date.parse(e.to);if(!Number.isFinite(t)||!Number.isFinite(a)||t>a)return[];const o=e.includeCompleted!==!1,r=e.includeArchived!==!1,n=await Bi();if(n.length===0)return[];const s=new Map;n.forEach(i=>{i.id!=null&&s.set(i.id,{id:i.id,title:i.title||`Board ${i.id}`,color:Pi(i.color)})});const l=[];for(const i of n){if(i.id==null)continue;let c;const f=r?{details:1,archived:1,includeArchived:1}:{details:1};try{c=await $r(Tr(`/apps/deck/api/v1/boards/${i.id}/stacks`,f))}catch(g){if(Fi(g))continue;if(g instanceof Hn&&g.status===400){const u=r?{archived:1,includeArchived:1}:void 0;c=await $r(Tr(`/apps/deck/api/v1/boards/${i.id}/stacks`,u))}else throw g}const p=Ni(c);let b=[];if(r)try{const g=await $r(Tr(`/apps/deck/api/v1/boards/${i.id}/stacks/archived`));b=Ni(g)}catch{}const m=[...p.map(g=>({stack:g,forceArchived:!1})),...b.map(g=>({stack:g,forceArchived:!0}))];for(const{stack:g,forceArchived:u}of m){if(g.cards==null||g.id==null)continue;const v=g.title||`Stack ${g.id}`;for(const M of g.cards){const $=Sv(M,s.get(i.id),{stackId:g.id,stackTitle:v},{forceArchived:u});if(!$)continue;if(!($.dueTs!=null||$.doneTs!=null)){if($.status==="archived"&&!r)continue;l.push({...$,match:"due"});continue}if($.status==="archived"&&!r)continue;const C=$.dueTs!=null&&Ii($.dueTs,t,a),S=o&&$.doneTs!=null&&Ii($.doneTs,t,a),P=$.status!=="active",w=o&&(S||P&&C);!(C&&!w)&&!w||l.push({...$,match:w?"completed":"due"})}}}return l.sort((i,c)=>{const f=Number.MAX_SAFE_INTEGER,p=i.match==="due"?i.dueTs??i.doneTs??f:i.doneTs??i.dueTs??f,b=c.match==="due"?c.dueTs??c.doneTs??f:c.doneTs??c.dueTs??f;return p!==b?p-b:i.boardId!==c.boardId?i.boardId-c.boardId:i.id-c.id})}async function Bi(){let e;try{e=await $r(Tr("/apps/deck/api/v1/boards",{details:0}))}catch(t){if(Fi(t))return[];throw t}return Cv(e)}function Cv(e){if(Array.isArray(e))return e;if(e&&typeof e=="object"){if(Array.isArray(e.data))return e.data;if(e.ocs&&Array.isArray(e.ocs.data))return e.ocs.data}return[]}function Ni(e){if(Array.isArray(e))return e;if(e&&typeof e=="object"){if(Array.isArray(e.data))return e.data;if(e.ocs&&Array.isArray(e.ocs.data))return e.ocs.data}return[]}function Sv(e,t,a,o){var p,b,m,g;if(!e||typeof e!="object"||e.id==null||!a)return null;const r=Wn(e.duedate),n=Wn(e.done),s=Wn(e.createdAt??e.created),l=e.boardId||(t==null?void 0:t.id);if(l==null)return null;const i=!!e.archived||!!(o!=null&&o.forceArchived),c=i?"archived":n!=null?"done":"active",f=(t==null?void 0:t.title)||`Board ${l}`;return{id:e.id,title:e.title||`Card ${e.id}`,description:e.description||"",boardId:l,boardTitle:f,boardColor:t==null?void 0:t.color,stackTitle:a.stackTitle,stackId:a.stackId,due:r!=null?new Date(r).toISOString():void 0,dueTs:r??void 0,done:n!=null?new Date(n).toISOString():void 0,doneTs:n??void 0,archived:i,status:c,created:s!=null?new Date(s).toISOString():void 0,createdTs:s??void 0,createdBy:(p=Sr(e.owner??e.createdBy??e.creator))==null?void 0:p.uid,createdByDisplay:(b=Sr(e.owner??e.createdBy??e.creator))==null?void 0:b.displayName,doneBy:(m=Sr(e.doneBy??e.completedBy??e.lastEditor))==null?void 0:m.uid,doneByDisplay:(g=Sr(e.doneBy??e.completedBy??e.lastEditor))==null?void 0:g.displayName,labels:Array.isArray(e.labels)?e.labels.filter(u=>!!(u&&typeof u=="object")).map(u=>({id:u.id,title:u.title||`Label ${u.id??""}`.trim(),color:Pi(u.color)})):[],assignees:Array.isArray(e.assignedUsers)?e.assignedUsers.map(u=>$v(u)).filter(Boolean):[],match:"due"}}function $v(e){if(!e)return null;const t=e.participant;if(t&&typeof t=="object"){const a=typeof t.uid=="string"?t.uid:void 0,o=typeof t.displayname=="string"?t.displayname:void 0;if(a||o)return{id:e.id,uid:a,displayName:o}}return typeof t=="string"?{id:e.id,uid:t}:null}function Sr(e){if(!e)return null;if(typeof e=="string"){const t=e.trim();return t?{uid:t}:null}if(typeof e=="object"){const t=typeof e.uid=="string"?e.uid:typeof e.participant=="string"?e.participant:void 0,a=typeof e.displayname=="string"?e.displayname:typeof e.id=="string"||typeof e.id=="number"?String(e.id):void 0;if(t||a)return{uid:t,displayName:a}}return null}function Wn(e){if(typeof e=="number"&&Number.isFinite(e))return e>1e12?Math.trunc(e):e*1e3;if(typeof e=="string"&&e.trim()!==""){const t=Date.parse(e);return Number.isFinite(t)?t:null}return null}function Ii(e,t,a){return e>=t&&e<=a}function Pi(e){if(!e||typeof e!="string")return;const t=e.trim();if(t!=="")return t.startsWith("#")?t:`#${t}`}async function $r(e){const t={Accept:"application/json","OCS-APIREQUEST":"true"},a=Mv();a&&(t.requesttoken=a);const o=await fetch(e,{credentials:"same-origin",headers:t}),r=await o.text();if(!o.ok)throw new Hn(`Deck request failed (${o.status})`,o.status,r);return r?JSON.parse(r):null}function Tr(e,t){var l,i,c;const a=e.startsWith("/")?e:`/${e}`,o=t?Tv(t):"",r=typeof window<"u"?window:{};if(r.OC&&typeof r.OC.generateUrl=="function"){const f=r.OC.generateUrl(a);return o?`${f}?${o}`:f}const n=r.OC&&(r.OC.webroot||((i=(l=r.OC).getRootPath)==null?void 0:i.call(l)))||r._oc_webroot||"",s=typeof((c=r.location)==null?void 0:c.origin)=="string"?r.location.origin:"";return n?o?`${n}${a}?${o}`:`${n}${a}`:s?o?`${s}${a}?${o}`:`${s}${a}`:o?`${a}?${o}`:a}function Tv(e){const t=new URLSearchParams;return Object.entries(e).forEach(([a,o])=>{o!=null&&t.append(a,String(o))}),t.toString()}function Mv(){var a;const e=typeof window<"u"?window:{},t=((a=e.OC)==null?void 0:a.requestToken)||e.oc_requesttoken;return typeof t=="string"?t:void 0}function Fi(e){return e instanceof Hn&&(e.status===404||e.status===401||e.status===503)}function Dv(e){var Fo,Fr;const{props:t,emit:a}=e,o=["intro","strategy","dashboard","calendars","categories","preferences","review"],r=te(0),n=te("total_only"),s=te(t.initialDashboardMode||"standard"),l=te([]),i=te([]),c=te({}),f=te("auto"),p=te(8),b=te(null),m=te(3),g=te(Ie(t.initialDeckSettings??Cr())),u=te({...t.initialReportingConfig??xr()}),v=te({showDayOffTrend:((Fr=(Fo=t.initialTargetsConfig)==null?void 0:Fo.activityCard)==null?void 0:Fr.showDayOffTrend)??!0}),M=te([]),$=te(!1),T=te(""),C=[{id:"quick",title:"Quick",subtitle:"Minimal view, core widgets only",highlights:["Time summary","Targets","Activity","Deck cards lite"],widgets:"4 widgets"},{id:"standard",title:"Standard",subtitle:"Balanced set for most users",highlights:["Time/Targets/Balance","Activity & trends","Deck cards"],widgets:"67 widgets"},{id:"pro",title:"Pro",subtitle:"Full layout with extras",highlights:["All core widgets","Deck cards & summary","Notes + text block"],widgets:"8+ widgets"}],S=E(()=>{if(!g.value.enabled)return[];const Z=new Set(g.value.hiddenBoards||[]);return M.value.filter(ne=>!Z.has(ne.id))}),P=E(()=>{if(!g.value.enabled)return"Deck tab disabled";if($.value)return"Deck tab enabled  loading boards";if(T.value)return"Deck tab enabled  open Deck to finish setup.";if(!M.value.length)return"Deck tab enabled  create a Deck board to see cards.";if(!S.value.length)return"Deck tab enabled  all boards hidden";if(S.value.length===M.value.length){const Z=S.value.length;return Z===1?"Showing 1 board":`Showing all ${Z} boards`}return S.value.length===1?`Showing ${S.value[0].title}`:S.value.length===2?`Showing ${S.value[0].title} and ${S.value[1].title}`:`Showing ${S.value.length} boards`}),w=E(()=>{if(!u.value.enabled)return"Recap disabled";const Z=u.value.schedule==="both"?"Weekly + monthly recap":u.value.schedule==="week"?"Weekly recap":"Monthly recap",ne=u.value.interim==="daily"?"Daily reminder":u.value.interim==="midweek"?"Mid-range reminder":"No interim reminder";return`${Z}  ${ne}`}),_=te(null),x=E(()=>f.value==="auto"?t.systemTheme==="dark"?"dark":"light":f.value),h=E(()=>t.systemTheme==="dark"?"dark":"light"),D=["#2563EB","#F97316","#10B981","#A855F7","#EC4899","#14B8A6","#F59E0B","#6366F1","#0EA5E9","#65A30D"],O=E(()=>i.value.reduce((Z,ne)=>Z+(Number.isFinite(ne.targetHours)?ne.targetHours:0),0)),z=E(()=>{const Z=new Set,ne=ke=>{const it=Ce(ke);it&&Z.add(it)};return t.calendars.forEach(ke=>ne(ke.color)),i.value.forEach(ke=>ne(ke.color)),D.forEach(ke=>Z.add(ke)),Array.from(Z)}),re=kv(),I=E(()=>re.find(Z=>Z.id===n.value)??re[0]),V=E(()=>I.value.layers.categories),X=E(()=>t.closable!==!1),Y=E(()=>o.filter(Z=>Z==="categories"?V.value:!0)),he=E(()=>Y.value[Math.min(r.value,Y.value.length-1)]),ee=E(()=>r.value+1),K=E(()=>Y.value.length),U=E(()=>t.saving===!0),Q=E(()=>t.snapshotSaving===!0),N=E(()=>t.snapshotNotice??null),J="opsdash-onboarding-lock";function de(Z){if(typeof document>"u")return;const ne=document.body;ne&&(Z?(ne.classList.add(J),ne.dataset.opsdashOnboarding="1"):(ne.classList.remove(J),delete ne.dataset.opsdashOnboarding))}Oe(()=>t.visible,Z=>{Z&&(F(),pe()),de(Z)},{immediate:!0}),Mt(()=>{typeof document<"u"&&document.addEventListener("click",be),st().catch(Z=>{console.error("[opsdash] deck board load failed",Z)})}),gn(()=>{typeof document<"u"&&document.removeEventListener("click",be),de(!1)});function F(){var ne,ke,it,vt;r.value=0,n.value=t.initialStrategy??"total_only";const Z=(ne=t.initialSelection)!=null&&ne.length?[...t.initialSelection]:t.calendars.map(Ho=>Ho.id);l.value=Array.from(new Set(Z.filter(Ho=>t.calendars.some(oo=>oo.id===Ho)))),f.value=t.initialThemePreference??"auto",p.value=Ue(t.initialAllDayHours??8),b.value=Ze(t.initialTotalHours??null),m.value=ut(((ke=t.initialTargetsConfig)==null?void 0:ke.balanceTrendLookback)??3),g.value=Ie(t.initialDeckSettings??Cr()),u.value={...t.initialReportingConfig??xr()},v.value={showDayOffTrend:((vt=(it=t.initialTargetsConfig)==null?void 0:it.activityCard)==null?void 0:vt.showDayOffTrend)??!0},H(),V.value?b.value=Ze(O.value):b.value===null&&(b.value=40),q()}function H(){const Z=Oi(n.value,t.calendars,l.value);i.value=Z.categories.map(ne=>({...ne})),c.value={...Z.assignments},R(),W()}function R(){if(!V.value||!i.value.length){c.value={};return}const Z=new Set(i.value.map(it=>it.id)),ne=i.value[0].id,ke={};l.value.forEach(it=>{const vt=c.value[it];ke[it]=Z.has(vt)?vt:ne}),c.value=ke}const ae=E(()=>t.calendars.filter(Z=>l.value.includes(Z.id))),ye=E(()=>In(n.value,t.calendars,l.value,V.value?{categories:i.value,assignments:c.value}:void 0)),L=E(()=>I.value.title);function W(){if(V.value){b.value=Ze(O.value);return}b.value===null&&(b.value=Ze(t.initialTotalHours??40))}function q(){if(!t.startStep)return;const Z=Y.value.indexOf(t.startStep);Z>=0&&(r.value=Z)}function ie(Z){const ne=Y.value.indexOf(Z);ne>=0&&(r.value=ne)}function oe(Z){switch(Z){case"intro":return"Intro";case"strategy":return"Modes";case"dashboard":return"Dashboard";case"calendars":return"Calendars";case"categories":return"Targets";case"preferences":return"Preferences";case"review":return"Review";default:return Z}}Oe(n,()=>{H(),r.value=Math.min(r.value,Y.value.length-1)}),Oe(Y,Z=>{r.value>=Z.length&&(r.value=Math.max(Z.length-1,0))}),Oe(()=>t.startStep,q),Oe(V,()=>{W()}),Oe(O,Z=>{V.value&&(b.value=Ze(Z))}),Oe(he,Z=>{Z!=="categories"&&pe()}),Oe(()=>t.visible,Z=>{Z||pe()}),Oe(l,()=>{R()},{deep:!0}),Oe(i,()=>{R()},{deep:!0});function ce(){const Z=`cat_${Date.now().toString(36)}_${i.value.length}`;i.value=[...i.value,{id:Z,label:`Category ${i.value.length+1}`,targetHours:8,includeWeekend:!1,paceMode:"days_only"}],R()}function ve(Z){i.value.length<=1||(i.value=i.value.filter(ne=>ne.id!==Z),R())}function ge(Z,ne){i.value=i.value.map(ke=>ke.id===Z?{...ke,label:ne}:ke)}function fe(Z,ne){const ke=Number(ne),it=Number.isFinite(ke)?Math.max(0,Math.min(1e3,ke)):void 0;i.value=i.value.map(vt=>vt.id===Z?{...vt,targetHours:it??vt.targetHours}:vt)}function le(Z,ne){i.value=i.value.map(ke=>ke.id===Z?{...ke,includeWeekend:ne}:ke)}function we(Z,ne){c.value={...c.value,[Z]:ne}}function me(Z){if(_.value===Z){pe();return}_.value=Z,ra(()=>{const ne=document.getElementById(`onboarding-color-popover-${Z}`);ne==null||ne.focus()})}function pe(){_.value=null}function be(Z){const ne=Z.target;ne!=null&&ne.closest("[data-color-popover]")||pe()}function Ce(Z){if(typeof Z!="string")return null;const ne=Z.trim();if(!/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(ne))return null;if(ne.length===4){const[,ke,it,vt]=ne;return`#${ke}${ke}${it}${it}${vt}${vt}`.toUpperCase()}return ne.toUpperCase()}function Se(Z){return Ce(Z==null?void 0:Z.color)??Ae.value}const Ae=E(()=>z.value[0]??"#2563EB");function Ne(Z,ne){i.value=i.value.map(ke=>ke.id===Z?{...ke,color:ne}:ke)}function Pe(Z,ne){const ke=Ce(ne);Ne(Z,ke??Ae.value)}function He(Z,ne){const ke=Ce(ne);Ne(Z,ke??Ae.value),pe()}function Ue(Z){if(!Number.isFinite(Z))return 8;const ne=Math.max(0,Math.min(24,Z));return Math.round(ne*100)/100}function Ze(Z){if(!Number.isFinite(Z))return null;const ne=Math.max(0,Math.min(1e3,Number(Z)));return Math.round(ne*100)/100}function ut(Z){return Number.isFinite(Z)?Math.max(1,Math.min(6,Math.round(Z))):3}function Ie(Z){return JSON.parse(JSON.stringify(Z))}async function st(){if($.value=!0,T.value="",!(typeof window<"u"&&typeof window.OC<"u")){$.value=!1,M.value=[];return}try{const ne=await Bi();M.value=ne,T.value=""}catch{T.value="Unable to load Deck boards. Open Deck to create one.",M.value=[]}finally{$.value=!1}}function Sa(Z){g.value={...g.value,enabled:Z}}function Rt(Z){return!(g.value.hiddenBoards||[]).includes(Z)}function je(Z,ne){const ke=new Set(g.value.hiddenBoards||[]);ne?ke.delete(Z):ke.add(Z),g.value={...g.value,hiddenBoards:Array.from(ke).sort((it,vt)=>it-vt)}}function qe(Z,ne){i.value=i.value.map(ke=>ke.id===Z?{...ke,paceMode:ne}:ke)}function jt(Z){if(V.value)return;const ne=Number(Z.value);if(!Number.isFinite(ne)){b.value=null;return}b.value=Ze(ne)}function Pr(Z){const ne=Number(Z.value);p.value=Ue(Number.isFinite(ne)?ne:p.value)}function Qa(Z){const ne=Number(Z.value);Number.isFinite(ne)&&(m.value=ut(ne))}function No(Z){u.value={...u.value,enabled:Z}}function da(Z){u.value={...u.value,schedule:Z}}function $a(Z){u.value={...u.value,interim:Z}}function eo(Z){u.value={...u.value,...Z}}function Io(Z){v.value={...v.value,showDayOffTrend:Z}}const to=E(()=>r.value>0),ao=E(()=>r.value<Y.value.length-1),Ut=E(()=>{if(he.value==="strategy")return!n.value;if(he.value==="calendars")return l.value.length===0;if(he.value==="categories"&&V.value){if(!l.value.length||!i.value.length)return!0;const Z=new Set(i.value.map(ne=>ne.id));if(l.value.some(ne=>!Z.has(c.value[ne])))return!0}return he.value==="preferences"&&(!V.value&&(b.value===null||b.value<0)||p.value<0||p.value>24)});function ua(){ao.value&&!Ut.value&&r.value++}function xt(){to.value&&r.value--}function Po(){a("skip")}function ts(){X.value&&a("close")}function as(){const Z=In(n.value,t.calendars,l.value,V.value?{categories:i.value.map(ke=>({...ke})),assignments:{...c.value}}:void 0),ne=Z.targetsConfig;if(ne.allDayHours=Ue(p.value),ne.balance||(ne.balance={basis:"events",trend:{lookbackWeeks:m.value}}),ne.balance.trend||(ne.balance.trend={lookbackWeeks:m.value}),ne.balance.trend.lookbackWeeks=ut(m.value),V.value){const ke=Ze(O.value);ke!=null&&(ne.totalHours=ke)}else if(b.value!=null){const ke=Ze(b.value);ke!=null&&(ne.totalHours=ke)}a("complete",{strategy:n.value,selected:[...l.value],targetsConfig:ne,groups:Z.groups,targetsWeek:Z.targetsWeek,targetsMonth:Z.targetsMonth,themePreference:f.value,deckSettings:Ie(g.value),reportingConfig:{...u.value},activityCard:{...v.value},dashboardMode:s.value})}function Ta(){const Z=In(n.value,t.calendars,l.value,V.value?{categories:i.value.map(ke=>({...ke})),assignments:{...c.value}}:void 0),ne=Z.targetsConfig;if(ne.allDayHours=Ue(p.value),ne.balance||(ne.balance={basis:"events",trend:{lookbackWeeks:m.value}}),ne.balance.trend||(ne.balance.trend={lookbackWeeks:m.value}),ne.balance.trend.lookbackWeeks=ut(m.value),V.value){const ke=Ze(O.value);ke!=null&&(ne.totalHours=ke)}else if(b.value!=null){const ke=Ze(b.value);ke!=null&&(ne.totalHours=ke)}return{targetsConfig:ne,groups:Z.groups,targetsWeek:Z.targetsWeek,targetsMonth:Z.targetsMonth,selected:[...l.value]}}function Nt(){return{completed:!1,version:t.onboardingVersion,strategy:n.value,completed_at:"",dashboardMode:s.value}}function os(Z){const ne=Ta(),ke=Nt();return Z==="intro"?{onboarding:ke}:Z==="strategy"?{onboarding:ke,targets_config:ne.targetsConfig,groups:ne.groups,targets_week:ne.targetsWeek,targets_month:ne.targetsMonth}:Z==="dashboard"?{onboarding:ke,dashboardMode:s.value}:Z==="calendars"?{cals:ne.selected}:Z==="categories"?{targets_config:ne.targetsConfig,groups:ne.groups,targets_week:ne.targetsWeek,targets_month:ne.targetsMonth}:Z==="preferences"?{targets_config:ne.targetsConfig,theme_preference:f.value,deck_settings:Ie(g.value),reporting_config:{...u.value},targets_config_activity:{...v.value}}:{cals:ne.selected,targets_config:ne.targetsConfig,groups:ne.groups,targets_week:ne.targetsWeek,targets_month:ne.targetsMonth,theme_preference:f.value,deck_settings:Ie(g.value),reporting_config:{...u.value},targets_config_activity:{...v.value},onboarding:ke}}function rs(Z,ne){if(ne.checked){l.value.includes(Z)||(l.value=[...l.value,Z]);return}l.value=l.value.filter(ke=>ke!==Z)}return{stepOrder:o,stepIndex:r,selectedStrategy:n,dashboardMode:s,localSelection:l,categories:i,assignments:c,themePreference:f,allDayHoursInput:p,totalHoursInput:b,trendLookbackInput:m,deckSettingsDraft:g,reportingDraft:u,activityDraft:v,deckBoards:M,deckBoardsLoading:$,deckBoardsError:T,dashboardPresets:C,deckVisibleBoards:S,deckReviewSummary:P,reportingSummary:w,openColorId:_,previewTheme:x,systemThemeLabel:h,categoryTotalHours:O,categoryColorPalette:z,strategies:re,categoriesEnabled:V,isClosable:X,enabledSteps:Y,currentStep:he,stepNumber:ee,totalSteps:K,saving:U,snapshotSaving:Q,snapshotNotice:N,selectedCalendars:ae,draft:ye,strategyTitle:L,applyStartStep:q,goToStep:ie,stepLabel:oe,addCategory:ce,removeCategory:ve,setCategoryLabel:ge,setCategoryTarget:fe,toggleCategoryWeekend:le,assignCalendar:we,toggleColorPopover:me,closeColorPopover:pe,resolvedColor:Se,applyColor:He,onColorInput:Pe,setDeckEnabled:Sa,isDeckBoardVisible:Rt,toggleDeckBoard:je,setCategoryPaceMode:qe,onTotalHoursChange:jt,onAllDayHoursChange:Pr,onTrendLookbackChange:Qa,setReportingEnabled:No,setReportingSchedule:da,setReportingInterim:$a,updateReporting:eo,setActivityDayOff:Io,canGoBack:to,canGoNext:ao,nextDisabled:Ut,nextStep:ua,prevStep:xt,handleSkip:Po,handleClose:ts,emitComplete:as,toggleCalendar:rs,resetWizard:F,buildStepPayload:os}}const Av={key:0,class:"onboarding-overlay",role:"dialog","aria-modal":"true"},Lv={class:"onboarding-header"},Ev={class:"onboarding-title"},Ov={class:"subtitle"},Bv={class:"onboarding-actions"},Nv=["disabled"],Iv=["disabled"],Pv={class:"onboarding-step-nav","aria-label":"Onboarding steps"},Fv=["disabled","onClick"],Hv={class:"onboarding-body"},Wv={key:0,class:"onboarding-step"},zv={key:1,class:"onboarding-step"},Rv={key:2,class:"onboarding-step"},jv={key:3,class:"onboarding-step"},Uv={key:4,class:"onboarding-step"},Vv={key:5,class:"onboarding-step"},Kv={key:6,class:"onboarding-step"},qv={class:"onboarding-footer"},Gv=Te({__name:"OnboardingWizard",props:{visible:{type:Boolean},calendars:{},initialSelection:{},initialStrategy:{},startStep:{},onboardingVersion:{},saving:{type:Boolean},closable:{type:Boolean},initialThemePreference:{},systemTheme:{},initialAllDayHours:{},initialTotalHours:{},initialDeckSettings:{},initialReportingConfig:{},hasExistingConfig:{type:Boolean},snapshotSaving:{type:Boolean},snapshotNotice:{},initialDashboardMode:{},initialTargetsConfig:{}},emits:["close","skip","complete","save-step","save-current-config"],setup(e,{emit:t}){const a=e,o=t,{stepNumber:r,totalSteps:n,enabledSteps:s,currentStep:l,isClosable:i,saving:c,stepLabel:f,goToStep:p,handleClose:b,handleSkip:m,canGoBack:g,canGoNext:u,nextDisabled:v,prevStep:M,nextStep:$,emitComplete:T,themePreference:C,systemThemeLabel:S,previewTheme:P,totalHoursInput:w,categoryTotalHours:_,categoriesEnabled:x,onTotalHoursChange:h,allDayHoursInput:D,onAllDayHoursChange:O,trendLookbackInput:z,onTrendLookbackChange:re,deckSettingsDraft:I,setDeckEnabled:V,deckBoards:X,deckBoardsLoading:Y,deckBoardsError:he,isDeckBoardVisible:ee,toggleDeckBoard:K,reportingDraft:U,setReportingEnabled:Q,setReportingSchedule:N,setReportingInterim:J,updateReporting:de,activityDraft:F,setActivityDayOff:H,dashboardMode:R,dashboardPresets:ae,strategies:ye,selectedStrategy:L,localSelection:W,toggleCalendar:q,categories:ie,selectedCalendars:oe,assignments:ce,addCategory:ve,removeCategory:ge,setCategoryLabel:fe,setCategoryTarget:le,toggleCategoryWeekend:we,assignCalendar:me,openColorId:pe,toggleColorPopover:be,closeColorPopover:Ce,categoryColorPalette:Se,resolvedColor:Ae,applyColor:Ne,onColorInput:Pe,draft:He,strategyTitle:Ue,deckReviewSummary:Ze,deckVisibleBoards:ut,reportingSummary:Ie,buildStepPayload:st}=Dv({props:a,emit:o});function Sa(){o("save-step",st(l.value))}return(Rt,je)=>(y(),Xe(Qu,{name:"onboarding-fade"},{default:Ve(()=>[Rt.visible?(y(),k("div",Av,[d("div",{class:"onboarding-backdrop",onClick:je[0]||(je[0]=(...qe)=>A(b)&&A(b)(...qe))}),d("div",{class:"onboarding-panel",onClick:je[3]||(je[3]=et(()=>{},["stop"]))},[d("header",Lv,[d("div",Ev,[je[4]||(je[4]=d("h2",null,"Welcome to Opsdash",-1)),d("p",Ov,"Step "+B(A(r))+" of "+B(A(n)),1)]),d("div",Bv,[d("button",{type:"button",class:"skip-link",onClick:je[1]||(je[1]=(...qe)=>A(m)&&A(m)(...qe)),disabled:A(c)},"Maybe later",8,Nv),A(i)?(y(),k("button",{key:0,type:"button",class:"close-btn",disabled:A(c),onClick:je[2]||(je[2]=(...qe)=>A(b)&&A(b)(...qe)),"aria-label":"Close onboarding"},"  ",8,Iv)):G("",!0)])]),d("nav",Pv,[(y(!0),k(ue,null,xe(A(s),qe=>(y(),k("button",{key:qe,type:"button",class:Ee(["step-pill",{active:qe===A(l)}]),disabled:A(c),onClick:jt=>A(p)(qe)},B(A(f)(qe)),11,Fv))),128))]),d("main",Hv,[A(l)==="intro"?(y(),k("section",Wv,[$e(Bp,{"has-existing-config":a.hasExistingConfig??!1,"snapshot-saving":a.snapshotSaving??!1,saving:A(c),"snapshot-notice":a.snapshotNotice??null,"on-save-current-config":()=>o("save-current-config")},null,8,["has-existing-config","snapshot-saving","saving","snapshot-notice","on-save-current-config"])])):A(l)==="preferences"?(y(),k("section",zv,[$e(Ch,{"theme-preference":A(C),"system-theme-label":A(S),"preview-theme":A(P),"set-theme-preference":qe=>C.value=qe,"total-hours-input":A(w),"category-total-hours":A(_),"categories-enabled":A(x),"on-total-hours-change":A(h),"all-day-hours-input":A(D),"on-all-day-hours-change":A(O),"trend-lookback-input":A(z),"on-trend-lookback-change":A(re),"deck-settings-draft":A(I),"set-deck-enabled":A(V),"deck-boards":A(X),"deck-boards-loading":A(Y),"deck-boards-error":A(he),"is-deck-board-visible":A(ee),"toggle-deck-board":A(K),"reporting-draft":A(U),"set-reporting-enabled":A(Q),"set-reporting-schedule":A(N),"set-reporting-interim":A(J),"update-reporting":A(de),"activity-draft":A(F),"set-activity-day-off":A(H)},null,8,["theme-preference","system-theme-label","preview-theme","set-theme-preference","total-hours-input","category-total-hours","categories-enabled","on-total-hours-change","all-day-hours-input","on-all-day-hours-change","trend-lookback-input","on-trend-lookback-change","deck-settings-draft","set-deck-enabled","deck-boards","deck-boards-loading","deck-boards-error","is-deck-board-visible","toggle-deck-board","reporting-draft","set-reporting-enabled","set-reporting-schedule","set-reporting-interim","update-reporting","activity-draft","set-activity-day-off"])])):A(l)==="dashboard"?(y(),k("section",Rv,[$e(Mh,{"dashboard-mode":A(R),"set-dashboard-mode":qe=>R.value=qe,"dashboard-presets":A(ae)},null,8,["dashboard-mode","set-dashboard-mode","dashboard-presets"])])):A(l)==="strategy"?(y(),k("section",jv,[$e(Eh,{strategies:A(ye),"selected-strategy":A(L),"set-selected-strategy":qe=>L.value=qe},null,8,["strategies","selected-strategy","set-selected-strategy"])])):A(l)==="calendars"?(y(),k("section",Uv,[$e(Ih,{calendars:Rt.calendars,"local-selection":A(W),"toggle-calendar":A(q)},null,8,["calendars","local-selection","toggle-calendar"])])):A(l)==="categories"?(y(),k("section",Vv,[$e(lv,{"categories-enabled":A(x),categories:A(ie),"category-total-hours":A(_),"selected-calendars":A(oe),assignments:A(ce),"add-category":A(ve),"remove-category":A(ge),"set-category-label":A(fe),"set-category-target":A(le),"toggle-category-weekend":A(we),"assign-calendar":A(me),"open-color-id":A(pe),"toggle-color-popover":A(be),"close-color-popover":A(Ce),"category-color-palette":A(Se),"resolved-color":A(Ae),"apply-color":A(Ne),"on-color-input":A(Pe)},null,8,["categories-enabled","categories","category-total-hours","selected-calendars","assignments","add-category","remove-category","set-category-label","set-category-target","toggle-category-weekend","assign-calendar","open-color-id","toggle-color-popover","close-color-popover","category-color-palette","resolved-color","apply-color","on-color-input"])])):A(l)==="review"?(y(),k("section",Kv,[$e(gv,{"strategy-title":A(Ue),"selected-calendars":A(oe),"draft-targets-categories":A(He).targetsConfig.categories,"draft-total-hours":A(He).targetsConfig.totalHours,"category-total-hours":A(_),"deck-review-summary":A(Ze),"deck-enabled":A(I).enabled,"deck-visible-boards":A(ut),"reporting-enabled":A(U).enabled,"reporting-summary":A(Ie),"show-day-off-trend":A(F).showDayOffTrend},null,8,["strategy-title","selected-calendars","draft-targets-categories","draft-total-hours","category-total-hours","deck-review-summary","deck-enabled","deck-visible-boards","reporting-enabled","reporting-summary","show-day-off-trend"])])):G("",!0)]),d("footer",qv,[A(g)?(y(),Xe(A(rt),{key:0,type:"tertiary",disabled:A(c),onClick:A(M)},{default:Ve(()=>[...je[5]||(je[5]=[Me("Back",-1)])]),_:1},8,["disabled","onClick"])):G("",!0),$e(A(rt),{type:"tertiary",disabled:A(c)||A(v),onClick:Sa},{default:Ve(()=>[...je[6]||(je[6]=[Me("Save step",-1)])]),_:1},8,["disabled"]),A(u)?(y(),Xe(A(rt),{key:1,type:"primary",disabled:A(v)||A(c),onClick:A($)},{default:Ve(()=>[...je[7]||(je[7]=[Me("Continue",-1)])]),_:1},8,["disabled","onClick"])):(y(),Xe(A(rt),{key:2,type:"primary",disabled:A(c),onClick:A(T)},{default:Ve(()=>[...je[8]||(je[8]=[Me(" Start dashboard ",-1)])]),_:1},8,["disabled","onClick"]))])])])):G("",!0)]),_:1}))}}),Jv=["onKeydown"],Yv={class:"shortcuts-body"},Zv={class:"shortcut-label"},Xv={key:0},Qv={class:"shortcut-combo","aria-hidden":"true"},em={class:"shortcuts-footer"},tm=We(Te({__name:"KeyboardShortcutsModal",props:{visible:{type:Boolean},groups:{}},emits:["close"],setup(e,{emit:t}){const a=e,o=t,r=te(null);function n(){o("close")}return Oe(()=>a.visible,s=>{s&&ra(()=>{var l;(l=r.value)==null||l.focus()}).catch(()=>{})}),(s,l)=>s.visible?(y(),k("div",{key:0,class:"shortcuts-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"opsdash-shortcuts-title",onClick:et(n,["self"])},[d("div",{ref_key:"panelRef",ref:r,class:"shortcuts-panel",tabindex:"-1",onKeydown:wa(et(n,["prevent"]),["esc"])},[d("header",{class:"shortcuts-header"},[l[0]||(l[0]=d("div",{class:"shortcuts-title"},[d("h2",{id:"opsdash-shortcuts-title"},"Keyboard Shortcuts"),d("p",{class:"shortcuts-hint"},"Press Esc to close or ? to reopen.")],-1)),d("button",{type:"button",class:"shortcuts-close","aria-label":"Close shortcuts overlay",onClick:n},"  ")]),d("div",Yv,[(y(!0),k(ue,null,xe(s.groups,i=>(y(),k("section",{key:i.id,class:"shortcuts-group"},[d("h3",null,B(i.title),1),d("ul",null,[(y(!0),k(ue,null,xe(i.items,c=>(y(),k("li",{key:c.id},[d("span",Zv,[Me(B(c.label)+" ",1),c.description?(y(),k("small",Xv,B(c.description),1)):G("",!0)]),d("span",Qv,[(y(!0),k(ue,null,xe(c.combo,(f,p)=>(y(),k("kbd",{key:p},B(f),1))),128))])]))),128))])]))),128))]),d("footer",em,[$e(A(rt),{type:"primary",size:"small",onClick:n},{default:Ve(()=>[...l[1]||(l[1]=[Me(" Close ",-1)])]),_:1})])],40,Jv)])):G("",!0)}}),[["__scopeId","data-v-f8126e32"]]),r2="modulepreload",n2=function(e){return"/"+e},s2={},at=function(t,a,o){let r=Promise.resolve();function n(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&n(l.reason);return t().catch(n)})};function am(e,t){const a=JSON.parse(JSON.stringify(e||{}));return t==="month"&&(a.totalHours=Do(a.totalHours??0),a.categories=(a.categories||[]).map(o=>({...o,targetHours:Do(o.targetHours??0)}))),a}function om(e){return{...e,ui:{...(e==null?void 0:e.ui)??{}}}}function rm(e,t){try{return Ti({config:e,stats:t.stats,byDay:t.byDay||[],byCal:t.byCal||[],groupsById:t.groupsById||{},range:t.rangeMode==="month"?"month":"week",from:t.from||"",to:t.to||""})}catch(a){return console.error("[opsdash] targets widget local summary failed",a),$i(e)}}function ot(e,t){if(!t)return e;const a=String(t).trim();return a?`${a}  ${e}`:e}function Lo(e,t){if(t!=null&&t!==""){const o=Number(t);if(Number.isFinite(o))return o}const a=Number(e);return Number.isFinite(a)?a:void 0}function Hi(e){switch(e){case"targets":return{title:"Targets"};case"activity":return{title:"Activity & Schedule"};case"balance":return{title:"Balance"};case"mix":return{title:"Category mix trend"};case"dayoff":return{title:"Days off trend"};case"deck":return{title:"Deck summary"};case"notes":return{title:"Notes"};default:return{}}}function nm(e,t={},a){if(!e)return[];if(e==="activity"){const n=(a==null?void 0:a.activitySummary)||{},s=p=>`${Number(p??0).toFixed(1)}%`,l=(p,b)=>[p,b].filter(Boolean).join(" / "),i=p=>`${Number(p??0).toFixed(1)}h`,c=p=>p?String(p):"";return[{opt:"weekendShare",key:"weekend",label:"Weekend share",value:s(n.weekendShare)},{opt:"eveningShare",key:"evening",label:"Evening share",value:s(n.eveningShare)},{opt:"earliestLatest",key:"earliest",label:"Earliest/Late times",value:l(n.typicalStart,n.typicalEnd)},{opt:"overlaps",key:"overlaps",label:"Overlaps",value:String(n.overlapEvents??"")},{opt:"longest",key:"longest",label:"Longest session",value:i(n.longestSession)},{opt:"lastDayOff",key:"lastDayOff",label:"Last day off",value:c(n.lastDayOff)}].filter(p=>t[p.opt]!==!1)}const r={"":[],targets:[{key:"status",label:"Status",value:"Pace / Delta / Forecast"},{key:"today",label:"Today",value:"Today overlay"},{key:"legend",label:"Legend",value:"Category breakdown"}],activity:[],balance:[{key:"index",label:"Index",value:"Balance index value"},{key:"trend",label:"Trend",value:"Trend history/heat"},{key:"notes",label:"Notes",value:"Pinned notes snippet"}],mix:[{key:"badge",label:"Badge",value:"Balance badge"},{key:"history",label:"History",value:"Category mix tiles"}],dayoff:[{key:"header",label:"Trend header",value:"Period lookback"},{key:"tiles",label:"Trend tiles",value:"Days off per week"}],deck:[{key:"header",label:"Deck header",value:"Range + Ticker"},{key:"buckets",label:"Buckets",value:"Open/Done/Archived counts"},{key:"empty",label:"Empty states",value:"No cards"}],notes:[{key:"labels",label:"Labels",value:"Prev/Current labels"},{key:"content",label:"Content",value:"Prev/Current note texts"}]}[e]||[];return t.include?r:r.length?[r[0]]:[]}function Wi(e){return Array.isArray(e)?Array.from(new Set(e.map(t=>Number(t)).filter(t=>Number.isInteger(t)&&t>0))):typeof e=="string"?Wi(e.split(",")):[]}function zi(e){return Array.isArray(e)?e.map(t=>String(t).trim()).filter(Boolean):typeof e=="string"?e.split(",").map(t=>t.trim()).filter(Boolean):["open_all","open_mine","done_all","done_mine","archived_all","archived_mine","due_all","due_mine","due_today_all","due_today_mine","created_today_all","created_today_mine"]}function Tt(e){switch(e){case"all":return"All cards";case"mine":return"Mine (any status)";case"open_all":return"Open  All";case"open_mine":return"Open  Mine";case"done_all":return"Done  All";case"done_mine":return"Done  Mine";case"archived_all":return"Archived  All";case"archived_mine":return"Archived  Mine";case"due_all":return"Due  All";case"due_mine":return"Due  Mine";case"due_today_all":return"Due today  All";case"due_today_mine":return"Due today  Mine";case"created_today_all":return"Created today  All";case"created_today_mine":return"Created today  Mine";case"created_range_all":return"Created this range  All";case"created_range_mine":return"Created this range  Mine";default:return e}}const sm=tt(()=>at(()=>Promise.resolve().then(()=>Y0),void 0).then(e=>e.default)),Ri="Activity & Schedule",lm={component:sm,defaultLayout:{width:"half",height:"m",order:40},label:"Activity (old)",baseTitle:Ri,configurable:!0,controls:[{key:"showBadges",label:"Show badges",type:"toggle"},{key:"showTrends",label:"Show trend tiles",type:"toggle"},{key:"showMeta",label:"Show meta rows",type:"toggle"}],buildProps:(e,t)=>{var a,o,r,n,s,l;return{summary:t.activitySummary,config:t.activityConfig,dayOffTrend:t.activityDayOffTrend,trendUnit:t.activityTrendUnit,dayOffLookback:t.activityDayOffLookback,rangeLabel:t.rangeLabel,rangeMode:t.rangeMode,showHeader:((a=e.options)==null?void 0:a.showHeader)!==!1,showBadges:((o=e.options)==null?void 0:o.showBadges)!==!1,showTrends:((r=e.options)==null?void 0:r.showTrends)!==!1,showMeta:((n=e.options)==null?void 0:n.showMeta)!==!1,title:ot(Ri,(s=e.options)==null?void 0:s.titlePrefix),cardBg:(l=e.options)==null?void 0:l.cardBg}}},im=tt(()=>at(()=>Promise.resolve().then(()=>xw),void 0).then(e=>e.default)),ji="Activity & Balance",cm={component:im,defaultLayout:{width:"half",height:"m",order:30},label:"Balance (old)",baseTitle:ji,configurable:!0,defaultOptions:{lookbackWeeks:3},controls:[{key:"showTrend",label:"Show trend history",type:"toggle"},{key:"showRelations",label:"Show relations",type:"toggle"},{key:"showWarnings",label:"Show warnings",type:"toggle"},{key:"lookbackWeeks",label:"Trend lookback (weeks)",type:"number",min:1,max:6,step:1}],buildProps:(e,t)=>{var a,o,r,n,s,l,i;return{overview:t.balanceOverview,rangeLabel:t.rangeLabel,rangeMode:t.rangeMode,lookbackWeeks:((a=e.options)==null?void 0:a.lookbackWeeks)??t.lookbackWeeks??3,config:t.balanceConfig??{showNotes:!1},note:t.balanceNote,activitySummary:t.activitySummary,activityConfig:t.activityConfig,activityDayOffTrend:t.activityDayOffTrend,activityTrendUnit:t.activityTrendUnit,activityDayOffLookback:t.activityDayOffLookback,showHeader:((o=e.options)==null?void 0:o.showHeader)!==!1,showTrend:((r=e.options)==null?void 0:r.showTrend)!==!1,showRelations:((n=e.options)==null?void 0:n.showRelations)!==!1,showWarnings:((s=e.options)==null?void 0:s.showWarnings)!==!1,title:ot(ji,(l=e.options)==null?void 0:l.titlePrefix),cardBg:(i=e.options)==null?void 0:i.cardBg}}},dm=tt(()=>at(()=>Promise.resolve().then(()=>Fw),void 0).then(e=>e.default)),Ui="Balance Index",um={component:dm,defaultLayout:{width:"half",height:"s",order:32},label:"Balance Index",baseTitle:Ui,configurable:!0,supportsColors:!0,defaultOptions:(()=>{const e=Za();return{showTrend:!0,showMessages:!0,showConfig:!0,indexBasis:e.index.basis,noticeAbove:e.thresholds.noticeAbove,noticeBelow:e.thresholds.noticeBelow,warnAbove:e.thresholds.warnAbove,warnBelow:e.thresholds.warnBelow,warnIndex:e.thresholds.warnIndex,lookbackWeeks:e.trend.lookbackWeeks,messageDensity:"normal",trendColor:"#2563EB",showCurrent:!0,labelMode:"period",reverseTrend:!1}})(),controls:[{key:"showConfig",label:"Show config summary",type:"toggle"},{key:"showTrend",label:"Show trend",type:"toggle"},{key:"showMessages",label:"Show messages",type:"toggle"},{key:"lookbackWeeks",label:"Trend lookback (weeks)",type:"number",min:1,max:6,step:1},{key:"messageDensity",label:"Messages shown",type:"select",options:[{value:"few",label:"Few"},{value:"normal",label:"Normal"},{value:"many",label:"Many"}]},{key:"indexBasis",label:"Index basis",type:"select",options:[{value:"off",label:"Disabled"},{value:"category",label:"Total categories"},{value:"calendar",label:"Total calendars"},{value:"both",label:"Categories + calendars"}]},{key:"noticeAbove",label:"Notice above target",type:"number",min:0,max:1,step:.01},{key:"noticeBelow",label:"Notice below target",type:"number",min:0,max:1,step:.01},{key:"warnAbove",label:"Warn above target",type:"number",min:0,max:1,step:.01},{key:"warnBelow",label:"Warn below target",type:"number",min:0,max:1,step:.01},{key:"warnIndex",label:"Warn index",type:"number",min:0,max:1,step:.01},{key:"trendColor",label:"Trend color",type:"color"},{key:"showCurrent",label:"Show current period",type:"toggle"},{key:"reverseTrend",label:"Oldest first (reverse)",type:"toggle"},{key:"labelMode",label:"Trend label",type:"select",options:[{value:"date",label:"Date range"},{value:"period",label:"Week/Month"},{value:"offset",label:"Offset only"}]}],buildProps:(e,t)=>{var u,v,M,$,T,C,S,P,w,_,x,h,D,O,z,re,I,V,X,Y,he,ee,K,U,Q,N,J,de,F,H,R,ae,ye,L,W;const a=t.balanceConfig?JSON.parse(JSON.stringify(t.balanceConfig)):Za(),o=Za(),r=((u=e.options)==null?void 0:u.showBadge)!==!1,n=((v=e.options)==null?void 0:v.showTrend)!==!1,s=((M=e.options)==null?void 0:M.showMessages)??(($=a.ui)==null?void 0:$.showMessages)??!0,l=((T=e.options)==null?void 0:T.messageDensity)||"normal",i=l==="few"?1:l==="many"?1/0:3,c=Number.isFinite((C=e.options)==null?void 0:C.lookbackWeeks)?Number((S=e.options)==null?void 0:S.lookbackWeeks):Number.isFinite(t.lookbackWeeks)?Number(t.lookbackWeeks):((P=o.trend)==null?void 0:P.lookbackWeeks)??3,f={noticeAbove:Lo((w=a==null?void 0:a.thresholds)==null?void 0:w.noticeAbove,(_=e.options)==null?void 0:_.noticeAbove),noticeBelow:Lo((x=a==null?void 0:a.thresholds)==null?void 0:x.noticeBelow,(h=e.options)==null?void 0:h.noticeBelow),warnAbove:Lo((D=a==null?void 0:a.thresholds)==null?void 0:D.warnAbove,(O=e.options)==null?void 0:O.warnAbove),warnBelow:Lo((z=a==null?void 0:a.thresholds)==null?void 0:z.warnBelow,(re=e.options)==null?void 0:re.warnBelow),warnIndex:Lo((I=a==null?void 0:a.thresholds)==null?void 0:I.warnIndex,(V=e.options)==null?void 0:V.warnIndex)},p=((X=e.options)==null?void 0:X.indexBasis)||((Y=a==null?void 0:a.index)==null?void 0:Y.basis)||"category",b=typeof((he=e.options)==null?void 0:he.trendColor)=="string"&&((ee=e.options)!=null&&ee.trendColor.trim())?e.options.trendColor.trim():"#2563EB",m=Number.isFinite((K=e.options)==null?void 0:K.loopbackCount)?Number((U=e.options)==null?void 0:U.loopbackCount):void 0,g=Number.isFinite(m)?Number(m):(Number.isFinite(c)?Number(c):((Q=o.trend)==null?void 0:Q.lookbackWeeks)??4)+1;return{overview:t.balanceOverview,targetsCategories:((N=t.targetsConfig)==null?void 0:N.categories)||[],rangeLabel:t.rangeLabel,showBadge:r,showTrend:n,showMessages:s,showHeader:((J=e.options)==null?void 0:J.showHeader)!==!1,showConfig:((de=e.options)==null?void 0:de.showConfig)!==!1,messageLimit:i,lookbackWeeks:g,loopbackCount:g,showCurrent:((F=e.options)==null?void 0:F.showCurrent)!==!1,labelMode:((H=e.options)==null?void 0:H.labelMode)||"period",reverseTrend:((R=e.options)==null?void 0:R.reverseTrend)===!0,indexBasis:p,thresholds:f,title:ot(Ui,(ae=e.options)==null?void 0:ae.titlePrefix),cardBg:((L=(ye=e.options)==null?void 0:ye.colors)==null?void 0:L.background)??((W=e.options)==null?void 0:W.cardBg),trendColor:b,from:t.from,to:t.to,rangeMode:t.rangeMode}}},fm=tt(()=>at(()=>Promise.resolve().then(()=>Jw),void 0).then(e=>e.default)),Vi="Category mix trend",gm={component:fm,defaultLayout:{width:"half",height:"m",order:47},label:"Category mix trend",baseTitle:Vi,defaultOptions:{lookbackWeeks:3,density:"normal",labelMode:"period",colorMode:"hybrid",squareCells:!1,showHeader:!0,showBadge:!0},configurable:!0,controls:[{key:"lookbackWeeks",label:"Lookback (weeks)",type:"number",min:1,max:4,step:1},{key:"density",label:"Density",type:"select",options:[{value:"normal",label:"Normal"},{value:"dense",label:"Dense"}]},{key:"squareCells",label:"Square cells",type:"toggle"},{key:"labelMode",label:"History label",type:"select",options:[{value:"period",label:"Week/Month"},{value:"date",label:"Date range"},{value:"compact",label:"Compact (W-4)"},{value:"offset",label:"Offset only"},{value:"label",label:"Use server label"}]},{key:"colorMode",label:"Color mode",type:"select",options:[{value:"hybrid",label:"Hybrid (share + trend)"},{value:"share",label:"Share heatmap"},{value:"trend",label:"Trend only"}]},{key:"shareLowColor",label:"Share low",type:"color"},{key:"shareHighColor",label:"Share high",type:"color"},{key:"showBadge",label:"Show badge",type:"toggle"},{key:"toneLowColor",label:"Low color",type:"color"},{key:"toneHighColor",label:"High color",type:"color"}],buildProps:(e,t)=>{var a,o,r,n,s,l,i,c,f,p,b,m,g;return{overview:t.balanceOverview,rangeMode:t.rangeMode,rangeLabel:t.rangeLabel,from:t.from,to:t.to,lookbackWeeks:((a=e.options)==null?void 0:a.lookbackWeeks)??t.lookbackWeeks??3,showBadge:((o=e.options)==null?void 0:o.showBadge)??!0,showHeader:((r=e.options)==null?void 0:r.showHeader)!==!1,density:(n=e.options)==null?void 0:n.density,labelMode:(s=e.options)==null?void 0:s.labelMode,squareCells:((l=e.options)==null?void 0:l.squareCells)===!0,colorMode:(i=e.options)==null?void 0:i.colorMode,title:ot(Vi,(c=e.options)==null?void 0:c.titlePrefix),cardBg:(f=e.options)==null?void 0:f.cardBg,toneLowColor:(p=e.options)==null?void 0:p.toneLowColor,toneHighColor:(b=e.options)==null?void 0:b.toneHighColor,shareLowColor:(m=e.options)==null?void 0:m.shareLowColor,shareHighColor:(g=e.options)==null?void 0:g.shareHighColor}}};function zt(e){return Array.isArray(e)?e.map(t=>String(t??"").trim()).filter(Boolean):typeof e=="string"?e.split(",").map(t=>t.trim()).filter(Boolean):[]}function pm(e,t){if(!e||!Array.isArray(e.data))return null;if(!t.size)return e;const a=e.ids||[],o=e.labels||[],r=e.data||[],n=e.colors||[],s=a.map((l,i)=>t.has(String(l))?i:-1).filter(l=>l>=0);return s.length?{ids:s.map(l=>String(a[l]??"")),labels:s.map(l=>String(o[l]??"")),data:s.map(l=>Number(r[l]??0)),colors:s.map(l=>n[l])}:null}function zn(e,t){if(!e||!Array.isArray(e.series))return null;if(!t.size)return e;const a=e.series.filter(o=>t.has(String((o==null?void 0:o.id)??"")));return a.length?{labels:e.labels||[],series:a}:null}function Rn(e,t,a,o){if(!e||!Array.isArray(e.series))return null;const r=e.labels||[],n=new Map;if(e.series.forEach(l=>{const i=String((l==null?void 0:l.id)??""),c=String((t==null?void 0:t[i])??"");if(!c||a.size&&!a.has(c))return;n.has(c)||n.set(c,Array.from({length:r.length},()=>0));const f=n.get(c),p=Array.isArray(l==null?void 0:l.data)?l.data:[];f&&r.forEach((b,m)=>{f[m]+=Math.max(0,Number(p[m]??0))})}),!n.size)return null;const s=Array.from(n.entries()).map(([l,i])=>({id:l,name:l,label:l,color:o==null?void 0:o[l],data:i}));return{labels:r,series:s}}function Ki(e){if(!e||!Array.isArray(e.series))return null;const t=e.labels||[],a=t.map((o,r)=>e.series.reduce((n,s)=>{var l;return n+Math.max(0,Number(((l=s==null?void 0:s.data)==null?void 0:l[r])??0))},0));return{labels:t,data:a}}function hm(e){if(!e)return null;const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=new Map;return t.forEach(o=>a.set(o,0)),e.labels.forEach((o,r)=>{const n=mm(o);n&&a.set(n,(a.get(n)||0)+Math.max(0,Number(e.data[r]??0)))}),{labels:t,data:t.map(o=>a.get(o)||0)}}function vm(e,t,a){if(!Array.isArray(e)||!e.length)return null;const o=e.filter(r=>!r||!r.id?!1:t.size?t.has(String(r.id)):!0);return o.length?{ids:o.map(r=>String(r.id)),labels:o.map(r=>String(r.label??r.id)),data:o.map(r=>{var n;return Math.max(0,Number(((n=r.summary)==null?void 0:n.actualHours)??0))}),colors:o.map(r=>r.color||(a==null?void 0:a[String(r.id)]))}:null}function jn(e){const t=e.perDaySeries;if(!t||!Array.isArray(t.labels)||!Array.isArray(t.series))return null;const a=t.labels.map(u=>String(u??"")),o=t.series.map(u=>{const v=String((u==null?void 0:u.id)??"");return{...u,id:v,name:String((u==null?void 0:u.name)??(u==null?void 0:u.label)??v),color:String((u==null?void 0:u.color)??""),data:a.map((M,$)=>{var C;const T=Number(((C=u==null?void 0:u.data)==null?void 0:C[$])??0);return Number.isFinite(T)?Math.max(0,T):0})}}),r=wm(e.forecastMode),n=km(new Date),s=a.map(u=>bm.test(u)&&u>n),l=[];if(s.forEach((u,v)=>{u&&l.push(v)}),!l.length||r==="off")return{labels:a,series:o};const i=e.targetsConfig??Xt(),c=xm(e.currentTargets),f=e.calendarCategoryMap??{},p=l.length,b=new Map;o.forEach(u=>{let v=0;u.data.forEach((M,$)=>{s[$]||(v+=Math.max(0,M))}),b.set(u.id,v)});const m=Array.from(b.values()).reduce((u,v)=>u+v,0),g=new Map;if(o.forEach(u=>{g.set(u.id,_m(a.length))}),r==="total"){const u=Math.max(0,Number(i.totalHours??0)),v=Math.max(0,u-m);if(v>1e-4){const M=v/p,$=o.map(C=>C.id),T=qi($,b,c);$.forEach(C=>{const S=T[C]??0;if(S<=0)return;const P=g.get(C);P&&l.forEach(w=>{P[w]=Mr(M*S)})})}}else if(r==="calendar")o.forEach(u=>{const v=c[u.id]??0;if(v<=0)return;const M=Math.max(0,b.get(u.id)??0),$=Math.max(0,v-M);if($<=1e-4)return;const T=$/p,C=g.get(u.id);C&&l.forEach(S=>{C[S]=Mr(T)})});else if(r==="category"){const u=new Set,v=Array.isArray(i.categories)?i.categories:[],M=new Map;v.forEach(T=>{M.set(String(T.id),Math.max(0,Number(T.targetHours??0)))});const $=new Map;o.forEach(T=>{const C=f==null?void 0:f[T.id],S=C?String(C):ym;$.has(S)||$.set(S,[]),$.get(S).push(T.id)}),$.forEach((T,C)=>{if(!T.length)return;const S=M.get(C)??0;if(S<=0)return;const P=T.reduce((D,O)=>D+Math.max(0,b.get(O)??0),0),w=Math.max(0,S-P);if(w<=1e-4)return;const _=w/p,x={};T.forEach(D=>{x[D]=c[D]??0});const h=qi(T,b,x);T.forEach(D=>{const O=h[D]??0;if(O<=0)return;const z=g.get(D);z&&(l.forEach(re=>{z[re]=Mr(_*O)}),u.add(D))})}),o.forEach(T=>{if(u.has(T.id))return;const C=c[T.id]??0;if(C<=0)return;const S=Math.max(0,b.get(T.id)??0),P=Math.max(0,C-S);if(P<=1e-4)return;const w=P/p,_=g.get(T.id);_&&l.forEach(x=>{_[x]=Mr(w)})})}return o.forEach(u=>{const v=g.get(u.id);v&&v.some(M=>M>1e-4)&&(u.forecast=v)}),{labels:a,series:o}}function mm(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(e));if(!t)return null;const a=new Date(`${t[1]}-${t[2]}-${t[3]}T00:00:00`);if(Number.isNaN(a.getTime()))return null;const r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][a.getDay()];return r?r==="Sun"?"Sun":r:null}const bm=/^\d{4}-\d{2}-\d{2}$/,ym="__uncategorized__";function wm(e){return e==="off"||e==="calendar"||e==="category"?e:"total"}function km(e){const t=e.getFullYear(),a=`${e.getMonth()+1}`.padStart(2,"0"),o=`${e.getDate()}`.padStart(2,"0");return`${t}-${a}-${o}`}function _m(e){return Array.from({length:e},()=>0)}function Mr(e){const t=Math.round(e*100)/100;return Number.isFinite(t)?t:0}function xm(e){const t={};return e&&Object.entries(e).forEach(([a,o])=>{const r=Number(o);Number.isFinite(r)&&r>0&&(t[String(a)]=r)}),t}function qi(e,t,a){const o={},r=e.reduce((l,i)=>l+Math.max(0,t.get(i)??0),0);if(r>1e-4)return e.forEach(l=>{const i=Math.max(0,t.get(l)??0);o[l]=i/r}),o;const n=e.reduce((l,i)=>l+Math.max(0,(a==null?void 0:a[i])??0),0);if(n>1e-4)return e.forEach(l=>{const i=Math.max(0,(a==null?void 0:a[l])??0);o[l]=i/n}),o;const s=e.length?1/e.length:0;return e.forEach(l=>{o[l]=s}),o}const Cm=tt(()=>at(()=>Promise.resolve().then(()=>tk),void 0).then(e=>e.default)),Gi="Day of week",Sm={component:Cm,defaultLayout:{width:"half",height:"m",order:84},label:"Chart  Day of week",baseTitle:Gi,configurable:!0,defaultOptions:{scope:"calendar",calendarFilter:[],categoryFilter:[],showLabels:!0,compact:!1,forecastMode:"total"},dynamicControls:(e,t)=>{const a=Array.isArray(t==null?void 0:t.calendars)?t.calendars.map(r=>({value:r.id,label:r.displayname||r.name||r.id})):[],o=Array.isArray(t==null?void 0:t.calendarGroups)?t.calendarGroups.map(r=>({value:r.id,label:r.label||r.id})):[];return[{key:"scope",label:"Scope",type:"select",options:[{value:"calendar",label:"Calendar"},{value:"category",label:"Category"}]},{key:"calendarFilter",label:"Calendars",type:"multiselect",options:a},{key:"categoryFilter",label:"Categories",type:"multiselect",options:o},{key:"forecastMode",label:"Projection mode",type:"select",options:[{value:"off",label:"No projection"},{value:"total",label:"Distribute remaining total target"},{value:"calendar",label:"Respect calendar targets"},{value:"category",label:"Respect category targets"}]},{key:"showLabels",label:"Show labels",type:"toggle"},{key:"compact",label:"Compact",type:"toggle"}]},buildProps:(e,t)=>{var f,p,b,m,g,u,v,M,$,T;const a=((f=e.options)==null?void 0:f.scope)==="category"?"category":"calendar",o=new Set(zt((p=e.options)==null?void 0:p.calendarFilter)),r=new Set(zt((b=e.options)==null?void 0:b.categoryFilter)),n=t.categoryColorMap||{},s=jn({perDaySeries:(m=t.charts)==null?void 0:m.perDaySeries,forecastMode:(g=e.options)==null?void 0:g.forecastMode,targetsConfig:t.targetsConfig,currentTargets:t.currentTargets,calendarCategoryMap:t.calendarCategoryMap}),l=a==="category"?Rn(s,t.calendarCategoryMap||{},r,n):zn(s,o),i=Ki(l),c=hm(i);return{title:ot(Gi,(u=e.options)==null?void 0:u.titlePrefix),subtitle:a==="category"?"By category":"By calendar",cardBg:(v=e.options)==null?void 0:v.cardBg,showHeader:((M=e.options)==null?void 0:M.showHeader)!==!1,showLabels:(($=e.options)==null?void 0:$.showLabels)!==!1,compact:((T=e.options)==null?void 0:T.compact)===!0,chartData:c}}},$m=tt(()=>at(()=>Promise.resolve().then(()=>ik),void 0).then(e=>e.default)),Ji="Hours of day",Tm={component:$m,defaultLayout:{width:"full",height:"l",order:86},label:"Chart  Hours of day",baseTitle:Ji,configurable:!0,defaultOptions:{scope:"calendar",calendarFilter:[],categoryFilter:[],showHint:!1,compact:!1},dynamicControls:(e,t)=>{const a=Array.isArray(t==null?void 0:t.calendars)?t.calendars.map(r=>({value:r.id,label:r.displayname||r.name||r.id})):[],o=Array.isArray(t==null?void 0:t.calendarGroups)?t.calendarGroups.map(r=>({value:r.id,label:r.label||r.id})):[];return[{key:"scope",label:"Scope",type:"select",options:[{value:"calendar",label:"Calendar"},{value:"category",label:"Category"}]},{key:"calendarFilter",label:"Calendars",type:"multiselect",options:a},{key:"categoryFilter",label:"Categories",type:"multiselect",options:o},{key:"showHint",label:"Show hint",type:"toggle"},{key:"compact",label:"Compact",type:"toggle"}]},buildProps:(e,t)=>{var n,s,l,i,c,f,p;const a=zt((n=e.options)==null?void 0:n.calendarFilter),o=zt((s=e.options)==null?void 0:s.categoryFilter),r=a.length>0||o.length>0;return{title:ot(Ji,(l=e.options)==null?void 0:l.titlePrefix),subtitle:r?"Filters currently not applied":void 0,cardBg:(i=e.options)==null?void 0:i.cardBg,showHeader:((c=e.options)==null?void 0:c.showHeader)!==!1,showHint:((f=e.options)==null?void 0:f.showHint)===!0,hodData:((p=t.charts)==null?void 0:p.hod)||null}}},Mm=tt(()=>at(()=>Promise.resolve().then(()=>gk),void 0).then(e=>e.default)),Yi="Per-day",Dm={component:Mm,defaultLayout:{width:"half",height:"m",order:82},label:"Chart  Per-day",baseTitle:Yi,configurable:!0,defaultOptions:{scope:"calendar",calendarFilter:[],categoryFilter:[],showLabels:!1,compact:!1,forecastMode:"total"},dynamicControls:(e,t)=>{const a=Array.isArray(t==null?void 0:t.calendars)?t.calendars.map(r=>({value:r.id,label:r.displayname||r.name||r.id})):[],o=Array.isArray(t==null?void 0:t.calendarGroups)?t.calendarGroups.map(r=>({value:r.id,label:r.label||r.id})):[];return[{key:"scope",label:"Scope",type:"select",options:[{value:"calendar",label:"Calendar"},{value:"category",label:"Category"}]},{key:"calendarFilter",label:"Calendars",type:"multiselect",options:a},{key:"categoryFilter",label:"Categories",type:"multiselect",options:o},{key:"forecastMode",label:"Projection mode",type:"select",options:[{value:"off",label:"No projection"},{value:"total",label:"Distribute remaining total target"},{value:"calendar",label:"Respect calendar targets"},{value:"category",label:"Respect category targets"}]},{key:"showLabels",label:"Show labels",type:"toggle"},{key:"compact",label:"Compact",type:"toggle"}]},buildProps:(e,t)=>{var c,f,p,b,m,g,u,v,M,$;const a=((c=e.options)==null?void 0:c.scope)==="category"?"category":"calendar",o=new Set(zt((f=e.options)==null?void 0:f.calendarFilter)),r=new Set(zt((p=e.options)==null?void 0:p.categoryFilter)),n=t.categoryColorMap||{},s=jn({perDaySeries:(b=t.charts)==null?void 0:b.perDaySeries,forecastMode:(m=e.options)==null?void 0:m.forecastMode,targetsConfig:t.targetsConfig,currentTargets:t.currentTargets,calendarCategoryMap:t.calendarCategoryMap}),l=a==="category"?Rn(s,t.calendarCategoryMap||{},r,n):zn(s,o),i=Ki(l);return{title:ot(Yi,(g=e.options)==null?void 0:g.titlePrefix),subtitle:a==="category"?"Totals by category":"Totals by calendar",cardBg:(u=e.options)==null?void 0:u.cardBg,showHeader:((v=e.options)==null?void 0:v.showHeader)!==!1,showLabels:((M=e.options)==null?void 0:M.showLabels)===!0,compact:(($=e.options)==null?void 0:$.compact)===!0,chartData:i}}},Am=tt(()=>at(()=>Promise.resolve().then(()=>kk),void 0).then(e=>e.default)),Zi="Pie chart",Lm={component:Am,defaultLayout:{width:"half",height:"m",order:75},label:"Chart  Pie",baseTitle:Zi,configurable:!0,defaultOptions:{scope:"calendar",calendarFilter:[],categoryFilter:[],showLegend:!0,showLabels:!0,compact:!1},dynamicControls:(e,t)=>{const a=Array.isArray(t==null?void 0:t.calendars)?t.calendars.map(r=>({value:r.id,label:r.displayname||r.name||r.id})):[],o=Array.isArray(t==null?void 0:t.calendarGroups)?t.calendarGroups.map(r=>({value:r.id,label:r.label||r.id})):[];return[{key:"scope",label:"Scope",type:"select",options:[{value:"calendar",label:"Calendar"},{value:"category",label:"Category"}]},{key:"calendarFilter",label:"Calendars",type:"multiselect",options:a},{key:"categoryFilter",label:"Categories",type:"multiselect",options:o},{key:"showLegend",label:"Show legend",type:"toggle"},{key:"showLabels",label:"Show labels",type:"toggle"},{key:"compact",label:"Compact",type:"toggle"}]},buildProps:(e,t)=>{var c,f,p,b,m,g,u,v,M,$;const a=((c=e.options)==null?void 0:c.scope)==="category"?"category":"calendar",o=new Set(zt((f=e.options)==null?void 0:f.calendarFilter)),r=new Set(zt((p=e.options)==null?void 0:p.categoryFilter)),n=t.colorsById||{},s=t.colorsByName||{},l=t.categoryColorMap||{},i=a==="category"?vm(t.calendarGroups||[],r,l):pm(((b=t.calendarChartData)==null?void 0:b.pie)||null,o);return{title:ot(Zi,(m=e.options)==null?void 0:m.titlePrefix),subtitle:a==="category"?"By category":"By calendar",cardBg:(g=e.options)==null?void 0:g.cardBg,showHeader:((u=e.options)==null?void 0:u.showHeader)!==!1,compact:((v=e.options)==null?void 0:v.compact)===!0,showLegend:((M=e.options)==null?void 0:M.showLegend)!==!1,showLabels:(($=e.options)==null?void 0:$.showLabels)!==!1,chartData:i,colorsById:n,colorsByName:s}}},Em=tt(()=>at(()=>Promise.resolve().then(()=>Mk),void 0).then(e=>e.default)),Xi="Stacked chart",Om={component:Em,defaultLayout:{width:"full",height:"l",order:80},label:"Chart  Stacked",baseTitle:Xi,configurable:!0,defaultOptions:{scope:"calendar",calendarFilter:[],categoryFilter:[],showLegend:!0,showLabels:!1,compact:!1,forecastMode:"total"},dynamicControls:(e,t)=>{const a=Array.isArray(t==null?void 0:t.calendars)?t.calendars.map(r=>({value:r.id,label:r.displayname||r.name||r.id})):[],o=Array.isArray(t==null?void 0:t.calendarGroups)?t.calendarGroups.map(r=>({value:r.id,label:r.label||r.id})):[];return[{key:"scope",label:"Scope",type:"select",options:[{value:"calendar",label:"Calendar"},{value:"category",label:"Category"}]},{key:"calendarFilter",label:"Calendars",type:"multiselect",options:a},{key:"categoryFilter",label:"Categories",type:"multiselect",options:o},{key:"forecastMode",label:"Projection mode",type:"select",options:[{value:"off",label:"No projection"},{value:"total",label:"Distribute remaining total target"},{value:"calendar",label:"Respect calendar targets"},{value:"category",label:"Respect category targets"}]},{key:"showLegend",label:"Show legend",type:"toggle"},{key:"showLabels",label:"Show labels",type:"toggle"},{key:"compact",label:"Compact",type:"toggle"}]},buildProps:(e,t)=>{var i,c,f,p,b,m,g,u,v,M,$;const a=((i=e.options)==null?void 0:i.scope)==="category"?"category":"calendar",o=new Set(zt((c=e.options)==null?void 0:c.calendarFilter)),r=new Set(zt((f=e.options)==null?void 0:f.categoryFilter)),n=t.categoryColorMap||{},s=jn({perDaySeries:(p=t.charts)==null?void 0:p.perDaySeries,forecastMode:(b=e.options)==null?void 0:b.forecastMode,targetsConfig:t.targetsConfig,currentTargets:t.currentTargets,calendarCategoryMap:t.calendarCategoryMap}),l=a==="category"?Rn(s,t.calendarCategoryMap||{},r,n):zn(s,o);return{title:ot(Xi,(m=e.options)==null?void 0:m.titlePrefix),subtitle:a==="category"?"By category":"By calendar",cardBg:(g=e.options)==null?void 0:g.cardBg,showHeader:((u=e.options)==null?void 0:u.showHeader)!==!1,compact:((v=e.options)==null?void 0:v.compact)===!0,showLegend:((M=e.options)==null?void 0:M.showLegend)!==!1,showLabels:(($=e.options)==null?void 0:$.showLabels)===!0,stacked:l,colorsById:t.colorsById||{}}}},Bm=tt(()=>at(()=>Promise.resolve().then(()=>t_),void 0).then(e=>e.default)),Qi="By calendar",Nm={component:Bm,defaultLayout:{width:"full",height:"l",order:70},label:"Table  By calendar",baseTitle:Qi,configurable:!0,defaultOptions:{calendarFilter:[],compact:!1},dynamicControls:(e,t)=>[{key:"calendarFilter",label:"Calendars",type:"multiselect",options:Array.isArray(t==null?void 0:t.calendars)?t.calendars.map(o=>({value:o.id,label:o.displayname||o.name||o.id})):[]},{key:"compact",label:"Compact",type:"toggle"}],buildProps:(e,t)=>{var n,s,l,i;const a=new Set(zt((n=e.options)==null?void 0:n.calendarFilter)),o=Array.isArray(t.byCal)?t.byCal:[],r=a.size?o.filter(c=>a.has(String((c==null?void 0:c.id)??(c==null?void 0:c.calendar_id)??(c==null?void 0:c.calendar)??""))):o;return{title:ot(Qi,(s=e.options)==null?void 0:s.titlePrefix),subtitle:a.size?"Filtered calendars":void 0,cardBg:(l=e.options)==null?void 0:l.cardBg,showHeader:((i=e.options)==null?void 0:i.showHeader)!==!1,rows:r,targets:t.currentTargets||{},groups:t.calendarGroups||[],todayHours:t.calendarTodayHours||{}}}},Im=tt(()=>at(()=>Promise.resolve().then(()=>d_),void 0).then(e=>e.default)),ec="Days off trend",Pm={component:Im,defaultLayout:{width:"quarter",height:"s",order:45},label:"Days off trend",baseTitle:ec,configurable:!0,defaultOptions:{lookback:3,unit:"wk",showBadges:!0},controls:[{key:"lookback",label:"Lookback (periods)",type:"number",min:1,max:6,step:1},{key:"unit",label:"Unit",type:"select",options:[{value:"wk",label:"Weeks"},{value:"mo",label:"Months"}]},{key:"showBadges",label:"Show badges",type:"toggle"},{key:"toneLowColor",label:"Low color",type:"color"},{key:"toneHighColor",label:"High color",type:"color"}],buildProps:(e,t)=>{var a,o,r,n,s,l,i,c;return{trend:t.activityDayOffTrend,unit:((a=e.options)==null?void 0:a.unit)??"wk",lookback:((o=e.options)==null?void 0:o.lookback)??t.activityDayOffLookback??3,showHeader:((r=e.options)==null?void 0:r.showHeader)!==!1,showBadges:((n=e.options)==null?void 0:n.showBadges)!==!1,title:ot(ec,(s=e.options)==null?void 0:s.titlePrefix),cardBg:(l=e.options)==null?void 0:l.cardBg,toneLowColor:(i=e.options)==null?void 0:i.toneLowColor,toneHighColor:(c=e.options)==null?void 0:c.toneHighColor}}},Fm=tt(()=>at(()=>Promise.resolve().then(()=>T_),void 0).then(e=>e.default)),tc="Deck summary",Hm={component:Fm,defaultLayout:{width:"half",height:"s",order:50},label:"Deck (old)",baseTitle:tc,configurable:!0,controls:[{key:"showBadges",label:"Show board badges",type:"toggle"},{key:"showTicker",label:"Show ticker",type:"toggle"},{key:"showEmpty",label:"Show empty states",type:"toggle"}],buildProps:(e,t)=>{var a,o,r,n,s,l;return{buckets:t.deckBuckets,rangeLabel:t.deckRangeLabel,loading:t.deckLoading,error:t.deckError,ticker:t.deckTicker,activeFilter:t.deckFilter,onFilter:t.onDeckFilter,showBoardBadges:((a=e.options)==null?void 0:a.showBadges)??t.deckShowBoardBadges,showHeader:((o=e.options)==null?void 0:o.showHeader)!==!1,showTicker:((r=e.options)==null?void 0:r.showTicker)!==!1,showEmpty:((n=e.options)==null?void 0:n.showEmpty)!==!1,title:ot(tc,(s=e.options)==null?void 0:s.titlePrefix),cardBg:(l=e.options)==null?void 0:l.cardBg}}},Wm=tt(()=>at(()=>Promise.resolve().then(()=>X_),void 0).then(e=>e.default)),ac="Deck cards",zm={component:Wm,defaultLayout:{width:"half",height:"m",order:52},label:"Deck cards",baseTitle:ac,configurable:!0,defaultOptions:{allowMine:!0,includeArchived:!0,includeCompleted:!0,autoScroll:!0,intervalSeconds:5,showCount:!0,customFilters:[],filters:["open_all","open_mine","done_all","done_mine","archived_all","archived_mine","due_all","due_mine","due_today_all","due_today_mine","created_today_all","created_today_mine"],defaultFilter:"open_all",mineMode:"assignee"},controls:[{key:"boardIds",label:"Boards to include",type:"multiselect",options:[]},{key:"filters",label:"Filters to show",type:"multiselect",options:[]},{key:"allowMine",label:"Allow mine filters",type:"toggle"},{key:"mineMode",label:"Mine mode",type:"select",options:[{value:"assignee",label:"Assignee"},{value:"creator",label:"Creator"},{value:"both",label:"Assignee + Creator"}]},{key:"includeArchived",label:"Include archived cards",type:"toggle"},{key:"includeCompleted",label:"Include completed cards",type:"toggle"},{key:"autoScroll",label:"Auto-scroll list",type:"toggle"},{key:"intervalSeconds",label:"Scroll every (s)",type:"number",min:3,max:10,step:1},{key:"showCount",label:"Show count pill",type:"toggle"},{key:"customFilters",label:"Custom filters",type:"filterbuilder"}],dynamicControls:(e,t)=>{var s;const o={key:"defaultFilter",label:"Default filter",type:"select",options:zi(e.filters??((s=e.defaultOptions)==null?void 0:s.filters)).map(l=>({value:l,label:Tt(l)}))},r=[{value:"all",label:Tt("all")},{value:"open_all",label:Tt("open_all")},{value:"open_mine",label:Tt("open_mine")},{value:"done_all",label:Tt("done_all")},{value:"done_mine",label:Tt("done_mine")},{value:"archived_all",label:Tt("archived_all")},{value:"archived_mine",label:Tt("archived_mine")},{value:"due_all",label:Tt("due_all")},{value:"due_mine",label:Tt("due_mine")},{value:"due_today_all",label:Tt("due_today_all")},{value:"due_today_mine",label:Tt("due_today_mine")},{value:"created_today_all",label:Tt("created_today_all")},{value:"created_today_mine",label:Tt("created_today_mine")}],n=Array.isArray(t.deckBoards)?t.deckBoards.map(l=>({value:l.id,label:l.title||`Board ${l.id}`})):[];return[{key:"filters",label:"Filters",type:"multiselect",options:r},o,{key:"boardIds",label:"Boards",type:"multiselect",options:n}]},buildProps:(e,t)=>{var s,l,i,c,f,p,b,m,g,u,v,M,$,T,C,S,P,w;const a=zi(((s=e.options)==null?void 0:s.filters)??((i=(l=e.options)==null?void 0:l.defaultOptions)==null?void 0:i.filters)),o=Array.isArray((c=e.options)==null?void 0:c.boardIds)?e.options.boardIds:Wi((f=e.options)==null?void 0:f.boardIds),r=a.includes((p=e.options)==null?void 0:p.defaultFilter)?(b=e.options)==null?void 0:b.defaultFilter:a[0]||"all",n=Rm((m=e.options)==null?void 0:m.customFilters);return{title:ot(ac,(g=e.options)==null?void 0:g.titlePrefix),cardBg:(u=e.options)==null?void 0:u.cardBg,cards:t.deckCards||[],rangeLabel:t.deckRangeLabel||t.rangeLabel||"",from:t.from,to:t.to,uid:t.uid,deckUrl:t.deckUrl,lastFetchedAt:t.deckRangeLabel,loading:t.deckLoading,error:t.deckError,boardIds:o,filters:a,defaultFilter:r,allowMine:((v=e.options)==null?void 0:v.allowMine)!==!1,mineMode:((M=e.options)==null?void 0:M.mineMode)||"assignee",includeArchived:(($=e.options)==null?void 0:$.includeArchived)!==!1,includeCompleted:((T=e.options)==null?void 0:T.includeCompleted)!==!1,autoScroll:((C=e.options)==null?void 0:C.autoScroll)!==!1,intervalSeconds:((S=e.options)==null?void 0:S.intervalSeconds)??5,showCount:((P=e.options)==null?void 0:P.showCount)!==!1,showHeader:((w=e.options)==null?void 0:w.showHeader)!==!1,customFilters:n,editable:t.isLayoutEditing===!0,onUpdateFilters:_=>{var x;return(x=t.onUpdateWidgetOptions)==null?void 0:x.call(t,e.id,"filters",_)}}}};function Rm(e){let t=[];if(Array.isArray(e))t=e;else if(typeof e=="string"&&e.trim()!=="")try{const a=JSON.parse(e);Array.isArray(a)&&(t=a)}catch{t=[]}return t.map(a=>{if(!a||typeof a!="object")return null;const o=String(a.label||a.name||"").trim();if(!o)return null;const r=jm(String(a.id||o)),n=Array.isArray(a.labelIds)?a.labelIds.map(i=>String(i).trim()).filter(Boolean):[],s=Array.isArray(a.labels)?a.labels.map(i=>String(i).trim()).filter(Boolean):[],l=Array.isArray(a.assignees)?a.assignees.map(i=>String(i).trim()).filter(Boolean):[];return{id:r,label:o,labelIds:n,labels:s,assignees:l}}).filter(Boolean)}function jm(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}const Um=tt(()=>at(()=>Promise.resolve().then(()=>ux),void 0).then(e=>e.default)),oc="Notes",Vm={component:Um,defaultLayout:{width:"half",height:"m",order:69},label:"Notes editor",baseTitle:oc,configurable:!0,controls:[{key:"prevLabel",label:"Prev label",type:"text"},{key:"currLabel",label:"Current label",type:"text"}],buildProps:(e,t)=>{var a,o,r,n,s;return{title:ot(oc,(a=e.options)==null?void 0:a.titlePrefix),showHeader:((o=e.options)==null?void 0:o.showHeader)!==!1,cardBg:(r=e.options)==null?void 0:r.cardBg,prevLabel:((n=e.options)==null?void 0:n.prevLabel)||(t.notesLabelPrev??"Previous"),currLabel:((s=e.options)==null?void 0:s.currLabel)||(t.notesLabelCurr??"Current"),previous:t.notesPrev??"",history:t.notesHistory??[],modelValue:t.notesCurr??"",saving:t.isSavingNote??!1,onSave:t.onSaveNote,onUpdateModelValue:t.onUpdateNotes}}},Km=tt(()=>at(()=>Promise.resolve().then(()=>hx),void 0).then(e=>e.default)),rc="Note",qm={component:Km,defaultLayout:{width:"quarter",height:"s",order:68},label:"Notes snippet",baseTitle:rc,configurable:!0,controls:[],buildProps:(e,t)=>{var a,o,r;return{notesCurr:t.notesCurr??"",notesPrev:t.notesPrev??"",title:ot(rc,(a=e.options)==null?void 0:a.titlePrefix),showHeader:((o=e.options)==null?void 0:o.showHeader)!==!1,cardBg:(r=e.options)==null?void 0:r.cardBg}}},Gm=tt(()=>at(()=>Promise.resolve().then(()=>$x),void 0).then(e=>e.default)),nc="Notes",Jm={component:Gm,defaultLayout:{width:"half",height:"s",order:60},label:"Notes (old)",baseTitle:nc,configurable:!0,controls:[{key:"showPrev",label:"Show previous note",type:"toggle"},{key:"showLabels",label:"Show labels",type:"toggle"},{key:"mode",label:"Mode",type:"select",options:[{value:"week",label:"Week"},{value:"month",label:"Month"}]}],buildProps:(e,t)=>{var a,o,r;return{previous:t.notesPrev??"",history:t.notesHistory??[],modelValue:t.notesCurr??"",prevLabel:t.notesLabelPrev||"Previous",currLabel:t.notesLabelCurr||"Current",prevTitle:t.notesLabelPrevTitle||"",currTitle:t.notesLabelCurrTitle||"",saving:t.isSavingNote??!1,title:ot(nc,(a=e.options)==null?void 0:a.titlePrefix),showHeader:((o=e.options)==null?void 0:o.showHeader)!==!1,cardBg:(r=e.options)==null?void 0:r.cardBg,onSave:t.onSaveNote,onUpdateModelValue:t.onUpdateNotes}}},Ym=tt(()=>at(()=>Promise.resolve().then(()=>Cc),void 0).then(e=>e.default)),sc="Targets",Zm={component:Ym,defaultLayout:{width:"half",height:"m",order:20},label:"Targets (old)",baseTitle:sc,configurable:!0,controls:[{key:"showLegend",label:"Show legend",type:"toggle"},{key:"showDelta",label:"Show delta",type:"toggle"},{key:"showForecast",label:"Show forecast",type:"toggle"},{key:"showPace",label:"Show pace line",type:"toggle"},{key:"showToday",label:"Show today overlay",type:"toggle"}],buildProps:(e,t)=>{var a,o,r,n,s,l,i,c,f;return{summary:t.targetsSummary??t.summary,config:t.targetsConfig,groups:((a=e.props)==null?void 0:a.groups)??t.groups,showHeader:((o=e.options)==null?void 0:o.showHeader)!==!1,showLegend:((r=e.options)==null?void 0:r.showLegend)!==!1,showDelta:((n=e.options)==null?void 0:n.showDelta)!==!1,showForecast:((s=e.options)==null?void 0:s.showForecast)!==!1,showPace:((l=e.options)==null?void 0:l.showPace)!==!1,showToday:((i=e.options)==null?void 0:i.showToday)!==!1,title:ot(sc,(c=e.options)==null?void 0:c.titlePrefix),cardBg:(f=e.options)==null?void 0:f.cardBg}}},Xm=tt(()=>at(()=>Promise.resolve().then(()=>Cc),void 0).then(e=>e.default)),lc="Targets",Qm={component:Xm,defaultLayout:{width:"half",height:"m",order:18},label:"Targets",baseTitle:lc,configurable:!0,defaultOptions:{showForecast:!0,showPace:!0,useLocalConfig:!1,localConfig:null},controls:[{key:"showLegend",label:"Show legend",type:"toggle"},{key:"showDelta",label:"Show delta",type:"toggle"},{key:"showForecast",label:"Show forecast",type:"toggle"},{key:"showPace",label:"Show pace line",type:"toggle"},{key:"showToday",label:"Show today overlay",type:"toggle"},{key:"useLocalConfig",label:"Use custom targets for this widget",type:"toggle"},{key:"showTotalDelta",label:"Show total delta",type:"toggle"},{key:"showNeedPerDay",label:"Show need per day",type:"toggle"},{key:"showCategoryBlocks",label:"Show categories",type:"toggle"},{key:"badges",label:"Status badges",type:"toggle"},{key:"includeWeekendToggle",label:"Weekend toggle",type:"toggle"},{key:"includeZeroDaysInStats",label:"Include zero days in pace",type:"toggle"}],buildProps:(e,t)=>{var i,c,f,p,b,m,g,u,v,M,$;const a=!!((i=e.options)!=null&&i.useLocalConfig),o=a&&((c=e.options)!=null&&c.localConfig)?JSON.parse(JSON.stringify(e.options.localConfig)):t.targetsConfig?JSON.parse(JSON.stringify(t.targetsConfig)):Xt(),r=om(am(o,t.rangeMode)),n=(T,C)=>{var S;((S=e.options)==null?void 0:S[T])!==void 0&&C(!!e.options[T])};n("showTotalDelta",T=>{r.ui.showTotalDelta=T}),n("showNeedPerDay",T=>{r.ui.showNeedPerDay=T}),n("showCategoryBlocks",T=>{r.ui.showCategoryBlocks=T}),n("badges",T=>{r.ui.badges=T}),n("includeWeekendToggle",T=>{r.ui.includeWeekendToggle=T}),n("includeZeroDaysInStats",T=>{r.includeZeroDaysInStats=T});const s=a&&t.stats?rm(r,t):t.targetsSummary??t.summary,l=a?null:((f=e.props)==null?void 0:f.groups)??t.groups;return{summary:s,config:r,groups:l,showHeader:((p=e.options)==null?void 0:p.showHeader)!==!1,showLegend:((b=e.options)==null?void 0:b.showLegend)!==!1,showDelta:((m=e.options)==null?void 0:m.showDelta)!==!1,showForecast:((g=e.options)==null?void 0:g.showForecast)!==!1,showPace:((u=e.options)==null?void 0:u.showPace)!==!1,showToday:((v=e.options)==null?void 0:v.showToday)!==!1,title:ot(lc,(M=e.options)==null?void 0:M.titlePrefix),cardBg:($=e.options)==null?void 0:$.cardBg}}},eb={component:tt(()=>at(()=>Promise.resolve().then(()=>aC),void 0).then(e=>e.default)),defaultLayout:{width:"quarter",height:"s",order:65},label:"Text label",configurable:!0,controls:[{key:"preset",label:"Source",type:"select",options:[{value:"",label:"Custom"},{value:"targets",label:"Targets"},{value:"activity",label:"Activity & Schedule"},{value:"balance",label:"Balance"},{value:"mix",label:"Category mix"},{value:"dayoff",label:"Days off trend"},{value:"deck",label:"Deck"},{value:"notes",label:"Notes"}]},{key:"title",label:"Title",type:"text"},{key:"body",label:"Body",type:"textarea"},{key:"include",label:"Include all labels",type:"toggle"}],buildProps:(e,t)=>{var a,o,r,n,s,l,i;return{title:ot(Hi((a=e.options)==null?void 0:a.preset).title??"Text",(o=e.options)==null?void 0:o.titlePrefix),body:Hi((r=e.options)==null?void 0:r.preset).body??((n=e.options)==null?void 0:n.body)??"",items:nm((s=e.options)==null?void 0:s.preset,e.options||{},t),cardBg:(l=e.options)==null?void 0:l.cardBg,showHeader:((i=e.options)==null?void 0:i.showHeader)!==!1}},dynamicControls:e=>(e==null?void 0:e.preset)!=="activity"?[]:[{key:"weekendShare",label:"Weekend share",type:"toggle"},{key:"eveningShare",label:"Evening share",type:"toggle"},{key:"earliestLatest",label:"Earliest/Late times",type:"toggle"},{key:"overlaps",label:"Overlaps",type:"toggle"},{key:"longest",label:"Longest session",type:"toggle"},{key:"lastDayOff",label:"Last day off",type:"toggle"}]},tb=tt(()=>at(()=>Promise.resolve().then(()=>Sc),void 0).then(e=>e.default)),ic="Time Summary",ab={component:tb,defaultLayout:{width:"half",height:"s",order:10},label:"Time Summary (old)",baseTitle:ic,configurable:!0,controls:[{key:"showTopCategory",label:"Show top category",type:"toggle"},{key:"showWorkdayStats",label:"Show workday stats",type:"toggle"},{key:"showWeekendStats",label:"Show weekend stats",type:"toggle"}],buildProps:(e,t)=>{var a,o,r,n,s,l,i;return{summary:t.summary,mode:"active",config:(a=t.targetsConfig)==null?void 0:a.timeSummary,showHeader:((o=e.options)==null?void 0:o.showHeader)!==!1,showTopCategory:((r=e.options)==null?void 0:r.showTopCategory)!==!1,showWorkdayStats:((n=e.options)==null?void 0:n.showWorkdayStats)!==!1,showWeekendStats:((s=e.options)==null?void 0:s.showWeekendStats)!==!1,title:ot(ic,(l=e.options)==null?void 0:l.titlePrefix),cardBg:(i=e.options)==null?void 0:i.cardBg}}},ob=tt(()=>at(()=>Promise.resolve().then(()=>Sc),void 0).then(e=>e.default)),cc="Time Summary",rb={component:ob,defaultLayout:{width:"half",height:"s",order:9},label:"Time Summary",baseTitle:cc,configurable:!0,defaultOptions:{...Xt().timeSummary,mode:"active"},controls:[{key:"mode",label:"Average mode",type:"select",options:[{value:"active",label:"Active days"},{value:"all",label:"All days"}]},{key:"showTotal",label:"Total hours",type:"toggle"},{key:"showAverage",label:"Average per day",type:"toggle"},{key:"showMedian",label:"Median per day",type:"toggle"},{key:"showBusiest",label:"Busiest day",type:"toggle"},{key:"showWorkday",label:"Workdays row",type:"toggle"},{key:"showWeekend",label:"Weekend row",type:"toggle"},{key:"showWeekendShare",label:"Weekend share",type:"toggle"},{key:"showCalendarSummary",label:"Top calendars",type:"toggle"},{key:"showTopCategory",label:"Top category",type:"toggle"},{key:"showBalance",label:"Balance index",type:"toggle"}],buildProps:(e,t)=>{var n,s,l,i,c;const a=t.targetsConfig?JSON.parse(JSON.stringify(t.targetsConfig)):Xt(),o={...a,timeSummary:{...a.timeSummary}},r=f=>{var p;((p=e.options)==null?void 0:p[f])!==void 0&&(o.timeSummary[f]=!!e.options[f])};return["showTotal","showAverage","showMedian","showBusiest","showWorkday","showWeekend","showWeekendShare","showCalendarSummary","showTopCategory","showBalance"].forEach(r),{summary:t.summary,activitySummary:t.activitySummary,mode:((n=e.options)==null?void 0:n.mode)??t.activeDayMode??"active",config:o.timeSummary,todayGroups:((s=e.props)==null?void 0:s.todayGroups)??t.groups,title:ot(cc,(l=e.options)==null?void 0:l.titlePrefix),cardBg:(i=e.options)==null?void 0:i.cardBg,rangeMode:t.rangeMode,rangeStart:t.from,rangeEnd:t.to,offset:t.offset,showHeader:((c=e.options)==null?void 0:c.showHeader)!==!1}}},Fa={time_summary:ab,time_summary_v2:rb,targets:Zm,targets_v2:Qm,balance:cm,balance_index:um,activity:lm,dayoff_trend:Pm,category_mix_trend:gm,chart_pie:Lm,chart_stacked:Om,chart_per_day:Dm,chart_dow:Sm,chart_hod:Tm,calendar_table:Nm,deck:Hm,deck_cards:zm,notes:Jm,text_block:eb,note_snippet:qm,note_editor:Vm};function dc(e,t){if(!Array.isArray(e))return t;const a=[];return e.forEach((o,r)=>{const n=String((o==null?void 0:o.type)??"");if(!n)return;const s=Fa[n],l=String((o==null?void 0:o.id)??"")||`widget-${n}-${r+1}`,i=(o==null?void 0:o.layout)??{},c=i.width==="quarter"||i.width==="half"?i.width:"full",f=i.height==="s"||i.height==="l"||i.height==="xl"?i.height:"m",p=Number(i.order??0),m={...(s==null?void 0:s.defaultOptions)||{},...o!=null&&o.options&&typeof o.options=="object"?o.options:{}};m.scale==null&&m.textSize!=null&&(m.scale=m.textSize,delete m.textSize),a.push({id:l,type:n,options:m,layout:{width:c,height:f,order:Number.isFinite(p)?p:0},version:Number((o==null?void 0:o.version)??1)||1})}),a.length?a:t}function uc(){return Un("standard")}function Dr(e){const t=[{id:"tab-1",label:"Overview",widgets:Un(e)}];return{tabs:t,defaultTabId:t[0].id}}function Ar(e,t){var i,c,f,p;if(Array.isArray(e)){const b=dc(e,((i=t.tabs[0])==null?void 0:i.widgets)||uc()),m=((c=t.tabs[0])==null?void 0:c.id)||"tab-1";return{tabs:[{id:m,label:((f=t.tabs[0])==null?void 0:f.label)||"Overview",widgets:b}],defaultTabId:m}}if(!e||typeof e!="object")return t;const a=Array.isArray(e.tabs)?e.tabs:[],o=t.tabs||[],r=a.map((b,m)=>{var T,C;const g=String((b==null?void 0:b.id)??"").trim()||`tab-${m+1}`,u=String((b==null?void 0:b.label)??"").trim(),v=u?u.slice(0,48):`Tab ${m+1}`,M=((T=o[m])==null?void 0:T.widgets)||((C=o[0])==null?void 0:C.widgets)||uc(),$=dc(b==null?void 0:b.widgets,M);return{id:g,label:v,widgets:$}}),n=r.length?r:o,s=String(e.defaultTabId??e.defaultTab??e.active??""),l=n.some(b=>b.id===s)?s:((p=n[0])==null?void 0:p.id)||"tab-1";return{tabs:n,defaultTabId:l}}function nb(e,t){const a=t.hasInitialLoad===!1||!!t.isLoading;return e.type==="text_block"?!1:e.type==="deck"||e.type==="deck_cards"?a||!!t.deckLoading:a}function sb(e,t){const a=Fa[e.type];if(!a)return null;const o=a.buildProps(e,t)||{},r=nb(e,t);return{component:a.component,props:o,loading:r}}function Ke(e,t={},a){const o=Fa[e],r=(o==null?void 0:o.defaultLayout)??{width:"half",height:"s",order:50},n=(o==null?void 0:o.defaultOptions)||{};return{id:`widget-${e}-${Math.random().toString(36).slice(2,8)}`,type:e,options:{...n,...t||{}},layout:{...r,...a||{}},version:1}}function Un(e){return e==="quick"?[Ke("balance",{scale:"lg"},{width:"full",height:"xl",order:5}),Ke("activity",{},{width:"full",height:"l",order:10.1}),Ke("time_summary_v2",{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0,mode:"active",scale:"xl"},{width:"full",height:"xl",order:12.55}),Ke("targets",{},{width:"full",height:"xl",order:15})]:e==="pro"?[Ke("targets_v2",{showForecast:!0,showPace:!0,useLocalConfig:!1,localConfig:null,showCategoryBlocks:!0},{width:"half",height:"xl",order:10}),Ke("time_summary_v2",{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0,mode:"active",scale:"md"},{width:"half",height:"xl",order:30}),Ke("balance_index",{showTrend:!0,showMessages:!0,showConfig:!1,indexBasis:"category",noticeAbove:.15,noticeBelow:.15,warnAbove:.3,warnBelow:.3,warnIndex:.6,lookbackWeeks:3,messageDensity:"normal",trendColor:"#2563EB",showCurrent:!0,labelMode:"period",reverseTrend:!1},{width:"half",height:"m",order:40}),Ke("dayoff_trend",{},{width:"half",height:"s",order:50}),Ke("category_mix_trend",{lookbackWeeks:3,density:"normal",labelMode:"period",colorMode:"hybrid",squareCells:!1,showHeader:!0,showBadge:!0},{width:"full",height:"l",order:55}),Ke("calendar_table",{},{width:"full",height:"l",order:56}),Ke("chart_pie",{scope:"calendar",showLegend:!0,showLabels:!0},{width:"half",height:"m",order:57}),Ke("chart_stacked",{scope:"calendar",showLegend:!0,showLabels:!1},{width:"full",height:"l",order:58}),Ke("chart_per_day",{scope:"calendar",showLabels:!1},{width:"half",height:"m",order:59}),Ke("chart_dow",{scope:"calendar",showLabels:!0},{width:"half",height:"m",order:59.5}),Ke("chart_hod",{showHint:!1},{width:"full",height:"l",order:59.8}),Ke("deck_cards",{allowMine:!0,includeArchived:!0,includeCompleted:!0,autoScroll:!0,intervalSeconds:5,showCount:!0,filters:["open_all","open_mine","done_all","done_mine","archived_all","archived_mine","due_all","due_mine","due_today_all","due_today_mine","created_today_all","created_today_mine"],defaultFilter:"open_all",mineMode:"assignee"},{width:"half",height:"xl",order:60}),Ke("note_editor",{},{width:"half",height:"l",order:70})]:[Ke("targets",{showForecast:!0,showHeader:!1,showLegend:!0,showDelta:!0,showPace:!0,showToday:!0,scale:"lg"},{width:"half",height:"l",order:10}),Ke("time_summary_v2",{showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0,mode:"active",scale:"md"},{width:"half",height:"xl",order:20}),Ke("balance_index",{showTrend:!0,showMessages:!0,showConfig:!1,indexBasis:"category",noticeAbove:.15,noticeBelow:.15,warnAbove:.3,warnBelow:.3,warnIndex:.6,lookbackWeeks:3,messageDensity:"normal",trendColor:"#2563EB",showCurrent:!0,labelMode:"period",reverseTrend:!1},{width:"half",height:"m",order:30}),Ke("dayoff_trend",{},{width:"half",height:"s",order:40}),Ke("category_mix_trend",{lookbackWeeks:3,density:"normal",labelMode:"period",colorMode:"hybrid",squareCells:!1,showHeader:!0,showBadge:!0},{width:"full",height:"l",order:50}),Ke("calendar_table",{},{width:"full",height:"l",order:55}),Ke("chart_pie",{scope:"calendar",showLegend:!0,showLabels:!0},{width:"half",height:"m",order:56}),Ke("chart_stacked",{scope:"calendar",showLegend:!0,showLabels:!1},{width:"full",height:"l",order:57}),Ke("chart_per_day",{scope:"calendar",showLabels:!1},{width:"half",height:"m",order:58}),Ke("chart_dow",{scope:"calendar",showLabels:!0},{width:"half",height:"m",order:58.5}),Ke("chart_hod",{showHint:!1},{width:"full",height:"l",order:59})]}const lb=["draggable","aria-busy","onClick","onDragstart"],ib={key:0,class:"widget-loading","aria-live":"polite"},cb=We(Te({__name:"DashboardGrid",props:{ordered:{},editable:{type:Boolean},selectedId:{},widgetTypeList:{}},emits:["select","add","reorder","select-cell"],setup(e,{emit:t}){const a=e,o=t,r=te(null),n=te(null),s=te(null),l=E(()=>a.widgetTypeList||[]),i=E(()=>{const w=[];let _={items:[],col:1,remaining:4};const x=()=>{_.items.length&&w.push({items:_.items}),_={items:[],col:1,remaining:4}};return a.ordered.forEach(h=>{const D=f(h.layout.width);D>_.remaining&&x();const O=_.col;_.items.push({...h,span:D,start:O}),_.col+=D,_.remaining-=D}),x(),w});function c(w){switch(w){case"quarter":return"w-quarter";case"half":return"w-half";default:return"w-full"}}function f(w){return w==="quarter"?1:w==="half"?2:4}function p(w){switch(w){case"s":return"h-s";case"l":return"h-l";case"xl":return"h-xl";default:return"h-m"}}function b(w){const _=(w==null?void 0:w.scale)||(w==null?void 0:w.textSize)||"md";return _==="sm"?"scale-sm":_==="lg"?"scale-lg":_==="xl"?"scale-xl":"scale-md"}function m(w){const _=(w==null?void 0:w.scale)||(w==null?void 0:w.textSize)||"md",x=_==="sm"?.85:_==="lg"?1.35:_==="xl"?1.6:1.1,h=w!=null&&w.dense?.72:1,D=x*h,O=18*x;return{"--widget-scale":String(x),"--widget-space":String(D),"--widget-density":String(h),"--widget-title-size":`${O}px`}}function g(w){const _=r.value;if(!_)return{row:0,col:1};const x=_.getBoundingClientRect(),h=12,O=(x.width-h*3)/4,z=Math.max(0,Math.min(x.width,w.clientX-x.left)),re=Math.min(3,Math.max(0,Math.floor(z/(O+h))))+1,I=Math.max(0,Math.min(x.height+400,w.clientY-x.top)),V=Number.parseFloat(getComputedStyle(_).getPropertyValue("--grid-row"))||24;return{row:Math.max(0,Math.floor(I/(V+h))),col:re}}function u(w,_){var re,I,V,X;const x=i.value,h=x[w]||x[x.length-1]||{items:[]},D=[...h.items||[]].filter(Y=>Y.start<_).sort((Y,he)=>Y.start-he.start).pop(),O=[...h.items||[]].filter(Y=>Y.start>=_).sort((Y,he)=>Y.start-he.start)[0];if(D&&O)return(D.layout.order+O.layout.order)/2;if(D)return(D.layout.order||0)+5;if(O)return(O.layout.order||0)-5;const z=x[w-1]||x[x.length-1];return z&&z.items.length?(z.items[z.items.length-1].layout.order||0)+10:((((X=(V=(I=(re=x[0])==null?void 0:re.items)==null?void 0:I[0])==null?void 0:V.layout)==null?void 0:X.order)??0)||0)-10}function v(w){if(!a.editable||!l.value.length)return;const{row:_,col:x}=g(w),h=u(_,x);o("select-cell",h)}function M(w){a.editable&&(w.target.closest(".layout-item")||v(w))}function $(w){a.editable&&(w.target.closest(".layout-item")||v(w))}function T(w){if(!a.editable||!n.value)return;const{row:_,col:x}=g(w);s.value=u(_,x)}function C(){if(!a.editable||!n.value)return;const w=n.value,_=s.value??void 0;n.value=null,s.value=null,o("reorder",w,_)}function S(w){a.editable&&(n.value=w,s.value=null)}function P(){n.value=null,s.value=null}return(w,_)=>(y(),k("div",{ref_key:"gridEl",ref:r,class:Ee(["layout-grid",{"show-guides":w.editable}]),onClick:M,onContextmenu:et($,["prevent"]),onDragover:et(T,["prevent"]),onDrop:et(C,["prevent"])},[(y(!0),k(ue,null,xe(w.ordered,x=>(y(),k("div",{key:x.id,class:Ee(["layout-item",[c(x.layout.width),p(x.layout.height),b(x.options),{"is-editable":w.editable,"is-selected":w.editable&&w.selectedId===x.id,"is-dragging":w.editable&&n.value===x.id,"is-loading":!!x.loading}]]),style:Le(m(x.options)),draggable:w.editable,"aria-busy":x.loading?"true":"false",onClick:et(h=>o("select",x.id),["stop"]),onDragstart:h=>S(x.id),onDragend:P},[x.loading?(y(),k("div",ib,[..._[0]||(_[0]=[d("span",{class:"widget-loading__spinner","aria-hidden":"true"},null,-1),d("span",{class:"widget-loading__label"},"Loading",-1)])])):G("",!0),(y(),Xe(ru(x.component),Jl({ref_for:!0},x.props),null,16))],46,lb))),128))],34))}}),[["__scopeId","data-v-9017abee"]]),db={key:0,class:"options-pop"},ub={class:"opt-section"},fb=["for"],gb=["id","min","max","step","value","onInput"],pb=["id","value","onChange"],hb=["value"],vb=["id","checked","onChange"],mb=["id","value","onInput"],bb=["id","value","onInput"],yb={key:0,class:"opt-section"},wb=["for"],kb=["id","min","max","step","value","onInput"],_b=["id","value","onChange"],xb=["value"],Cb=["id","checked","onChange"],Sb=["id","value","onInput"],$b=["id","value","onInput"],Tb={key:5,class:"colorlist"},Mb=["value","onInput"],Db=["onClick"],Ab={key:6,class:"multi"},Lb=["value","checked","onChange"],Eb=["id","value","onInput"],Ob={key:8,class:"filter-builder"},Bb=["value","onInput"],Nb=["value","onInput"],Ib=["value","onInput"],Pb=["onClick"],Fb=["onClick"],Hb={key:1,class:"opt-row opt-row--footer"},Wb=We(Te({__name:"WidgetOptionsMenu",props:{entry:{},options:{},open:{type:Boolean},showAdvanced:{type:Boolean},context:{}},emits:["change","toggle","open-advanced"],setup(e,{emit:t}){const a=e,o=t,r=te({}),n=[{key:"titlePrefix",label:"Title prefix",type:"text"},{key:"showHeader",label:"Show title",type:"toggle"},{key:"cardBg",label:"Card background",type:"color",hint:"Pick a card fill; leave empty for default."},{key:"scale",label:"Scale",type:"select",options:[{value:"sm",label:"Small"},{value:"md",label:"Normal"},{value:"lg",label:"Large"},{value:"xl",label:"Extra large"}]},{key:"dense",label:"Dense mode",type:"toggle"}],s=E(()=>{var O,z;const _=new Set(n.map(re=>re.key)),x=((O=a.entry)==null?void 0:O.controls)||[],h=typeof((z=a.entry)==null?void 0:z.dynamicControls)=="function"?a.entry.dynamicControls(a.options||{},a.context||{}):[];return[...x,...h].filter(re=>!_.has(re.key))});Oe(()=>a.options,_=>{var h;const x=((h=a.entry)==null?void 0:h.defaultOptions)||{};r.value={...x,..._||{}}},{immediate:!0,deep:!0});const l=E({get:()=>!!a.open,set:_=>o("toggle",_)});function i(_,x){const h=Number(x.target.value);o("change",_,h)}function c(_,x){const h=x.target.value;o("change",_,h)}function f(_,x){const h=x.target.checked;o("change",_,h)}function p(_,x){const h=x.target.value;o("change",_,h)}function b(_,x,h){const D=h.target.checked,O=Array.isArray(r.value[_])?[...r.value[_]]:[],z=new Set(O);D?z.add(x):z.delete(x),o("change",_,Array.from(z))}function m(_){if(_==="scale")return r.value.scale??r.value.textSize;if(!_.includes("."))return r.value[_];const x=_.split(".");let h=r.value;for(const D of x){if(h==null)return;h=h[D]}return h}function g(_){const x=m(_);return Array.isArray(x)&&x.length?x:typeof x=="string"&&x.trim()?x.split(",").map(h=>h.trim()).filter(Boolean):M.slice(0,5)}function u(_,x,h){const D=h.target.value,O=[...g(_)];O[x]=D,o("change",_,O)}function v(_){const x=[...g(_),"#cccccc"];o("change",_,x)}const M=["#2563EB","#F97316","#10B981","#A855F7","#EC4899"];function $(_){const x=m(_);if(Array.isArray(x))return x.map(h=>({label:String((h==null?void 0:h.label)||""),labels:Array.isArray(h==null?void 0:h.labels)?h.labels.join(", "):String((h==null?void 0:h.labels)||""),assignees:Array.isArray(h==null?void 0:h.assignees)?h.assignees.join(", "):String((h==null?void 0:h.assignees)||"")}));if(typeof x=="string"&&x.trim())try{const h=JSON.parse(x);if(Array.isArray(h))return h.map(D=>({label:String((D==null?void 0:D.label)||""),labels:Array.isArray(D==null?void 0:D.labels)?D.labels.join(", "):String((D==null?void 0:D.labels)||""),assignees:Array.isArray(D==null?void 0:D.assignees)?D.assignees.join(", "):String((D==null?void 0:D.assignees)||"")}))}catch{return[]}return[]}function T(_){const x=[...$(_),{label:"",labels:"",assignees:""}];o("change",_,P(x))}function C(_,x){const h=$(_).filter((D,O)=>O!==x);o("change",_,P(h))}function S(_,x,h,D){const O=D.target.value,z=$(_).map((re,I)=>I===x?{...re,[h]:O}:re);o("change",_,P(z))}function P(_){return _.map(x=>({label:x.label.trim(),labels:w(x.labels),assignees:w(x.assignees)}))}function w(_){return _.split(",").map(x=>x.trim()).filter(Boolean)}return(_,x)=>(y(),k("div",{class:"options-wrapper",onKeydown:x[2]||(x[2]=et(()=>{},["stop"]))},[d("button",{type:"button",class:"ghost",title:"Configure widget",onClick:x[0]||(x[0]=et(h=>l.value=!l.value,["stop"]))},""),l.value?(y(),k("div",db,[d("div",ub,[x[3]||(x[3]=d("div",{class:"opt-section__title"},"Layout & title",-1)),(y(),k(ue,null,xe(n,h=>d("div",{key:h.key,class:"opt-row"},[d("label",{for:`opt-${h.key}`},B(h.label),9,fb),h.type==="number"?(y(),k("input",{key:0,id:`opt-${h.key}`,type:"number",min:h.min,max:h.max,step:h.step||1,value:m(h.key)??"",onInput:D=>i(h.key,D)},null,40,gb)):h.type==="select"?(y(),k("select",{key:1,id:`opt-${h.key}`,value:m(h.key),onChange:D=>c(h.key,D)},[(y(!0),k(ue,null,xe(h.options||[],D=>(y(),k("option",{key:D.value,value:D.value},B(D.label),9,hb))),128))],40,pb)):h.type==="toggle"?(y(),k("input",{key:2,id:`opt-${h.key}`,type:"checkbox",checked:!!m(h.key),onChange:D=>f(h.key,D)},null,40,vb)):h.type==="text"?(y(),k("input",{key:3,id:`opt-${h.key}`,type:"text",value:m(h.key)??"",onInput:D=>p(h.key,D)},null,40,mb)):h.type==="color"?(y(),k("input",{key:4,id:`opt-${h.key}`,type:"color",value:m(h.key)||"#000000",onInput:D=>p(h.key,D)},null,40,bb)):G("",!0)])),64))]),s.value.length?(y(),k("div",yb,[x[5]||(x[5]=d("div",{class:"opt-section__title"},"Widget options",-1)),(y(!0),k(ue,null,xe(s.value,h=>(y(),k("div",{key:h.key,class:"opt-row"},[d("label",{for:`opt-${h.key}`},B(h.label),9,wb),h.type==="number"?(y(),k("input",{key:0,id:`opt-${h.key}`,type:"number",min:h.min,max:h.max,step:h.step||1,value:m(h.key)??"",onInput:D=>i(h.key,D)},null,40,kb)):h.type==="select"?(y(),k("select",{key:1,id:`opt-${h.key}`,value:m(h.key),onChange:D=>c(h.key,D)},[(y(!0),k(ue,null,xe(h.options||[],D=>(y(),k("option",{key:D.value,value:D.value},B(D.label),9,xb))),128))],40,_b)):h.type==="toggle"?(y(),k("input",{key:2,id:`opt-${h.key}`,type:"checkbox",checked:!!m(h.key),onChange:D=>f(h.key,D)},null,40,Cb)):h.type==="text"?(y(),k("input",{key:3,id:`opt-${h.key}`,type:"text",value:m(h.key)??"",onInput:D=>p(h.key,D)},null,40,Sb)):h.type==="color"?(y(),k("input",{key:4,id:`opt-${h.key}`,type:"color",value:m(h.key)||"#000000",onInput:D=>p(h.key,D)},null,40,$b)):h.type==="colorlist"?(y(),k("div",Tb,[(y(!0),k(ue,null,xe(g(h.key),(D,O)=>(y(),k("div",{key:`${h.key}-${O}`,class:"colorlist__item"},[d("input",{type:"color",value:D,onInput:z=>u(h.key,O,z)},null,40,Mb)]))),128)),d("button",{type:"button",class:"ghost sm",onClick:D=>v(h.key)},"+",8,Db)])):h.type==="multiselect"?(y(),k("div",Ab,[(y(!0),k(ue,null,xe(h.options||[],D=>(y(),k("label",{key:`${h.key}-${D.value}`,class:"multi__item"},[d("input",{type:"checkbox",value:D.value,checked:Array.isArray(m(h.key))?m(h.key).includes(D.value):!1,onChange:O=>b(h.key,D.value,O)},null,40,Lb),d("span",null,B(D.label),1)]))),128))])):h.type==="textarea"?(y(),k("textarea",{key:7,id:`opt-${h.key}`,rows:"3",value:m(h.key)??"",onInput:D=>p(h.key,D)},null,40,Eb)):h.type==="filterbuilder"?(y(),k("div",Ob,[x[4]||(x[4]=d("div",{class:"filter-builder__hint"},[Me(" Tags and assigned can be used independentlyleave one empty to ignore it. Use commas. Special assignees: "),d("code",null,"me"),Me(", "),d("code",null,"unassigned"),Me(". ")],-1)),(y(!0),k(ue,null,xe($(h.key),(D,O)=>(y(),k("div",{key:`${h.key}-row-${O}`,class:"filter-builder__row"},[d("input",{type:"text",class:"filter-builder__label",value:D.label,placeholder:"Filter label",onInput:z=>S(h.key,O,"label",z)},null,40,Bb),d("input",{type:"text",class:"filter-builder__input",value:D.labels,placeholder:"Tags (comma separated)",onInput:z=>S(h.key,O,"labels",z)},null,40,Nb),d("input",{type:"text",class:"filter-builder__input",value:D.assignees,placeholder:"Assigned (comma separated)",onInput:z=>S(h.key,O,"assignees",z)},null,40,Ib),d("button",{type:"button",class:"ghost sm",onClick:z=>C(h.key,O)},"",8,Pb)]))),128)),d("button",{type:"button",class:"ghost sm",onClick:D=>T(h.key)},"+ Add filter",8,Fb)])):G("",!0)]))),128))])):G("",!0),_.showAdvanced?(y(),k("div",Hb,[d("button",{type:"button",class:"link-btn",title:"Opens a full targets editor for this widget only. Use the reset inside to go back to global.",onClick:x[1]||(x[1]=et(h=>o("open-advanced"),["stop"]))}," Advanced targets (widget only) ")])):G("",!0)])):G("",!0)],32))}}),[["__scopeId","data-v-fdb4e08b"]]),zb={key:0,class:"widget-toolbar-layer"},Rb={class:"widget-toolbar"},jb={class:"toolbar-title"},Ub={key:0,class:"toolbar-actions"},Vb={class:"toolbar-quick"},Kb={class:"toolbar-field"},qb=["value"],Gb={class:"toolbar-field"},Jb=["value"],Yb={class:"toolbar-field"},Zb=["value"],Xb={class:"toolbar-field toolbar-field--toggle"},Qb=["checked"],ey={class:"toolbar-field toolbar-field--toggle"},ty=["checked"],ay={key:1,class:"toolbar-actions"},oy=We(Te({__name:"DashboardToolbar",props:{editable:{type:Boolean},selectedItem:{},openOptionsId:{},presetLabel:{},context:{}},emits:["select-first","move","cycle-width","cycle-height","remove","reset-preset","toggle-options","open-advanced","edit-options"],setup(e){const t=e,a=E(()=>{var f,p,b;const i=((p=(f=t.selectedItem)==null?void 0:f.props)==null?void 0:p.title)||"";if(i)return i;const c=t.selectedItem?Fa[t.selectedItem.type]:null;return(c==null?void 0:c.label)||((b=t.selectedItem)==null?void 0:b.type)||"Widget"});function o(i){var c,f;return(f=(c=t.selectedItem)==null?void 0:c.options)==null?void 0:f[i]}function r(i){return Fa[i]}function n(i){var c;return!!((c=Fa[i])!=null&&c.configurable)}function s(i){return i==="quarter"?"":i==="half"?"":"1"}function l(i){return i==="s"?"S":i==="l"?"L":i==="xl"?"XL":"M"}return(i,c)=>(y(),Xe(Rd,{to:"body"},[i.editable?(y(),k("div",zb,[d("div",Rb,[d("div",jb,[i.selectedItem?(y(),k(ue,{key:0},[Me(B(a.value),1)],64)):(y(),k(ue,{key:1},[Me("Click a widget to edit")],64))]),i.selectedItem?(y(),k("div",Ub,[d("button",{type:"button",class:"ghost",title:"Move earlier",onClick:c[0]||(c[0]=f=>i.$emit("move","up"))},""),d("button",{type:"button",class:"ghost",title:"Move later",onClick:c[1]||(c[1]=f=>i.$emit("move","down"))},""),d("button",{type:"button",class:"ghost",title:"Cycle width",onClick:c[2]||(c[2]=f=>i.$emit("cycle-width"))},B(s(i.selectedItem.layout.width)),1),d("button",{type:"button",class:"ghost",title:"Cycle height",onClick:c[3]||(c[3]=f=>i.$emit("cycle-height"))},B(l(i.selectedItem.layout.height)),1),d("div",Vb,[d("label",Kb,[c[15]||(c[15]=d("span",null,"Title",-1)),d("input",{type:"text",value:o("titlePrefix")||"",placeholder:"Prefix",onInput:c[4]||(c[4]=f=>i.$emit("edit-options",i.selectedItem.id,"titlePrefix",f.target.value))},null,40,qb)]),d("label",Gb,[c[16]||(c[16]=d("span",null,"Card",-1)),d("input",{type:"color",value:o("cardBg")||"#ffffff",onInput:c[5]||(c[5]=f=>i.$emit("edit-options",i.selectedItem.id,"cardBg",f.target.value))},null,40,Jb)]),d("label",Yb,[c[18]||(c[18]=d("span",null,"Scale",-1)),d("select",{value:o("scale")||"md",onChange:c[6]||(c[6]=f=>i.$emit("edit-options",i.selectedItem.id,"scale",f.target.value))},[...c[17]||(c[17]=[d("option",{value:"sm"},"Small",-1),d("option",{value:"md"},"Normal",-1),d("option",{value:"lg"},"Large",-1),d("option",{value:"xl"},"Extra large",-1)])],40,Zb)]),d("label",Xb,[d("input",{type:"checkbox",checked:o("showHeader")!==!1,onChange:c[7]||(c[7]=f=>i.$emit("edit-options",i.selectedItem.id,"showHeader",f.target.checked))},null,40,Qb),c[19]||(c[19]=d("span",null,"Show title",-1))]),d("label",ey,[d("input",{type:"checkbox",checked:!!o("dense"),onChange:c[8]||(c[8]=f=>i.$emit("edit-options",i.selectedItem.id,"dense",f.target.checked))},null,40,ty),c[20]||(c[20]=d("span",null,"Dense",-1))])]),i.selectedItem&&n(i.selectedItem.type)?(y(),Xe(Wb,{key:0,entry:r(i.selectedItem.type),options:i.selectedItem.options,open:i.openOptionsId===i.selectedItem.id,"show-advanced":i.selectedItem.type==="targets_v2",context:i.context,onToggle:c[9]||(c[9]=f=>i.$emit("toggle-options",i.selectedItem.id,f)),onOpenAdvanced:c[10]||(c[10]=f=>i.$emit("open-advanced",i.selectedItem.id)),onChange:c[11]||(c[11]=(f,p)=>i.$emit("edit-options",i.selectedItem.id,f,p))},null,8,["entry","options","open","show-advanced","context"])):G("",!0),i.presetLabel?(y(),k("button",{key:1,type:"button",class:"ghost",title:"Reset widgets to preset",onClick:c[12]||(c[12]=f=>i.$emit("reset-preset"))}," Reset "+B(i.presetLabel),1)):G("",!0),d("button",{type:"button",class:"ghost danger",title:"Remove widget",onClick:c[13]||(c[13]=f=>i.$emit("remove"))},"")])):(y(),k("div",ay,[d("button",{type:"button",class:"ghost",onClick:c[14]||(c[14]=f=>i.$emit("select-first"))},"Select first widget")]))])])):G("",!0)]))}}),[["__scopeId","data-v-9225dfa8"]]),ry={id:"opsdash-sidebar-pane-targets",class:"sb-pane",role:"tabpanel","aria-labelledby":"opsdash-sidebar-tab-targets"},ny={class:"target-config"},sy={class:"field"},ly=["value","aria-invalid"],iy={class:"field"},cy=["value","aria-invalid"],dy={class:"cat-header"},uy=["value","onInput"],fy=["disabled","onClick"],gy={class:"cat-fields"},py={class:"field"},hy=["value","aria-invalid","onInput"],vy={class:"field"},my=["value","onChange"],by={class:"field checkbox"},yy=["checked","onChange"],wy={class:"field color-field"},ky=["aria-expanded","aria-label","onClick"],_y=["id"],xy={class:"swatch-grid",role:"group","aria-label":"Preset colors"},Cy=["aria-label","onClick"],Sy={class:"custom-color"},$y=["value","onInput"],Ty={class:"target-section"},My={class:"field checkbox"},Dy=["checked"],Ay={class:"field"},Ly=["value"],Ey={class:"field"},Oy=["value","aria-invalid"],By={class:"field"},Ny=["value","aria-invalid"],Iy={class:"target-section"},Py={class:"field"},Fy=["value"],Hy={class:"field"},Wy=["value","aria-invalid"],zy={class:"field"},Ry=["value","aria-invalid"],jy={class:"target-section"},Uy={class:"field checkbox"},Vy=["checked"],Ky={class:"field checkbox"},qy=["checked"],Gy=We(Te({__name:"SidebarTargetsPane",props:{targets:{},categoryOptions:{},totalTargetMessage:{},allDayHoursMessage:{},categoryTargetMessages:{},paceThresholdMessages:{},forecastMomentumMessage:{},forecastPaddingMessage:{},canAddCategory:{type:Boolean},colorPalette:{}},emits:["total-target-input","set-all-day-hours","set-category-label","remove-category","set-category-target","set-category-pace","set-category-weekend","set-category-color","add-category","set-include-weekend-total","set-pace-mode","set-threshold","set-forecast-method","set-forecast-momentum","set-forecast-padding","set-ui-option"],setup(e,{emit:t}){const a=e,{targets:o,categoryOptions:r,totalTargetMessage:n,allDayHoursMessage:s,categoryTargetMessages:l,paceThresholdMessages:i,forecastMomentumMessage:c,forecastPaddingMessage:f,canAddCategory:p,colorPalette:b}=rn(a),m=t,g=E(()=>{var w;return T((w=b.value)==null?void 0:w[0])??"#2563EB"}),u=te(null);function v(w){const _=w.target;_!=null&&_.closest("[data-color-popover]")||$()}Mt(()=>{document.addEventListener("click",v)}),Ot(()=>{document.removeEventListener("click",v)});function M(w){if(u.value===w){$();return}u.value=w,ra(()=>{const _=document.getElementById(`opsdash-color-popover-${w}`);_==null||_.focus()})}function $(){u.value=null}function T(w){if(typeof w!="string")return null;const _=w.trim();if(!/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(_))return null;if(_.length===4){const[,x,h,D]=_;return`#${x}${x}${h}${h}${D}${D}`.toUpperCase()}return _.toUpperCase()}function C(w){return T(w==null?void 0:w.color)??g.value}function S(w,_){const x=T(_)??g.value;m("set-category-color",{id:w,color:x})}function P(w,_){const x=T(_)??g.value;m("set-category-color",{id:w,color:x}),$()}return(w,_)=>{var x,h,D,O,z,re,I,V,X,Y,he,ee;return y(),k("div",ry,[_[36]||(_[36]=d("div",{class:"sb-title"},"Target Settings",-1)),d("div",ny,[d("div",sy,[_[14]||(_[14]=d("span",{class:"label"},"Total target (h)",-1)),d("input",{type:"number",value:A(o).totalHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!A(n),onInput:_[0]||(_[0]=K=>w.$emit("total-target-input",K.target.value))},null,40,ly),A(n)?(y(),k("div",{key:0,class:Ee(["input-message",(x=A(n))==null?void 0:x.tone])},B((h=A(n))==null?void 0:h.text),3)):G("",!0)]),d("div",iy,[_[15]||(_[15]=d("span",{class:"label"},"All-day event (h per day)",-1)),d("input",{type:"number",value:A(o).allDayHours,min:"0",max:"24",step:"0.25","aria-invalid":!!A(s),onInput:_[1]||(_[1]=K=>w.$emit("set-all-day-hours",K.target.value))},null,40,cy),A(s)?(y(),k("div",{key:0,class:Ee(["input-message",(D=A(s))==null?void 0:D.tone])},B((O=A(s))==null?void 0:O.text),3)):G("",!0)]),(y(!0),k(ue,null,xe(A(r),K=>{var U,Q;return y(),k("div",{class:"target-category",key:K.id},[d("div",dy,[d("span",{class:"cat-color-indicator",style:Le({backgroundColor:C(K)}),"aria-hidden":"true"},null,4),d("input",{class:"cat-name",type:"text",value:K.label,placeholder:"Category name",onInput:N=>w.$emit("set-category-label",{id:K.id,label:N.target.value})},null,40,uy),d("button",{class:"remove-cat",type:"button",disabled:A(r).length<=1,title:"Remove category",onClick:N=>w.$emit("remove-category",K.id)},"  ",8,fy)]),d("div",gy,[d("label",py,[_[16]||(_[16]=d("span",{class:"label"},"Target (h)",-1)),d("input",{type:"number",value:K.targetHours,min:"0",max:"1000",step:"0.5","aria-invalid":!!A(l)[K.id],onInput:N=>w.$emit("set-category-target",{id:K.id,value:N.target.value})},null,40,hy),A(l)[K.id]?(y(),k("div",{key:0,class:Ee(["input-message",(U=A(l)[K.id])==null?void 0:U.tone])},B((Q=A(l)[K.id])==null?void 0:Q.text),3)):G("",!0)]),d("label",vy,[_[18]||(_[18]=d("span",{class:"label"},"Pace mode",-1)),d("select",{value:K.paceMode||A(o).pace.mode,onChange:N=>w.$emit("set-category-pace",{id:K.id,mode:N.target.value})},[..._[17]||(_[17]=[d("option",{value:"days_only"},"Days only",-1),d("option",{value:"time_aware"},"Time aware",-1)])],40,my)]),d("label",by,[d("input",{type:"checkbox",checked:K.includeWeekend,onChange:N=>w.$emit("set-category-weekend",{id:K.id,value:N.target.checked})},null,40,yy),_[19]||(_[19]=d("span",null,"Weekend",-1))]),d("div",wy,[d("div",{class:"color-trigger-wrapper","data-color-popover":"",onClick:_[3]||(_[3]=et(()=>{},["stop"]))},[d("button",{type:"button",class:"color-link","aria-expanded":u.value===K.id,"aria-label":`Choose color for ${K.label}`,onClick:N=>M(K.id)}," Color ",8,ky),u.value===K.id?(y(),k("div",{key:0,class:"color-popover",id:`opsdash-color-popover-${K.id}`,tabindex:"-1",onKeydown:_[2]||(_[2]=wa(et(N=>$(),["prevent"]),["esc"]))},[d("div",xy,[(y(!0),k(ue,null,xe(A(b),N=>(y(),k("button",{key:`${K.id}-swatch-${N}`,type:"button",class:Ee(["color-swatch",{active:C(K)===N}]),style:Le({backgroundColor:N}),"aria-label":`Use color ${N}`,onClick:J=>P(K.id,N)},null,14,Cy))),128))]),d("label",Sy,[_[20]||(_[20]=d("span",null,"Custom",-1)),d("input",{class:"color-input",type:"color",value:C(K),"aria-label":"Pick custom color",onInput:N=>S(K.id,N.target.value)},null,40,$y)])],40,_y)):G("",!0)])])])])}),128)),$e(A(rt),{type:"tertiary",class:"add-category",disabled:!A(p),onClick:_[4]||(_[4]=K=>w.$emit("add-category"))},{default:Ve(()=>[..._[21]||(_[21]=[Me(" Add category ",-1)])]),_:1},8,["disabled"]),d("div",Ty,[_[27]||(_[27]=d("div",{class:"section-title"},"Pace",-1)),d("label",My,[d("input",{type:"checkbox",checked:A(o).pace.includeWeekendTotal,onChange:_[5]||(_[5]=K=>w.$emit("set-include-weekend-total",K.target.checked))},null,40,Dy),_[22]||(_[22]=d("span",null,"Count weekend in total pace",-1))]),d("label",Ay,[_[24]||(_[24]=d("span",{class:"label"},"Mode",-1)),d("select",{value:A(o).pace.mode,onChange:_[6]||(_[6]=K=>w.$emit("set-pace-mode",K.target.value))},[..._[23]||(_[23]=[d("option",{value:"days_only"},"Days only",-1),d("option",{value:"time_aware"},"Time aware",-1)])],40,Ly)]),d("label",Ey,[_[25]||(_[25]=d("span",{class:"label"},"On track  gap (%)",-1)),d("input",{type:"number",value:A(o).pace.thresholds.onTrack,step:"0.1","aria-invalid":!!A(i).onTrack,onInput:_[7]||(_[7]=K=>w.$emit("set-threshold",{key:"onTrack",value:K.target.value}))},null,40,Oy),A(i).onTrack?(y(),k("div",{key:0,class:Ee(["input-message",(z=A(i).onTrack)==null?void 0:z.tone])},B((re=A(i).onTrack)==null?void 0:re.text),3)):G("",!0)]),d("label",By,[_[26]||(_[26]=d("span",{class:"label"},"At risk  gap (%)",-1)),d("input",{type:"number",value:A(o).pace.thresholds.atRisk,step:"0.1","aria-invalid":!!A(i).atRisk,onInput:_[8]||(_[8]=K=>w.$emit("set-threshold",{key:"atRisk",value:K.target.value}))},null,40,Ny),A(i).atRisk?(y(),k("div",{key:0,class:Ee(["input-message",(I=A(i).atRisk)==null?void 0:I.tone])},B((V=A(i).atRisk)==null?void 0:V.text),3)):G("",!0)])]),d("div",Iy,[_[32]||(_[32]=d("div",{class:"section-title"},"Forecast",-1)),d("label",Py,[_[29]||(_[29]=d("span",{class:"label"},"Primary method",-1)),d("select",{value:A(o).forecast.methodPrimary,onChange:_[9]||(_[9]=K=>w.$emit("set-forecast-method",K.target.value))},[..._[28]||(_[28]=[d("option",{value:"linear"},"Linear",-1),d("option",{value:"momentum"},"Momentum",-1)])],40,Fy)]),d("label",Hy,[_[30]||(_[30]=d("span",{class:"label"},"Momentum window (days)",-1)),d("input",{type:"number",value:A(o).forecast.momentumLastNDays,min:"1",max:"14",step:"1","aria-invalid":!!A(c),onInput:_[10]||(_[10]=K=>w.$emit("set-forecast-momentum",K.target.value))},null,40,Wy),A(c)?(y(),k("div",{key:0,class:Ee(["input-message",(X=A(c))==null?void 0:X.tone])},B((Y=A(c))==null?void 0:Y.text),3)):G("",!0)]),d("label",zy,[_[31]||(_[31]=d("span",{class:"label"},"Padding (h)",-1)),d("input",{type:"number",value:A(o).forecast.padding,min:"0",step:"0.1","aria-invalid":!!A(f),onInput:_[11]||(_[11]=K=>w.$emit("set-forecast-padding",K.target.value))},null,40,Ry),A(f)?(y(),k("div",{key:0,class:Ee(["input-message",(he=A(f))==null?void 0:he.tone])},B((ee=A(f))==null?void 0:ee.text),3)):G("",!0)])]),d("div",jy,[_[35]||(_[35]=d("div",{class:"section-title"},"Display",-1)),d("label",Uy,[d("input",{type:"checkbox",checked:A(o).ui.showCalendarCharts,onChange:_[12]||(_[12]=K=>w.$emit("set-ui-option",{key:"showCalendarCharts",value:K.target.checked}))},null,40,Vy),_[33]||(_[33]=d("span",null,"Show calendar charts",-1))]),d("label",Ky,[d("input",{type:"checkbox",checked:A(o).ui.showCategoryCharts,onChange:_[13]||(_[13]=K=>w.$emit("set-ui-option",{key:"showCategoryCharts",value:K.target.checked}))},null,40,qy),_[34]||(_[34]=d("span",null,"Show category charts",-1))])])])])}}}),[["__scopeId","data-v-1e606590"]]),Jy={key:0,class:"advanced-overlay",role:"dialog","aria-modal":"true","aria-label":"Targets configuration"},Yy={class:"advanced-panel"},Zy=We(Te({__name:"DashboardAdvancedTargetsOverlay",props:{widgetId:{},widgets:{},contextTargetsConfig:{}},emits:["close","save","use-global","open-onboarding"],setup(e,{emit:t}){const a=e,o=t,r=te(null),n=te(null),s=te(null),l=te(null),i=te(null),c=aa({onTrack:null,atRisk:null}),f=aa({}),p=ht(void 0);Oe(()=>a.widgetId,F=>{if(!F){r.value=null,v();return}const H=a.widgets.find(ye=>ye.id===F),R=(H==null?void 0:H.options)||{},ae=R.useLocalConfig&&R.localConfig?ht(R.localConfig):ht(a.contextTargetsConfig);r.value=Qt(ae),v()},{immediate:!0});const b=E(()=>{var F;return((F=r.value)==null?void 0:F.categories)??[]}),m=["#2563EB","#F97316","#10B981","#A855F7","#EC4899","#14B8A6","#F59E0B","#6366F1","#0EA5E9","#65A30D"],g=E(()=>{const F=new Set,H=R=>{const ae=S(R);ae&&F.add(ae)};return b.value.forEach(R=>H(R.color)),m.forEach(R=>F.add(R)),Array.from(F)}),u=E(()=>{const F=r.value;return F?P(F)!==null:!1});function v(){n.value=null,s.value=null,l.value=null,i.value=null,c.onTrack=null,c.atRisk=null,Object.keys(f).forEach(F=>{delete f[F]})}function M(){o("close")}function $(){!a.widgetId||!r.value||o("save",a.widgetId,Qt(r.value))}function T(){a.widgetId&&o("use-global",a.widgetId)}function C(){o("open-onboarding","categories")}function S(F){if(typeof F!="string")return null;const H=F.trim();if(!/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(H))return null;if(H.length===4){const[,R,ae,ye]=H;return`#${R}${R}${ae}${ae}${ye}${ye}`.toUpperCase()}return H.toUpperCase()}function P(F){const H=new Set;F.categories.forEach(R=>{(R.groupIds||[]).forEach(ae=>{const ye=Number(ae);Number.isFinite(ye)&&H.add(ye)})});for(let R=1;R<=9;R++)if(!H.has(R))return R;return null}function w(){return`cat-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`}function _(F){const H=new Set;F.categories.forEach(R=>{const ae=S(R==null?void 0:R.color);ae&&H.add(ae)});for(const R of m)if(!H.has(R))return R;return m[0]??null}function x(F){if(!r.value)return;const H=Qt(r.value);F(H),r.value=H}function h(F,H){x(R=>{const ae=R.categories.find(ye=>ye.id===F);ae&&H(ae)})}function D(F){Pa(F,{min:0,max:1e3,step:.5,decimals:2},H=>{n.value=H},H=>x(R=>{R.totalHours=H}))}function O(F){Pa(F,{min:0,max:24,step:.25,decimals:2},H=>{s.value=H},H=>x(R=>{R.allDayHours=H}),"024 hours per day")}function z(F,H){Pa(H,{min:0,max:1e3,step:.5,decimals:2},R=>{f[F]=R},R=>h(F,ae=>{ae.targetHours=R}))}function re(F,H){h(F,R=>{R.label=H.trim()||R.label})}function I(F,H){h(F,R=>{R.includeWeekend=H})}function V(F,H){const R=S(H);h(F,ae=>{ae.color=R??null})}function X(F,H){H!=="days_only"&&H!=="time_aware"||h(F,R=>{R.paceMode=H})}function Y(F){x(H=>{H.pace.includeWeekendTotal=F})}function he(F){F!=="days_only"&&F!=="time_aware"||x(H=>{H.pace.mode=F})}function ee(F,H){Pa(H,{min:-100,max:100,step:.1,decimals:1},R=>{c[F]=R},R=>x(ae=>{ae.pace.thresholds[F]=R}))}function K(F){const H=F==="momentum"?"momentum":"linear";x(R=>{R.forecast.methodPrimary=H})}function U(F){Pa(F,{min:1,max:14,step:1,decimals:0},H=>{l.value=H},H=>x(R=>{R.forecast.momentumLastNDays=H}))}function Q(F){Pa(F,{min:0,max:100,step:.1,decimals:1},H=>{i.value=H},H=>x(R=>{R.forecast.padding=H}))}function N(F,H){x(R=>{R.ui||(R.ui={...p.ui}),R.ui[F]=H})}function J(){const F=r.value;if(!F)return;const H=P(F);H!==null&&x(R=>{const ae=_(R);R.categories=[...R.categories,{id:w(),label:`Category ${R.categories.length+1}`,targetHours:0,includeWeekend:!0,paceMode:"days_only",color:ae,groupIds:[H]}]})}function de(F){const H=r.value;!H||H.categories.length<=1||(x(R=>{R.categories=R.categories.filter(ae=>ae.id!==F)}),delete f[F])}return(F,H)=>F.widgetId&&r.value?(y(),k("div",Jy,[d("div",Yy,[d("div",{class:"overlay-header"},[H[7]||(H[7]=d("div",null,[d("div",{class:"overlay-title"},"Targets (this widget only)"),d("div",{class:"overlay-subtitle"},"Starts from global targets; saving keeps a local copy for this widget.")],-1)),d("button",{type:"button",class:"ghost danger",onClick:M,"aria-label":"Close"},"")]),$e(Gy,{targets:r.value,"category-options":b.value,"total-target-message":n.value,"all-day-hours-message":s.value,"category-target-messages":f,"pace-threshold-messages":c,"forecast-momentum-message":l.value,"forecast-padding-message":i.value,"color-palette":g.value,"can-add-category":u.value,onTotalTargetInput:D,onSetAllDayHours:O,onSetCategoryTarget:H[0]||(H[0]=({id:R,value:ae})=>z(R,ae)),onSetCategoryLabel:H[1]||(H[1]=({id:R,label:ae})=>re(R,ae)),onSetCategoryWeekend:H[2]||(H[2]=({id:R,value:ae})=>I(R,ae)),onSetCategoryPace:H[3]||(H[3]=({id:R,mode:ae})=>X(R,ae)),onSetCategoryColor:H[4]||(H[4]=({id:R,color:ae})=>V(R,ae)),onAddCategory:J,onRemoveCategory:de,onSetIncludeWeekendTotal:Y,onSetPaceMode:he,onSetThreshold:H[5]||(H[5]=({key:R,value:ae})=>ee(R,ae)),onSetForecastMethod:K,onSetForecastMomentum:U,onSetForecastPadding:Q,onSetUiOption:H[6]||(H[6]=({key:R,value:ae})=>N(R,ae))},null,8,["targets","category-options","total-target-message","all-day-hours-message","category-target-messages","pace-threshold-messages","forecast-momentum-message","forecast-padding-message","color-palette","can-add-category"]),d("div",{class:"overlay-actions"},[d("div",{class:"overlay-actions__left"},[d("button",{type:"button",class:"ghost",onClick:T},"Use global targets"),d("button",{type:"button",class:"ghost",onClick:C},"Edit via onboarding")]),d("div",{class:"overlay-actions__right"},[d("button",{type:"button",class:"ghost",onClick:M},"Cancel"),d("button",{type:"button",class:"ghost primary",onClick:$},"Save")])])])])):G("",!0)}}),[["__scopeId","data-v-539a10f9"]]),Xy=We(Te({__name:"DashboardLayout",props:{widgets:{},context:{},editable:{type:Boolean},widgetTypes:{},presetLabel:{}},emits:["edit:width","edit:height","edit:remove","edit:move","edit:options","edit:add","edit:reorder","open:onboarding","reset:preset","select:cell"],setup(e,{expose:t,emit:a}){const o=e,r=a,n=te(null),s=te(null),l=te(null),i=E(()=>(o.widgets||[]).slice().sort((h,D)=>(h.layout.order||0)-(D.layout.order||0)).map(h=>{const D=sb(h,o.context);if(!D)return null;const O=h.options||{};return{...D,id:h.id,layout:h.layout,type:h.type,options:O}}).filter(Boolean)),c=E(()=>i.value.find(h=>h.id===l.value)||null),f=E(()=>o.widgetTypes||[]);Oe(()=>o.editable,h=>{h||(l.value=null,n.value=null,s.value=null)},{immediate:!0}),Oe(()=>i.value.map(h=>h.id).join("|"),()=>{l.value&&!i.value.find(h=>h.id===l.value)&&(l.value=null)});function p(h,D){n.value=D?h:null,!D&&s.value===h&&(s.value=null)}function b(h){l.value=h,n.value=null}function m(){i.value.length&&(l.value=i.value[0].id)}function g(){l.value=null,n.value=null,s.value=null}function u(){l.value&&r("edit:width",l.value)}function v(){l.value&&r("edit:height",l.value)}function M(h){l.value&&r("edit:move",l.value,h)}function $(){l.value&&r("edit:remove",l.value)}function T(h){l.value=h,n.value=h,s.value=h}function C(){n.value=null,s.value=null}function S(h,D){r("edit:options",h,"localConfig",D),r("edit:options",h,"useLocalConfig",!0),C()}function P(h){r("edit:options",h,"useLocalConfig",!1),r("edit:options",h,"localConfig",null),C()}function w(h){C(),r("open:onboarding",h)}function _(){l.value&&(n.value=l.value)}function x(h){r("select:cell",h)}return t({openOptionsForSelected:_}),(h,D)=>(y(),k("div",{class:Ee(["layout-wrapper",{"editable-mode":h.editable}]),onClick:et(g,["self"])},[$e(cb,{ordered:i.value,editable:h.editable,"selected-id":l.value,"widget-type-list":f.value,onSelect:b,onSelectCell:x,onAdd:D[0]||(D[0]=(O,z)=>r("edit:add",O,z)),onReorder:D[1]||(D[1]=(O,z)=>r("edit:reorder",O,z))},null,8,["ordered","editable","selected-id","widget-type-list"]),$e(oy,{editable:h.editable,"selected-item":c.value,"open-options-id":n.value,"preset-label":h.presetLabel,context:h.context,onSelectFirst:m,onMove:M,onCycleWidth:u,onCycleHeight:v,onRemove:$,onResetPreset:D[2]||(D[2]=O=>r("reset:preset")),onToggleOptions:p,onOpenAdvanced:T,onEditOptions:D[3]||(D[3]=(O,z,re)=>r("edit:options",O,z,re))},null,8,["editable","selected-item","open-options-id","preset-label","context"]),$e(Zy,{"widget-id":s.value,widgets:h.widgets,"context-targets-config":h.context.targetsConfig,onClose:C,onSave:S,onUseGlobal:P,onOpenOnboarding:w},null,8,["widget-id","widgets","context-targets-config"])],2))}}),[["__scopeId","data-v-98fee2cd"]]);function Qy(e){const t=te(""),a=te(""),o=te(!1),r=te([]),n=(c,f,p)=>c==="month"?`Month of ${f?f.slice(0,7):`-${p}`}`:`Week of ${f||`-${p}`}`,s=(c,f)=>{const p=c==="month"?"Notes for month starting":"Notes for week starting";return f?`${p} ${f}`:p};async function l(){var p,b,m;const c=await e.getJson(e.route("notes"),{range:e.range.value,offset:e.offset.value|0});t.value=String(((p=c==null?void 0:c.notes)==null?void 0:p.previous)??""),a.value=String(((b=c==null?void 0:c.notes)==null?void 0:b.current)??"");const f=Array.isArray((m=c==null?void 0:c.notes)==null?void 0:m.history)?c.notes.history:[];r.value=f.map((g,u)=>{const v=Number((g==null?void 0:g.offset)??u+1),M=String((g==null?void 0:g.from)??"").trim(),$=String((g==null?void 0:g.content)??"");if(!$.trim())return null;const T=n(e.range.value,M,v),C=s(e.range.value,M);return{id:`offset-${v}-${M||u}`,label:T,title:C,content:$,from:M||void 0,offset:v}}).filter(Boolean)}async function i(){try{o.value=!0,await e.postJson(e.route("notesSave"),{range:e.range.value,offset:e.offset.value|0,content:a.value??""}),e.notifySuccess("Notes saved"),await l()}catch(c){console.error(c),e.notifyError("Failed to save notes")}finally{o.value=!1}}return{notesPrev:t,notesCurrDraft:a,isSavingNote:o,notesHistory:r,fetchNotes:l,saveNotes:i}}let Eo=null,Vn=null,fc=!1;function gc(){var t;if(typeof document>"u")return null;const e=(t=document.getElementById("app"))==null?void 0:t.getAttribute("data-opsdash-theme-preference");return e==="auto"||e==="light"||e==="dark"?e:null}function e1(){if(!(typeof window>"u"))try{Lr(),t1()}catch(e){r1()&&console.warn("[opsdash] theme boot install failed",e)}}function t1(){if(Eo||Vn||fc)return;const e=[];if(document.documentElement&&e.push(document.documentElement),document.body&&document.body!==document.documentElement&&e.push(document.body),e.length&&(Eo=new MutationObserver(()=>Lr()),e.forEach(t=>{Eo==null||Eo.observe(t,{attributes:!0,attributeFilter:["data-theme","class"]})})),window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>Lr();typeof t.addEventListener=="function"?(t.addEventListener("change",a),Vn=()=>t.removeEventListener("change",a)):typeof t.addListener=="function"&&(t.addListener(a),Vn=()=>{t.removeListener(a)})}window.addEventListener("oc:theme:changed",Lr),fc=!0}function Lr(){const e=a1();if(!e)return;["icon","shortcut icon"].forEach(a=>{let o=document.querySelector(`link[rel="${a}"]`);o||(o=document.createElement("link"),o.rel=a,document.head.appendChild(o)),o.type="image/svg+xml",o.href=e})}function a1(){const e=Kn()==="dark",t=o1(),a=t("favicon.svg");if(a)return a;if(e){const r=t("app-dark.svg");if(r)return r}const o=t(e?"app-dark.svg":"app.svg");return o||"/apps-extra/opsdash/img/favicon.svg"}function Kn(){var o,r,n,s,l;const e=(o=document.documentElement)==null?void 0:o.getAttribute("data-theme");if(e==="dark"||e==="light")return e;const t=(r=document.body)==null?void 0:r.getAttribute("data-theme");if(t==="dark"||t==="light")return t;if((n=document.body)!=null&&n.classList.contains("theme--dark"))return"dark";if((s=document.body)!=null&&s.classList.contains("theme--light"))return"light";const a=(l=window.matchMedia)==null?void 0:l.call(window,"(prefers-color-scheme: dark)");return a!=null&&a.matches?"dark":"light"}function o1(){const e=window;return t=>{var a;return typeof((a=e.OC)==null?void 0:a.imagePath)=="function"?e.OC.imagePath("opsdash",t):""}}function r1(){var t;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function n1(e){const t=te([]),a=te({}),o=te({}),r=te({}),n=te([]),s=te(!1),l=te(!1),i=te(null),c=te(""),f=te(""),p=te(""),b=aa({}),m=te([]),g=te([]),u=te([]),v=te({}),M=te({}),$=te({}),T=te(ht(Xt())),C=te(null),S=gc()??"auto",P=te(S),w=te(xr()),_=te(Cr());let x=0;async function h(){var I,V,X,Y,he,ee,K,U,Q,N,J,de,F,H,R,ae;const D=++x;s.value=!0;const O={...o.value},z={...a.value};let re=!1;try{const ye={range:e.range.value,offset:e.offset.value|0,save:!1},L=await e.getJson(e.route("load"),ye);if(D!==x){(I=e.isDebug)!=null&&I.call(e)&&console.warn("discarding stale load response",{currentSeq:D,loadSeq:x});return}c.value=String(((V=L.meta)==null?void 0:V.uid)??""),f.value=String(((X=L.meta)==null?void 0:X.from)??""),p.value=String(((Y=L.meta)==null?void 0:Y.to)??""),l.value=!!((he=L.meta)!=null&&he.truncated),i.value=((ee=L.meta)==null?void 0:ee.limits)??null;const W=pe=>{const be={};return pe&&typeof pe=="object"&&Object.entries(pe).forEach(([Ce,Se])=>{typeof Se=="string"&&Se.trim()!==""&&(be[String(Ce)]=Se)}),be},q=Array.isArray(L.calendars)?L.calendars:[],ie=W((K=L.colors)==null?void 0:K.byId),oe=W((U=L.colors)==null?void 0:U.byName),ce=q.map(pe=>{if(!pe||typeof pe!="object")return pe;const be={...pe},Ce=String(be.id??""),Se=String(be.displayname??be.name??be.calendar??Ce),Ae=typeof be.color=="string"?be.color:"",Ne=typeof be.color_src=="string"?be.color_src:"",Pe=Ce?ie[Ce]:"",He=Se?oe[Se]:"",Ue=Ce?O[Ce]:"",Ze=Se?z[Se]:"",ut=Ue||Ze;let Ie=Ae;return!Ie&&Pe&&(Ie=Pe),!Ie&&He&&(Ie=He),(!Ie||Ne==="fallback")&&ut&&(Ie=ut),!Ie&&ut&&(Ie=ut),Ie&&(Ie!==Ae&&(re=!0),be.color=Ie,Ce&&(ie[Ce]=Ie),Se&&(oe[Se]=Ie)),be});if(t.value=ce,a.value=oe,o.value=ie,C.value=L.onboarding?{...L.onboarding}:null,w.value=Pn(L.reportingConfig,w.value),_.value=Fn(L.deckSettings,_.value),e.widgetTabs){const pe=e.widgetTabs.value||Dr("standard");e.widgetTabs.value=Ar(L.widgets,pe)}const ve=()=>{var be,Ce,Se,Ae;let pe=!1;try{const Ne=((be=v.value)==null?void 0:be.pie)||{},Pe=Array.isArray(Ne.ids)?Ne.ids.map(He=>String(He??"")):[];if(Pe.length){const He=Array.isArray(Ne.colors)?Ne.colors:[],Ue=Pe.map((Ze,ut)=>o.value[Ze]||He[ut]||"#60a5fa");v.value={...v.value||{},pie:{...Ne,colors:Ue}},pe=!0}}catch(Ne){(Ce=e.isDebug)!=null&&Ce.call(e)&&console.warn("recompute pie colors failed",Ne)}try{const Ne=(Se=v.value)==null?void 0:Se.perDaySeries;if(Ne&&Array.isArray(Ne.series)){const Pe=Ne.series.map(He=>{const Ue=String((He==null?void 0:He.id)??""),Ze=o.value[Ue]||He.color||"#60a5fa";return{...He,color:Ze}});v.value={...v.value||{},perDaySeries:{labels:Ne.labels,series:Pe}},pe=!0}}catch(Ne){(Ae=e.isDebug)!=null&&Ae.call(e)&&console.warn("recompute stacked colors failed",Ne)}return pe},ge=((Q=L.groups)==null?void 0:Q.byId)??((N=L.groups)==null?void 0:N.byID)??((J=L.groups)==null?void 0:J.ids)??{},fe={};t.value.forEach(pe=>{const be=String((pe==null?void 0:pe.id)??""),Ce=Number((ge==null?void 0:ge[be])??0);fe[be]=Number.isFinite(Ce)?Math.max(0,Math.min(9,Math.trunc(Ce))):0}),r.value=fe;const le=((de=L.targets)==null?void 0:de.week)??{},we=((F=L.targets)==null?void 0:F.month)??{};M.value=le&&typeof le=="object"?le:{},$.value=we&&typeof we=="object"?we:{},T.value=ht(L.targetsConfig??Xt());const me=typeof L.themePreference=="string"?L.themePreference:"";if(P.value=me==="light"||me==="dark"?me:"auto",(H=e.isDebug)!=null&&H.call(e)&&(console.group("[opsdash] calendars/colors"),console.table((t.value||[]).map(pe=>({id:pe.id,name:pe.displayname,color:pe.color,raw:pe.color_raw,src:pe.color_src}))),console.log("colors.byId",o.value),console.log("colors.byName",a.value),L.calDebug&&console.log("server calDebug",L.calDebug),L.debug&&(console.group("[opsdash] server query debug"),console.log(L.debug),console.groupEnd()),console.groupEnd()),t.value.length&&e.fetchDavColors&&t.value.filter(be=>!be.color||be.color_src==="fallback").length)try{const be=await e.fetchDavColors(c.value,t.value.map(Se=>String(Se.id)));let Ce=!1;t.value=t.value.map(Se=>{const Ae=be[Se.id];return Ae&&Ae!==Se.color&&(Se.color_src="dav"(Se).color_raw=Ae,Se.color=Ae,Ce=!0),Se}),Object.entries(be).forEach(([Se,Ae])=>{if(Ae){const Ne=String(Ae);o.value[Se]=Ne;const Pe=t.value.find(Ue=>String((Ue==null?void 0:Ue.id)??"")===Se);Pe&&(Pe.color=Ne);const He=Pe?String(Pe.displayname??Pe.name??""):"";He&&(a.value[He]=Ne)}}),Ce&&((R=e.isDebug)!=null&&R.call(e)&&console.log("[opsdash] dav colors applied",be),re=!0)}catch(be){(ae=e.isDebug)!=null&&ae.call(e)&&console.warn("dav colors failed",be)}n.value=Array.isArray(L.selected)?L.selected.map(pe=>String(pe)):Array.isArray(L.saved)?L.saved.map(pe=>String(pe)):[],e.userChangedSelection.value=!1,Object.assign(b,L.stats??{}),m.value=Array.isArray(L.byCal)?L.byCal:[],g.value=Array.isArray(L.byDay)?L.byDay:[],u.value=Array.isArray(L.longest)?L.longest:[],v.value=L.charts??{},re&&ve(),await ra(),e.scheduleDraw(),await e.fetchNotes().catch(()=>{})}catch(ye){console.error(ye),e.notifyError("Failed to load data")}finally{s.value=!1}}return{calendars:t,colorsByName:a,colorsById:o,groupsById:r,selected:n,isLoading:s,isTruncated:l,truncLimits:i,uid:c,from:f,to:p,stats:b,byCal:m,byDay:g,longest:u,charts:v,targetsWeek:M,targetsMonth:$,targetsConfig:T,onboarding:C,load:h,themePreference:P,reportingConfig:w,deckSettings:_}}function s1(e){const t=te(!1);let a=null;function o(r=!0){a&&clearTimeout(a),a=setTimeout(async()=>{a=null;try{t.value=!0;const n=Qt(e.targetsConfig.value),s={cals:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:n};e.themePreference&&(s.theme_preference=e.themePreference.value),e.reportingConfig&&(s.reporting_config=e.reportingConfig.value),e.deckSettings&&(s.deck_settings=e.deckSettings.value),e.widgetTabs&&(s.widgets=e.widgetTabs.value);const l=await e.postJson(e.route("persist"),s);Array.isArray(l.read)?e.selected.value=l.read.map(p=>String(p)):Array.isArray(l.saved)&&(e.selected.value=l.saved.map(p=>String(p)));const i=l.targets_config_read,c=l.targets_config_saved,f=i1(i??c,n);if(f&&(e.targetsConfig.value=f),e.themePreference){const p=l1(l.theme_preference_read??l.theme_preference_saved);p&&(e.themePreference.value=p)}if(e.reportingConfig){const p=Pn(l.reporting_config_read??l.reporting_config_saved,e.reportingConfig.value);p&&(e.reportingConfig.value=p)}if(e.deckSettings){const p=Fn(l.deck_settings_read??l.deck_settings_saved,e.deckSettings.value);p&&(e.deckSettings.value=p)}if(e.widgetTabs){const p=l.widgets_read??l.widgets_saved??l.widgets,b=e.widgetTabs.value||Dr("standard");e.widgetTabs.value=Ar(p,b)}r&&e.onReload&&await e.onReload(),e.notifySuccess("Selection saved")}catch(n){console.error(n),e.notifyError("Failed to save selection")}finally{t.value=!1}},250)}return{queueSave:o,isSaving:t}}function l1(e){return e==="light"||e==="dark"||e==="auto"?e:null}function i1(e,t){if(!e)return;const a=JSON.parse(JSON.stringify(e)),o=Array.isArray(t==null?void 0:t.categories)?t.categories:[],r=new Map;return o.forEach(n=>{const s=String((n==null?void 0:n.id)??"");s&&r.set(s,n)}),Array.isArray(a.categories)&&(a.categories=a.categories.map(n=>{const s=String((n==null?void 0:n.id)??"");if(!s)return n;const l=r.get(s);return l&&((n==null?void 0:n.color)==null||n.color==="")&&typeof l.color=="string"&&l.color&&(n.color=l.color),n})),ht(a)}const c1=1e4;function d1(e){function t(c){return e.selected.value.includes(c)}function a(c,f){const p=new Set(e.selected.value);f?p.add(c):p.delete(c),e.selected.value=Array.from(p)}function o(c){a(c,!t(c)),e.userChangedSelection.value=!0,e.queueSave()}function r(c){e.selected.value=c?e.calendars.value.map(f=>String(f.id)):[]}function n(c,f){const p=Math.max(0,Math.min(9,Math.trunc(Number(f)||0))),b=e.groupsById.value??{};e.groupsById.value={...b,[c]:p},e.queueSave(!1)}function s(c){const f=Math.round(c*100)/100;return Math.min(c1,Math.max(0,f))}function l(c,f){const p=Number(f);if(!Number.isFinite(p)||p<0)return;const b=s(p);if(e.range.value==="month"){const m=s(b/4);e.targetsMonth.value={...e.targetsMonth.value||{},[c]:b},e.targetsWeek.value={...e.targetsWeek.value||{},[c]:m}}else{const m=s(b*4);e.targetsWeek.value={...e.targetsWeek.value||{},[c]:b},e.targetsMonth.value={...e.targetsMonth.value||{},[c]:m}}e.queueSave(!1)}function i(c){e.targetsConfig.value=ht(c),e.queueSave(!1)}return{isSelected:t,toggleCalendar:o,setGroup:n,setTarget:l,updateTargetsConfig:i,selectAll:r}}function u1(e){const t=te([]),a=te(!1),o=te(!1),r=te(!1),n=te([]),s=te(null);async function l(){a.value=!0;try{const m=await e.getJson(e.route("presetsList"),{});t.value=Array.isArray(m==null?void 0:m.presets)?m.presets:[]}catch(m){console.error(m),e.notifyError("Failed to load presets")}finally{a.value=!1}}async function i(m){const g=m.trim();if(g===""){e.notifyError("Enter a preset name.");return}o.value=!0;try{const u={name:g,selected:e.selected.value,groups:e.groupsById.value,targets_week:e.targetsWeek.value,targets_month:e.targetsMonth.value,targets_config:e.targetsConfig.value},v=await e.postJson(e.route("presetsSave"),u);t.value=Array.isArray(v==null?void 0:v.presets)?v.presets:t.value;const M=Array.isArray(v==null?void 0:v.warnings)?v.warnings:[];n.value=M,s.value=g,e.notifySuccess(`Profile "${g}" saved`)}catch(u){console.error(u),e.notifyError("Failed to save preset")}finally{o.value=!1}}function c(m){const g=Array.isArray(m==null?void 0:m.selected)?m.selected.map(M=>String(M)):[];e.selected.value=g;const u=m!=null&&m.groups&&typeof m.groups=="object"?m.groups:{};e.groupsById.value={...u},e.targetsWeek.value=m!=null&&m.targets_week&&typeof m.targets_week=="object"?m.targets_week:{},e.targetsMonth.value=m!=null&&m.targets_month&&typeof m.targets_month=="object"?m.targets_month:{};const v=m!=null&&m.targets_config&&typeof m.targets_config=="object"?ht(m.targets_config):Qt(e.targetsConfig.value);e.targetsConfig.value=v,e.userChangedSelection.value=!1}async function f(m){const g=m.trim();if(g!==""){r.value=!0;try{const u=await e.getJson(e.route("presetsLoad",g),{}),v=(u==null?void 0:u.preset)??{},M=Array.isArray(v==null?void 0:v.warnings)?v.warnings:Array.isArray(u==null?void 0:u.warnings)?u.warnings:[];if(M.length){const $=`Some items in the saved profile are no longer available:

${M.map(T=>` ${T}`).join(`
`)}

Apply the remaining values?`;if(!window.confirm($)){n.value=M,r.value=!1;return}}c(v),n.value=M,s.value=g,e.notifySuccess(`Profile "${g}" applied`),e.queueSave(!0),l().catch($=>console.warn("[opsdash] refresh presets after load failed",$))}catch(u){console.error(u),e.notifyError("Failed to load preset")}finally{r.value=!1}}}async function p(m){const g=m.trim();if(g!=="")try{const u=await e.deleteJson(e.route("presetsDelete",g));t.value=Array.isArray(u==null?void 0:u.presets)?u.presets:t.value,e.notifySuccess(`Profile "${g}" deleted`),s.value===g&&(s.value=null)}catch(u){console.error(u),e.notifyError("Failed to delete preset")}}function b(){n.value=[]}return{presets:t,presetsLoading:a,presetSaving:o,presetApplying:r,presetWarnings:n,lastLoadedPreset:s,refreshPresets:l,savePreset:i,loadPreset:f,deletePreset:p,clearPresetWarnings:b}}function f1(){let e=null;function t(){typeof window>"u"||typeof window.requestAnimationFrame!="function"||(e!==null&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{e=null,window.dispatchEvent(new Event("resize"))}))}return Ot(()=>{e!==null&&typeof window<"u"&&typeof window.cancelAnimationFrame=="function"&&(window.cancelAnimationFrame(e),e=null)}),{scheduleDraw:t}}const g1={load:"/apps/opsdash/overview/load",persist:"/apps/opsdash/overview/persist",notes:"/apps/opsdash/overview/notes",notesSave:"/apps/opsdash/overview/notes",presetsList:"/apps/opsdash/overview/presets",presetsSave:"/apps/opsdash/overview/presets",presetsLoad:"/apps/opsdash/overview/presets",presetsDelete:"/apps/opsdash/overview/presets",ping:"/apps/opsdash/overview/ping"};function p1(){var t,a;const e=typeof window<"u"?window:{};return e.OC&&(e.OC.webroot||((a=(t=e.OC).getRootPath)==null?void 0:a.call(t)))||e._oc_webroot||""}function h1(){const e=E(()=>p1());function t(s,l){const i=typeof window<"u"?window:{},c=g1[s];if(s==="presetsLoad"||s==="presetsDelete"){const f=`${c}/${encodeURIComponent(String(l??""))}`;return i.OC&&typeof i.OC.generateUrl=="function"?i.OC.generateUrl(f):`${e.value}${f}`}return i.OC&&typeof i.OC.generateUrl=="function"?i.OC.generateUrl(c):`${e.value}${c}`}function a(s){const l=new URLSearchParams;return Object.entries(s||{}).forEach(([i,c])=>{Array.isArray(c)?c.forEach(f=>l.append(i,String(f))):c!=null&&l.set(i,String(c))}),l.toString()}async function o(s,l){const i=a(l),c=i?`${s}${s.includes("?")?"&":"?"}${i}`:s,f=await fetch(c,{method:"GET",credentials:"same-origin"});if(!f.ok)throw new Error(`HTTP ${f.status}`);return await f.json()}async function r(s,l){var b;const i=typeof window<"u"?window:{},c=((b=i.OC)==null?void 0:b.requestToken)||i.oc_requesttoken||"",f={"Content-Type":"application/json"};c&&(f.requesttoken=c);const p=await fetch(s,{method:"POST",credentials:"same-origin",headers:f,body:JSON.stringify(l||{})});if(!p.ok)throw new Error(`HTTP ${p.status}`);return await p.json()}async function n(s){var b;const l=typeof window<"u"?window:{},i=((b=l.OC)==null?void 0:b.requestToken)||l.oc_requesttoken||"",c={};i&&(c.requesttoken=i);const f=await fetch(s,{method:"DELETE",credentials:"same-origin",headers:c});if(!f.ok)throw new Error(`HTTP ${f.status}`);const p=await f.text();return p?JSON.parse(p):{}}return{route:t,getJson:o,postJson:r,deleteJson:n,root:e}}function pc(e){const t=typeof document<"u"?document.getElementById("app"):null;if(!t||!t.dataset)return"";const a=t.dataset;return a?String(a[e]??""):""}function v1(e){const t=te(0),a=E(()=>{var p;const i=[],c=typeof window<"u"?window:{};try{if((p=c.OC)!=null&&p.imagePath){const b=c.OC.imagePath("opsdash","app.svg");b&&i.push(b)}}catch{}const f=e.root.value;return i.push(`${f}/apps/opsdash/img/app.svg`),i.push(`${f}/apps-extra/opsdash/img/app.svg`),i.push(`${f}/apps-writable/opsdash/img/app.svg`),i}),o=E(()=>a.value[Math.min(t.value,a.value.length-1)]||"");function r(){t.value+1<a.value.length&&t.value++}const n=te(pc("opsdashVersion")||(e.pkgVersion?String(e.pkgVersion):"")),s=te(pc("opsdashChangelog"));async function l(){if(!(n.value&&s.value))try{const i=await e.getJson(e.pingUrl(),{});!n.value&&typeof(i==null?void 0:i.version)=="string"&&(n.value=i.version),!s.value&&typeof(i==null?void 0:i.changelog)=="string"&&(s.value=i.changelog)}catch{}}return l(),{iconSrc:o,onIconError:r,appVersion:n,changelogUrl:s}}function m1(e){function t(o){const r=typeof window<"u"?window:{};return r.OC&&typeof r.OC.generateUrl=="function"?r.OC.generateUrl(`/apps/calendar/timeGridDay/${o}`):`${e.root.value}/index.php/apps/calendar/timeGridDay/${o}`}async function a(o,r){var i,c,f;const n={};if(!o)return n;const s=((i=window.OC)==null?void 0:i.requestToken)||window.oc_requesttoken||"",l=e.root.value;for(const p of r)try{const b=`${l}/remote.php/dav/calendars/${encodeURIComponent(o)}/${encodeURIComponent(p)}/`,m=`<?xml version="1.0" encoding="UTF-8"?>
<d:propfind xmlns:d="DAV:" xmlns:ical="http://apple.com/ns/ical/">
  <d:prop><ical:calendar-color/></d:prop>
</d:propfind>`;(c=e.isDebug)!=null&&c.call(e)&&console.log("[opsdash] PROPFIND",{url:b,id:p});const g=await fetch(b,{method:"PROPFIND",credentials:"same-origin",headers:{Depth:"0","Content-Type":"application/xml",requesttoken:s},body:m});if(!g.ok)continue;const u=await g.text();(f=e.isDebug)!=null&&f.call(e)&&console.log("[opsdash] PROPFIND response",{id:p,status:g.status,length:u.length,sample:u.slice(0,400)});const v=u.match(/<[^>]*calendar-color[^>]*>(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{8}|rgb\([^<]+\))<\/[^>]*calendar-color>/i);v&&(n[p]=v[1])}catch{}return n}return{calendarDayLink:t,fetchDavColors:a}}function b1(e){const t=E(()=>{var r,n;return k1({perDaySeries:(r=e.charts.value)==null?void 0:r.perDaySeries,forecastMode:((n=e.activityCardConfig.value)==null?void 0:n.forecastMode)??"total",targetsConfig:e.targetsConfig.value,currentTargets:e.currentTargets.value,calendarCategoryMap:e.calendarCategoryMap.value})}),a=E(()=>{var r;return{pie:((r=e.charts.value)==null?void 0:r.pie)||null,stacked:t.value}}),o=E(()=>{var v,M;const r={},n=(v=e.charts.value)==null?void 0:v.pie,s=(M=e.charts.value)==null?void 0:M.perDaySeries,l=t.value||s,i=n&&Array.isArray(n.data)&&Array.isArray(n.ids),c=l&&Array.isArray(l.series)&&Array.isArray(l.labels),f=e.calendarCategoryMap.value,p=i?(n.ids||[]).map($=>String($??"")):[],b=i?(n.labels||[]).map($=>String($??"")):[],m=i?(n.data||[]).map($=>Number($)||0):[],g=i?n.colors||[]:[],u=c?l.series:[];return e.calendarGroups.value.forEach($=>{const T=[];i&&p.forEach((w,_)=>{f[w]===$.id&&T.push(_)});const C=T.length?{ids:T.map(w=>p[w]),labels:T.map(w=>b[w]),data:T.map(w=>m[w]),colors:T.map(w=>{var _;return g[w]||((_=e.colorsById.value)==null?void 0:_[p[w]])||"#60a5fa"})}:null,S=c?u.filter(w=>f[String((w==null?void 0:w.id)??"")]===$.id):[],P=S.length?{labels:l.labels,series:S}:null;r[$.id]={pie:C,stacked:P}}),r});return{calendarChartData:a,categoryChartsById:o}}const y1=/^\d{4}-\d{2}-\d{2}$/,w1="__uncategorized__";function k1(e){const t=e.perDaySeries;if(!t||!Array.isArray(t.labels)||!Array.isArray(t.series))return null;const a=t.labels.map(u=>String(u??"")),o=t.series.map(u=>{const v=String((u==null?void 0:u.id)??"");return{...u,id:v,name:String((u==null?void 0:u.name)??(u==null?void 0:u.label)??v),color:String((u==null?void 0:u.color)??""),data:a.map((M,$)=>{var C;const T=Number(((C=u==null?void 0:u.data)==null?void 0:C[$])??0);return Number.isFinite(T)?Math.max(0,T):0})}}),r=_1(e.forecastMode),n=x1(new Date),s=a.map(u=>y1.test(u)&&u>n),l=[];if(s.forEach((u,v)=>{u&&l.push(v)}),!l.length||r==="off")return{labels:a,series:o};const i=e.targetsConfig??Xt(),c=S1(e.currentTargets),f=e.calendarCategoryMap??{},p=l.length,b=new Map;o.forEach(u=>{let v=0;u.data.forEach((M,$)=>{s[$]||(v+=Math.max(0,M))}),b.set(u.id,v)});const m=Array.from(b.values()).reduce((u,v)=>u+v,0),g=new Map;if(o.forEach(u=>{g.set(u.id,C1(a.length))}),r==="total"){const u=Math.max(0,Number(i.totalHours??0)),v=Math.max(0,u-m);if(v>1e-4){const M=v/p,$=o.map(C=>C.id),T=hc($,b,c);$.forEach(C=>{const S=T[C]??0;if(S<=0)return;const P=g.get(C);P&&l.forEach(w=>{P[w]=Er(M*S)})})}}else if(r==="calendar")o.forEach(u=>{const v=c[u.id]??0;if(v<=0)return;const M=Math.max(0,b.get(u.id)??0),$=Math.max(0,v-M);if($<=1e-4)return;const T=$/p,C=g.get(u.id);C&&l.forEach(S=>{C[S]=Er(T)})});else if(r==="category"){const u=new Set,v=Array.isArray(i.categories)?i.categories:[],M=new Map;v.forEach(T=>{M.set(String(T.id),Math.max(0,Number(T.targetHours??0)))});const $=new Map;o.forEach(T=>{const C=f==null?void 0:f[T.id],S=C?String(C):w1;$.has(S)||$.set(S,[]),$.get(S).push(T.id)}),$.forEach((T,C)=>{if(!T.length)return;const S=M.get(C)??0;if(S<=0)return;const P=T.reduce((D,O)=>D+Math.max(0,b.get(O)??0),0),w=Math.max(0,S-P);if(w<=1e-4)return;const _=w/p,x={};T.forEach(D=>{x[D]=c[D]??0});const h=hc(T,b,x);T.forEach(D=>{const O=h[D]??0;if(O<=0)return;const z=g.get(D);z&&(l.forEach(re=>{z[re]=Er(_*O)}),u.add(D))})}),o.forEach(T=>{if(u.has(T.id))return;const C=c[T.id]??0;if(C<=0)return;const S=Math.max(0,b.get(T.id)??0),P=Math.max(0,C-S);if(P<=1e-4)return;const w=P/p,_=g.get(T.id);_&&l.forEach(x=>{_[x]=Er(w)})})}return o.forEach(u=>{const v=g.get(u.id);v&&v.some(M=>M>1e-4)&&(u.forecast=v)}),{labels:a,series:o}}function _1(e){return e==="off"||e==="calendar"||e==="category"?e:"total"}function x1(e){const t=e.getFullYear(),a=`${e.getMonth()+1}`.padStart(2,"0"),o=`${e.getDate()}`.padStart(2,"0");return`${t}-${a}-${o}`}function C1(e){return Array.from({length:e},()=>0)}function Er(e){const t=Math.round(e*100)/100;return Number.isFinite(t)?t:0}function S1(e){const t={};return e&&Object.entries(e).forEach(([a,o])=>{const r=Number(o);Number.isFinite(r)&&r>0&&(t[String(a)]=r)}),t}function hc(e,t,a){const o={},r=e.reduce((l,i)=>l+Math.max(0,t.get(i)??0),0);if(r>1e-4)return e.forEach(l=>{const i=Math.max(0,t.get(l)??0);o[l]=i/r}),o;const n=e.reduce((l,i)=>l+Math.max(0,(a==null?void 0:a[i])??0),0);if(n>1e-4)return e.forEach(l=>{const i=Math.max(0,(a==null?void 0:a[l])??0);o[l]=i/n}),o;const s=e.length?1/e.length:0;return e.forEach(l=>{o[l]=s}),o}const ca="__uncategorized__",vc="Unassigned";function $1(e){const t=E(()=>{var f;const c=(f=e.targetsConfig.value)==null?void 0:f.categories;return Array.isArray(c)?c:[]}),a=E(()=>{const c={};return t.value.forEach(f=>{c[String(f.id)]=f.label||String(f.id)}),c}),o=E(()=>{var p;const c=new Map;return(((p=e.targetsSummary.value)==null?void 0:p.categories)||[]).forEach(b=>c.set(String(b.id),b)),c}),r=E(()=>{const c=new Map;return t.value.forEach(f=>{(Array.isArray(f.groupIds)?f.groupIds:[]).forEach(b=>{const m=Math.max(0,Math.min(9,Math.trunc(Number(b)||0)));c.set(m,String(f.id))})}),c}),n=E(()=>{var p;const c=e.calendars.value;if(!Array.isArray(c))return(p=e.isDebug)!=null&&p.call(e)&&console.warn("[opsdash] calendars not array",c),{};const f={};return c.forEach(b=>{var u;const m=String((b==null?void 0:b.id)??"");if(!m)return;const g=((u=e.colorsById.value)==null?void 0:u[m])||String((b==null?void 0:b.color)||"");f[m]={name:String((b==null?void 0:b.displayname)||(b==null?void 0:b.name)||(b==null?void 0:b.calendar)||m),color:g||void 0}}),f}),s=E(()=>{var g;const c={},f=r.value,p=e.groupsById.value||{},b=u=>{const v=p==null?void 0:p[u],M=Math.max(0,Math.min(9,Math.trunc(Number(v)||0))),$=f.get(M);c[u]=$||ca},m=e.calendars.value;return Array.isArray(m)?(m.forEach(u=>{const v=String((u==null?void 0:u.id)??"");v&&b(v)}),(e.selected.value||[]).forEach(u=>{const v=String(u??"");v&&(c[v]||b(v))}),c):((g=e.isDebug)!=null&&g.call(e)&&console.warn("[opsdash] calendarCategoryMap: calendars not array",m),c)}),l=E(()=>{const c=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"],f={};let p=0;const b=m=>{const g=String((m==null?void 0:m.id)??"");if(!g)return;if(f[g])return f[g];const u=typeof(m==null?void 0:m.color)=="string"&&m.color?m.color:void 0;if(u)return f[g]=u,u;const v=Object.entries(s.value).filter(([,$])=>$===g).map(([$])=>$);for(const $ of v){const T=n.value[$];if(T!=null&&T.color)return f[g]=T.color,T.color}const M=c[p%c.length];return p+=1,f[g]=M,M};return t.value.forEach(m=>b(m)),Object.values(s.value||{}).some(m=>m===ca)&&b({id:ca}),f}),i=E(()=>{var S,P,w,_,x,h,D,O,z,re;const c=[],f=s.value,p=o.value,b=e.byCal.value;if(!Array.isArray(b))return(S=e.isDebug)!=null&&S.call(e)&&console.warn("[opsdash] aggregateCategoryRows: byCal not array",b),c;const m=new Map;b.forEach(I=>{const V=String((I==null?void 0:I.id)??(I==null?void 0:I.calendar_id)??(I==null?void 0:I.calendar)??"");if(!V)return;const X=f[V]||ca;m.has(X)||m.set(X,[]),m.get(X).push({...I,calendarId:V})}),(P=e.isDebug)!=null&&P.call(e)&&console.log("[opsdash] aggregateCategoryRows",{rowsSourceIsArray:Array.isArray(b),rowsSourceLength:b.length,byCat:m,assignments:f});const g=((_=(w=e.targetsSummary.value)==null?void 0:w.total)==null?void 0:_.daysLeft)??0,u=((h=(x=e.targetsSummary.value)==null?void 0:x.total)==null?void 0:h.calendarPercent)??0,v=((O=(D=e.targetsSummary.value)==null?void 0:D.total)==null?void 0:O.paceMode)??((re=(z=e.targetsConfig.value)==null?void 0:z.pace)==null?void 0:re.mode)??"days_only",M=I=>Math.round(I*100)/100,$=e.currentTargets.value||{},T=(I,V,X)=>{const Y=X.reduce((de,F)=>{const H=Number($[F.calendarId]??0);return Number.isFinite(H)?de+Math.max(0,H):de},0),he=X.reduce((de,F)=>{const H=Number((F==null?void 0:F.total_hours)??(F==null?void 0:F.hours)??0);return Number.isFinite(H)?de+Math.max(0,H):de},0),ee=Y>0?Math.max(0,Math.min(100,he/Y*100)):0,K=he-Y,U=Math.max(0,Y-he),Q=Y<=0?"none":ee>=100?"done":K>=0?"on_track":"behind",N=Q==="done"?"Done":Q==="on_track"?"On Track":Q==="behind"?"Behind":"",J=g>0?U/g:0;return{id:I,label:V,actualHours:M(he),targetHours:M(Y),percent:ee,deltaHours:M(K),remainingHours:M(U),needPerDay:M(J),daysLeft:g,calendarPercent:Math.max(0,Math.min(100,u)),gap:M(ee-u),status:Q,statusLabel:N,includeWeekend:!0,paceMode:v}};if(t.value.map(I=>String(I.id)).forEach(I=>{const V=a.value[I]||I,X=m.get(I)||[],Y=p.get(I)||T(I,V,X);c.push({id:I,label:V,rows:X,summary:Y,color:l.value[I]})}),m.has(ca)){const I=m.get(ca)||[];c.push({id:ca,label:vc,rows:I,summary:T(ca,vc,I),color:l.value[ca]})}return c});return{categoryConfigList:t,categoryLabelById:a,categoryColorMap:l,calendarCategoryMap:s,calendarGroups:i}}function qn(e){const t=Number(e);return Number.isFinite(t)?Math.round(t):0}function nt(e){const t=Number(e);return Number.isFinite(t)?t:null}function Xa(e){if(e==null)return null;const t=String(e).trim();return t===""?null:t}function T1(e){const t=E(()=>{var T;const g=(T=e.charts.value)==null?void 0:T.pie;if(!g||!Array.isArray(g.data)||!Array.isArray(g.labels))return[];const u=g.data.map(C=>Number(C)||0),v=g.labels.map(C=>String(C||"")),M=u.reduce((C,S)=>C+Math.max(0,S),0);if(M<=0)return[];const $=u.map((C,S)=>({name:v[S]||"",value:Math.max(0,C)}));return $.sort((C,S)=>S.value-C.value),$.slice(0,3).map(C=>({name:C.name,share:C.value/M*100}))}),a=E(()=>{var u;if(t.value.length)return t.value.map(v=>`${v.name} ${bc(v.share)}`).join(", ");const g=(u=e.stats)==null?void 0:u.top_calendar;if(g&&g.calendar){const v=Number(g.share??0);return`${g.calendar} ${bc(v)}`}return""}),o=E(()=>{var g;return e.selected.value.length||(((g=e.calendars.value)==null?void 0:g.length)??0)}),r=E(()=>(e.byDay.value||[]).map(g=>Number((g==null?void 0:g.total_hours)??(g==null?void 0:g.hours)??0))),n=E(()=>{const g=r.value.map(u=>Number(u)||0);return e.activeDayMode.value==="active"?g.filter(u=>u>0):g}),s=E(()=>(e.byDay.value||[]).filter(g=>{const u=mc(String(g==null?void 0:g.date));return u>=1&&u<=5}).map(g=>Number((g==null?void 0:g.total_hours)??(g==null?void 0:g.hours)??0))),l=E(()=>(e.byDay.value||[]).filter(g=>{const u=mc(String(g==null?void 0:g.date));return u===0||u===6}).map(g=>Number((g==null?void 0:g.total_hours)??(g==null?void 0:g.hours)??0))),i=E(()=>e.activeDayMode.value==="active"?s.value.filter(g=>g>0):s.value),c=E(()=>e.activeDayMode.value==="active"?l.value.filter(g=>g>0):l.value),f=E(()=>{var v,M,$,T;const g=((v=e.stats)==null?void 0:v.balance_index)??((M=e.stats)==null?void 0:M.balanceIndex)??((T=($=e.stats)==null?void 0:$.balance_overview)==null?void 0:T.index),u=Number(g);return Number.isFinite(u)?u:null}),p=E(()=>{var g,u,v,M;return{rangeLabel:e.rangeLabel.value,rangeStart:e.rangeStart.value,rangeEnd:e.rangeEnd.value,offset:e.offset.value,totalHours:Number(((g=e.stats)==null?void 0:g.total_hours)??0),avgDay:Gn(n.value),avgEvent:Number(((u=e.stats)==null?void 0:u.avg_per_event)??0),medianDay:Jn(n.value),busiest:((v=e.stats)==null?void 0:v.busiest_day)??null,workdayAvg:Gn(i.value),workdayMedian:Jn(i.value),weekendAvg:Gn(c.value),weekendMedian:Jn(c.value),weekendShare:((M=e.stats)==null?void 0:M.weekend_share)??null,activeCalendars:o.value,calendarSummary:a.value,balanceIndex:f.value,delta:(()=>{var T;const $=(T=e.stats)==null?void 0:T.delta;return!$||typeof $!="object"?null:{totalHours:nt($.total_hours)??0,avgPerDay:nt($.avg_per_day)??0,avgPerEvent:nt($.avg_per_event)??0,events:qn($.events)}})(),topCategory:e.topCategory.value?{label:e.topCategory.value.label,actualHours:e.topCategory.value.summary.actualHours,targetHours:e.topCategory.value.summary.targetHours,percent:e.topCategory.value.summary.percent,statusLabel:e.topCategory.value.summary.statusLabel,status:e.topCategory.value.summary.status,color:e.topCategory.value.color}:null}}),b=E(()=>{const g=e.stats,u=g==null?void 0:g.delta,v=nt((u==null?void 0:u.weekend_share)??(u==null?void 0:u.weekendShare)),M=nt((u==null?void 0:u.evening_share)??(u==null?void 0:u.eveningShare)),$=v!=null||M!=null?{weekendShare:v,eveningShare:M}:null;return{rangeLabel:e.rangeLabel.value,events:qn(g.events),activeDays:nt(g.active_days),typicalStart:Xa(g.typical_start),typicalEnd:Xa(g.typical_end),weekendShare:nt(g.weekend_share),eveningShare:nt(g.evening_share),delta:$,earliestStart:Xa(g.earliest_start),latestEnd:Xa(g.latest_end),overlapEvents:nt(g.overlap_events),longestSession:nt(g.longest_session),lastDayOff:Xa(g.last_day_off),lastHalfDayOff:Xa(g.last_half_day_off)}}),m=E(()=>{var u;const g=(u=e.stats)==null?void 0:u.day_off_trend;return Array.isArray(g)?g.map(v=>{const M=Number((v==null?void 0:v.totalDays)??(v==null?void 0:v.total_days)??0),$=Number((v==null?void 0:v.daysOff)??(v==null?void 0:v.days_off)??0),T=Number((v==null?void 0:v.daysWorked)??(v==null?void 0:v.days_worked)??0);return{offset:Number((v==null?void 0:v.offset)??0)||0,label:String((v==null?void 0:v.label)??""),from:String((v==null?void 0:v.from)??""),to:String((v==null?void 0:v.to)??""),totalDays:Number.isFinite(M)?Math.max(0,M):0,daysOff:Number.isFinite($)?Math.max(0,$):0,daysWorked:Number.isFinite(T)?Math.max(0,T):0}}).filter(v=>v.totalDays>0):[]});return{topThree:t,topCalendarsSummary:a,timeSummary:p,activitySummary:b,activityDayOffTrend:m}}function Gn(e){return e.length?e.reduce((a,o)=>a+o,0)/e.length:0}function Jn(e){if(!e.length)return 0;const t=[...e].sort((o,r)=>o-r),a=Math.floor(t.length/2);return t.length%2?t[a]:(t[a-1]+t[a])/2}function mc(e){return new Date(`${e}T00:00:00Z`).getUTCDay()}function bc(e){return`${Number(e||0).toFixed(1)}%`}function M1(e){return{balanceOverview:E(()=>{var f,p,b,m;const a=(f=e.stats)==null?void 0:f.balance_overview;if(!a||typeof a!="object")return null;const o=Array.isArray(a.categories)?a.categories.map(g=>({id:String((g==null?void 0:g.id)??""),label:String((g==null?void 0:g.label)??""),hours:nt(g==null?void 0:g.hours)??0,share:nt(g==null?void 0:g.share)??0,prevShare:nt(g==null?void 0:g.prev_share)??0,delta:nt(g==null?void 0:g.delta)??0,color:e.categoryColorMap.value[String((g==null?void 0:g.id)??"")]})):[],r=Array.isArray(a.relations)?a.relations.map(g=>({label:String((g==null?void 0:g.label)??""),value:String((g==null?void 0:g.value)??"")})):[],n=Array.isArray((p=a.trend)==null?void 0:p.history)?a.trend.history:Array.isArray(a==null?void 0:a.trendHistory)?a.trendHistory:[],s={delta:Array.isArray((b=a.trend)==null?void 0:b.delta)?a.trend.delta.map(g=>({id:String((g==null?void 0:g.id)??""),label:String((g==null?void 0:g.label)??""),delta:nt(g==null?void 0:g.delta)??0})):[],badge:String(((m=a.trend)==null?void 0:m.badge)??""),history:n.map(g=>({offset:qn(g==null?void 0:g.offset)??0,label:String((g==null?void 0:g.label)??""),categories:Array.isArray(g==null?void 0:g.categories)?g.categories.map(u=>({id:String((u==null?void 0:u.id)??""),label:String((u==null?void 0:u.label)??""),share:nt(u==null?void 0:u.share)??0})):[]}))},l=Array.isArray(a.daily)?a.daily.map(g=>({date:String((g==null?void 0:g.date)??""),weekday:String((g==null?void 0:g.weekday)??""),total_hours:nt(g==null?void 0:g.total_hours)??0,categories:Array.isArray(g==null?void 0:g.categories)?g.categories.map(u=>({id:String((u==null?void 0:u.id)??""),label:String((u==null?void 0:u.label)??""),hours:nt(u==null?void 0:u.hours)??0,share:nt(u==null?void 0:u.share)??0})):[]})):[],i=Array.isArray(a.warnings)?a.warnings.map(g=>String(g)):[];return{index:nt(a.index)??0,categories:o,relations:r,trend:s,daily:l,warnings:i}})}}const Oo=te("auto"),Or=te("light"),yc=te(!1),Bo=E(()=>Oo.value==="auto"?Or.value:Oo.value);function D1(){return gc()??"auto"}function Br(e){if(typeof document>"u")return;const a=[document.getElementById("opsdash"),document.body].filter(Boolean);a.length&&(a.forEach(o=>o.classList.remove("opsdash-theme-light","opsdash-theme-dark")),e==="dark"?a.forEach(o=>o.classList.add("opsdash-theme-dark")):a.forEach(o=>o.classList.add("opsdash-theme-light")))}function Yn(){Or.value=Kn()}let Bt=null,Ha=null;function A1(){typeof window>"u"||Bt||(Bt=window.matchMedia("(prefers-color-scheme: dark)"),Ha=()=>Yn(),typeof Bt.addEventListener=="function"?Bt.addEventListener("change",Ha):typeof Bt.addListener=="function"&&Bt.addListener(Ha))}function L1(){Bt&&(Ha&&(typeof Bt.removeEventListener=="function"?Bt.removeEventListener("change",Ha):typeof Bt.removeListener=="function"&&Bt.removeListener(Ha)),Bt=null,Ha=null)}function E1(){yc.value||(Oo.value=D1(),Or.value=Kn(),Br(Bo.value),yc.value=!0),Mt(()=>{typeof window<"u"&&window.addEventListener("oc:theme:changed",Yn),A1(),Br(Bo.value)}),Ot(()=>{typeof window<"u"&&window.removeEventListener("oc:theme:changed",Yn),L1()}),Oe(Bo,t=>{Br(t)});function e(t){Oo.value=t,Br(Bo.value)}return{preference:Oo,effectiveTheme:Bo,systemTheme:Or,setThemePreference:e}}const Zn=e=>e==="light"||e==="dark"?e:"auto";function O1(e){const t=te(!1),a=te(Zn(e.serverPreference.value));let o=null;const r=typeof e.debounceMs=="number"?e.debounceMs:250,n=()=>{o&&(clearTimeout(o),o=null)};hr()&&Ot(()=>{n()}),Oe(e.serverPreference,i=>{const c=Zn(i);a.value=c,e.localPreference.value!==c&&(t.value=!0,e.applyLocalPreference(c),t.value=!1)},{immediate:!0});function s(i){t.value||i!==a.value&&(n(),o=setTimeout(async()=>{o=null;try{await e.postJson(e.route("persist"),{theme_preference:i}),a.value=i,e.notifySuccess("Theme preference saved")}catch(c){console.error(c),e.notifyError("Failed to save theme preference")}},r))}function l(i,c){const f=Zn(i);e.applyLocalPreference(f),(c==null?void 0:c.persist)!==!1&&s(f)}return{setThemePreference:l}}function B1(e){const{preference:t,effectiveTheme:a,systemTheme:o,setThemePreference:r}=E1(),{setThemePreference:n}=O1({serverPreference:e.serverPreference,localPreference:t,applyLocalPreference:r,route:e.route,postJson:e.postJson,notifySuccess:e.notifySuccess,notifyError:e.notifyError});function s(l,i){n(l,i)}return{themePreference:t,effectiveTheme:a,systemTheme:o,setThemePreference:s}}function N1(e){const{autoWizardNeeded:t,manualWizardOpen:a,onboardingRunId:o,onboardingWizardVisible:r,openWizardFromSidebar:n,wizardStartStep:s}=pv(),l=E(()=>{var h;return!!((h=e.onboardingState.value)!=null&&h.completed)}),i=e.actions.isOnboardingSaving,c=e.actions.isSnapshotSaving,f=e.actions.snapshotNotice,p=E(()=>(e.calendars.value||[]).map(h=>({id:String((h==null?void 0:h.id)??""),displayname:String((h==null?void 0:h.displayname)??(h==null?void 0:h.name)??(h==null?void 0:h.id)??""),color:typeof(h==null?void 0:h.color)=="string"?h.color:""})).filter(h=>h.id)),b=E(()=>[...e.selected.value]),m=E(()=>{var h;return((h=e.onboardingState.value)==null?void 0:h.strategy)??"total_only"}),g=E(()=>{var h;return((h=e.targetsConfig.value)==null?void 0:h.allDayHours)??8}),u=E(()=>{var h;return((h=e.targetsConfig.value)==null?void 0:h.totalHours)??40}),v=E(()=>{var h,D,O,z;return{activityCard:(h=e.targetsConfig.value)==null?void 0:h.activityCard,balanceTrendLookback:((z=(O=(D=e.targetsConfig.value)==null?void 0:D.balance)==null?void 0:O.trend)==null?void 0:z.lookbackWeeks)??3}}),M=E(()=>({...e.deckSettings.value||{}})),$=E(()=>({...e.reportingConfig.value||{}})),T=E(()=>{var h;return((h=e.onboardingState.value)==null?void 0:h.dashboardMode)||"standard"});function C(h){if(!h)return!0;const D=h.version_required??_a;return!h.completed||(h.version??0)<D}function S(h){const D=h??e.onboardingState.value;if(!e.hasInitialLoad.value&&!D)return;const O=C(D);t.value=O||!!(D!=null&&D.resetRequested),(O||D!=null&&D.resetRequested)&&(s.value=null),D!=null&&D.resetRequested&&(a.value=!0)}Oe(()=>e.onboardingState.value,h=>{e.hasInitialLoad.value&&S(h)});async function P(h){try{await e.actions.complete(h),a.value=!1,t.value=!1}catch(D){console.error("[opsdash] onboarding complete failed",D)}}async function w(){try{await e.actions.skip(),a.value=!1,t.value=!1}catch(h){console.error("[opsdash] onboarding skip failed",h)}}function _(){t.value||(a.value=!1)}async function x(){try{await e.actions.saveSnapshot()}catch(h){console.error("[opsdash] onboarding snapshot failed",h)}}return{autoWizardNeeded:t,manualWizardOpen:a,onboardingRunId:o,onboardingWizardVisible:r,openWizardFromSidebar:n,wizardStartStep:s,hasExistingConfig:l,wizardCalendars:p,wizardInitialSelection:b,wizardInitialStrategy:m,wizardInitialAllDayHours:g,wizardInitialTotalHours:u,wizardInitialTargetsConfig:v,wizardInitialDeckSettings:M,wizardInitialReportingConfig:$,wizardInitialDashboardMode:T,isOnboardingSaving:i,isSnapshotSaving:c,snapshotNotice:f,evaluateOnboarding:S,handleWizardComplete:P,handleWizardSkip:w,handleWizardClose:_,handleWizardSaveSnapshot:x}}function I1(e){const t=E(()=>!e.navOpen.value),a=E(()=>e.range.value==="week"?"Switch to month":"Switch to week"),o=E(()=>!e.from.value||!e.to.value?"":`${e.from.value}  ${e.to.value}`);function r(){try{const c=e.performLoad();if(c&&typeof c.then=="function")return c.catch(f=>{console.error("[opsdash] range load failed",f)})}catch(c){console.error("[opsdash] range load failed",c)}}function n(){r()}function s(){e.range.value=e.range.value==="week"?"month":"week",e.offset.value=0,r()}function l(){e.offset.value=(e.offset.value||0)-1,r()}function i(){e.offset.value=(e.offset.value||0)+1,r()}return{showCollapsedRangeControls:t,rangeToggleLabel:a,rangeDateLabel:o,loadCurrent:n,toggleRangeCollapsed:s,goPrevious:l,goNext:i}}const wc=["cals","groups","targets_week","targets_month","targets_config","theme_preference","onboarding","widgets"],P1=new Set(["auto","light","dark"]);function F1(e){if(!e||typeof e!="object")return{cleaned:{},ignored:["<invalid-payload>"]};const t=e,a={},o=[];if(wc.forEach(r=>{t[r]!==void 0&&(a[r]=t[r])}),Object.keys(t).forEach(r=>{wc.includes(r)||o.push(r)}),a.cals&&!Array.isArray(a.cals)&&(o.push("cals"),delete a.cals),"groups"in a&&(!a.groups||typeof a.groups!="object")&&(o.push("groups"),delete a.groups),"targets_week"in a&&(!a.targets_week||typeof a.targets_week!="object")&&(o.push("targets_week"),delete a.targets_week),"targets_month"in a&&(!a.targets_month||typeof a.targets_month!="object")&&(o.push("targets_month"),delete a.targets_month),"targets_config"in a&&(!a.targets_config||typeof a.targets_config!="object")&&(o.push("targets_config"),delete a.targets_config),a.theme_preference&&!P1.has(String(a.theme_preference))&&(o.push("theme_preference"),delete a.theme_preference),"onboarding"in a&&(a.onboarding==null||typeof a.onboarding!="object")&&(o.push("onboarding"),delete a.onboarding),"widgets"in a){const r=a.widgets,n=Array.isArray(r),s=r&&typeof r=="object"&&Array.isArray(r.tabs);!n&&!s&&(o.push("widgets"),delete a.widgets)}return{cleaned:a,ignored:o}}function H1(e,t="0.4.4"){return{version:t,generated:new Date().toISOString(),payload:e}}function W1(e){function t(){const s={cals:[...e.selected.value],groups:{...e.groupsById.value},targets_week:{...e.targetsWeek.value},targets_month:{...e.targetsMonth.value},targets_config:Qt(e.targetsConfig.value),theme_preference:e.themePreference.value};return e.onboardingState.value&&(s.onboarding={...e.onboardingState.value}),e.widgetTabs&&(s.widgets=e.widgetTabs.value),s}function a(s,l){if(e.createDownload){e.createDownload(s,l);return}const i=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),c=URL.createObjectURL(i),f=document.createElement("a");f.href=c,f.download=s,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(c)}function o(){try{const s=t(),l=H1(s),i=`opsdash-config-${l.generated.slice(0,10)}.json`;a(i,l),e.notifySuccess("Configuration exported")}catch(s){console.error(s),e.notifyError("Failed to export configuration")}}async function r(s){const{cleaned:l,ignored:i}=F1(s);if(!Object.keys(l).length){e.notifyError("No recognised configuration keys found in file");return}if(l.cals&&(e.selected.value=l.cals.map(c=>String(c))),l.groups){const c={};Object.entries(l.groups).forEach(([f,p])=>{const b=Number(p);c[String(f)]=Number.isFinite(b)?b:0}),e.groupsById.value=c}if(l.targets_week){const c={};Object.entries(l.targets_week).forEach(([f,p])=>{const b=Number(p);Number.isFinite(b)&&(c[String(f)]=b)}),e.targetsWeek.value=c}if(l.targets_month){const c={};Object.entries(l.targets_month).forEach(([f,p])=>{const b=Number(p);Number.isFinite(b)&&(c[String(f)]=b)}),e.targetsMonth.value=c}if(l.targets_config&&(e.targetsConfig.value=ht(l.targets_config)),l.theme_preference&&e.setThemePreference(l.theme_preference,{persist:!1}),l.onboarding&&typeof l.onboarding=="object"&&(e.onboardingState.value={...l.onboarding}),e.widgetTabs&&l.widgets){const c=e.widgetTabs.value||Dr("standard");e.widgetTabs.value=Ar(l.widgets,c)}await e.postJson(e.route("persist"),l),await e.performLoad(),i.length?e.notifyError(`Configuration imported with ignored keys: ${i.join(", ")}`):e.notifySuccess("Configuration imported")}async function n(s){try{const l=await s.text(),i=JSON.parse(l),c=i!=null&&i.payload&&typeof i.payload=="object"?i.payload:i;await r(c)}catch(l){console.error(l),e.notifyError("Failed to import configuration")}}return{collectSidebarPayload:t,exportSidebarConfig:o,importSidebarConfig:n,applyConfigSource:r}}function z1(e=null){const t=te(e);function a(o){t.value=t.value===o?null:o}return{detailsIndex:t,toggle:a}}function R1(e){const t=E(()=>e.value==="month"?"Last month":"Last week"),a=E(()=>e.value==="month"?"This month":"This week"),o=E(()=>e.value==="month"?"Notes for previous month":"Notes for previous week"),r=E(()=>e.value==="month"?"Notes for current month":"Notes for current week");return{notesLabelPrev:t,notesLabelCurr:a,notesLabelPrevTitle:o,notesLabelCurrTitle:r}}function j1(){return!0}function U1(){const e=te(j1());Oe(e,r=>{typeof window<"u"&&ra(()=>{window.dispatchEvent(new Event("resize"))}).catch(()=>{})},{immediate:!1});const t=()=>{e.value=!e.value},a=E(()=>e.value?"Hide sidebar":"Show sidebar"),o=E(()=>e.value?"":"");return{navOpen:e,toggleNav:t,navToggleLabel:a,navToggleIcon:o}}function V1(e){const t=te(!1),a=te(null);let o=!1;const r=!!hr();function n(m,g="api"){var u;m&&(a.value=m),t.value=!0,(u=e.onOpen)==null||u.call(e,{source:g})}function s(){t.value=!1;const m=a.value;if(a.value=null,m&&typeof m.focus=="function")try{m.focus()}catch{}}function l(){typeof e.ensureSidebarVisible=="function"&&e.ensureSidebarVisible()}function i(m,g){g.preventDefault(),l(),m()}function c(m){var M;const g=m;if(!g)return!1;if(g.isContentEditable)return!0;const u=g.tagName;if(!u)return!1;if(["INPUT","TEXTAREA","SELECT"].includes(u))return!0;const v=(M=g.getAttribute)==null?void 0:M.call(g,"role");return!!(v&&["textbox","combobox"].includes(v))}function f(m){if(m.defaultPrevented)return;const g=c(m.target);if((m.key==="Escape"||m.key==="Esc")&&t.value){m.preventDefault(),s();return}if(!m.altKey&&!m.ctrlKey&&!m.metaKey&&!g&&(m.key==="?"||m.shiftKey&&m.key==="/")){m.preventDefault(),n(m.target instanceof HTMLElement?m.target:null,"keyboard");return}if(m.altKey&&!m.ctrlKey&&!m.metaKey){const u=m.key;if(u==="ArrowLeft"){i(e.goPrevious,m);return}if(u==="ArrowRight"){i(e.goNext,m);return}if(m.shiftKey&&(u==="R"||u==="r")){i(e.toggleRange,m);return}if(u==="T"||u==="t"){e.openConfigPanel&&(m.preventDefault(),l(),e.openConfigPanel());return}}if(m.shiftKey&&!m.altKey&&!m.metaKey&&!m.ctrlKey){if((m.key==="e"||m.key==="E")&&e.toggleEditLayout&&!g){m.preventDefault(),e.toggleEditLayout();return}if((m.key==="c"||m.key==="C")&&e.openWidgetOptions&&!g){m.preventDefault(),e.openWidgetOptions();return}}}function p(){o||typeof document>"u"||(document.addEventListener("keydown",f),o=!0)}function b(){!o||typeof document>"u"||(document.removeEventListener("keydown",f),o=!1)}return p(),r&&(Mt(()=>{p()}),Ot(()=>{b()})),{shortcutsOpen:t,openShortcuts:n,closeShortcuts:s,shortcutGroups:Li,unbindShortcuts:b}}function K1(e){const t=te(!1),a=te(!1),o=te(null);async function r(i){var c,f;try{t.value=!0,o.value=null,e.setThemePreference(i.themePreference,{persist:!1}),await e.postJson(e.route("persist"),{cals:i.selected,groups:i.groups,targets_week:i.targetsWeek,targets_month:i.targetsMonth,targets_config:i.targetsConfig,theme_preference:i.themePreference,deck_settings:i.deckSettings,reporting_config:i.reportingConfig,targets_config_activity:i.activityCard,onboarding:{completed:!0,version:_a,strategy:i.strategy,dashboardMode:i.dashboardMode,completed_at:new Date().toISOString()}}),e.setSelected(i.selected),e.setTargetsWeek(i.targetsWeek),e.setTargetsMonth(i.targetsMonth),e.setTargetsConfig(i.targetsConfig),e.setGroupsById(i.groups),(c=e.setDashboardMode)==null||c.call(e,i.dashboardMode),(f=e.setOnboardingState)==null||f.call(e,{completed:!0,version:_a,strategy:i.strategy,dashboardMode:i.dashboardMode,version_required:_a,resetRequested:!1}),await e.reloadAfterPersist(),e.notifySuccess("Onboarding saved")}catch(p){throw console.error(p),e.notifyError("Failed to save onboarding"),p}finally{t.value=!1}}async function n(i){var c,f,p,b,m,g,u;try{t.value=!0,o.value=null,i.theme_preference&&e.setThemePreference(i.theme_preference,{persist:!1}),await e.postJson(e.route("persist"),i),i.cals&&e.setSelected(i.cals),i.targets_week&&e.setTargetsWeek(i.targets_week),i.targets_month&&e.setTargetsMonth(i.targets_month),i.targets_config&&e.setTargetsConfig(i.targets_config),i.groups&&e.setGroupsById(i.groups),i.deck_settings&&((c=e.setDeckSettings)==null||c.call(e,i.deck_settings)),i.reporting_config&&((f=e.setReportingConfig)==null||f.call(e,i.reporting_config)),i.onboarding&&((m=e.setOnboardingState)==null||m.call(e,{completed:i.onboarding.completed??!1,version:i.onboarding.version??_a,strategy:i.onboarding.strategy??((p=e.onboardingState.value)==null?void 0:p.strategy)??"total_only",completed_at:i.onboarding.completed_at??"",dashboardMode:i.onboarding.dashboardMode??((b=e.onboardingState.value)==null?void 0:b.dashboardMode),version_required:_a,resetRequested:!1})),i.dashboardMode&&((g=e.setDashboardMode)==null||g.call(e,i.dashboardMode)),i.widgets&&((u=e.setWidgetTabs)==null||u.call(e,i.widgets)),e.notifySuccess("Step saved")}catch(v){throw console.error(v),e.notifyError("Failed to save step"),v}finally{t.value=!1}}async function s(){var i;try{t.value=!0,o.value=null,await e.postJson(e.route("persist"),{onboarding:{completed:!0,version:_a,strategy:((i=e.onboardingState.value)==null?void 0:i.strategy)??"total_only",completed_at:new Date().toISOString()}}),await e.reloadAfterPersist(),e.notifySuccess("You can revisit onboarding from the Targets tab any time.")}catch(c){throw console.error(c),e.notifyError("Failed to update onboarding state"),c}finally{t.value=!1}}async function l(){try{a.value=!0,o.value=null;const c=`Before onboarding ${new Date().toISOString().slice(0,16).replace("T"," ")}`;await e.savePreset(c),o.value={type:"success",message:`Preset "${c}" saved  find it under Config & Setup.`}}catch(i){throw console.error("[opsdash] preset backup failed",i),o.value={type:"error",message:"Failed to save preset backup. Please try again."},i}finally{a.value=!1}}return{isOnboardingSaving:t,isSnapshotSaving:a,snapshotNotice:o,complete:r,saveStep:n,skip:s,saveSnapshot:l}}function q1(e){const t=te([]),a=te(!1),o=te(""),r=te(null);let n=0;const s=new Map;let l="";function i(f,p){return`${f}::${p}`}async function c(f=!1){const p=(e.from.value||"").trim(),b=(e.to.value||"").trim();if(!p||!b){t.value=[],o.value="",a.value=!1,r.value=null,l="";return}const m=i(p,b);if(!f&&s.has(m)){const u=s.get(m);t.value=u.cards,r.value=u.fetchedAt,o.value="",a.value=!1,l=m;return}const g=++n;a.value=!0,o.value="";try{const u=await xv({from:p,to:b});if(g===n){const v=new Date().toISOString();t.value=u,r.value=v,s.set(m,{cards:u,fetchedAt:v}),l=m}}catch(u){g===n&&(t.value=[],o.value=u instanceof Error?u.message:"deck_fetch_failed",e.notifyError&&e.notifyError("Unable to fetch Deck cards. Check the Deck app or try again."))}finally{g===n&&(a.value=!1)}}return Oe(()=>[e.from.value,e.to.value],([f,p],[b,m])=>{if(!f||!p){t.value=[];return}f===b&&p===m||c()}),{deckCards:t,deckLoading:a,deckError:o,deckLastFetchedAt:r,refreshDeck:c}}function Nr(e){return["all","mine","open_all","open_mine","done_all","done_mine","archived_all","archived_mine","due_all","due_mine","due_today_all","due_today_mine"].includes(e)?e:"all"}function Ca(e,t,a){const o=e.status;return t==="open"?o==="active":t==="archived"?o==="archived":t==="done"?o==="done"?!0:a&&o==="archived":!1}function Xn(e){return e.dueTs!=null||e.match==="due"}function Qn(e){if(e.dueTs==null)return!1;const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),o=a+24*60*60*1e3;return e.dueTs>=a&&e.dueTs<o}function G1(e){const{deckSettings:t,deckCards:a,uid:o,root:r}=e,n=te(Nr(t.value.defaultFilter));Oe(()=>t.value.defaultFilter,g=>{const u=Nr(g);u!==n.value&&(n.value=u)});const s=E(()=>{const g=new Set((t.value.hiddenBoards||[]).map(u=>Number(u)).filter(u=>Number.isFinite(u)));return(a.value||[]).filter(u=>!g.has(Number(u.boardId)))}),l=E(()=>{const g=t.value.mineMode??"assignee",u=(o.value||"").trim().toLowerCase();return v=>{if(!u)return!1;const M=(v.assignees||[]).some(P=>typeof P.uid=="string"&&P.uid.toLowerCase()===u),$=typeof v.createdBy=="string"?v.createdBy.trim().toLowerCase():"",T=$&&$===u,C=typeof v.doneBy=="string"?v.doneBy.trim().toLowerCase():"",S=C&&C===u;return g==="creator"?T||S:g==="assignee"?M||S:M||T||S}}),i=E(()=>{const g=l.value,u=t.value.solvedIncludesArchived!==!1,v=n.value,M=s.value;if(v==="all")return M;if(v==="mine")return M.filter(C=>g(C));if(v.startsWith("due_today")){const C=v.endsWith("_mine");return M.filter(S=>{const P=Qn(S),w=C?g(S):!0;return P&&w})}if(v.startsWith("due_")){const C=v.endsWith("_mine");return M.filter(S=>{const P=Xn(S),w=C?g(S):!0;return P&&w})}const[$,T]=v.split("_");return M.filter(C=>{const S=Ca(C,$,u),P=T==="all"?!0:g(C);return S&&P})}),c=E(()=>{const g=l.value,u=t.value.solvedIncludesArchived!==!1,v=s.value;return[{value:"all",label:"All cards",mine:!1,matches:()=>!0},{value:"open_all",label:"Open  All",mine:!1,matches:$=>Ca($,"open",u)},{value:"open_mine",label:"Open  Mine",mine:!0,matches:$=>Ca($,"open",u)&&g($)},{value:"done_all",label:"Done  All",mine:!1,matches:$=>Ca($,"done",u)},{value:"done_mine",label:"Done  Mine",mine:!0,matches:$=>Ca($,"done",u)&&g($)},{value:"archived_all",label:"Archived  All",mine:!1,matches:$=>Ca($,"archived",u)},{value:"archived_mine",label:"Archived  Mine",mine:!0,matches:$=>Ca($,"archived",u)&&g($)},{value:"due_all",label:"Due  All",mine:!1,matches:$=>Xn($)},{value:"due_mine",label:"Due  Mine",mine:!0,matches:$=>Xn($)&&g($)},{value:"due_today_all",label:"Due today  All",mine:!1,matches:$=>Qn($)},{value:"due_today_mine",label:"Due today  Mine",mine:!0,matches:$=>Qn($)&&g($)}].map($=>({value:$.value,label:$.label,mine:$.mine,count:v.filter($.matches).length}))}),f=E(()=>{const g=l.value,u=t.value.solvedIncludesArchived!==!1,v=s.value,M=[];return[{key:"open_all",label:"Open  All",status:"open",mine:!1},{key:"open_mine",label:"Open  Mine",status:"open",mine:!0},{key:"done_all",label:"Done  All",status:"done",mine:!1},{key:"done_mine",label:"Done  Mine",status:"done",mine:!0},{key:"archived_all",label:"Archived  All",status:"archived",mine:!1},{key:"archived_mine",label:"Archived  Mine",status:"archived",mine:!0}].forEach(T=>{const C=v.filter(w=>{const _=Ca(w,T.status,u),x=T.mine?g(w):!0;return _&&x}),S=new Map;C.forEach(w=>{if(w.boardId==null)return;const _=Number(w.boardId),x=S.get(_)||{count:0,title:w.boardTitle||"",color:w.boardColor};x.count+=1,x.title=w.boardTitle||x.title,x.color=w.boardColor??x.color,S.set(_,x)});let P;if(S.size){const w=Array.from(S.entries()).sort((_,x)=>x[1].count-_[1].count);P={title:w[0][1].title,color:w[0][1].color}}M.push({key:T.key,label:T.label,titles:C.map(w=>w.title||`Card ${w.id}`),count:C.length,board:P})}),M}),p=E(()=>{const g=t.value.ticker||{autoScroll:!0,intervalSeconds:5},u=Math.min(10,Math.max(3,Number(g.intervalSeconds??5)||5));return{autoScroll:g.autoScroll!==!1,intervalSeconds:u}}),b=E(()=>t.value.filtersEnabled&&t.value.enabled&&!!(o.value||"").trim()),m=E(()=>`${r.value||""}/apps/deck/`);return{deckFilter:n,deckVisibleCards:s,deckMineMatcher:l,deckFilteredCards:i,deckSummaryBuckets:f,deckTickerConfig:p,deckCanFilterMine:b,deckUrl:m,deckFilterOptions:c}}function J1(e){const{widgetsRegistry:t,createDefaultTabs:a,normalizeWidgetTabs:o,createDashboardPreset:r,dashboardMode:n,deckEnabled:s,hasInitialLoad:l,queueSaveRef:i}=e;function c(){return a()}const f=te(c().tabs),p=te(c().defaultTabId),b=te(p.value),m=te(!1),g=te(!1),u=te("");function v(){var U;l.value&&m.value&&((U=i.value)==null||U.call(i,!1),m.value=!1)}Oe(()=>l.value,U=>{U&&m.value&&v()});const M=E(()=>f.value.find(U=>U.id===b.value)||f.value[0]);function $(U){f.value.some(Q=>Q.id===U)&&(b.value=U)}function T(U){f.value.some(Q=>Q.id===U)&&(p.value=U,b.value=U,m.value=!0,v())}const C=E(()=>{var Q;const U=((Q=M.value)==null?void 0:Q.widgets)||[];return s.value?U:U.filter(N=>N.type!=="deck")}),S=E(()=>Object.keys(t).map(U=>{var Q;return{type:U,label:((Q=t[U])==null?void 0:Q.label)||U}}));function P(U){var J;n.value=U;const Q=((J=M.value)==null?void 0:J.id)||"tab-1",N=f.value.map(de=>de.id===Q?{...de,widgets:r(U)}:de);f.value=N,m.value=!0,v()}function w(U,Q){f.value=f.value.map(N=>N.id===U?{...N,widgets:Q([...N.widgets])}:N)}function _(U,Q){var J;const N=(J=M.value)==null?void 0:J.id;N&&(w(N,de=>de.map(F=>F.id===U?Q({...F,layout:{...F.layout}}):F)),m.value=!0,v())}function x(U){const Q=["quarter","half","full"];_(U,N=>{const J=Q.indexOf(N.layout.width),de=Q[(J+1)%Q.length];return{...N,layout:{...N.layout,width:de}}})}function h(U){const Q=["s","m","l","xl"];_(U,N=>{const J=Q.indexOf(N.layout.height),de=Q[(J+1)%Q.length];return{...N,layout:{...N.layout,height:de}}})}function D(U,Q){var R;const N=[...C.value].sort((ae,ye)=>(ae.layout.order||0)-(ye.layout.order||0)),J=N.findIndex(ae=>ae.id===U);if(J<0)return;const de=Q==="up"?J-1:J+1;if(de<0||de>=N.length)return;const F=N[J].layout.order;N[J].layout.order=N[de].layout.order,N[de].layout.order=F;const H=(R=M.value)==null?void 0:R.id;H&&(w(H,()=>N),m.value=!0,v())}function O(U){var N;const Q=(N=M.value)==null?void 0:N.id;Q&&(w(Q,J=>J.filter(de=>de.id!==U)),m.value=!0,v())}function z(U){var F;const Q=t[U];if(!Q)return;const N=C.value.reduce((H,R)=>Math.max(H,R.layout.order||0),0),J={id:`widget-${U}-${Date.now()}`,type:U,options:{},layout:{...Q.defaultLayout,order:N+10},version:1},de=(F=M.value)==null?void 0:F.id;de&&(w(de,H=>[...H,J]),u.value="",m.value=!0,v())}function re(U,Q){var R;const N=t[U];if(!N)return;const J=C.value.reduce((ae,ye)=>Math.max(ae,ye.layout.order||0),0);let de=Number.isFinite(Q)?Number(Q):J+10;for(Number.isFinite(de)||(de=J+10);C.value.some(ae=>ae.layout.order===de);)de+=.1;const F={id:`widget-${U}-${Date.now()}`,type:U,options:{},layout:{...N.defaultLayout,order:de},version:1},H=(R=M.value)==null?void 0:R.id;H&&(w(H,ae=>[...ae,F]),m.value=!0,v())}function I(U,Q){var F;if(!Number.isFinite(Q??NaN))return;const N=Number(Q),J=C.value.map(H=>H.id===U?{...H,layout:{...H.layout,order:N}}:{...H});J.sort((H,R)=>(H.layout.order||0)-(R.layout.order||0));const de=(F=M.value)==null?void 0:F.id;de&&(w(de,()=>J.map((H,R)=>({...H,layout:{...H.layout,order:(R+1)*10}}))),m.value=!0,v())}function V(U,Q,N){var de;const J=(de=M.value)==null?void 0:de.id;J&&(w(J,F=>F.map(H=>{if(H.id!==U)return H;const R={...H.options||{}};if(Q.includes(".")){const ae=Q.split("."),ye={...R};let L=ye;for(let W=0;W<ae.length-1;W+=1){const q=ae[W];L[q]={...L[q]||{}},L=L[q]}return L[ae[ae.length-1]]=N,{...H,options:ye}}return Q==="scale"?(R.scale=N,"textSize"in R&&delete R.textSize,{...H,options:R}):(R[Q]=N,{...H,options:R})})),m.value=!0,v())}function X(){var Q;const U=(Q=M.value)==null?void 0:Q.id;U&&(w(U,()=>r(n.value)),m.value=!0,v())}function Y(U){const Q=`tab-${Date.now().toString(36)}`,N=String(U??"").trim()||`Tab ${f.value.length+1}`,J={id:Q,label:N.slice(0,48),widgets:r(n.value)};f.value=[...f.value,J],b.value=J.id,m.value=!0,v()}function he(U,Q){const N=String(Q||"").trim().slice(0,48);N&&(f.value=f.value.map(J=>J.id===U?{...J,label:N}:J),m.value=!0,v())}function ee(U){var Q,N;f.value.length<=1||(f.value=f.value.filter(J=>J.id!==U),p.value===U&&(p.value=((Q=f.value[0])==null?void 0:Q.id)||""),b.value===U&&(b.value=((N=f.value[0])==null?void 0:N.id)||""),m.value=!0,v())}function K(U){const Q=a(),N=o(U,Q);f.value=N.tabs,p.value=N.defaultTabId,b.value=N.defaultTabId}return{layoutTabs:f,defaultTabId:p,activeTabId:b,widgetsDirty:m,isLayoutEditing:g,newWidgetType:u,widgets:C,availableWidgetTypes:S,persistWidgets:v,applyDashboardPreset:P,updateWidget:_,cycleWidth:x,cycleHeight:h,moveWidget:D,removeWidget:O,addWidget:z,addWidgetAt:re,reorderWidget:I,updateWidgetOptions:V,resetWidgets:X,activeTab:M,setActiveTab:$,setDefaultTab:T,addTab:Y,renameTab:he,removeTab:ee,setTabsFromPayload:K}}function Y1(e){const{performLoad:t,refreshPresets:a,range:o,offset:r,onboardingState:n,hasInitialLoad:s,evaluateOnboarding:l,dashboardMode:i}=e;Oe(n,c=>{s.value&&l(c)}),Oe(n,c=>{const f=c==null?void 0:c.dashboardMode;(f==="quick"||f==="standard"||f==="pro")&&(i.value=f)}),Mt(async()=>{console.info("[opsdash] start");try{await t()}catch(c){console.error(c),alert("Initial load failed")}a().catch(c=>console.warn("[opsdash] presets fetch failed",c))}),Oe(o,()=>{r.value=0,t().catch(console.error)})}function Z1(e){return Array.from(e.reduce((t,a)=>(a.boardId==null||t.has(a.boardId)||t.set(a.boardId,{id:a.boardId,title:a.boardTitle,color:a.boardColor}),t),new Map).values())}function X1(e){return{widgetContext:E(()=>{var a,o;return{summary:e.timeSummary.value,activeDayMode:e.activeDayMode.value,targetsSummary:e.targetsSummary.value,targetsConfig:e.targetsConfig.value,stats:e.stats,byDay:e.byDay.value,byCal:e.byCal.value,groupsById:e.groupsById.value,groups:e.calendarGroupsWithToday.value,balanceOverview:e.balanceOverview.value,balanceConfig:e.balanceCardConfig.value,rangeLabel:e.rangeLabel.value,rangeMode:e.range.value,offset:e.offset.value,from:e.from.value,to:e.to.value,lookbackWeeks:e.trendLookbackWeeks.value,balanceNote:e.balanceNote.value,activitySummary:e.activitySummary.value,activityConfig:e.activityCardConfig.value,activityDayOffTrend:e.activityDayOffTrend.value,activityTrendUnit:e.range.value==="month"?"mo":"wk",activityDayOffLookback:e.trendLookbackWeeks.value,deckBuckets:e.deckSummaryBuckets.value,deckRangeLabel:e.rangeLabel.value,deckLoading:e.deckLoading.value,deckError:e.deckError.value,deckTicker:e.deckTickerConfig.value,deckFilter:e.deckFilter.value,onDeckFilter:r=>e.setDeckFilter(r),deckShowBoardBadges:((o=(a=e.deckSettings.value)==null?void 0:a.ticker)==null?void 0:o.showBoardBadges)!==!1,deckUrl:e.deckUrl.value,deckCards:e.deckCards.value,deckBoards:Z1(e.deckCards.value||[]),uid:e.uid.value,notesPrev:e.notesPrev.value,notesCurr:e.notesCurrDraft.value,notesHistory:e.notesHistory.value,notesLabelPrev:e.notesLabelPrev.value,notesLabelCurr:e.notesLabelCurr.value,notesLabelPrevTitle:e.notesLabelPrevTitle.value,notesLabelCurrTitle:e.notesLabelCurrTitle.value,isSavingNote:e.isSavingNote.value,onSaveNote:()=>e.saveNotes(),onUpdateNotes:r=>{e.notesCurrDraft.value=r},isLoading:e.isLoading.value,hasInitialLoad:e.hasInitialLoad.value,isLayoutEditing:e.isLayoutEditing.value,onUpdateWidgetOptions:(r,n,s)=>{e.updateWidgetOptions(r,n,s)},charts:e.charts.value,calendarChartData:e.calendarChartData.value,categoryChartsById:e.categoryChartsById.value,calendarGroups:e.calendarGroups.value,calendarCategoryMap:e.calendarCategoryMap.value,categoryColorMap:e.categoryColorMap.value,colorsById:e.colorsById.value,colorsByName:e.colorsByName.value,currentTargets:e.currentTargets.value,calendarTodayHours:e.calendarTodayHours.value}})}}function kc(){var t;if(typeof window>"u")return!1;const e=window;return!!((t=e==null?void 0:e.OC)!=null&&t.debug||e!=null&&e.__DEV__||e!=null&&e.__VUE_PROD_DEVTOOLS__)}function Q1(e,t={}){var o,r,n,s,l,i;if(typeof window>"u")return;const a=window;try{if((r=(o=a==null?void 0:a.OCA)==null?void 0:o.Analytics)!=null&&r.trackEvent){a.OCA.Analytics.trackEvent("opsdash",e,t);return}if((s=(n=a==null?void 0:a.OCA)==null?void 0:n.Analytics)!=null&&s.track){a.OCA.Analytics.track("opsdash",e,t);return}if((i=(l=a==null?void 0:a.OC)==null?void 0:l.eventBus)!=null&&i.emit){a.OC.eventBus.emit("opsdash:telemetry",{app:"opsdash",event:e,payload:t});return}}catch(c){kc()&&console.warn("[opsdash] telemetry emit failed",e,c);return}kc()&&console.debug("[opsdash] telemetry (noop)",e,t)}const e0={version:"0.5.1"},t0={class:"app-shell"},a0={class:"app-main"},o0={class:"app-container"},r0={key:0,class:"range-toolbar",role:"toolbar","aria-label":"Collapsed range controls"},n0=["aria-expanded","aria-label"],s0=["disabled"],l0=["disabled","aria-pressed"],i0={class:"range-toolbar__group",role:"group","aria-label":"Navigate periods"},c0=["disabled"],d0=["title"],u0=["disabled"],f0={class:"appbar"},g0={class:"title"},p0=["src"],h0={class:"range-badge","aria-label":"Active range"},v0=["textContent"],m0=["textContent"],b0={class:"hint appbar-meta"},y0=["textContent"],w0={key:1,title:"Results truncated for performance"},k0=["title"],_0={class:"cards-toolbar"},x0={class:"cards-toolbar__tabs",role:"tablist","aria-label":"Dashboard tabs"},C0=["aria-selected","onClick","onContextmenu"],S0=["onKeydown"],$0={class:"tab-label"},T0={key:0,class:"tab-default"},M0={class:"cards-toolbar__center"},D0={key:0,class:"cards-toolbar__add"},A0=["value"],L0=["disabled"],E0={class:"cards"},O0={class:"hint footer"},B0=Te({__name:"App",setup(e){function t(j){var ze,_e;const se=window;(_e=(ze=se.OC)==null?void 0:ze.Notification)!=null&&_e.showTemporary?se.OC.Notification.showTemporary(j):console.log("SUCCESS:",j)}function a(j){var ze,_e;const se=window;(_e=(ze=se.OC)==null?void 0:ze.Notification)!=null&&_e.showTemporary?se.OC.Notification.showTemporary(j):(console.error("ERROR:",j),alert(j))}const{navOpen:o,toggleNav:r,navToggleLabel:n,navToggleIcon:s}=U1(),l=te(null);function i(){o.value||r()}Oe(()=>o.value,j=>{if(typeof document>"u")return;const se=j?"var(--app-navigation-width, 300px)":"0px";document.body.style.setProperty("--opsdash-nav-offset",se)},{immediate:!0}),Ot(()=>{typeof document>"u"||document.body.style.removeProperty("--opsdash-nav-offset")});const c=te("week"),f=te(0),p=E(()=>{const j=Qa.value;if(!j)return"Partial data due to caps";const se=[];return j.maxPerCal!=null&&se.push(`cap per calendar: ${j.maxPerCal}`),j.maxTotal!=null&&se.push(`cap total: ${j.maxTotal}`),j.totalProcessed!=null&&se.push(`processed: ${j.totalProcessed}`),se.join("  ")}),b=te(!1),{scheduleDraw:m}=f1(),{route:g,getJson:u,postJson:v,deleteJson:M,root:$}=h1(),{fetchDavColors:T}=m1({root:$,isDebug:vs}),C=Qy({range:c,offset:f,route:j=>g(j),getJson:u,postJson:v,notifySuccess:t,notifyError:a}),{notesPrev:S,notesCurrDraft:P,notesHistory:w,isSavingNote:_,fetchNotes:x,saveNotes:h}=C,D=te(!1),O=te("standard"),z=te(null),re=te(!0),{layoutTabs:I,defaultTabId:V,activeTabId:X,isLayoutEditing:Y,newWidgetType:he,widgets:ee,availableWidgetTypes:K,activeTab:U,setActiveTab:Q,setDefaultTab:N,addTab:J,renameTab:de,removeTab:F,setTabsFromPayload:H,applyDashboardPreset:R,cycleWidth:ae,cycleHeight:ye,moveWidget:L,removeWidget:W,addWidgetAt:q,reorderWidget:ie,updateWidgetOptions:oe,resetWidgets:ce}=J1({widgetsRegistry:Fa,createDefaultTabs:()=>Dr(O.value),normalizeWidgetTabs:Ar,createDashboardPreset:Un,dashboardMode:O,deckEnabled:re,hasInitialLoad:D,queueSaveRef:z}),ve=E(()=>({tabs:I.value,defaultTabId:V.value})),ge=E({get:()=>ve.value,set:j=>{j&&H(j)}}),fe=te(""),le=te(null),we=te({open:!1,x:0,y:0,tabId:null}),me=te(null);Oe(()=>X.value,()=>{var j;le.value||(fe.value=((j=U.value)==null?void 0:j.label)||"")},{immediate:!0}),Oe(()=>Y.value,j=>{j||(le.value=null,we.value={open:!1,x:0,y:0,tabId:null})});function pe(j){if(!Y.value){Q(j),me.value=null;return}if(X.value!==j){Q(j),le.value=null,me.value=null;return}le.value=j;const se=I.value.find(ze=>ze.id===j);fe.value=(se==null?void 0:se.label)||""}function be(j,se){Y.value&&(we.value={open:!0,x:j.clientX,y:j.clientY,tabId:se})}function Ce(){we.value={open:!1,x:0,y:0,tabId:null}}function Se(){we.value.tabId&&(N(we.value.tabId),Ce())}function Ae(){we.value.tabId&&(F(we.value.tabId),Ce())}function Ne(){if(!we.value.tabId)return;le.value=we.value.tabId;const j=I.value.find(se=>se.id===we.value.tabId);fe.value=(j==null?void 0:j.label)||"",Ce()}function Pe(){if(!le.value)return;const j=fe.value.trim(),se=I.value.find(ze=>ze.id===le.value);if(!se){le.value=null;return}if(!j){fe.value=se.label,le.value=null;return}j!==se.label&&de(se.id,j),le.value=null}function He(){if(!le.value)return;const j=I.value.find(se=>se.id===le.value);fe.value=(j==null?void 0:j.label)||"",le.value=null}function Ue(j){me.value=Number.isFinite(j??NaN)?Number(j):null}function Ze(){if(!he.value)return;const j=Number.isFinite(me.value??NaN)?me.value??void 0:void 0;q(he.value,j),he.value="",me.value=null}function ut(){Y.value=!Y.value,Y.value||(le.value=null,we.value={open:!1,x:0,y:0,tabId:null},me.value=null)}function Ie(j){if(!we.value.open)return;const se=j.target;se&&(se.closest(".tab-context-menu")||se.closest(".tab-btn")||Ce())}Mt(()=>{typeof window<"u"&&window.addEventListener("click",Ie)}),Ot(()=>{typeof window<"u"&&window.removeEventListener("click",Ie)});const{calendars:st,colorsByName:Sa,colorsById:Rt,groupsById:je,selected:qe,isLoading:jt,isTruncated:Pr,truncLimits:Qa,uid:No,from:da,to:$a,stats:eo,byCal:Io,byDay:to,charts:ao,targetsWeek:Ut,targetsMonth:ua,targetsConfig:xt,onboarding:Po,load:ts,themePreference:as,reportingConfig:Ta,deckSettings:Nt}=n1({range:c,offset:f,userChangedSelection:b,route:j=>g(j),getJson:u,notifyError:a,scheduleDraw:m,fetchNotes:x,isDebug:vs,fetchDavColors:T,widgetTabs:ge});function os(j){Ta.value=Pn(j,Ta.value),Wo(!1)}function rs(j){Nt.value=Fn(j,Nt.value);const se=Nr(Nt.value.defaultFilter);ne.value=se,Wo(!1)}Oe(()=>Nt.value.enabled,j=>{re.value=j},{immediate:!0});const{deckCards:Fo,deckLoading:Fr,deckError:Z}=q1({from:da,to:$a,notifyError:a}),{deckFilter:ne,deckSummaryBuckets:ke,deckTickerConfig:it,deckUrl:vt}=G1({deckSettings:Nt,deckCards:Fo,uid:No,root:$}),Ho=j=>{ne.value=Nr(j)},oo=Po,{themePreference:Hr,effectiveTheme:DC,systemTheme:$c,setThemePreference:ns}=B1({serverPreference:as,route:j=>g(j),postJson:v,notifySuccess:t,notifyError:a});function AC(j){Ac(j||"categories")}const{exportSidebarConfig:LC,importSidebarConfig:EC}=W1({selected:qe,groupsById:je,targetsWeek:Ut,targetsMonth:ua,targetsConfig:xt,themePreference:Hr,onboardingState:oo,widgetTabs:ge,setThemePreference:ns,postJson:v,route:j=>g(j),performLoad:()=>Ma(),notifySuccess:t,notifyError:a}),{queueSave:Wo,isSaving:OC}=s1({route:j=>g(j),postJson:v,notifyError:a,notifySuccess:t,onReload:()=>Ma(),selected:qe,groupsById:je,targetsWeek:Ut,targetsMonth:ua,targetsConfig:xt,themePreference:Hr,reportingConfig:Ta,deckSettings:Nt,widgetTabs:ge});z.value=Wo;const{toggleCalendar:BC,setGroup:NC,setTarget:IC,updateTargetsConfig:PC,selectAll:FC}=d1({calendars:st,selected:qe,groupsById:je,targetsWeek:Ut,targetsMonth:ua,targetsConfig:xt,range:c,queueSave:Wo,userChangedSelection:b}),{presets:HC,presetsLoading:WC,presetSaving:zC,presetApplying:RC,presetWarnings:jC,refreshPresets:Tc,savePreset:Mc,loadPreset:UC,deletePreset:VC,clearPresetWarnings:KC}=u1({route:(j,se)=>g(j,se),getJson:u,postJson:v,deleteJson:M,notifyError:a,notifySuccess:t,queueSave:Wo,selected:qe,groupsById:je,targetsWeek:Ut,targetsMonth:ua,targetsConfig:xt,userChangedSelection:b}),Dc=K1({onboardingState:oo,route:j=>g(j),postJson:v,notifySuccess:t,notifyError:a,setThemePreference:ns,savePreset:Mc,reloadAfterPersist:()=>Ma(),setSelected:j=>{qe.value=[...j]},setTargetsWeek:j=>{Ut.value={...j}},setTargetsMonth:j=>{ua.value={...j}},setTargetsConfig:j=>{xt.value=Qt(j)},setGroupsById:j=>{je.value={...j}},setDeckSettings:j=>{Nt.value={...j}},setReportingConfig:j=>{Ta.value={...j}},setOnboardingState:j=>{Po.value={...Po.value||{},...j}},setDashboardMode:j=>{O.value=j},setWidgetTabs:j=>{H(j)}}),{autoWizardNeeded:qC,onboardingRunId:GC,onboardingWizardVisible:JC,openWizardFromSidebar:Ac,wizardStartStep:YC,hasExistingConfig:ZC,wizardCalendars:XC,wizardInitialSelection:QC,wizardInitialStrategy:eS,wizardInitialAllDayHours:tS,wizardInitialTotalHours:aS,wizardInitialTargetsConfig:oS,wizardInitialDeckSettings:rS,wizardInitialReportingConfig:nS,wizardInitialDashboardMode:sS,isOnboardingSaving:lS,isSnapshotSaving:iS,snapshotNotice:cS,evaluateOnboarding:Lc,handleWizardComplete:dS,handleWizardSkip:uS,handleWizardClose:fS,handleWizardSaveSnapshot:gS}=N1({onboardingState:oo,calendars:st,selected:qe,targetsConfig:xt,deckSettings:Nt,reportingConfig:Ta,hasInitialLoad:D,actions:Dc}),pS=async j=>{await dS(j),j!=null&&j.dashboardMode&&R(j.dashboardMode)},hS=async j=>{j!=null&&j.dashboardMode&&R(j.dashboardMode),await Dc.saveStep(j)};async function Ma(){await ts(),D.value||(D.value=!0),Lc()}const{showCollapsedRangeControls:vS,rangeToggleLabel:mS,rangeDateLabel:ss,loadCurrent:Ec,toggleRangeCollapsed:ls,goPrevious:is,goNext:cs}=I1({navOpen:o,range:c,offset:f,from:da,to:$a,isLoading:jt,performLoad:()=>Ma()});function bS(j){var se;i(),(se=l.value)==null||se.openTab(j)}const{shortcutsOpen:yS,openShortcuts:wS,closeShortcuts:kS,shortcutGroups:_S}=V1({goPrevious:is,goNext:cs,toggleRange:ls,saveNotes:()=>h(),openConfigPanel:()=>bS("config"),toggleEditLayout:()=>{Y.value=!Y.value},openWidgetOptions:()=>{var j,se;Y.value&&((se=(j=Nc.value)==null?void 0:j.openOptionsForSelected)==null||se.call(j))},ensureSidebarVisible:i,onOpen:({source:j})=>Q1("shortcuts_opened",{source:j})}),Oc=te("active"),Bc=E(()=>c.value==="month"?"Month":"Week"),Nc=te(null);function xS(j){const se=new Date(Date.UTC(j.getFullYear(),j.getMonth(),j.getDate())),ze=se.getUTCDay()||7;se.setUTCDate(se.getUTCDate()+4-ze);const _e=new Date(Date.UTC(se.getUTCFullYear(),0,1));return Math.ceil(((se.getTime()-_e.getTime())/864e5+1)/7)}const CS=E(()=>{const j=new Date(da.value);return Number.isFinite(j.getTime())?c.value==="month"?`MONTH ${j.getMonth()+1}`:`WEEK ${xS(j)}`:c.value.toUpperCase()}),SS=E(()=>ss.value),ds=E(()=>{const j=Qt(xt.value);return c.value==="month"&&(j.totalHours=Do(j.totalHours),j.categories=j.categories.map(se=>({...se,targetHours:Do(se.targetHours)}))),j}),Ic=E(()=>{const j=ds.value;try{return Ti({config:j,stats:eo,byDay:to.value||[],byCal:Io.value||[],groupsById:je.value||{},range:c.value,from:da.value,to:$a.value})}catch(se){return console.error("[opsdash] targets summary failed",se),$i(j)}}),us=E(()=>{if(c.value==="month"){const j=ua.value||{};if(j&&Object.keys(j).length>0)return j;const se=Ut.value||{},ze={};return Object.entries(se).forEach(([_e,yt])=>{const ct=Number(yt);Number.isFinite(ct)&&(ze[_e]=Do(ct))}),ze}return Ut.value||{}}),fs=E(()=>{var j;return{...kr(),...((j=xt.value)==null?void 0:j.activityCard)??{}}}),gs=E(()=>{var ze;const j=Za(),se=((ze=xt.value)==null?void 0:ze.balance)??j;return{...j,...se,thresholds:{...j.thresholds,...se.thresholds??{}},relations:{...j.relations,...se.relations??{}},trend:{...j.trend,...se.trend??{}},dayparts:{...j.dayparts,...se.dayparts??{}},ui:{...j.ui,...se.ui??{}}}}),$S=E(()=>({showNotes:!!gs.value.ui.showNotes})),TS=E(()=>{var j;return Math.max(1,Math.min(6,((j=gs.value.trend)==null?void 0:j.lookbackWeeks)??1))}),MS=E(()=>{if(!gs.value.ui.showNotes)return"";const j=(P.value??"").trim();return j||(S.value??"").trim()}),{categoryLabelById:DS,categoryColorMap:Pc,calendarCategoryMap:ps,calendarGroups:Wr}=$1({calendars:st,selected:qe,groupsById:je,colorsById:Rt,targetsConfig:ds,targetsSummary:Ic,byCal:Io,currentTargets:us,isDebug:vs}),{balanceOverview:AS}=M1({stats:eo,categoryColorMap:Pc});E(()=>{var ze,_e;if(!fs.value.showHint)return"";const se=(Array.isArray((_e=(ze=xt.value)==null?void 0:ze.balance)==null?void 0:_e.categories)?xt.value.balance.categories:[]).map(yt=>{const ct=String(yt??"").trim();if(!ct)return"";const fa=DS.value[ct];return fa||ct.toUpperCase()}).filter(yt=>yt);return se.length?`Mapping via Sidebar  ${se.join(" / ")}`:""});const{calendarChartData:hs,categoryChartsById:LS}=b1({charts:ao,colorsById:Rt,calendarGroups:Wr,calendarCategoryMap:ps,targetsConfig:ds,currentTargets:us,activityCardConfig:fs}),ES=E(()=>{var yt;const j=(yt=hs.value)==null?void 0:yt.stacked;if(!j||!Array.isArray(j.labels)||!Array.isArray(j.series))return{};const se=Wc(new Date),ze=j.labels.findIndex(ct=>String(ct??"")===se);if(ze<0)return{};const _e={};return j.series.forEach(ct=>{var ro;const fa=String((ct==null?void 0:ct.id)??""),Vt=Number(((ro=ct==null?void 0:ct.data)==null?void 0:ro[ze])??0),ms=Number.isFinite(Vt)?Math.max(0,Vt):0;fa&&(_e[fa]=(_e[fa]||0)+ms)}),_e}),OS=E(()=>{var fa;const j=(fa=hs.value)==null?void 0:fa.stacked,se=j==null?void 0:j.labels,ze=j==null?void 0:j.series;if(!j||!Array.isArray(se)||!Array.isArray(ze))return{};const _e=Wc(new Date),yt=se.findIndex(Vt=>String(Vt??"")===_e);if(yt<0)return{};const ct={};return ze.forEach(Vt=>{var Rc,jc;const ms=String((Vt==null?void 0:Vt.id)??""),ro=(Rc=ps.value)==null?void 0:Rc[ms];if(!ro)return;const zc=Number(((jc=Vt==null?void 0:Vt.data)==null?void 0:jc[yt])??0),qS=Number.isFinite(zc)?Math.max(0,zc):0;ct[ro]=(ct[ro]||0)+qS}),ct}),BS=E(()=>Wr.value.map(j=>({...j,todayHours:OS.value[j.id]||0}))),NS=E(()=>{const j=Wr.value||[];return j.length&&[...j].sort((ze,_e)=>(_e.summary.actualHours||0)-(ze.summary.actualHours||0))[0]||null}),{timeSummary:IS,activitySummary:PS,activityDayOffTrend:FS}=T1({stats:eo,byDay:to,charts:ao,calendars:st,selected:qe,rangeLabel:Bc,rangeStart:da,rangeEnd:$a,offset:f,activeDayMode:Oc,topCategory:NS});z1();function vs(){return!1}const{iconSrc:HS,onIconError:Fc,appVersion:Hc}=v1({pingUrl:()=>g("ping"),getJson:u,pkgVersion:String(e0.version),root:$}),{notesLabelPrev:WS,notesLabelCurr:zS,notesLabelPrevTitle:RS,notesLabelCurrTitle:jS}=R1(c),{widgetContext:US}=X1({timeSummary:IS,activeDayMode:Oc,targetsSummary:Ic,targetsConfig:xt,stats:eo,byDay:to,byCal:Io,groupsById:je,calendarGroupsWithToday:BS,balanceOverview:AS,balanceCardConfig:$S,rangeLabel:Bc,range:c,offset:f,from:da,to:$a,trendLookbackWeeks:TS,balanceNote:MS,activitySummary:PS,activityCardConfig:fs,activityDayOffTrend:FS,deckSummaryBuckets:ke,deckLoading:Fr,deckError:Z,deckTickerConfig:it,deckFilter:ne,setDeckFilter:Ho,deckSettings:Nt,deckUrl:vt,deckCards:Fo,uid:No,notesPrev:S,notesCurrDraft:P,notesHistory:w,notesLabelPrev:WS,notesLabelCurr:zS,notesLabelPrevTitle:RS,notesLabelCurrTitle:jS,isSavingNote:_,saveNotes:h,isLoading:jt,hasInitialLoad:D,isLayoutEditing:Y,updateWidgetOptions:oe,charts:ao,calendarChartData:hs,categoryChartsById:LS,calendarGroups:Wr,calendarCategoryMap:ps,categoryColorMap:Pc,colorsById:Rt,colorsByName:Sa,currentTargets:us,calendarTodayHours:ES}),VS=E(()=>O.value==="quick"?"Quick preset":O.value==="pro"?"Pro preset":"Standard preset");function Wc(j){const se=j.getFullYear(),ze=`${j.getMonth()+1}`.padStart(2,"0"),_e=`${j.getDate()}`.padStart(2,"0");return`${se}-${ze}-${_e}`}function KS(j){wS(j??null,"button")}return Y1({performLoad:Ma,refreshPresets:Tc,range:c,offset:f,onboardingState:oo,hasInitialLoad:D,evaluateOnboarding:Lc,dashboardMode:O}),(j,se)=>{const ze=ou("NcAppSidebarToggle");return y(),k("div",{id:"opsdash",class:Ee(["opsdash",{"is-nav-collapsed":!A(o)}])},[(y(),Xe(Gv,{key:A(GC),visible:A(JC),calendars:A(XC),"initial-selection":A(QC),"initial-strategy":A(eS),"onboarding-version":A(_a),closable:!A(qC),"initial-theme-preference":A(Hr),"system-theme":A($c),"initial-all-day-hours":A(tS),"initial-total-hours":A(aS),"initial-targets-config":A(oS),"initial-deck-settings":A(rS),"initial-reporting-config":A(nS),"initial-dashboard-mode":A(sS),"start-step":A(YC),"has-existing-config":A(ZC),saving:A(lS),"snapshot-saving":A(iS),"snapshot-notice":A(cS),onClose:A(fS),onSkip:A(uS),onComplete:pS,onSaveCurrentConfig:A(gS),onSaveStep:hS},null,8,["visible","calendars","initial-selection","initial-strategy","onboarding-version","closable","initial-theme-preference","system-theme","initial-all-day-hours","initial-total-hours","initial-targets-config","initial-deck-settings","initial-reporting-config","initial-dashboard-mode","start-step","has-existing-config","saving","snapshot-saving","snapshot-notice","onClose","onSkip","onSaveCurrentConfig"])),$e(A(Df),{"app-name":"Operational Dashboard","show-navigation":A(o)},{navigation:Ve(()=>[$e(Ep,{ref_key:"sidebarRef",ref:l,id:"opsdash-sidebar",calendars:A(st),selected:A(qe),"groups-by-id":A(je),"is-loading":A(jt),range:c.value,offset:f.value,from:A(da),to:A($a),"targets-week":A(Ut),"targets-month":A(ua),"targets-config":A(xt),"nav-toggle-label":A(n),"nav-toggle-icon":A(s),presets:A(HC),"presets-loading":A(WC),"preset-saving":A(zC),"preset-applying":A(RC),"preset-warnings":A(jC),"theme-preference":A(Hr),"effective-theme":A(DC),"system-theme":A($c),"reporting-config":A(Ta),"deck-settings":A(Nt),"reporting-saving":A(OC),"dashboard-mode":O.value,onLoad:Ma,"onUpdate:range":se[0]||(se[0]=_e=>{c.value=_e,f.value=0,Ma()}),"onUpdate:offset":se[1]||(se[1]=_e=>{f.value=_e,Ma()}),onSelectAll:se[2]||(se[2]=_e=>A(FC)(_e)),onToggleCalendar:se[3]||(se[3]=_e=>A(BC)(_e)),onSetGroup:se[4]||(se[4]=_e=>A(NC)(_e.id,_e.n)),onSetTarget:se[5]||(se[5]=_e=>A(IC)(_e.id,_e.h)),"onUpdate:targetsConfig":A(PC),onToggleNav:A(r),onSavePreset:A(Mc),onLoadPreset:A(UC),onDeletePreset:A(VC),onRefreshPresets:A(Tc),onClearPresetWarnings:A(KC),onRerunOnboarding:A(Ac),onSetThemePreference:A(ns),onExportConfig:A(LC),onImportConfig:A(EC),onOpenShortcuts:KS,onSaveReporting:os,onSaveDeckSettings:rs},null,8,["calendars","selected","groups-by-id","is-loading","range","offset","from","to","targets-week","targets-month","targets-config","nav-toggle-label","nav-toggle-icon","presets","presets-loading","preset-saving","preset-applying","preset-warnings","theme-preference","effective-theme","system-theme","reporting-config","deck-settings","reporting-saving","dashboard-mode","onUpdate:targetsConfig","onToggleNav","onSavePreset","onLoadPreset","onDeletePreset","onRefreshPresets","onClearPresetWarnings","onRerunOnboarding","onSetThemePreference","onExportConfig","onImportConfig"])]),"sidebar-toggle":Ve(()=>[$e(ze,{open:A(o),onToggle:A(r)},null,8,["open","onToggle"])]),default:Ve(()=>[d("div",t0,[d("div",a0,[d("div",o0,[A(vS)?(y(),k("div",r0,[d("button",{class:"range-toolbar__btn",type:"button",onClick:se[6]||(se[6]=(..._e)=>A(r)&&A(r)(..._e)),"aria-expanded":A(o),"aria-controls":"opsdash-sidebar","aria-label":A(n)},B(A(s)),9,n0),d("button",{class:"range-toolbar__btn",type:"button",disabled:A(jt),onClick:se[7]||(se[7]=(..._e)=>A(Ec)&&A(Ec)(..._e))}," Refresh ",8,s0),se[18]||(se[18]=d("div",{class:"range-toolbar__divider","aria-hidden":"true"},null,-1)),d("button",{class:"range-toolbar__btn",type:"button",disabled:A(jt),onClick:se[8]||(se[8]=(..._e)=>A(ls)&&A(ls)(..._e)),"aria-pressed":c.value==="month"},B(A(mS)),9,l0),d("div",i0,[d("button",{class:"range-toolbar__btn",type:"button",disabled:A(jt),onClick:se[9]||(se[9]=(..._e)=>A(is)&&A(is)(..._e))},"  ",8,c0),d("span",{class:"range-toolbar__label",title:A(ss)},B(A(ss)),9,d0),d("button",{class:"range-toolbar__btn",type:"button",disabled:A(jt),onClick:se[10]||(se[10]=(..._e)=>A(cs)&&A(cs)(..._e))},"  ",8,u0)])])):G("",!0),d("div",f0,[d("div",g0,[d("img",{src:A(HS),onError:se[11]||(se[11]=(..._e)=>A(Fc)&&A(Fc)(..._e)),class:"app-icon",alt:"","aria-hidden":"true"},null,40,p0),se[19]||(se[19]=d("span",null,"Operational Dashboard",-1)),d("span",h0,[d("span",{class:"range-badge__mode",textContent:B(CS.value)},null,8,v0),d("span",{class:"range-badge__span",textContent:B(SS.value)},null,8,m0)])]),d("div",b0,[A(jt)?(y(),Xe(A(Ln),{key:0,size:16})):G("",!0),d("span",{textContent:B(A(No))},null,8,y0),A(Pr)?(y(),k("span",w0," Partial data")):G("",!0)])]),A(Pr)?(y(),k("div",{key:1,class:"banner warn",title:p.value},[se[20]||(se[20]=Me(" Showing partial data to keep things fast. ",-1)),A(Qa)&&A(Qa).totalProcessed!=null?(y(),k(ue,{key:0},[Me(" Processed "+B(A(Qa).totalProcessed)+" items. ",1)],64)):G("",!0)],8,k0)):G("",!0),d("div",_0,[d("div",x0,[(y(!0),k(ue,null,xe(A(I),_e=>(y(),k("button",{key:_e.id,type:"button",class:Ee(["tab-btn",{active:_e.id===A(X),default:_e.id===A(V)}]),role:"tab","aria-selected":_e.id===A(X),onClick:yt=>pe(_e.id),onContextmenu:et(yt=>be(yt,_e.id),["prevent"])},[A(Y)&&le.value===_e.id?vo((y(),k("input",{key:0,class:"tab-input","onUpdate:modelValue":se[12]||(se[12]=yt=>fe.value=yt),onBlur:Pe,onKeydown:[wa(et(Pe,["prevent"]),["enter"]),wa(et(He,["prevent"]),["esc"])],onClick:se[13]||(se[13]=et(()=>{},["stop"]))},null,40,S0)),[[_i,fe.value]]):(y(),k(ue,{key:1},[d("span",$0,B(_e.label),1),_e.id===A(V)?(y(),k("span",T0,"Default")):G("",!0)],64))],42,C0))),128)),A(Y)?(y(),k("button",{key:0,type:"button",class:"tab-btn tab-btn--add",onClick:se[14]||(se[14]=_e=>A(J)())}," + Tab ")):G("",!0)]),d("div",M0,[d("button",{type:"button",class:"ghost-btn ghost-btn--edit",onClick:ut},[se[21]||(se[21]=d("span",{class:"ghost-btn__icon","aria-hidden":"true"},"",-1)),Me(" "+B(A(Y)?"Done editing":"Edit layout"),1)]),A(Y)?(y(),k("div",D0,[vo(d("select",{"onUpdate:modelValue":se[15]||(se[15]=_e=>lt(he)?he.value=_e:null),onChange:Ze},[se[22]||(se[22]=d("option",{value:"",disabled:""},"Select widget",-1)),(y(!0),k(ue,null,xe(A(K),_e=>(y(),k("option",{key:_e.type,value:_e.type},B(_e.label),9,A0))),128))],544),[[An,A(he)]]),d("button",{type:"button",class:"ghost-btn",onClick:se[16]||(se[16]=(..._e)=>A(ce)&&A(ce)(..._e))}," Reset ")])):G("",!0)])]),we.value.open?(y(),k("div",{key:2,class:"tab-context-menu",style:Le({top:`${we.value.y}px`,left:`${we.value.x}px`}),role:"menu"},[d("button",{type:"button",role:"menuitem",onClick:Se},"Set as default"),d("button",{type:"button",role:"menuitem",onClick:Ne},"Rename"),d("button",{type:"button",role:"menuitem",disabled:A(I).length<=1,onClick:Ae}," Remove ",8,L0)],4)):G("",!0),d("div",E0,[$e(Xy,{ref_key:"layoutRef",ref:Nc,widgets:A(ee),context:A(US),editable:A(Y),"widget-types":A(K),"preset-label":VS.value,"onEdit:width":A(ae),"onEdit:height":A(ye),"onEdit:remove":A(W),"onEdit:move":A(L),"onEdit:options":A(oe),"onEdit:add":A(q),"onEdit:reorder":A(ie),"onOpen:onboarding":AC,"onReset:preset":se[17]||(se[17]=_e=>A(R)(O.value.value)),"onSelect:cell":Ue},null,8,["widgets","context","editable","widget-types","preset-label","onEdit:width","onEdit:height","onEdit:remove","onEdit:move","onEdit:options","onEdit:add","onEdit:reorder"])]),d("div",O0,[A(Hc)?(y(),k(ue,{key:0},[Me(" Operational Dashboard  v"+B(A(Hc))+"  Built by Blade34242 @ Gellert Innovation ",1)],64)):(y(),k(ue,{key:1},[Me(" Operational Dashboard  v0.4.4  Built by Blade34242 @ Gellert Innovation ")],64))])])])])]),_:1},8,["show-navigation"]),$e(tm,{visible:A(yS),groups:A(_S),onClose:A(kS)},null,8,["visible","groups","onClose"])],2)}}});function es(){const e=document.getElementById("app");if(e){try{console.log("[opsdash] booting");const t=$f(B0);t.config.errorHandler=(r,n,s)=>{const l=n!=null&&n.type&&n.type.name?n.type.name:"",i={err:r,info:s,name:l,stack:r instanceof Error?r.stack:void 0},c=window;Array.isArray(c.__opsdashErrors)||(c.__opsdashErrors=[]),c.__opsdashErrors.push(i),console.error("[opsdash] Vue error",i)};const a=t.mount(e),o=window;o.__opsdashApp=t,o.__opsdashRoot=a,e1(),console.log("[opsdash] mounted")}catch(t){console.error("Mount failed",t)}return}document.readyState==="complete"||document.readyState==="interactive"?setTimeout(es,50):window.addEventListener("DOMContentLoaded",es,{once:!0})}es();const N0={key:0,class:"activity-card__header"},I0={key:0,class:"pill"},P0={key:1,class:"activity-card__hero"},F0={key:2,class:"activity-card__subline"},H0={key:3,class:"activity-card__meta"},W0={key:4,class:"activity-card__extra"},z0={key:5,class:"activity-card__trend"},R0={class:"dayoff-header"},j0={key:0,class:"dayoff-meta"},U0={class:"dayoff-heatmap"},V0=["title"],K0={class:"dayoff-tile__label"},q0={class:"dayoff-tile__value"},G0={class:"dayoff-tile__meta"},J0={key:6,class:"activity-card__hint"},Y0=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"ActivityScheduleCard",props:{summary:{},rangeLabel:{},categoryHint:{},config:{},dayOffTrend:{},trendUnit:{},dayOffLookback:{},showHeader:{type:Boolean},title:{},cardBg:{}},setup(e){const t=kr(),a=e,o=E(()=>Object.assign({},t,a.config??{})),r=E(()=>a.title||"Activity & Schedule"),n=E(()=>({background:a.cardBg||void 0})),s=E(()=>a.showHeader!==!1),l=E(()=>{const S=[];S.push(`Events ${a.summary.events}`),a.summary.activeDays!=null&&S.push(`Active Days ${a.summary.activeDays}`);const P=u(a.summary.typicalStart,a.summary.typicalEnd);return P&&S.push(`Typical ${P}`),S.join("  ")}),i=E(()=>{const S=[];return o.value.showWeekendShare&&a.summary.weekendShare!=null&&S.push(`Weekend ${v(a.summary.weekendShare)}`),o.value.showEveningShare&&a.summary.eveningShare!=null&&S.push(`Evening ${v(a.summary.eveningShare)}`),S.join("  ")}),c=E(()=>{const S=[];if(o.value.showEarliestLatest){const P=M(a.summary.earliestStart),w=M(a.summary.latestEnd);(P||w)&&S.push({label:"Earliest/Late",value:`${P||""} / ${w||""}`})}return o.value.showOverlaps&&a.summary.overlapEvents!=null&&S.push({label:"Overlaps",value:a.summary.overlapEvents.toString()}),S}),f=E(()=>{const S=[];return o.value.showLongestSession&&a.summary.longestSession!=null&&a.summary.longestSession>0&&S.push({label:"Longest Session",value:`${Number(a.summary.longestSession).toFixed(1)} h`}),o.value.showLastDayOff&&a.summary.lastDayOff&&S.push({label:"Last day off",value:$(a.summary.lastDayOff)}),o.value.showLastDayOff&&a.summary.lastHalfDayOff&&S.push({label:"Last half day",value:$(a.summary.lastHalfDayOff)}),S}),p=E(()=>{const S=typeof a.dayOffLookback=="number"?a.dayOffLookback:null;if(S!=null)return Math.max(0,Math.min(12,Math.floor(S)));const P=(a.dayOffTrend??[]).filter(w=>Number((w==null?void 0:w.offset)??0)>0);return Math.max(0,Math.min(12,P.length))}),b=E(()=>{const S=Array.isArray(a.dayOffTrend)?a.dayOffTrend:[],P=new Map;S.forEach(O=>{const z=Number((O==null?void 0:O.offset)??0)||0;P.set(z,{offset:z,label:(O==null?void 0:O.label)??"",from:(O==null?void 0:O.from)??"",to:(O==null?void 0:O.to)??"",totalDays:Number((O==null?void 0:O.totalDays)??(O==null?void 0:O.total_days)??0)||0,daysOff:Number((O==null?void 0:O.daysOff)??(O==null?void 0:O.days_off)??0)||0,daysWorked:Number((O==null?void 0:O.daysWorked)??(O==null?void 0:O.days_worked)??0)||0})});const w=a.trendUnit==="mo"?"mo":"wk",_=a.trendUnit==="mo"?"This month":"This week",x=[],h=P.get(0)??{offset:0,label:_,from:"",to:"",totalDays:0,daysOff:0,daysWorked:0};x.push(h);const D=p.value;for(let O=1;O<=D;O+=1){const z=P.get(O)??{offset:O,label:`-${O} ${w}`,from:"",to:"",totalDays:0,daysOff:0,daysWorked:0};x.push(z)}return x}),m=E(()=>b.value.map(S=>{const P=Math.max(0,Number(S.totalDays)||0),w=Math.max(0,Math.min(P,Number(S.daysOff)||0)),_=P>0?w/P:0;return{...S,share:_,tone:C(_)}})),g=E(()=>{const S=p.value;if(S<=0)return"";const P=a.trendUnit==="mo"?"month":"week";return`${S} ${S===1?P:`${P}s`}`});function u(S,P){return S&&P?`${S}${P}`:S?`${S}`:P?`${P}`:""}function v(S){return`${Number(S||0).toFixed(1)}%`}function M(S){return S?S.length>=16?S.slice(11,16):S.length>=5?S.slice(0,5):null:null}function $(S){const P=S.trim();if(!P)return"";if(P.split("-").length>=2){const _=new Date(P.length===10?`${P}T00:00:00`:P);if(!Number.isNaN(_.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(_)}return P}function T(S){const P=Math.max(0,Math.min(1,S));return`${Math.round(P*100)}% off`}function C(S){return S>=.5?"high":S>=.25?"mid":"low"}return(S,P)=>(y(),k("div",{class:"card activity-card",style:Le(n.value)},[s.value?(y(),k("div",N0,[d("span",null,B(r.value)+" ("+B(S.rangeLabel)+")",1),S.summary.rangeLabel?(y(),k("span",I0,B(S.summary.rangeLabel),1)):G("",!0)])):G("",!0),l.value?(y(),k("div",P0,[d("span",null,B(l.value),1)])):G("",!0),i.value?(y(),k("div",F0,[d("span",null,B(i.value),1)])):G("",!0),c.value.length?(y(),k("div",H0,[(y(!0),k(ue,null,xe(c.value,w=>(y(),k("span",{key:w.label},[d("strong",null,B(w.label),1),Me(" "+B(w.value),1)]))),128))])):G("",!0),f.value.length?(y(),k("div",W0,[(y(!0),k(ue,null,xe(f.value,w=>(y(),k("span",{key:w.label},[d("strong",null,B(w.label),1),Me(" "+B(w.value),1)]))),128))])):G("",!0),o.value.showDayOffTrend&&m.value.length?(y(),k("div",z0,[d("div",R0,[P[0]||(P[0]=d("span",null,"Days off trend",-1)),g.value?(y(),k("span",j0," Last "+B(g.value),1)):G("",!0)]),d("div",U0,[(y(!0),k(ue,null,xe(m.value,w=>(y(),k("div",{key:w.offset,class:Ee(["dayoff-tile",[`dayoff-tile--${w.tone}`,{"dayoff-tile--current":w.offset===0}]]),title:`${w.label}  ${T(w.share)}`},[d("div",K0,B(w.label),1),d("div",q0,B(T(w.share)),1),d("div",G0,B(w.daysOff)+" off  "+B(w.daysWorked)+" on ",1)],10,V0))),128))])])):G("",!0),o.value.showHint&&S.categoryHint?(y(),k("div",J0,B(S.categoryHint),1)):G("",!0)],4))}}),[["__scopeId","data-v-5d73a7ec"]])},Symbol.toStringTag,{value:"Module"})),Z0={key:0,class:"balance-card__header"},X0={key:1,class:"balance-card__activity"},Q0={class:"activity-hero"},ew={key:0,class:"activity-hero__line"},tw={key:1,class:"activity-subline"},aw={key:2,class:"activity-meta"},ow={key:3,class:"activity-meta activity-meta--extra"},rw={key:0,class:"activity-dayoff"},nw={class:"dayoff-header"},sw={key:0,class:"dayoff-meta"},lw={class:"dayoff-heatmap"},iw=["title"],cw={class:"dayoff-tile__label"},dw={class:"dayoff-tile__value"},uw={class:"dayoff-tile__meta"},fw={key:2,class:"balance-card__mix"},gw={class:"mix-header"},pw={class:"mix-subtitle"},hw={key:0,class:"mix-badge"},vw={class:"mix-column-label mix-column-label--current"},mw={class:"mix-list"},bw={class:"mix-label"},yw=["title"],ww={class:"mix-cell__value"},kw={key:3,class:"balance-card__warnings"},_w={key:4,class:"balance-card__note"},xw=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"BalanceOverviewCard",props:{overview:{},rangeLabel:{},rangeMode:{},lookbackWeeks:{},config:{},note:{},activitySummary:{},activityConfig:{},activityDayOffTrend:{},activityTrendUnit:{},activityDayOffLookback:{},showHeader:{type:Boolean},title:{},cardBg:{}},setup(e){const t=kr(),a=e;E(()=>Object.assign({},a.config??{}));const o=E(()=>(a.note??"").trim()),r=E(()=>Object.assign({},t,a.activityConfig??{})),n=E(()=>a.title||"Activity & Balance"),s=E(()=>({background:a.cardBg||void 0})),l=E(()=>a.showHeader!==!1),i=E(()=>{if(!a.activitySummary)return"";const ee=[];ee.push(`Events ${a.activitySummary.events}`),a.activitySummary.activeDays!=null&&ee.push(`Active Days ${a.activitySummary.activeDays}`);const K=I(a.activitySummary.typicalStart,a.activitySummary.typicalEnd);return K&&ee.push(`Typical ${K}`),ee.join("  ")}),c=E(()=>{if(!a.activitySummary)return"";const ee=[];return r.value.showWeekendShare&&a.activitySummary.weekendShare!=null&&ee.push(`Weekend ${re(a.activitySummary.weekendShare)}`),r.value.showEveningShare&&a.activitySummary.eveningShare!=null&&ee.push(`Evening ${re(a.activitySummary.eveningShare)}`),ee.join("  ")}),f=E(()=>{if(!a.activitySummary)return[];const ee=[];if(r.value.showEarliestLatest){const K=V(a.activitySummary.earliestStart),U=V(a.activitySummary.latestEnd);(K||U)&&ee.push({label:"Earliest/Late",value:`${K||""} / ${U||""}`})}return r.value.showOverlaps&&a.activitySummary.overlapEvents!=null&&ee.push({label:"Overlaps",value:a.activitySummary.overlapEvents.toString()}),ee}),p=E(()=>{if(!a.activitySummary)return[];const ee=[];return r.value.showLongestSession&&a.activitySummary.longestSession!=null&&a.activitySummary.longestSession>0&&ee.push({label:"Longest Session",value:`${Number(a.activitySummary.longestSession).toFixed(1)} h`}),r.value.showLastDayOff&&a.activitySummary.lastDayOff&&ee.push({label:"Last day off",value:X(a.activitySummary.lastDayOff)}),r.value.showLastDayOff&&a.activitySummary.lastHalfDayOff&&ee.push({label:"Last half day",value:X(a.activitySummary.lastHalfDayOff)}),ee}),b=E(()=>{const ee=typeof a.activityDayOffLookback=="number"?a.activityDayOffLookback:null;if(ee!=null)return Math.max(0,Math.min(12,Math.floor(ee)));const K=(a.activityDayOffTrend??[]).filter(U=>Number((U==null?void 0:U.offset)??0)>0);return Math.max(0,Math.min(12,K.length))}),m=E(()=>{const ee=Array.isArray(a.activityDayOffTrend)?a.activityDayOffTrend:[],K=new Map;ee.forEach(N=>{const J=Number((N==null?void 0:N.offset)??0)||0;J<=0||K.set(J,{offset:J,label:(N==null?void 0:N.label)??"",from:(N==null?void 0:N.from)??"",to:(N==null?void 0:N.to)??"",totalDays:Number((N==null?void 0:N.totalDays)??(N==null?void 0:N.total_days)??0)||0,daysOff:Number((N==null?void 0:N.daysOff)??(N==null?void 0:N.days_off)??0)||0,daysWorked:Number((N==null?void 0:N.daysWorked)??(N==null?void 0:N.days_worked)??0)||0})});const U=a.activityTrendUnit==="mo"?"mo":"wk",Q=b.value||0;return Array.from(K.entries()).filter(([N])=>N<=Q||Q===0).map(([,N])=>({...N,label:`-${N.offset} ${U}`})).sort((N,J)=>J.offset-N.offset)}),g=E(()=>m.value.map(ee=>{const K=Math.max(0,Number(ee.totalDays)||0),U=Math.max(0,Math.min(K,Number(ee.daysOff)||0)),Q=K>0?U/K:0;return{...ee,share:Q,tone:he(Q)}})),u=E(()=>{const ee=b.value;if(ee<=0)return"";const K=a.activityTrendUnit==="mo"?"month":"week";return`${ee} ${ee===1?K:`${K}s`}`}),v=E(()=>{var ee;return((ee=a.overview)==null?void 0:ee.warnings)??[]}),M=E(()=>{var ee,K;return((K=(ee=a.overview)==null?void 0:ee.trend)==null?void 0:K.badge)??""}),$=E(()=>`CU. ${C.value}`),T=E(()=>Math.max(1,Math.min(4,a.lookbackWeeks||1))),C=E(()=>a.rangeMode==="month"?"MO":"WE"),S=E(()=>{var K,U,Q;const ee=((U=(K=a.overview)==null?void 0:K.trend)==null?void 0:U.history)??((Q=a.overview)==null?void 0:Q.trendHistory)??[];return Array.isArray(ee)?ee.map(N=>({offset:Number((N==null?void 0:N.offset)??(N==null?void 0:N.step)??0)||0,label:String((N==null?void 0:N.label)??""),categories:Array.isArray(N==null?void 0:N.categories)?N.categories.map(J=>({id:String((J==null?void 0:J.id)??""),label:String((J==null?void 0:J.label)??""),share:Number((J==null?void 0:J.share)??0)||0})):[]})).filter(N=>N.offset>0):[]}),P=ee=>`-${ee} ${C.value}`,w=E(()=>{if(!a.overview)return[];const ee=T.value,K=new Map;return S.value.forEach(U=>{const Q=Math.max(1,Math.min(12,Math.round(U.offset)));if(!Q||Q>ee)return;const N={};U.categories.forEach(J=>{J.id&&(N[J.id]=Number.isFinite(J.share)?J.share:0)}),K.set(Q,{offset:Q,label:P(Q),shares:N})}),Array.from(K.values()).sort((U,Q)=>Q.offset-U.offset)}),_=E(()=>w.value.length+1),x=E(()=>({gridTemplateColumns:`52px repeat(${Math.max(_.value,1)}, minmax(32px, 1fr))`})),h=ee=>ee>1?"up":ee<-1?"down":"flat",D=E(()=>a.overview?(a.overview.categories??[]).map(K=>{const U=w.value.map(de=>({label:de.label,share:de.shares[K.id]??0,isCurrent:!1})),Q=typeof K.share=="number"?K.share:0,N=[...U,{label:$.value,share:Q,isCurrent:!0}],J=N.map((de,F)=>{const H=F===0?de.share:N[F-1].share,R=de.share-H;return{label:de.label,share:de.share,isCurrent:!!de.isCurrent,trend:F===0?"flat":h(R)}});return{id:K.id,label:K.label,cells:J}}):[]),O=E(()=>{var K;const ee=T.value;if(ee>1){const U=a.rangeMode==="month"?"months":"weeks";return`History  last ${ee} ${U}`}return ee===1&&w.value.length?((K=w.value[w.value.length-1])==null?void 0:K.label)||P(1):P(ee||1)}),z=ee=>`${Math.max(0,Math.round(ee))}%`;function re(ee){return ee==null?"0%":`${Math.max(0,Math.min(100,Number(ee))).toFixed(1)}%`}function I(ee,K){const U=V(ee),Q=V(K);return!U&&!Q?"":U&&Q?`${U}${Q}`:U||Q||""}function V(ee){if(!ee)return"";const K=new Date(ee);return Number.isNaN(K.getTime())?"":K.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function X(ee){const K=ee.trim();if(!K)return"";if(K.split("-").length>=2){const Q=new Date(K.length===10?`${K}T00:00:00`:K);if(!Number.isNaN(Q.getTime()))return new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(Q)}return K}function Y(ee){const K=Math.max(0,Math.min(1,ee));return`${Math.round(K*100)}% off`}function he(ee){return ee>=.5?"high":ee>=.25?"mid":"low"}return(ee,K)=>(y(),k("div",{class:"card balance-card",style:Le(s.value)},[l.value?(y(),k("div",Z0,[d("span",null,B(n.value)+" ("+B(ee.rangeLabel)+")",1)])):G("",!0),ee.activitySummary?(y(),k("div",X0,[d("div",Q0,[K[0]||(K[0]=d("div",{class:"activity-hero__title"},"Activity & Schedule",-1)),i.value?(y(),k("div",ew,B(i.value),1)):G("",!0),c.value?(y(),k("div",tw,B(c.value),1)):G("",!0),f.value.length?(y(),k("div",aw,[(y(!0),k(ue,null,xe(f.value,U=>(y(),k("span",{key:U.label},[d("strong",null,B(U.label),1),Me(" "+B(U.value),1)]))),128))])):G("",!0),p.value.length?(y(),k("div",ow,[(y(!0),k(ue,null,xe(p.value,U=>(y(),k("span",{key:U.label},[d("strong",null,B(U.label),1),Me(" "+B(U.value),1)]))),128))])):G("",!0)]),r.value.showDayOffTrend&&g.value.length?(y(),k("div",rw,[d("div",nw,[K[1]||(K[1]=d("span",null,"Days off trend",-1)),u.value?(y(),k("span",sw,"Last "+B(u.value),1)):G("",!0)]),d("div",lw,[(y(!0),k(ue,null,xe(g.value,U=>(y(),k("div",{key:U.offset,class:Ee(["dayoff-tile",[`dayoff-tile--${U.tone}`,{"dayoff-tile--current":U.offset===0}]]),title:`${U.label}  ${Y(U.share)}`},[d("div",cw,B(U.label),1),d("div",dw,B(Y(U.share)),1),d("div",uw,B(U.daysOff)+" off  "+B(U.daysWorked)+" on ",1)],10,iw))),128))])])):G("",!0)])):G("",!0),D.value.length?(y(),k("div",fw,[d("div",gw,[d("div",null,[K[2]||(K[2]=d("div",{class:"mix-title"},"Category mix trend",-1)),d("div",pw,B(O.value),1)]),M.value?(y(),k("span",hw,B(M.value),1)):G("",!0)]),d("div",{class:"mix-columns",style:Le(x.value)},[K[3]||(K[3]=d("span",{class:"mix-column-label mix-column-label--label"},"CAT",-1)),(y(!0),k(ue,null,xe(w.value,U=>(y(),k("span",{key:`col-${U.offset}`,class:"mix-column-label"},B(U.label),1))),128)),d("span",vw,B($.value),1)],4),d("ul",mw,[(y(!0),k(ue,null,xe(D.value,U=>(y(),k("li",{key:U.id,class:"mix-row"},[d("span",bw,B(U.label)+":",1),d("div",{class:"mix-cells",style:Le(x.value)},[(y(!0),k(ue,null,xe(U.cells,(Q,N)=>(y(),k("div",{key:`${U.id}-cell-${N}`,class:Ee(["mix-cell",[`mix-cell--trend-${Q.trend}`,{"mix-cell--current":Q.isCurrent}]]),title:`${U.label}  ${Q.label}  ${z(Q.share)}`},[d("span",ww,B(z(Q.share)),1)],10,yw))),128))],4)]))),128))])])):G("",!0),v.value.length?(y(),k("ul",kw,[(y(!0),k(ue,null,xe(v.value,U=>(y(),k("li",{key:U}," "+B(U),1))),128))])):G("",!0),o.value?(y(),k("div",_w,"  "+B(o.value),1)):G("",!0)],4))}}),[["__scopeId","data-v-cdc30eb8"]])},Symbol.toStringTag,{value:"Module"}));function Cw(e){var l;const t=e.basis||"category";if(t==="off")return 0;const a={},o=(l=e.targets)!=null&&l.length?e.targets.reduce((i,c)=>i+(c.targetHours??0),0):0;t!=="calendar"&&o>0&&e.targets.forEach(i=>{const c=(i.targetHours??0)/o;a[i.id]=c});const r=new Set;if(Object.keys(e.shares||{}).forEach(i=>r.add(i)),Object.keys(a).forEach(i=>r.add(i)),r.size===0)return 0;let n=0;r.forEach(i=>{var b;const c=Number(((b=e.shares)==null?void 0:b[i])??0),f=t==="calendar"?1/r.size:a[i]??0,p=Math.abs(c-f);p>n&&(n=p)});const s=1-n;return Math.max(0,Math.min(1,Number(s.toFixed(2))))}function Sw(e){var s,l;const t=Array.isArray(e.history)?e.history:[],a=Math.max(1,Math.min(e.lookback||4,52)),o=((s=e.targetsConfig)==null?void 0:s.categories)||[],r=t.slice(0,a).map((i,c)=>{const f=Number((i==null?void 0:i.offset)??(i==null?void 0:i.step)),p=Number.isFinite(f)&&f>0?Math.round(f):c+1;return{entry:i,offset:p}});r.sort((i,c)=>c.offset-i.offset);const n=r.map(({entry:i,offset:c})=>{const f={};Array.isArray(i.categories)&&i.categories.forEach(v=>{f[String(v.id)]=Number(v.share??0)});const p=Object.values(f),b=p.length?Math.max(...p):0,m=p.reduce((v,M)=>v+M,0);(b>1||m>1.5)&&Object.keys(f).forEach(v=>{f[v]=f[v]/100});const g=Object.values(f).reduce((v,M)=>v+M,0);return g>1.0001&&g>0&&Object.keys(f).forEach(v=>{f[v]=f[v]/g}),{index:Cw({shares:f,targets:o,basis:e.basis}),label:i.label||"",offset:c}});if(typeof e.currentIndex=="number")if(!n.some(c=>c.offset===0)||Math.abs((((l=n[n.length-1])==null?void 0:l.index)??0)-e.currentIndex)>1e-4)n.push({index:e.currentIndex,label:"Current",offset:0});else{const c=n.findIndex(f=>f.offset===0);c>=0&&(n[c].index=e.currentIndex)}return n.slice(0,a)}const $w={key:0,class:"title-row"},Tw={class:"title"},Mw={class:"index-value"},Dw={key:0,class:"trend"},Aw=["title"],Lw={class:"trend-line-row"},Ew={class:"trend-value"},Ow={class:"trend-range"},Bw={class:"trend-offset"},Nw={key:1,class:"messages"},Iw={key:2,class:"config"},Pw={key:3,class:"empty"},Fw=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"BalanceIndexCard",props:{overview:{},rangeLabel:{},showBadge:{type:Boolean},showTrend:{type:Boolean},showMessages:{type:Boolean},showConfig:{type:Boolean},messageLimit:{},lookbackWeeks:{},loopbackCount:{},indexBasis:{},showCurrent:{type:Boolean},labelMode:{},reverseTrend:{type:Boolean},from:{},to:{},rangeMode:{},thresholds:{},title:{},cardBg:{},showHeader:{type:Boolean},targetsCategories:{},trendColor:{}},setup(e){const t=e,a=E(()=>t.title||"Balance Index"),o=E(()=>t.showHeader!==!1),r=E(()=>{var ee,K,U,Q;const V=[...Array.isArray((K=(ee=t.overview)==null?void 0:ee.trend)==null?void 0:K.history)?t.overview.trend.history:Array.isArray((U=t.overview)==null?void 0:U.trendHistory)?t.overview.trendHistory:[]],X=Math.max(1,Number.isFinite(t.loopbackCount)&&t.loopbackCount?Number(t.loopbackCount):Number.isFinite(t.lookbackWeeks)&&t.lookbackWeeks?Number(t.lookbackWeeks):5),Y=t.targetsCategories||[];return Sw({history:V,targetsConfig:{categories:Y},basis:t.indexBasis,lookback:X,currentIndex:typeof((Q=t.overview)==null?void 0:Q.index)=="number"?t.overview.index:void 0}).slice()}),n=E(()=>{let I=r.value.slice();return t.showCurrent===!1&&(I=I.filter(V=>((V==null?void 0:V.offset)??0)!==0)),t.reverseTrend?I.slice().reverse():I}),s=E(()=>n.value.length>0),l=E(()=>{var I;return((I=t.overview)==null?void 0:I.warnings)||[]}),i=E(()=>{const I=l.value,V=Number.isFinite(t.messageLimit)?Number(t.messageLimit):1/0;return!Number.isFinite(V)||V<=0?I:I.slice(0,V)}),c=E(()=>({background:t.cardBg||void 0})),f=E(()=>{var X,Y,he,ee,K;const I=Za(),V={noticeAbove:((X=t.thresholds)==null?void 0:X.noticeAbove)??I.thresholds.noticeAbove,noticeBelow:((Y=t.thresholds)==null?void 0:Y.noticeBelow)??I.thresholds.noticeBelow,warnAbove:((he=t.thresholds)==null?void 0:he.warnAbove)??I.thresholds.warnAbove,warnBelow:((ee=t.thresholds)==null?void 0:ee.warnBelow)??I.thresholds.warnBelow,warnIndex:((K=t.thresholds)==null?void 0:K.warnIndex)??I.thresholds.warnIndex};return{basis:t.indexBasis||I.index.basis,...V}}),p=E(()=>{const I=t.showTrend===!1||!s.value,V=t.showMessages===!1||i.value.length===0,X=t.showConfig===!1;return I&&V&&X}),b=I=>Number.isFinite(I)?I.toFixed(2):"",m=E(()=>t.trendColor||"#2563EB"),g=E(()=>{const I=(t.labelMode||"period").toString().toLowerCase();return I==="date"||I==="offset"?I:"period"}),u=E(()=>({gridTemplateColumns:`repeat(auto-fit, minmax(${g.value==="date"?108:88}px, 1fr))`}));function v(I,V){const X=I.replace("#",""),Y=parseInt(X.substring(0,2),16),he=parseInt(X.substring(2,4),16),ee=parseInt(X.substring(4,6),16),K=U=>Math.max(0,Math.min(255,Math.round(U*(1-V))));return`rgb(${K(Y)}, ${K(he)}, ${K(ee)})`}const M=I=>{const V=m.value,X=n.value[I],Y=Number((X==null?void 0:X.index)??0),he=Math.min(1,Math.max(0,1-Y)),ee=v(V,he*.6);return{background:ee,boxShadow:I===0?`0 0 0 2px color-mix(in oklab, ${ee}, #ffffff 60%)`:void 0}},$=I=>{if(g.value!=="date")return"";const V=n.value[I],X=((V==null?void 0:V.offset)??0)===0;return(V==null?void 0:V.label)||X&&t.rangeLabel||""},T=I=>!!$(I),C=I=>{var X;if(g.value!=="offset")return"";const V=((X=n.value[I])==null?void 0:X.offset)??I;return V===0?"Current":`-${V}`},S=I=>{var Y;if(g.value!=="date")return"";const V=$(I);return V||((((Y=n.value[I])==null?void 0:Y.offset)??I)===0&&t.rangeLabel?t.rangeLabel:"")};function P(I){const V=new Date(Date.UTC(I.getFullYear(),I.getMonth(),I.getDate())),X=V.getUTCDay()||7;V.setUTCDate(V.getUTCDate()+4-X);const Y=new Date(Date.UTC(V.getUTCFullYear(),0,1));return Math.ceil(((V.getTime()-Y.getTime())/864e5+1)/7)}const w=new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"2-digit"});function _(I,V){const X=new Date(I);return X.setDate(X.getDate()+V),X}function x(I,V){const X=new Date(I);return X.setMonth(X.getMonth()+V),X}function h(I){return new Date(I.getFullYear(),I.getMonth()+1,0)}function D(I){return I?/^-\d+\s*wk$/i.test(I.trim()):!0}function O(I,V){if(!I||!V)return"";const X=w.format(I),Y=w.format(V);return X===Y?X:`${X}${Y}`}function z(I){var U,Q;const V=((U=n.value[I])==null?void 0:U.offset)??I;if(!t.from||!t.to){const N=(Q=n.value[I])==null?void 0:Q.label;return D(N)?"":N||""}const X=(t.rangeMode||"").toLowerCase(),Y=new Date(t.from),he=new Date(t.to);if(Number.isNaN(Y.getTime())||Number.isNaN(he.getTime()))return"";if(X==="month"){const N=x(Y,-V),J=h(N);return O(N,J)}const ee=_(Y,-7*V),K=_(he,-7*V);return O(ee,K)}function re(I){var U;const V=((U=n.value[I])==null?void 0:U.offset)??I,X=(t.rangeMode||"").toLowerCase();if(!t.from)return V===0?"Current":`- ${V} wk`;const Y=X==="month"?x(new Date(t.from),-V):_(new Date(t.from),-7*V);if(Number.isNaN(Y.getTime()))return V===0?"Current":`- ${V} wk`;if(X==="month"){Y.getMonth()+1;const Q=new Date(Y),N=new Date(t.from).getMonth()+1;return`MONTH ${V===0?N:Q.getMonth()+1}`}const he=P(Y),ee=P(new Date(t.from));return`WEEK ${V===0?ee:he}`}return(I,V)=>(y(),k("div",{class:"balance-card",style:Le(c.value)},[d("div",{class:Ee(["header",{compact:p.value}])},[o.value?(y(),k("div",$w,[d("span",Tw,B(a.value),1)])):G("",!0),I.overview?(y(),k("div",{key:1,class:Ee(["index",{centered:p.value}])},[d("div",Mw,B(b(I.overview.index)),1),V[0]||(V[0]=d("div",{class:"index-label"},"Balance index",-1))],2)):G("",!0)],2),I.showTrend&&s.value?(y(),k("div",Dw,[d("div",{class:"trend-line",style:Le(u.value)},[(y(!0),k(ue,null,xe(n.value,(X,Y)=>(y(),k("div",{key:Y,class:Ee(["trend-block",{current:Y===n.value.length-1,"no-range":!T(Y)}]),title:X.label||"",style:Le(M(Y))},[d("div",Lw,[d("span",Ew,B(b(X.index)),1),d("span",Ow,B(g.value==="date"?z(Y)||S(Y):""),1),d("span",Bw,[g.value==="period"?(y(),k(ue,{key:0},[Me(B(re(Y)),1)],64)):g.value==="offset"?(y(),k(ue,{key:1},[Me(B(C(Y)),1)],64)):G("",!0)])])],14,Aw))),128))],4)])):G("",!0),I.showMessages&&i.value.length?(y(),k("div",Nw,[V[1]||(V[1]=d("div",{class:"section-title"},"Messages",-1)),d("ul",null,[(y(!0),k(ue,null,xe(i.value,(X,Y)=>(y(),k("li",{key:Y},B(X),1))),128))])])):G("",!0),I.showConfig?(y(),k("div",Iw,[d("div",null,"Basis: "+B(f.value.basis),1),d("div",null,"Notice : +"+B(f.value.noticeAbove??"")+" / -"+B(f.value.noticeBelow??""),1),d("div",null,"Warn : +"+B(f.value.warnAbove??"")+" / -"+B(f.value.warnBelow??""),1),d("div",null,"Warn index: "+B(f.value.warnIndex??""),1)])):G("",!0),I.overview?G("",!0):(y(),k("div",Pw,"No balance data."))],4))}}),[["__scopeId","data-v-96453698"]])},Symbol.toStringTag,{value:"Module"})),Hw={key:0,class:"mix-header"},Ww={class:"mix-title"},zw={class:"mix-subtitle"},Rw={key:0,class:"mix-badge"},jw={class:"mix-column-label mix-column-label--current"},Uw={key:2,class:"mix-list"},Vw={class:"mix-label"},Kw=["title"],qw={class:"mix-cell__value"},Gw={key:3,class:"hint"},Jw=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"CategoryMixTrendCard",props:{overview:{},rangeMode:{},lookbackWeeks:{},showBadge:{type:Boolean},showHeader:{type:Boolean},colorMode:{},density:{},labelMode:{},squareCells:{type:Boolean},rangeLabel:{},from:{},to:{},title:{},cardBg:{},toneLowColor:{},toneHighColor:{},shareLowColor:{},shareHighColor:{}},setup(e){const t=e,a=E(()=>t.showHeader!==!1),o=E(()=>t.density==="dense"?"dense":"normal"),r=E(()=>{const F=(t.labelMode||"period").toString().toLowerCase();return F==="offset"||F==="label"||F==="compact"||F==="date"?F:"period"}),n=E(()=>t.squareCells===!0),s=E(()=>{const F=t.colorMode;return F==="trend"||F==="share"||F==="hybrid"?F:"hybrid"}),l=E(()=>{var F,H;return t.showBadge===!1?"":((H=(F=t.overview)==null?void 0:F.trend)==null?void 0:H.badge)??""}),i=E(()=>t.rangeMode==="month"?"MO":"WE"),c=E(()=>t.rangeMode==="month"?"M":"W"),f=E(()=>ee()),p=E(()=>Math.max(1,Math.min(4,t.lookbackWeeks||1))),b=E(()=>t.title||"Category mix trend"),m=E(()=>({background:t.cardBg||void 0})),g=E(()=>{var H,R,ae;const F=((R=(H=t.overview)==null?void 0:H.trend)==null?void 0:R.history)??((ae=t.overview)==null?void 0:ae.trendHistory)??[];return Array.isArray(F)?F.map(ye=>({offset:Number((ye==null?void 0:ye.offset)??(ye==null?void 0:ye.step)??0)||0,label:String((ye==null?void 0:ye.label)??""),categories:Array.isArray(ye==null?void 0:ye.categories)?ye.categories.map(L=>({id:String((L==null?void 0:L.id)??""),label:String((L==null?void 0:L.label)??""),share:Number((L==null?void 0:L.share)??0)||0})):[]})).filter(ye=>ye.offset>0):[]}),u=F=>`-${F} ${i.value}`,v=(F,H)=>r.value==="label"&&H?H:r.value==="date"?Y(F,H)||u(F):r.value==="offset"?`-${F}`:r.value==="compact"?`${c.value}-${F}`:he(F),M=E(()=>{if(!t.overview)return[];const F=p.value,H=new Map;return g.value.forEach(R=>{const ae=Math.max(1,Math.min(12,Math.round(R.offset)));if(!ae||ae>F)return;const ye={};R.categories.forEach(L=>{L.id&&(ye[L.id]=Number.isFinite(L.share)?L.share:0)}),H.set(ae,{offset:ae,label:v(ae,R.label),shares:ye})}),Array.from(H.values()).sort((R,ae)=>ae.offset-R.offset)}),$=E(()=>M.value.length+1),T=E(()=>({gridTemplateColumns:`minmax(0, var(--mix-label-width, 52px)) repeat(${Math.max($.value,1)}, minmax(0, 1fr))`})),C=E(()=>({gridTemplateColumns:`repeat(${Math.max($.value,1)}, minmax(0, 1fr))`})),S=E(()=>{const F=K(t.toneLowColor)||"#e11d48",H=K(t.toneHighColor)||"#10b981",R=U(F,H,.5);return{down:J(F),flat:J(R),up:J(H)}}),P=E(()=>{const F=K(t.shareLowColor)||"#e2e8f0",H=K(t.shareHighColor)||"#60a5fa";return{low:F,high:H}}),w=F=>{const H=de(F,0,100)/100;return U(P.value.low,P.value.high,H)},_=F=>F>1?"up":F<-1?"down":"flat",x=E(()=>t.overview?(t.overview.categories??[]).map(H=>{const R=M.value.map(W=>({label:W.label,share:W.shares[H.id]??0,isCurrent:!1})),ae=typeof H.share=="number"?H.share:0,ye=[...R,{label:f.value,share:ae,isCurrent:!0}],L=ye.map((W,q)=>{const ie=q===0?W.share:ye[q-1].share,oe=W.share-ie,ce=q===0?"flat":_(oe),ve=s.value,ge=S.value[ce],fe=w(W.share),le=J(fe),we=ve==="trend"?ge.background:fe,me=ve==="trend"?ge.color:le.color;return{label:W.label,share:W.share,isCurrent:!!W.isCurrent,trend:ce,style:{"--mix-bg":we,"--mix-fg":me,"--mix-accent":ge.background}}});return{id:H.id,label:H.label,cells:L}}):[]),h=E(()=>{var H;const F=p.value;if(F>1){const R=t.rangeMode==="month"?"months":"weeks";return`History  last ${F} ${R}`}return F===1&&M.value.length?((H=M.value[M.value.length-1])==null?void 0:H.label)||u(1):u(F||1)}),D=F=>`${Math.max(0,Math.round(F))}%`,O=new Intl.DateTimeFormat(void 0,{day:"2-digit",month:"2-digit"});function z(F,H){const R=new Date(F);return R.setDate(R.getDate()+H),R}function re(F,H){const R=new Date(F);return R.setMonth(R.getMonth()+H),R}function I(F){return new Date(F.getFullYear(),F.getMonth()+1,0)}function V(F){const H=new Date(Date.UTC(F.getFullYear(),F.getMonth(),F.getDate())),R=H.getUTCDay()||7;H.setUTCDate(H.getUTCDate()+4-R);const ae=new Date(Date.UTC(H.getUTCFullYear(),0,1));return Math.ceil(((H.getTime()-ae.getTime())/864e5+1)/7)}function X(F,H){if(!F||!H)return"";const R=O.format(F),ae=O.format(H);return R===ae?R:`${R}${ae}`}function Y(F,H){if(!t.from||!t.to)return H||"";const R=(t.rangeMode||"").toLowerCase(),ae=new Date(t.from),ye=new Date(t.to);if(Number.isNaN(ae.getTime())||Number.isNaN(ye.getTime()))return H||"";if(R==="month"){const q=re(ae,-F),ie=I(q);return X(q,ie)}const L=z(ae,-7*F),W=z(ye,-7*F);return X(L,W)}function he(F){const H=(t.rangeMode||"").toLowerCase();if(!t.from)return F===0?"Current":H==="month"?`-${F} mo`:`-${F} wk`;const R=H==="month"?re(new Date(t.from),-F):z(new Date(t.from),-7*F);if(Number.isNaN(R.getTime()))return F===0?"Current":H==="month"?`-${F} mo`:`-${F} wk`;if(H==="month"){const L=new Date(t.from).getMonth()+1;return`MONTH ${F===0?L:R.getMonth()+1}`}const ae=V(new Date(t.from));return`WEEK ${F===0?ae:V(R)}`}function ee(){return r.value==="offset"?"Current":r.value==="compact"?"CUR":r.value==="label"?t.rangeLabel||(t.rangeMode==="month"?"This month":"This week"):r.value==="date"?Y(0,t.rangeLabel||"")||(t.rangeMode==="month"?"This month":"This week"):he(0)}function K(F){if(!F||typeof F!="string")return null;const H=F.trim();return/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(H)?H:null}function U(F,H,R=.5){const ae=Q(F),ye=Q(H);if(!ae||!ye)return F;const L=de(Math.round(ae.r+(ye.r-ae.r)*R),0,255),W=de(Math.round(ae.g+(ye.g-ae.g)*R),0,255),q=de(Math.round(ae.b+(ye.b-ae.b)*R),0,255);return`#${[L,W,q].map(ie=>ie.toString(16).padStart(2,"0")).join("")}`}function Q(F){const H=F.replace("#","");if(H.length===3){const[R,ae,ye]=H.split("").map(L=>parseInt(L.repeat(2),16));return{r:R,g:ae,b:ye}}if(H.length===6){const R=parseInt(H.slice(0,2),16),ae=parseInt(H.slice(2,4),16),ye=parseInt(H.slice(4,6),16);return{r:R,g:ae,b:ye}}return null}function N(F){const H=Q(F);return H?(.2126*H.r+.7152*H.g+.0722*H.b)/255:0}function J(F){const H=N(F)>.6?"#0f172a":"#fff";return{background:F,color:H}}function de(F,H,R){return Math.min(R,Math.max(H,F))}return(F,H)=>(y(),k("div",{class:Ee(["card mix-card",{"mix-card--no-header":!a.value,"mix-card--dense":o.value==="dense","mix-card--square":n.value}]),style:Le(m.value)},[a.value?(y(),k("div",Hw,[d("div",null,[d("div",Ww,B(b.value),1),d("div",zw,B(h.value),1)]),l.value?(y(),k("span",Rw,B(l.value),1)):G("",!0)])):G("",!0),M.value.length||x.value.length?(y(),k("div",{key:1,class:"mix-columns",style:Le(T.value)},[H[0]||(H[0]=d("span",{class:"mix-column-label mix-column-label--label"},"CAT",-1)),(y(!0),k(ue,null,xe(M.value,R=>(y(),k("span",{key:`col-${R.offset}`,class:"mix-column-label"},B(R.label),1))),128)),d("span",jw,B(f.value),1)],4)):G("",!0),x.value.length?(y(),k("ul",Uw,[(y(!0),k(ue,null,xe(x.value,R=>(y(),k("li",{key:R.id,class:"mix-row"},[d("span",Vw,B(R.label)+":",1),d("div",{class:"mix-cells",style:Le(C.value)},[(y(!0),k(ue,null,xe(R.cells,(ae,ye)=>(y(),k("div",{key:`${R.id}-cell-${ye}`,class:Ee(["mix-cell",[`mix-cell--trend-${ae.trend}`,`mix-cell--mode-${s.value}`,{"mix-cell--current":ae.isCurrent}]]),style:Le(ae.style),title:`${R.label}  ${ae.label}  ${D(ae.share)}`},[d("span",qw,B(D(ae.share)),1)],14,Kw))),128))],4)]))),128))])):(y(),k("div",Gw,"No category mix history."))],6))}}),[["__scopeId","data-v-9b471bde"]])},Symbol.toStringTag,{value:"Module"}));function Ir(e){if(!e)return null;const t=window.devicePixelRatio||1,a=e.getBoundingClientRect();if(a.width<2||a.height<2)return null;const o=Math.floor(a.width*t),r=Math.floor(a.height*t);e.width!==o&&(e.width=o),e.height!==r&&(e.height=r);const n=e.getContext("2d");return n?(n.setTransform(t,0,0,t,0,0),n):null}function _c(e){const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e||"");return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Yw(e){const a=Math.pow((c=>c<0?0:c>1?1:c)(e),.6),o=_c("#e0f2fe"),r=_c("#7c3aed");if(!o||!r)return"#7c3aed";const n=(c,f,p)=>Math.round(c+(f-c)*p),s=n(o.r,r.r,a),l=n(o.g,r.g,a),i=n(o.b,r.b,a);return`rgb(${s}, ${l}, ${i})`}const xc=Te({__name:"SimpleBars",props:{data:{},showLabels:{type:Boolean}},setup(e){const t=e,a=te(null);function o(n){const s=Math.max(0,Number(n)||0);return(Math.round(s*10)/10).toFixed(1)}function r(){const n=a.value;if(!n||!t.data)return;const s=Ir(n);if(!s)return;const l=n.clientWidth,i=n.clientHeight,c=28,f=c*1.4,p=i-c,b=l-c,m=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",g=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";s.clearRect(0,0,l,i),s.strokeStyle=m,s.lineWidth=1,s.beginPath(),s.moveTo(f,p),s.lineTo(b,p),s.moveTo(f,p),s.lineTo(f,c),s.stroke();const u=(t.data.labels||[]).map(P=>String(P??"")),v=(t.data.data||[]).map(P=>Math.max(0,Number(P)||0));if(!u.length||!v.length)return;const M=Math.max(1,...v),$=u.length,T=8,C=Math.max(6,(b-f-T*($+1))/$),S=(p-c)/M;s.fillStyle="#93c5fd",u.forEach((P,w)=>{const _=v[w]??0,x=Math.max(0,_*S),h=f+T+w*(C+T),D=p-x;if(s.fillRect(h,D,C,x),s.fillStyle=g,s.font="12px ui-sans-serif,system-ui",C>26){const O=s.measureText(P).width;s.fillText(P,h+C/2-O/2,p+14)}if(t.showLabels!==!1&&x>14&&C>22&&_>.01){const O=`${o(_)}h`,z=s.measureText(O).width;s.fillText(O,h+C/2-z/2,D+x/2+4)}})}return Mt(()=>{r(),window.addEventListener("resize",r)}),Oe(()=>t.data,()=>r(),{deep:!0}),Oe(()=>t.showLabels,()=>r()),(n,s)=>(y(),k("canvas",{ref_key:"cv",ref:a,class:"chart"},null,512))}}),Zw={key:0,class:"chart-widget__header"},Xw={class:"chart-widget__title"},Qw={key:0,class:"chart-widget__subtitle"},ek={key:2,class:"chart-widget__empty"},tk=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"ChartDowWidget",props:{title:{},subtitle:{},cardBg:{},showHeader:{type:Boolean},showLabels:{type:Boolean},chartData:{}},setup(e){const t=e,a=E(()=>t.showHeader!==!1),o=E(()=>t.title||"Day of week"),r=E(()=>({background:t.cardBg||void 0}));return(n,s)=>(y(),k("div",{class:"card chart-widget",style:Le(r.value)},[a.value?(y(),k("div",Zw,[d("div",Xw,B(o.value),1),n.subtitle?(y(),k("div",Qw,B(n.subtitle),1)):G("",!0)])):G("",!0),n.chartData?(y(),Xe(xc,{key:1,data:n.chartData,"show-labels":n.showLabels},null,8,["data","show-labels"])):(y(),k("div",ek,"No data"))],4))}}),[["__scopeId","data-v-debbf435"]])},Symbol.toStringTag,{value:"Module"})),ak=Te({__name:"HeatmapCanvas",props:{hod:{}},setup(e){const t=e,a=te(null);let o=null;function r(){var S;const n=a.value,s=t.hod;if(!n)return;if(!s){console.info("[opsdash] heatmap: no data provided");return}const l=Ir(n);if(!l)return;const i=n.clientWidth,c=n.clientHeight,f=s.dows||[],p=s.hours||[],b=s.matrix||[];l.clearRect(0,0,i,c);const m=36,g=m,u=m,v=i-m,M=c-m,$=(v-g)/Math.max(1,p.length),T=(M-u)/Math.max(1,f.length),C=Math.max(0,...b.flat())||1;f.length&&p.length&&console.info("[opsdash] heatmap draw",{rows:f.length,cols:p.length,vmax:C});for(let P=0;P<f.length;P++)for(let w=0;w<p.length;w++){const x=(((S=b[P])==null?void 0:S[w])||0)/C,h=g+w*$,D=u+P*T;l.fillStyle=Yw(x),l.fillRect(h,D,$-1,T-1)}l.fillStyle=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a",l.font="12px ui-sans-serif,system-ui",f.forEach((P,w)=>l.fillText(P,8,u+w*T+12)),p.forEach((P,w)=>{w%2===0&&l.fillText(String(P),g+w*$+2,u-6)})}return Mt(async()=>{await ra(),r();try{o=new ResizeObserver(()=>r()),a.value&&o.observe(a.value)}catch{}window.addEventListener("resize",r)}),Ot(()=>{try{window.removeEventListener("resize",r)}catch{}try{o&&a.value&&o.unobserve(a.value)}catch{}o=null}),Oe(()=>t.hod,()=>r(),{deep:!0}),(n,s)=>(y(),k("canvas",{ref_key:"cv",ref:a,class:"chart"},null,512))}}),ok={key:0,class:"chart-widget__header"},rk={class:"chart-widget__title"},nk={key:0,class:"chart-widget__subtitle"},sk={key:2,class:"chart-widget__empty"},lk={key:3,class:"chart-widget__hint"},ik=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"ChartHodWidget",props:{title:{},subtitle:{},cardBg:{},showHeader:{type:Boolean},showHint:{type:Boolean},hodData:{}},setup(e){const t=e,a=E(()=>t.showHeader!==!1),o=E(()=>t.title||"Hours of day"),r=E(()=>({background:t.cardBg||void 0}));return(n,s)=>(y(),k("div",{class:"card chart-widget",style:Le(r.value)},[a.value?(y(),k("div",ok,[d("div",rk,B(o.value),1),n.subtitle?(y(),k("div",nk,B(n.subtitle),1)):G("",!0)])):G("",!0),n.hodData?(y(),Xe(ak,{key:1,hod:n.hodData},null,8,["hod"])):(y(),k("div",sk,"No data")),n.showHint&&n.hodData?(y(),k("div",lk,"247 Heatmap: hours by weekday and hour.")):G("",!0)],4))}}),[["__scopeId","data-v-1c648f65"]])},Symbol.toStringTag,{value:"Module"})),ck={key:0,class:"chart-widget__header"},dk={class:"chart-widget__title"},uk={key:0,class:"chart-widget__subtitle"},fk={key:2,class:"chart-widget__empty"},gk=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"ChartPerDayWidget",props:{title:{},subtitle:{},cardBg:{},showHeader:{type:Boolean},showLabels:{type:Boolean},chartData:{}},setup(e){const t=e,a=E(()=>t.showHeader!==!1),o=E(()=>t.title||"Per-day totals"),r=E(()=>({background:t.cardBg||void 0}));return(n,s)=>(y(),k("div",{class:"card chart-widget",style:Le(r.value)},[a.value?(y(),k("div",ck,[d("div",dk,B(o.value),1),n.subtitle?(y(),k("div",uk,B(n.subtitle),1)):G("",!0)])):G("",!0),n.chartData?(y(),Xe(xc,{key:1,data:n.chartData,"show-labels":n.showLabels},null,8,["data","show-labels"])):(y(),k("div",fk,"No data"))],4))}}),[["__scopeId","data-v-af12c79b"]])},Symbol.toStringTag,{value:"Module"})),pk=Te({__name:"PieChart",props:{data:{},colorsById:{},colorsByName:{},showLabels:{type:Boolean}},setup(e){const t=e,a=te(null);function o(){const r=t.data,n=a.value;if(!n||!r)return;const s=Ir(n);if(!s)return;const l=n.clientWidth,i=n.clientHeight,c=l/2,f=i/2,p=Math.min(l,i)*.35,b=r.data||[],m=r.labels||[],g=r.ids||[],u=r.colors||[],v=[];for(let _=0;_<b.length;_++)(Number(b[_])||0)>0&&v.push(_);if(s.clearRect(0,0,l,i),v.length===0)return;const M=v.map(_=>Number(b[_])||0),$=v.map(_=>String(m[_]||"")),T=v.map(_=>String(g[_]||"")),C=v.map(_=>u[_]),S=M.reduce((_,x)=>_+Math.max(0,x),0)||1;let P=-Math.PI/2;s.lineWidth=1,s.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb";const w=["#60a5fa","#f59e0b","#ef4444","#10b981","#a78bfa","#fb7185","#22d3ee","#f97316"];M.forEach((_,x)=>{var Y,he;const h=Math.max(0,_)/S,D=P+h*2*Math.PI,O=String(($==null?void 0:$[x])||""),z=String((T==null?void 0:T[x])||""),re=C[x],I=(Y=t.colorsById)==null?void 0:Y[z],V=(he=t.colorsByName)==null?void 0:he[O];let X=I||V||re||w[x%w.length];if(s.beginPath(),s.moveTo(c,f),s.arc(c,f,p,P,D),s.closePath(),s.fillStyle=X,s.fill(),s.stroke(),t.showLabels!==!1){const ee=(P+D)/2,K=c+Math.cos(ee)*(p+12),U=f+Math.sin(ee)*(p+12);s.save(),s.font="12px ui-sans-serif,system-ui",s.fillStyle="#ffffff",s.strokeStyle="rgba(0,0,0,0.55)",s.lineWidth=3,s.textAlign="center",s.textBaseline="middle";const Q=Math.max(0,Number(_)||0)/S*100,N=`${$!=null&&$[x]?$[x]+" ":""}${Number(_).toFixed(2)}h  ${Q.toFixed(1)}%`;s.strokeText(N,K,U),s.fillText(N,K,U),s.restore()}P=D})}return Mt(()=>{o(),window.addEventListener("resize",o)}),Oe(()=>t.data,()=>o(),{deep:!0}),Oe(()=>t.colorsById,()=>o(),{deep:!0}),Oe(()=>t.showLabels,()=>o()),(r,n)=>(y(),k("canvas",{ref_key:"cv",ref:a,class:"chart"},null,512))}}),hk={key:0,class:"chart-widget__header"},vk={class:"chart-widget__title"},mk={key:0,class:"chart-widget__subtitle"},bk={key:2,class:"chart-widget__empty"},yk={key:3,class:"chart-widget__legend"},wk={class:"val"},kk=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"ChartPieWidget",props:{title:{},subtitle:{},cardBg:{},showHeader:{type:Boolean},compact:{type:Boolean},showLegend:{type:Boolean},showLabels:{type:Boolean},chartData:{},colorsById:{},colorsByName:{}},setup(e){const t=e,a=E(()=>t.showHeader!==!1),o=E(()=>t.title||"Pie chart"),r=E(()=>({background:t.cardBg||void 0})),n=E(()=>t.colorsById||{}),s=E(()=>t.colorsByName||{}),l=E(()=>{const i=t.chartData;if(!i||!Array.isArray(i.data))return[];const c=i.data.reduce((f,p)=>f+Math.max(0,Number(p)||0),0)||1;return i.data.map((f,p)=>{var M,$,T;const b=Math.max(0,Number(f)||0),m=String(((M=i.labels)==null?void 0:M[p])??""),g=String((($=i.ids)==null?void 0:$[p])??m??p),u=((T=i.colors)==null?void 0:T[p])||n.value[g]||s.value[m]||"#60a5fa",v=b/c*100;return{id:g,label:m,color:u,value:`${b.toFixed(1)}h  ${v.toFixed(0)}%`}})});return(i,c)=>(y(),k("div",{class:"card chart-widget",style:Le(r.value)},[a.value?(y(),k("div",hk,[d("div",vk,B(o.value),1),i.subtitle?(y(),k("div",mk,B(i.subtitle),1)):G("",!0)])):G("",!0),i.chartData?(y(),Xe(pk,{key:1,data:i.chartData,"colors-by-id":n.value,"colors-by-name":s.value,"show-labels":i.showLabels},null,8,["data","colors-by-id","colors-by-name","show-labels"])):(y(),k("div",bk,"No data")),i.showLegend&&l.value.length?(y(),k("ul",yk,[(y(!0),k(ue,null,xe(l.value,f=>(y(),k("li",{key:f.id},[d("span",{class:"dot",style:Le({background:f.color})},null,4),d("span",null,B(f.label),1),d("span",wk,B(f.value),1)]))),128))])):G("",!0)],4))}}),[["__scopeId","data-v-b9796562"]])},Symbol.toStringTag,{value:"Module"})),_k=Te({__name:"StackedBars",props:{stacked:{},colorsById:{},showLabels:{type:Boolean}},setup(e){const t=e,a=te(null);function o(u,v,M,$,T){u.save(),T!=null&&T.font&&(u.font=T.font),T!=null&&T.align&&(u.textAlign=T.align),T!=null&&T.baseline&&(u.textBaseline=T.baseline),u.lineWidth=3,u.strokeStyle="rgba(0,0,0,0.55)",u.strokeText(v,M,$),u.fillStyle="#ffffff",u.fillText(v,M,$),u.restore()}function r(u){const v=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(u||"");return v?{r:parseInt(v[1],16),g:parseInt(v[2],16),b:parseInt(v[3],16)}:null}function n(u,v){const M=r(u);return M&&(.2126*M.r+.7152*M.g+.0722*M.b)/255<.55?"#ffffff":v}function s(u){const v=Math.max(0,Number(u)||0);return(Math.round(v*10)/10).toFixed(1)}function l(u,v=.5){const M=r(u);if(!M)return u;const $=Math.max(0,Math.min(1,v)),T=Math.round(M.r+(255-M.r)*$),C=Math.round(M.g+(255-M.g)*$),S=Math.round(M.b+(255-M.b)*$);return`rgb(${T},${C},${S})`}function i(u,v=.5){const M=r(u);if(!M)return u;const $=Math.max(0,Math.min(1,v)),T=Math.round(M.r*(1-$)),C=Math.round(M.g*(1-$)),S=Math.round(M.b*(1-$));return`rgb(${T},${C},${S})`}function c(u,v){const{x:M,y:$,width:T,height:C,baseColor:S,variant:P}=v,w=P==="mixed",_=Math.min(T*(w?.35:.22),6),x=Math.max(2,w?T*.45:T-_*2),h=w?M+T-x-_:M+(T-x)/2,D=l(S,w?.6:.45),O=i(S,w?.4:.35);u.save(),u.fillStyle=D,u.globalAlpha=w?.12:.16,u.fillRect(h,$,x,C),u.restore(),u.save(),u.strokeStyle=O,u.lineWidth=w?1.25:1.5,u.globalAlpha=w?.6:.75,u.setLineDash([4,4]),u.strokeRect(h,$,x,C),u.restore(),u.save(),u.strokeStyle=O,u.globalAlpha=w?.35:.45,u.lineWidth=1,u.beginPath(),u.moveTo(h,$),u.lineTo(h+x,$),u.stroke(),u.restore()}function f(){const u=a.value;if(!u)return;const v=Ir(u);if(!v)return;const M=u.clientWidth,$=u.clientHeight,T=28,C=T*1.4,S=$-T,P=M-T,w=getComputedStyle(document.documentElement).getPropertyValue("--line").trim()||"#e5e7eb",_=getComputedStyle(document.documentElement).getPropertyValue("--fg").trim()||"#0f172a";v.clearRect(0,0,M,$),v.strokeStyle=w,v.lineWidth=1,v.beginPath(),v.moveTo(C,S),v.lineTo(P,S),v.moveTo(C,S),v.lineTo(C,T),v.stroke();const x=t.stacked;if(x&&x.labels&&x.series){let h=x.labels||[],D=x.series||[];const O=p(h,D);h=O.labels,D=O.series;const z=h.map((N,J)=>D.reduce((de,F)=>{var H;return de+Math.max(0,Number(((H=F.data)==null?void 0:H[J])||0))},0)),re=h.map((N,J)=>D.reduce((de,F)=>{var H;return de+Math.max(0,Number(((H=F.forecast)==null?void 0:H[J])||0))},0)),I=z.map((N,J)=>N+re[J]),V=Math.max(1,...I),X=h.length||1,Y=8,he=Math.max(6,(P-C-Y*(X+1))/X),ee=(S-T)/V;let K=0,U=0;h.forEach((N,J)=>{const de=C+Y+J*(he+Y);let F=S,H=0;D.forEach(q=>{var ve;const ie=Math.max(0,Number(((ve=q.data)==null?void 0:ve[J])||0)),oe=ie*ee;F-=oe;const ce=t.colorsById[q.id]||q.color||"#93c5fd";if(oe>.5&&(v.fillStyle=ce,v.fillRect(de,F,he,oe),t.showLabels!==!1&&oe>14&&he>22&&ie>.01)){const ge=s(ie);v.fillStyle=n(ce,_),v.font="11px ui-sans-serif,system-ui";const fe=v.measureText(ge).width;v.fillText(ge,de+he/2-fe/2,F+oe/2+4)}H+=ie});let ae=F,ye=0;D.forEach(q=>{var ve;const ie=Math.max(0,Number(((ve=q.forecast)==null?void 0:ve[J])||0));if(ie<=0)return;const oe=ie*ee;if(ae-=oe,ye+=ie,oe<=.5)return;const ce=t.colorsById[q.id]||q.color||"#93c5fd";c(v,{x:de,y:ae,width:he,height:oe,baseColor:ce,variant:H>.01?"mixed":"future"})}),K+=H,U+=ye,v.fillStyle=_,v.font="12px ui-sans-serif,system-ui";const L=b(String(h[J]||""));if(he>26){const q=v.measureText(L).width;v.fillText(L,de+he/2-q/2,S+14)}const W=ye>.01?`~${s(H+ye)}h`:H>.01?`${s(H)}h`:"";t.showLabels!==!1&&W&&o(v,W,de+he/2,Math.max(T+4,ae-2),{align:"center",baseline:"bottom",font:"11px ui-sans-serif,system-ui"})});const Q=U>.01?`~${s(K+U)}h expected`:`${s(K)}h total`;t.showLabels!==!1&&o(v,Q,P-4,T+4,{align:"right",baseline:"top",font:"12px ui-sans-serif,system-ui"});return}}Mt(()=>{f(),window.addEventListener("resize",f)}),Oe(()=>t.stacked,()=>f(),{deep:!0}),Oe(()=>t.colorsById,()=>f(),{deep:!0}),Oe(()=>t.showLabels,()=>f());function p(u,v){if(!Array.isArray(u)||u.length!==7)return{labels:u,series:v};const M=u.map(_=>m(_));if(M.some(_=>!_))return{labels:u,series:v};const $=M.map(_=>g(_)),T=[1,2,3,4,5,6,7];if($.join(",")===T.join(","))return{labels:u,series:v};const C={};if($.forEach((_,x)=>{C[_]=x}),!T.every(_=>_ in C))return{labels:u,series:v};const S=T.map(_=>C[_]),P=S.map(_=>u[_]),w=(v||[]).map(_=>{const x=Array.isArray(_.data)?_.data:[],h=Array.isArray(_.forecast)?_.forecast:null,D=S.map(re=>x[re]??0),O=h?S.map(re=>h[re]??0):void 0,z={..._,data:D};return O&&(z.forecast=O),z});return{labels:P,series:w}}function b(u){const v=/^(\d{4})-(\d{2})-(\d{2})$/.exec(u);if(!v)return u;const M=new Date(`${v[1]}-${v[2]}-${v[3]}T00:00:00`);return["So","Mo","Di","Mi","Do","Fr","Sa"][M.getDay()]||u}function m(u){const v=/^(\d{4})-(\d{2})-(\d{2})$/.exec(u);if(!v)return null;const M=new Date(`${v[1]}-${v[2]}-${v[3]}T00:00:00`);return isNaN(M.getTime())?null:M}function g(u){const v=u.getDay();return v===0?7:v}return(u,v)=>(y(),k("canvas",{ref_key:"cv",ref:a,class:"chart"},null,512))}}),xk={key:0,class:"chart-widget__header"},Ck={class:"chart-widget__title"},Sk={key:0,class:"chart-widget__subtitle"},$k={key:2,class:"chart-widget__empty"},Tk={key:3,class:"chart-widget__legend"},Mk=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"ChartStackedWidget",props:{title:{},subtitle:{},cardBg:{},showHeader:{type:Boolean},compact:{type:Boolean},showLegend:{type:Boolean},showLabels:{type:Boolean},stacked:{},colorsById:{}},setup(e){const t=e,a=E(()=>t.showHeader!==!1),o=E(()=>t.title||"Stacked bars"),r=E(()=>({background:t.cardBg||void 0})),n=E(()=>t.colorsById||{}),s=E(()=>{var i;return(((i=t.stacked)==null?void 0:i.series)||[]).map(c=>{const f=String((c==null?void 0:c.id)??""),p=String((c==null?void 0:c.name)??(c==null?void 0:c.label)??f),b=(c==null?void 0:c.color)||n.value[f]||"#60a5fa";return{id:f,label:p,color:b}})});return(l,i)=>(y(),k("div",{class:"card chart-widget",style:Le(r.value)},[a.value?(y(),k("div",xk,[d("div",Ck,B(o.value),1),l.subtitle?(y(),k("div",Sk,B(l.subtitle),1)):G("",!0)])):G("",!0),l.stacked?(y(),Xe(_k,{key:1,stacked:l.stacked,"colors-by-id":n.value,"show-labels":l.showLabels},null,8,["stacked","colors-by-id","show-labels"])):(y(),k("div",$k,"No data")),l.showLegend&&s.value.length?(y(),k("ul",Tk,[(y(!0),k(ue,null,xe(s.value,c=>(y(),k("li",{key:c.id},[d("span",{class:"dot",style:Le({background:c.color})},null,4),d("span",null,B(c.label),1)]))),128))])):G("",!0)],4))}}),[["__scopeId","data-v-93cdb211"]])},Symbol.toStringTag,{value:"Module"})),Dk={class:"group-row"},Ak={colspan:"5"},Lk={class:"group-header"},Ek={class:"group-label"},Ok={class:"name"},Bk={key:0,class:"group-meta"},Nk={class:"summary"},Ik={key:0,class:"summary-percent"},Pk={key:1,class:"group-meta"},Fk={class:"summary"},Hk={key:0},Wk=["title"],zk={class:"row-name"},Rk={key:0,class:"progress"},jk={class:"progress-chip"},Uk={class:"num"},Vk={class:"num"},Kk={class:"num"},qk={class:"num"},Gk={key:0,class:"hint"},Jk={key:0,class:"empty-row"},Yk=We(Te({__name:"ByCalendarTable",props:{rows:{},n2:{type:Function},targets:{},groups:{},todayHours:{}},setup(e){const t=e,a=E(()=>Array.isArray(t.groups)&&t.groups.length?t.groups.map(C=>({id:C.id,label:C.label,summary:C.summary??null,color:C.color,rows:(C.rows||[]).map(o)})):[{id:"__all__",label:"Calendars",summary:null,color:void 0,rows:(t.rows||[]).map(o)}]);function o(C){const S=r(C);return{...C,calendarId:S}}function r(C){return C?C.calendarId?String(C.calendarId):C.id?String(C.id):C.calendar_id?String(C.calendar_id):C.calendar?String(C.calendar):"":""}function n(C){return String(C.calendar||C.displayname||C.name||C.calendarId||"")}function s(C){return r(C)||n(C)}function l(C){const S=v(C);if(!S)return!1;const P=t.targets||{},w=Number(P[S]);return isFinite(w)&&w>0}function i(C){const S=v(C);if(!S)return 0;const P=t.targets||{},w=Number(P[S]);return isFinite(w)?w:0}function c(C){const S=i(C);return S>0?(Math.round(S*100)/100).toFixed(2):""}function f(C,S){return C-S>=0?"delta pos":"delta neg"}function p(C,S){const P=C-S,w=Math.abs(Math.round(P*100)/100).toFixed(2);return(P>=0?"+":"-")+w+"h"}function b(C,S){return Math.max(0,Math.min(100,S>0?C/S*100:0)).toFixed(0)+"%"}function m(C,S){return Math.max(0,Math.min(100,S>0?C/S*100:0))}function g(C){const S=v(C);if(!S)return 0;const P=t.todayHours||{},w=Number(P[S]??0);return Number.isFinite(w)?Math.max(0,w):0}function u(C){const S=i(r(C)),P=g(r(C));if(S<=0||P<=1e-4)return null;const w=Math.max(2,Math.min(120,P/S*100)),_=m(C.total_hours,S),x=Math.max(0,_-w);return{pct:w,left:x,text:P.toFixed(2)+"h"}}function v(C){return C==null?"":String(C)}function M(C){const S=C.summary;if(!S)return`${C.rows.length} calendar${C.rows.length===1?"":"s"}`;const P=t.n2(S.actualHours);return S.targetHours>0?`${P} h / ${t.n2(S.targetHours)} h`:`${P} h`}function $(C){const S=C.summary;return!S||S.targetHours<=0?"":`${Math.round(S.percent)}%`}function T(C){switch(C){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}return(C,S)=>(y(),k("table",null,[S[1]||(S[1]=d("colgroup",null,[d("col",{class:"col-w-42"}),d("col",{class:"col-w-12"}),d("col",{class:"col-w-14"}),d("col",{class:"col-w-14"}),d("col",{class:"col-w-18"})],-1)),S[2]||(S[2]=d("thead",null,[d("tr",null,[d("th",{class:"nowrap"},"Calendar"),d("th",{class:"num"},"Events"),d("th",{class:"num"},"Hours"),d("th",{class:"num"},"Target"),d("th",{class:"num"}," / %")])],-1)),d("tbody",null,[(y(!0),k(ue,null,xe(a.value,P=>(y(),k(ue,{key:P.id},[d("tr",Dk,[d("td",Ak,[d("div",Lk,[d("div",Ek,[d("span",{class:"dot",style:Le({background:P.color||"var(--brand)"})},null,4),d("span",Ok,B(P.label),1)]),P.summary?(y(),k("div",Bk,[d("span",Nk,B(M(P)),1),$(P)?(y(),k("span",Ik,B($(P)),1)):G("",!0),P.summary.statusLabel?(y(),k("span",{key:1,class:Ee(["badge",T(P.summary.status)])},B(P.summary.statusLabel),3)):G("",!0)])):(y(),k("div",Pk,[d("span",Fk,[Me(B(P.rows.length)+" calendar",1),P.rows.length!==1?(y(),k("span",Hk,"s")):G("",!0)])]))])])]),(y(!0),k(ue,null,xe(P.rows,w=>(y(),k("tr",{key:s(w)},[d("td",null,[d("div",{class:"cell",title:n(w)},[d("div",zk,B(n(w)),1),l(r(w))&&i(r(w))>0?(y(),k("div",Rk,[d("div",{class:"progress-bar",style:Le({width:m(w.total_hours,i(r(w)))+"%",background:P.color||void 0})},null,4),u(w)?(y(),k("div",{key:0,class:"progress-today",style:Le({left:u(w).left+"%",width:u(w).pct+"%",background:P.color||"var(--brand)"})},[d("span",jk,B(u(w).text),1)],4)):G("",!0)])):G("",!0)],8,Wk)]),d("td",Uk,B(w.events_count),1),d("td",Vk,B(C.n2(w.total_hours)),1),d("td",Kk,B(c(r(w))),1),d("td",qk,[l(r(w))?(y(),k(ue,{key:0},[d("span",{class:Ee(f(w.total_hours,i(r(w))))},B(p(w.total_hours,i(r(w)))),3),i(r(w))>0?(y(),k("span",Gk," ("+B(b(w.total_hours,i(r(w))))+")",1)):G("",!0)],64)):(y(),k(ue,{key:1},[Me("")],64))])]))),128)),P.rows.length?G("",!0):(y(),k("tr",Jk,[...S[0]||(S[0]=[d("td",{colspan:"5",class:"empty"},"No calendars assigned",-1)])]))],64))),128))])]))}}),[["__scopeId","data-v-2efa83d5"]]),Zk={key:0,class:"table-widget__header"},Xk={class:"table-widget__title"},Qk={key:0,class:"table-widget__subtitle"},e_={key:2,class:"table-widget__empty"},t_=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"CalendarTableWidget",props:{title:{},subtitle:{},cardBg:{},showHeader:{type:Boolean},rows:{},targets:{},groups:{},todayHours:{}},setup(e){const t=e,a=E(()=>t.showHeader!==!1),o=E(()=>t.title||"By calendar"),r=E(()=>({background:t.cardBg||void 0})),n=s=>Number(s??0).toFixed(2);return(s,l)=>(y(),k("div",{class:"card table-widget",style:Le(r.value)},[a.value?(y(),k("div",Zk,[d("div",Xk,B(o.value),1),s.subtitle?(y(),k("div",Qk,B(s.subtitle),1)):G("",!0)])):G("",!0),s.rows&&s.rows.length?(y(),Xe(Yk,{key:1,rows:s.rows,n2:n,targets:s.targets,groups:s.groups,"today-hours":s.todayHours},null,8,["rows","targets","groups","today-hours"])):(y(),k("div",e_,"No data"))],4))}}),[["__scopeId","data-v-e75cc444"]])},Symbol.toStringTag,{value:"Module"})),a_={key:0,class:"dayoff-card__header"},o_={key:0,class:"pill"},r_={key:1,class:"dayoff-heatmap"},n_=["title"],s_={class:"dayoff-tile__label"},l_={class:"dayoff-tile__value"},i_={class:"dayoff-tile__meta"},c_={key:2,class:"hint"},d_=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"DayOffTrendCard",props:{trend:{},unit:{},lookback:{},title:{},cardBg:{},toneLowColor:{},toneHighColor:{},showHeader:{type:Boolean}},setup(e){const t=e,a=E(()=>{const T=typeof t.lookback=="number"?t.lookback:null;if(T!=null)return Math.max(0,Math.min(12,Math.floor(T)));const C=(t.trend??[]).filter(S=>Number((S==null?void 0:S.offset)??0)>0);return Math.max(0,Math.min(12,C.length))}),o=E(()=>{const T=Array.isArray(t.trend)?t.trend:[],C=new Map;T.forEach(h=>{const D=Number((h==null?void 0:h.offset)??0)||0;C.set(D,{offset:D,label:(h==null?void 0:h.label)??"",from:(h==null?void 0:h.from)??"",to:(h==null?void 0:h.to)??"",totalDays:Number((h==null?void 0:h.totalDays)??(h==null?void 0:h.total_days)??0)||0,daysOff:Number((h==null?void 0:h.daysOff)??(h==null?void 0:h.days_off)??0)||0,daysWorked:Number((h==null?void 0:h.daysWorked)??(h==null?void 0:h.days_worked)??0)||0})});const S=t.unit==="mo"?"mo":"wk",P=t.unit==="mo"?"This month":"This week",w=[],_=C.get(0)??{offset:0,label:P,from:"",to:"",totalDays:0,daysOff:0,daysWorked:0};w.push(_);const x=a.value;for(let h=1;h<=x;h+=1){const D=C.get(h)??{offset:h,label:`-${h} ${S}`,from:"",to:"",totalDays:0,daysOff:0,daysWorked:0};w.push(D)}return w}),r=E(()=>o.value.map(T=>{const C=Math.max(0,Number(T.totalDays)||0),S=Math.max(0,Math.min(C,Number(T.daysOff)||0)),P=C>0?S/C:0;return{...T,share:P,tone:b(P)}})),n=E(()=>{const T=a.value;if(T<=0)return"";const C=t.unit==="mo"?"month":"week";return`Last ${T} ${T===1?C:`${C}s`}`}),s=E(()=>t.title||"Days off trend"),l=E(()=>({background:t.cardBg||void 0})),i=E(()=>t.showHeader!==!1),c=E(()=>{const T=m(t.toneLowColor)||"#dc2626",C=m(t.toneHighColor)||"#16a34a",S=g(T,C,.5);return{low:M(T),mid:M(S),high:M(C)}});function f(T){const C=Math.max(0,Math.min(1,T));return`${Math.round(C*100)}% off`}function p(T){const C=c.value[T];return{"--tile-bg":C.background,"--tile-fg":C.color,background:C.background,color:C.color}}function b(T){return T>=.5?"high":T>=.25?"mid":"low"}function m(T){if(!T||typeof T!="string")return null;const C=T.trim();return/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(C)?C:null}function g(T,C,S=.5){const P=u(T),w=u(C);if(!P||!w)return T;const _=$(Math.round(P.r+(w.r-P.r)*S),0,255),x=$(Math.round(P.g+(w.g-P.g)*S),0,255),h=$(Math.round(P.b+(w.b-P.b)*S),0,255);return`rgb(${_}, ${x}, ${h})`}function u(T){const C=T.replace("#","");if(C.length===3){const[S,P,w]=C.split("").map(_=>parseInt(_.repeat(2),16));return{r:S,g:P,b:w}}if(C.length===6){const S=parseInt(C.slice(0,2),16),P=parseInt(C.slice(2,4),16),w=parseInt(C.slice(4,6),16);return{r:S,g:P,b:w}}return null}function v(T){const C=u(T);return C?(.2126*C.r+.7152*C.g+.0722*C.b)/255:0}function M(T){const C=v(T)>.6?"#0f172a":"#fff";return{background:T,color:C}}function $(T,C,S){return Math.min(S,Math.max(C,T))}return(T,C)=>(y(),k("div",{class:"card dayoff-card",style:Le(l.value)},[i.value?(y(),k("div",a_,[d("span",null,B(s.value),1),n.value?(y(),k("span",o_,B(n.value),1)):G("",!0)])):G("",!0),r.value.length?(y(),k("div",r_,[(y(!0),k(ue,null,xe(r.value,S=>(y(),k("div",{key:S.offset,class:Ee(["dayoff-tile",[`dayoff-tile--${S.tone}`,{"dayoff-tile--current":S.offset===0}]]),style:Le(p(S.tone)),title:`${S.label}  ${f(S.share)}`},[d("div",s_,B(S.label),1),d("div",l_,B(f(S.share)),1),d("div",i_,B(S.daysOff)+" off  "+B(S.daysWorked)+" on ",1)],14,n_))),128))])):(y(),k("div",c_,"No day-off history for this range."))],4))}}),[["__scopeId","data-v-5119adef"]])},Symbol.toStringTag,{value:"Module"})),u_={key:0,class:"deck-summary-card__header"},f_={class:"deck-summary-card__title"},g_={class:"deck-summary-card__subtitle"},p_={class:"deck-summary-card__meta"},h_={key:0},v_={key:1},m_={key:1,class:"deck-summary-card__loading"},b_={key:2,class:"deck-summary-card__error"},y_={key:3,class:"deck-summary-card__empty"},w_=["onClick","onKeydown"],k_={class:"deck-summary-card__row-head"},__={class:"bucket-label"},x_={class:"bucket-count"},C_={class:"deck-summary-card__row-body"},S_={class:"bucket-titles"},$_={key:0,class:"bucket-title bucket-title--muted"},T_=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"DeckSummaryCard",props:{buckets:{},rangeLabel:{},loading:{type:Boolean},error:{},ticker:{},showBoardBadges:{type:Boolean},activeFilter:{},onFilter:{type:Function},title:{},cardBg:{},showHeader:{type:Boolean}},setup(e){const t=e,a=te(0),o=te(!1);let r=null;const n=E(()=>t.buckets.some($=>$.count>0)),s=E(()=>t.title||"Deck summary"),l=E(()=>({background:t.cardBg||void 0})),i=E(()=>t.showHeader!==!1),c=E(()=>t.activeFilter),f=E(()=>typeof t.onFilter=="function");function p($){if(!$.titles.length)return[];const T=t.ticker.autoScroll?a.value%$.titles.length:0,C=Math.min(4,$.titles.length),S=[];for(let P=0;P<C;P+=1){const w=(T+P)%$.titles.length;S.push($.titles[w])}return S}function b(){r&&(clearInterval(r),r=null)}function m(){if(b(),!t.ticker.autoScroll)return;const $=Math.max(3e3,Math.min(1e4,(t.ticker.intervalSeconds||5)*1e3));r=setInterval(()=>{o.value||(a.value+=1)},$)}function g(){o.value=!0}function u(){o.value=!1}function v($){t.onFilter&&t.onFilter($)}function M($){const T=$||"var(--brand)";return{borderColor:T,color:T,background:`color-mix(in srgb, ${T} 18%, transparent)`}}return Oe(()=>[t.ticker.autoScroll,t.ticker.intervalSeconds],()=>{m()},{immediate:!0}),Ot(()=>{b()}),($,T)=>(y(),k("div",{class:"card deck-summary-card",style:Le(l.value)},[i.value?(y(),k("div",u_,[d("div",null,[d("div",f_,B(s.value),1),d("div",g_,"Showing "+B($.rangeLabel.toLowerCase())+" selection",1)]),d("div",p_,[$.ticker.autoScroll?(y(),k("span",h_,"Auto-scroll  "+B($.ticker.intervalSeconds)+"s",1)):(y(),k("span",v_,"Auto-scroll off"))])])):G("",!0),$.loading?(y(),k("div",m_,[$e(A(Ln),{size:18}),T[0]||(T[0]=d("span",null,"Loading Deck cards",-1))])):$.error?(y(),k("div",b_,B($.error),1)):n.value?(y(),k("ul",{key:4,class:"deck-summary-card__rows",onMouseenter:g,onMouseleave:u},[(y(!0),k(ue,null,xe($.buckets,C=>(y(),k("li",{key:C.key,class:Ee(["deck-summary-card__row",{"deck-summary-card__row--active":C.key===c.value,"deck-summary-card__row--clickable":f.value}]),role:"button",tabindex:"0",onClick:S=>v(C.key),onKeydown:[wa(et(S=>v(C.key),["prevent"]),["enter"]),wa(et(S=>v(C.key),["prevent"]),["space"])]},[d("div",k_,[d("span",__,B(C.label),1),d("span",x_,B(C.count),1)]),d("div",C_,[$.showBoardBadges&&C.board?(y(),k("span",{key:0,class:"bucket-board",style:Le(M(C.board.color))},B(C.board.title),5)):G("",!0),d("div",S_,[C.titles.length===0?(y(),k("span",$_,"No cards")):(y(!0),k(ue,{key:1},xe(p(C),(S,P)=>(y(),k("span",{key:`${C.key}-${P}-${S}`,class:"bucket-title"},B(S),1))),128))])])],42,w_))),128))],32)):(y(),k("div",y_," No Deck data "))],4))}}),[["__scopeId","data-v-7d6316aa"]])},Symbol.toStringTag,{value:"Module"})),M_={key:0,class:"deck-panel__header"},D_={class:"deck-panel__heading"},A_={class:"deck-panel__title"},L_={key:0,class:"deck-panel__subtitle"},E_={key:1,class:"deck-panel__subtitle"},O_={class:"deck-panel__actions"},B_={key:0,class:"deck-panel__count"},N_=["href"],I_=["disabled"],P_={key:1,class:"deck-panel__filters",role:"group","aria-label":"Deck card filters"},F_=["aria-pressed","disabled","draggable","onClick","onDragstart","onDragover","onDrop"],H_={key:0,class:"deck-filter-count"},W_={key:0,class:"deck-panel__loading"},z_={key:0,class:"deck-panel__error"},R_=["data-idx"],j_={class:"deck-card__status-row"},U_={key:0,class:"deck-card__time"},V_={key:1,class:"deck-card__time"},K_={class:"deck-card__title"},q_={class:"deck-card__meta"},G_={class:"deck-card__stack"},J_={key:0,class:"deck-card__labels"},Y_={key:1,class:"deck-card__assignees"},Z_=We(Te({__name:"DeckCardsPanel",props:{cards:{},loading:{type:Boolean},rangeLabel:{},lastFetchedAt:{},deckUrl:{},error:{},filter:{},canFilterMine:{type:Boolean},filtersEnabled:{type:Boolean},filterOptions:{},orderableValues:{},editable:{type:Boolean},allowMineOverride:{type:Boolean},autoScroll:{type:Boolean},intervalSeconds:{},showCount:{type:Boolean},title:{},cardBg:{},showHeader:{type:Boolean}},emits:["refresh","update:filter","reorder:filters"],setup(e,{emit:t}){const a=e,o=t,r=E(()=>a.filter??"all"),n=E(()=>a.title||"Deck cards"),s=E(()=>({background:a.cardBg||void 0})),l=E(()=>a.showHeader!==!1),i=E(()=>a.filtersEnabled!==!1&&f.value.length>1),c=E(()=>i.value&&a.canFilterMine!==!1&&a.allowMineOverride!==!1),f=E(()=>a.filterOptions&&a.filterOptions.length?a.filterOptions.map(z=>({...z,mine:!!z.mine})):[{value:"all",label:"All cards",mine:!1},{value:"open_all",label:"Open  All",mine:!1},{value:"open_mine",label:"Open  Mine",mine:!0},{value:"done_all",label:"Done  All",mine:!1},{value:"done_mine",label:"Done  Mine",mine:!0},{value:"archived_all",label:"Archived  All",mine:!1},{value:"archived_mine",label:"Archived  Mine",mine:!0},{value:"due_all",label:"Due  All",mine:!1},{value:"due_mine",label:"Due  Mine",mine:!0},{value:"due_today_all",label:"Due today  All",mine:!1},{value:"due_today_mine",label:"Due today  Mine",mine:!0}]),p=E(()=>a.orderableValues&&a.orderableValues.length?a.orderableValues:f.value.map(z=>z.value).filter(z=>!String(z).startsWith("custom_"))),b=te(null),m=te(null),g=te(null),u=te(null),v=te(0),M=E(()=>{const z=Math.max(3,Math.min(10,Number(a.intervalSeconds??5)))*1e3;return Number.isFinite(z)?z:5e3});Oe(()=>a.autoScroll,()=>{P(),w()}),Oe(()=>a.cards,()=>{v.value=0,P(),w()},{deep:!0}),Mt(()=>{w()}),Ot(()=>{P()});function $(z,re){!a.editable||!p.value.includes(z)||(b.value=z,re.dataTransfer&&(re.dataTransfer.effectAllowed="move",re.dataTransfer.setData("text/plain",String(z))))}function T(z){!a.editable||!b.value||p.value.includes(z)}function C(z){if(!a.editable||!b.value||!p.value.includes(z))return;const re=p.value.slice(),I=re.indexOf(b.value),V=re.indexOf(z);if(I<0||V<0||I===V){b.value=null;return}if(re.splice(I,1),re.splice(V,0,b.value),b.value=null,re.length){const X=f.value.map(he=>he.value).filter(he=>String(he).startsWith("custom_")),Y=[...re,...X];a.orderableValues&&a.orderableValues.length?o("reorder:filters",re):o("reorder:filters",Y)}}function S(){b.value=null}function P(){u.value&&(clearInterval(u.value),u.value=null)}function w(){!a.autoScroll||(a.cards||[]).length<=1||(P(),u.value=window.setInterval(()=>{const z=(a.cards||[]).length;v.value=(v.value+1)%z,_(v.value)},M.value))}function _(z){if(!m.value||!g.value)return;const re=g.value.querySelector(`[data-idx="${z}"]`);if(!re)return;const I=re.offsetTop-g.value.offsetTop;m.value.scrollTo({top:I,behavior:"smooth"})}const x=new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}),h=E(()=>{if(!a.lastFetchedAt)return"";try{return x.format(new Date(a.lastFetchedAt))}catch{return""}});function D(z){try{return x.format(new Date(z))}catch{return z}}function O(z){return z==="done"?"Done":z==="archived"?"Archived":"Active"}return(z,re)=>(y(),k("div",{class:"deck-panel",style:Le(s.value)},[l.value?(y(),k("div",M_,[d("div",D_,[d("div",A_,B(n.value),1),h.value?(y(),k("div",L_," Updated "+B(h.value),1)):(y(),k("div",E_," Showing "+B(z.rangeLabel.toLowerCase())+" selection ",1))]),d("div",O_,[z.showCount?(y(),k("div",B_,B(z.cards.length)+" cards",1)):G("",!0),z.deckUrl?(y(),k("a",{key:1,class:"deck-panel__link",href:z.deckUrl,target:"_blank",rel:"noopener"}," Open Deck  ",8,N_)):G("",!0),d("button",{type:"button",class:"deck-panel__refresh",onClick:re[0]||(re[0]=I=>z.$emit("refresh")),disabled:z.loading}," Refresh ",8,I_)])])):G("",!0),i.value?(y(),k("div",P_,[(y(!0),k(ue,null,xe(f.value,I=>(y(),k("button",{key:I.value,type:"button",class:Ee(["deck-filter-btn",{active:r.value===I.value,"is-draggable":a.editable&&p.value.includes(I.value)}]),"aria-pressed":r.value===I.value,disabled:I.mine&&!c.value,draggable:a.editable&&p.value.includes(I.value),onClick:V=>z.$emit("update:filter",I.value),onDragstart:V=>$(I.value,V),onDragover:et(V=>T(I.value),["prevent"]),onDrop:et(V=>C(I.value),["prevent"]),onDragend:S},[d("span",null,B(I.label),1),typeof I.count=="number"?(y(),k("span",H_,B(I.count),1)):G("",!0)],42,F_))),128))])):G("",!0),d("div",{class:"deck-panel__body",ref_key:"bodyEl",ref:m},[z.loading?(y(),k("div",W_,[$e(A(Ln),{size:20}),re[1]||(re[1]=d("span",null,"Loading Deck cards",-1))])):(y(),k(ue,{key:1},[z.error?(y(),k("div",z_,B(z.error),1)):z.cards.length?(y(),k("ul",{key:2,class:"deck-card-list",ref_key:"listEl",ref:g},[(y(!0),k(ue,null,xe(z.cards,(I,V)=>(y(),k("li",{key:I.id,class:"deck-card","data-idx":V},[d("div",j_,[d("span",{class:Ee(["deck-card__status",I.status])},B(O(I.status)),3),I.match==="due"&&I.due?(y(),k("span",U_," Due "+B(D(I.due)),1)):I.done?(y(),k("span",V_," Completed "+B(D(I.done)),1)):G("",!0)]),d("div",K_,B(I.title),1),d("div",q_,[d("span",{class:"deck-card__board",style:Le({borderColor:I.boardColor||"var(--color-primary)"})},B(I.boardTitle),5),d("span",G_,B(I.stackTitle),1)]),I.labels.length?(y(),k("div",J_,[(y(!0),k(ue,null,xe(I.labels,X=>(y(),k("span",{key:`deck-label-${I.id}-${X.id??X.title}`,class:"deck-card__label",style:Le({background:X.color||"var(--color-background-darker)"})},B(X.title),5))),128))])):G("",!0),I.assignees.length?(y(),k("div",Y_,[re[2]||(re[2]=d("span",{class:"deck-card__assignees-label"},"Assigned:",-1)),(y(!0),k(ue,null,xe(I.assignees,X=>(y(),k("span",{key:`deck-assignee-${I.id}-${X.uid??X.id}`,class:"deck-card__assignee"},B(X.displayName||X.uid),1))),128))])):G("",!0)],8,R_))),128))],512)):(y(),Xe(A(Lf),{key:1,name:"No Deck cards",description:`No cards matched this ${z.rangeLabel.toLowerCase()}. Confirm Deck due dates or rerun seeding.`},null,8,["description"]))],64))],512)],4))}}),[["__scopeId","data-v-f53d016f"]]),X_=Object.freeze(Object.defineProperty({__proto__:null,default:Te({__name:"DeckCardsWidget",props:{cards:{},rangeLabel:{},from:{},to:{},uid:{},deckUrl:{},lastFetchedAt:{},loading:{type:Boolean},error:{},boardIds:{},filters:{},defaultFilter:{},allowMine:{type:Boolean},mineMode:{},includeArchived:{type:Boolean},includeCompleted:{type:Boolean},autoScroll:{type:Boolean},intervalSeconds:{},showCount:{type:Boolean},showHeader:{type:Boolean},title:{},cardBg:{},customFilters:{},editable:{type:Boolean},onUpdateFilters:{type:Function}},emits:["refresh"],setup(e){const t=e,a=["all","open_all","open_mine","done_all","done_mine","archived_all","archived_mine","due_all","due_mine","due_today_all","due_today_mine","created_today_all","created_today_mine"],o=E(()=>{const w=(t.boardIds||[]).map(_=>Number(_)).filter(_=>Number.isInteger(_));return new Set(w)}),r=E(()=>{const w=t.includeArchived!==!1,x=(t.cards||[]).filter(O=>o.value.size?O.boardId!=null&&o.value.has(Number(O.boardId)):!0).filter(O=>(w||O.status!=="archived")&&(t.includeCompleted!==!1||O.status!=="done")),h=[...t.filters&&t.filters.length?t.filters:a,...(t.customFilters||[]).map(O=>`custom_${O.id}`)],D=new Map;return h.forEach(O=>{D.set(O,S(O,x,w).length)}),D}),n=te(null),s=E(()=>n.value?n.value:(t.filters&&t.filters.length?t.filters:a).filter(Boolean)),l=E(()=>{const w=s.value,_={all:"All cards",mine:"Mine (any status)",open_all:"Open  All",open_mine:"Open  Mine",done_all:"Done  All",done_mine:"Done  Mine",archived_all:"Archived  All",archived_mine:"Archived  Mine",due_all:"Due  All",due_mine:"Due  Mine",due_today_all:"Due today  All",due_today_mine:"Due today  Mine",created_today_all:"Created today  All",created_today_mine:"Created today  Mine",created_range_all:"Created this range  All",created_range_mine:"Created this range  Mine"},x=r.value,h=w.map(O=>({value:O,label:_[O]||O,mine:O.endsWith("_mine")||O==="mine",count:x.get(O)??0})),D=(t.customFilters||[]).filter(O=>O&&O.id&&O.label).map(O=>({value:`custom_${O.id}`,label:O.label,mine:!1,count:x.get(`custom_${O.id}`)??0}));return[...h,...D]}),i=te(b());Oe(()=>t.defaultFilter,()=>{i.value=b()});const c=E(()=>l.value.length>1),f=E(()=>t.allowMine!==!1&&!!(t.uid||"").trim()),p=E(()=>{const w=t.includeArchived!==!1||i.value.startsWith("archived"),x=(t.cards||[]).filter(h=>o.value.size?h.boardId!=null&&o.value.has(Number(h.boardId)):!0).filter(h=>(w||h.status!=="archived")&&(t.includeCompleted!==!1||h.status!=="done"));return S(i.value,x,w)});function b(){const w=l.value.map(x=>x.value),_=t.defaultFilter||w[0]||"all";return w.includes(_)?_:w[0]||"all"}function m(w){i.value=w}function g(w){var _;w.length&&(n.value=[...w],(_=t.onUpdateFilters)==null||_.call(t,w),w.includes(i.value)||(i.value=w[0]))}function u(w,_){const x=w.trim().toLowerCase();return h=>{if(!x)return!1;const D=(h.assignees||[]).some(re=>typeof re.uid=="string"&&re.uid.toLowerCase()===x),O=typeof h.createdBy=="string"&&h.createdBy.trim().toLowerCase()===x,z=typeof h.doneBy=="string"&&h.doneBy.trim().toLowerCase()===x;return _==="creator"?O||z:_==="assignee"?D||z:D||O||z}}function v(w,_,x,h){return _==="open"?w.status==="active":_==="archived"?w.status==="archived":_==="done"?h?w.status==="done"?!0:x&&w.status==="archived"&&h:!1:_==="due"?w.match==="due":!1}function M(w){if(!w.createdTs)return!1;const _=new Date,x=new Date(_.getFullYear(),_.getMonth(),_.getDate()).getTime(),h=x+24*60*60*1e3;return w.createdTs>=x&&w.createdTs<h}function $(w,_,x){if(!w.createdTs||!_||!x)return!1;const h=Date.parse(_),D=Date.parse(x);return!Number.isFinite(h)||!Number.isFinite(D)?!1:w.createdTs>=h&&w.createdTs<=D}function T(w,_,x){if(!_||!x)return!1;const h=Date.parse(_),D=Date.parse(x);if(!Number.isFinite(h)||!Number.isFinite(D))return!1;const O=w.dueTs??null;return O!=null&&O>=h&&O<=D}function C(w){const _=w.dueTs??null;if(_==null)return!1;const x=new Date,h=new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime(),D=h+24*60*60*1e3;return _>=h&&_<D}function S(w,_,x){const h=u(t.uid||"",t.mineMode||"assignee"),D=x,O=t.includeCompleted!==!1;if(w==="all")return _;if(w==="mine")return _.filter(z=>h(z));if(w.startsWith("created_today"))return _.filter(z=>(w.endsWith("_mine")?h(z):!0)&&M(z));if(w.startsWith("created_range"))return _.filter(z=>(w.endsWith("_mine")?h(z):!0)&&$(z,t.from,t.to));if(w.startsWith("due_today"))return _.filter(z=>(w.endsWith("_mine")?h(z):!0)&&C(z));if(w.startsWith("due_"))return _.filter(z=>(w.endsWith("_mine")?h(z):!0)&&T(z,t.from,t.to));if(w.startsWith("custom_")){const z=w.slice(7),re=(t.customFilters||[]).find(I=>I.id===z);return re?_.filter(I=>P(I,re,h)):[]}if(w.includes("_")){const[z,re]=w.split("_");return _.filter(I=>{const V=v(I,z,D,O),X=re==="all"?!0:h(I);return V&&X})}return _}function P(w,_,x){const h=(_.labelIds||[]).map(Y=>Y.trim().toLowerCase()).filter(Boolean),D=(_.labels||[]).map(Y=>Y.trim().toLowerCase()).filter(Boolean),O=(_.assignees||[]).map(Y=>Y.trim().toLowerCase()).filter(Boolean),z=h.length>0,re=D.length>0,I=O.length>0;if(!z&&!re&&!I)return!1;let V=!0;if(z||re){const Y=(w.labels||[]).map(ee=>ee.id!=null?String(ee.id).trim().toLowerCase():"").filter(Boolean),he=(w.labels||[]).map(ee=>String(ee.title||"").trim().toLowerCase()).filter(Boolean);V=(!z||h.some(ee=>Y.includes(ee)))&&(!re||D.some(ee=>he.includes(ee)))}let X=!0;if(I){const Y=(w.assignees||[]).map(he=>String(he.uid||"").trim().toLowerCase()).filter(Boolean);X=O.some(he=>Y.includes(he)),!X&&O.includes("me")&&(X=x(w)),!X&&O.includes("unassigned")&&(X=Y.length===0)}return V&&X}return(w,_)=>(y(),Xe(Z_,{cards:p.value,loading:w.loading,"range-label":w.rangeLabel,"last-fetched-at":w.lastFetchedAt,"deck-url":w.deckUrl,error:w.error,filter:i.value,"filters-enabled":c.value,"can-filter-mine":f.value,"allow-mine-override":f.value,"filter-options":l.value,"auto-scroll":t.autoScroll!==!1,"interval-seconds":t.intervalSeconds,"show-count":t.showCount!==!1,title:t.title,"card-bg":t.cardBg,"show-header":t.showHeader!==!1,editable:t.editable===!0,"orderable-values":s.value,onRefresh:_[0]||(_[0]=x=>w.$emit("refresh")),"onUpdate:filter":m,"onReorder:filters":g},null,8,["cards","loading","range-label","last-fetched-at","deck-url","error","filter","filters-enabled","can-filter-mine","allow-mine-override","filter-options","auto-scroll","interval-seconds","show-count","title","card-bg","show-header","editable","orderable-values"]))}})},Symbol.toStringTag,{value:"Module"})),Q_={class:"note-header"},ex={key:0,class:"title"},tx=["disabled"],ax={class:"field"},ox={class:"field-head"},rx={class:"label"},nx=["aria-label"],sx=["value"],lx=["value"],ix={class:"field"},cx={class:"label"},dx=["value","disabled"],ux=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"NoteEditorWidget",props:{previous:{},history:{},modelValue:{},prevLabel:{},currLabel:{},saving:{type:Boolean},title:{},cardBg:{},showHeader:{type:Boolean}},emits:["update:modelValue","save"],setup(e,{emit:t}){const a=e,o=t,r=E(()=>a.title||"Notes"),n=E(()=>a.showHeader!==!1),s=a.prevLabel||"Previous",l=a.currLabel||"Current",i={background:a.cardBg||void 0},c=E(()=>(a.history||[]).filter(u=>u&&u.id&&u.label)),f=te("");Oe(()=>c.value,u=>{var v;f.value=((v=u[0])==null?void 0:v.id)||""},{immediate:!0});const p=E(()=>c.value.find(u=>u.id===f.value)||null),b=E(()=>{var u;return((u=p.value)==null?void 0:u.content)||a.previous||""});function m(u){o("update:modelValue",u.target.value)}function g(){o("save")}return(u,v)=>(y(),k("div",{class:"note-card",style:i},[d("div",Q_,[n.value?(y(),k("div",ex,B(r.value),1)):G("",!0),d("button",{class:"btn",type:"button",disabled:u.saving,onClick:g},"Save",8,tx)]),d("div",ax,[d("div",ox,[d("span",rx,B(A(s)),1),c.value.length?vo((y(),k("select",{key:0,"onUpdate:modelValue":v[0]||(v[0]=M=>f.value=M),class:"note-select","aria-label":`Select ${A(s)}`},[(y(!0),k(ue,null,xe(c.value,M=>(y(),k("option",{key:M.id,value:M.id},B(M.label),9,sx))),128))],8,nx)),[[An,f.value]]):G("",!0)]),d("textarea",{class:"note note--compact",value:b.value,readonly:""},null,8,lx)]),d("label",ix,[d("span",cx,B(A(l)),1),d("textarea",{class:"note",value:u.modelValue,disabled:u.saving,onInput:m},null,40,dx)])]))}}),[["__scopeId","data-v-5e293970"]])},Symbol.toStringTag,{value:"Module"})),fx={key:0},gx={key:1,class:"body"},px={key:2,class:"body empty"},hx=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"NoteSnippetWidget",props:{notesCurr:{},notesPrev:{},title:{},cardBg:{},showHeader:{type:Boolean}},setup(e){const t=e,a=E(()=>{const s=(t.notesCurr||"").trim();return s||(t.notesPrev||"").trim()||""}),o=E(()=>t.title||"Note"),r=E(()=>({background:t.cardBg||void 0})),n=E(()=>t.showHeader!==!1);return(s,l)=>(y(),k("div",{class:"text-card",style:Le(r.value)},[n.value?(y(),k("h3",fx,B(o.value),1)):G("",!0),a.value?(y(),k("p",gx,B(a.value),1)):(y(),k("p",px,""))],4))}}),[["__scopeId","data-v-01eb6d28"]])},Symbol.toStringTag,{value:"Module"})),vx={key:0,class:"notes-header"},mx={class:"notes-history"},bx={class:"notes-history__head"},yx=["title"],wx=["aria-label"],kx=["value"],_x=["value","aria-label"],xx=["title"],Cx=["value","placeholder","aria-label"],Sx={class:"notes-actions"},$x=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"NotesPanel",props:{previous:{},history:{},modelValue:{},prevLabel:{},currLabel:{},prevTitle:{},currTitle:{},saving:{type:Boolean},title:{},cardBg:{},showHeader:{type:Boolean}},emits:["update:modelValue","save"],setup(e){const t=e,a=E(()=>({background:t.cardBg||void 0})),o=E(()=>t.title||"Notes"),r=E(()=>t.showHeader!==!1),n=E(()=>(t.history||[]).filter(c=>c&&c.id&&c.label)),s=te("");Oe(()=>n.value,c=>{var f;s.value=((f=c[0])==null?void 0:f.id)||""},{immediate:!0});const l=E(()=>n.value.find(c=>c.id===s.value)||null),i=E(()=>{var c;return((c=l.value)==null?void 0:c.content)||t.previous||""});return(c,f)=>(y(),k("div",{class:"notes-section",style:Le(a.value)},[r.value?(y(),k("div",vx,B(o.value),1)):G("",!0),d("div",mx,[d("div",bx,[d("div",{class:"hint",title:c.prevTitle},B(c.prevLabel),9,yx),n.value.length?vo((y(),k("select",{key:0,"onUpdate:modelValue":f[0]||(f[0]=p=>s.value=p),class:"notes-select","aria-label":A(Wt)("Select previous notes")},[(y(!0),k(ue,null,xe(n.value,p=>(y(),k("option",{key:p.id,value:p.id},B(p.label),9,kx))),128))],8,wx)),[[An,s.value]]):G("",!0)]),d("textarea",{value:i.value,readonly:"",rows:"3",class:"notes-textarea notes-textarea--compact","aria-label":A(Wt)("Previous notes")},null,8,_x)]),d("div",{class:"hint",title:c.currTitle},B(c.currLabel),9,xx),d("textarea",{value:c.modelValue,onInput:f[1]||(f[1]=p=>c.$emit("update:modelValue",p.target.value)),rows:"5",class:"notes-textarea notes-textarea--editable",placeholder:A(Wt)("Write your notes"),"aria-label":A(Wt)("Current notes")},null,40,Cx),d("div",Sx,[$e(A(rt),{type:"tertiary",disabled:c.saving,onClick:f[2]||(f[2]=p=>c.$emit("save"))},{default:Ve(()=>[Me(B(A(Wt)("Save")),1)]),_:1},8,["disabled"])])],4))}}),[["__scopeId","data-v-91e76a62"]])},Symbol.toStringTag,{value:"Module"})),Tx={key:0,class:"targets-header"},Mx={key:0,class:"hint"},Dx={class:"targets-main"},Ax={class:"line total-line"},Lx={class:"value"},Ex={key:0,class:"line"},Ox={key:1,class:"line"},Bx={key:2,class:"line forecast"},Nx={class:"hint"},Ix={key:1,class:"targets-badges"},Px={key:2,class:"targets-categories"},Fx={class:"cat-top"},Hx={class:"cat-label"},Wx={class:"name"},zx={class:"cat-meta"},Rx={class:"percent"},jx={class:"cat-progress"},Ux={class:"bar"},Vx={class:"today-label"},Kx={class:"cat-metrics"},qx={class:"hint"},Gx={key:1,class:"hint"},Jx={key:0,class:"cat-footer"},Yx={class:"hint"},Cc=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"TimeTargetsCard",props:{summary:{},config:{},groups:{},showPace:{type:Boolean,default:!0},showForecast:{type:Boolean,default:!0},showHeader:{type:Boolean},title:{default:"Targets"},cardBg:{default:null}},setup(e){const t=e,a=E(()=>{var g;return((g=t.summary)==null?void 0:g.total)??f("total","Total")}),o=E(()=>t.showHeader!==!1),r=E(()=>{var u;return Array.isArray(t.groups)&&t.groups.length?t.groups.map(v=>({id:v.id,label:v.label,summary:v.summary??f(v.id,v.label),color:v.color,rows:v.rows})):(((u=t.summary)==null?void 0:u.categories)??[]).map(v=>({id:v.id,label:v.label,summary:v,color:void 0,rows:[]}))}),n=E(()=>({background:t.cardBg||void 0})),s=E(()=>r.value.map(g=>{const u=g.summary??f(g.id,g.label),v=Number(g.todayHours??0),M=u.targetHours,$=Math.max(0,u.actualHours-M),T=Math.min($,v),C=M>0?v/M*100:0,S=p(u.percent,0,200);return{id:g.id,label:g.label||u.label,actualHours:u.actualHours,targetHours:M,percent:u.percent,deltaHours:u.deltaHours,needPerDay:u.needPerDay,daysLeft:u.daysLeft,calendarPercent:u.calendarPercent,gap:u.gap,status:u.status,statusLabel:u.statusLabel,color:g.color,calendarCount:Array.isArray(g.rows)?g.rows.length:0,progress:S,todayHours:v,overToday:T,todayWidth:M>0?p(C,2,200):0,todayRight:Math.max(0,100-S),chipLeft:Math.min(100,S),chipText:T>0?`Today ${l(v)} (+${l(T)})`:`Today ${l(v)}`,todayColor:g.color?m(g.color,.65):"var(--brand)",todayBorder:g.color?m(g.color,.35,!0):"var(--brand)",calendarLabel:Array.isArray(g.rows)&&g.rows.length===1?"calendar":"calendars"}}).filter(g=>g.targetHours>0||g.actualHours>0||g.calendarCount>0));function l(g){if(!isFinite(g))return"0";const u=Math.round(g*10)/10;return Math.abs(u-Math.round(u))<.05?String(Math.round(u)):u.toFixed(1)}function i(g){return!isFinite(g)||Math.abs(g)<.005?"0.0":(g>=0?"+":"")+l(Math.abs(g))}function c(g){switch(g){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function f(g,u){return{id:g,label:u,actualHours:0,targetHours:0,percent:0,deltaHours:0,remainingHours:0,needPerDay:0,daysLeft:0,calendarPercent:0,gap:0,status:"none",statusLabel:"",includeWeekend:!0,paceMode:"days_only"}}function p(g,u,v){return!isFinite(g)||g<u?u:g>v?v:g}function b(g){return g==="momentum"?"Momentum":"Linear"}function m(g,u=.5,v=!1){const M=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(g||"");if(!M)return g;const $=parseInt(M[1],16),T=parseInt(M[2],16),C=parseInt(M[3],16),S=Math.max(0,Math.min(1,u));return v?`rgb(${Math.round($*(1-S))},${Math.round(T*(1-S))},${Math.round(C*(1-S))})`:`rgb(${Math.round($+(255-$)*S)},${Math.round(T+(255-T)*S)},${Math.round(C+(255-C)*S)})`}return(g,u)=>(y(),k("div",{class:"card targets-card",style:Le(n.value)},[o.value?(y(),k("div",Tx,[d("strong",null,B(g.title||"Targets"),1),a.value.targetHours>0?(y(),k("span",Mx,B(a.value.percent.toFixed(0))+"%",1)):G("",!0)])):G("",!0),d("div",Dx,[d("div",Ax,[d("span",Lx,[d("strong",null,B(l(a.value.actualHours)),1),Me(" / "+B(l(a.value.targetHours))+" h",1)]),g.config.ui.showTotalDelta&&a.value.targetHours>0?(y(),k("span",{key:0,class:Ee(["delta",a.value.deltaHours>=0?"pos":"neg"])},"  "+B(i(a.value.deltaHours))+"h ",3)):G("",!0)]),g.config.ui.showNeedPerDay&&a.value.targetHours>0?(y(),k("div",Ex," Days left "+B(a.value.daysLeft)+"  Need "+B(l(a.value.needPerDay))+" h/day ",1)):G("",!0),g.showPace&&a.value.targetHours>0?(y(),k("div",Ox,[Me(" Pace: "+B(a.value.percent.toFixed(0))+"% vs "+B(a.value.calendarPercent.toFixed(0))+"%  ",1),d("span",{class:Ee(["status-label",c(a.value.status)])},B(a.value.statusLabel),3)])):G("",!0),g.showForecast?(y(),k("div",Bx,[Me(" Forecast: "+B(g.summary.forecast.text)+" ",1),d("span",Nx," Linear "+B(l(g.summary.forecast.linear))+"h  Momentum "+B(l(g.summary.forecast.momentum))+"h  Primary: "+B(b(g.summary.forecast.primaryMethod)),1)])):G("",!0)]),g.config.ui.badges&&a.value.targetHours>0?(y(),k("div",Ix,[d("span",{class:Ee(["badge",c(a.value.status)])},B(a.value.statusLabel),3)])):G("",!0),g.config.ui.showCategoryBlocks&&s.value.length?(y(),k("div",Px,[(y(!0),k(ue,null,xe(s.value,v=>(y(),k("div",{class:"category",key:v.id},[d("div",Fx,[d("div",Hx,[d("span",{class:"dot",style:Le({background:v.color||"var(--brand)"})},null,4),d("span",Wx,B(v.label),1)]),d("div",zx,[d("span",Rx,B(v.percent.toFixed(0))+"%",1),g.config.ui.badges&&v.targetHours>0?(y(),k("span",{key:0,class:Ee(["badge",c(v.status)])},B(v.statusLabel),3)):G("",!0)])]),d("div",jx,[d("div",Ux,[d("div",{class:"fill",style:Le({width:v.progress+"%",background:v.color||"var(--brand)"})},null,4),v.todayWidth>0?(y(),k("div",{key:0,class:"today-overlay",style:Le({width:v.todayWidth+"%",right:v.todayRight+"%",background:v.todayColor,borderColor:v.todayBorder})},null,4)):G("",!0),v.todayWidth>0?(y(),k("div",{key:1,class:"today-chip",style:Le({left:v.chipLeft+"%",background:v.todayColor,borderColor:v.todayBorder})},[d("span",Vx,B(v.chipText),1)],4)):G("",!0)])]),d("div",Kx,[d("strong",null,B(l(v.actualHours))+"h",1),d("span",qx,"/ "+B(l(v.targetHours))+"h",1),v.targetHours>0?(y(),k("span",{key:0,class:Ee(["delta",v.deltaHours>=0?"pos":"neg"])},"  "+B(i(v.deltaHours))+"h ",3)):G("",!0),g.config.ui.showNeedPerDay&&v.targetHours>0?(y(),k("span",Gx," Need "+B(l(v.needPerDay))+"h/day  "+B(v.daysLeft)+" days left ",1)):G("",!0)]),v.calendarCount>0?(y(),k("div",Jx,[d("span",Yx,B(v.calendarCount)+" "+B(v.calendarLabel),1)])):G("",!0)]))),128))])):G("",!0)],4))}}),[["__scopeId","data-v-9ee23cb0"]])},Symbol.toStringTag,{value:"Module"})),Zx={class:"text-card"},Xx={key:0},Qx={key:1,class:"body"},eC={key:0,class:"label"},tC={key:1,class:"value"},aC=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"TextBlockWidget",props:{title:{},body:{},items:{},showHeader:{type:Boolean}},setup(e){const t=e,a=E(()=>t.title??""),o=E(()=>t.body??""),r=E(()=>t.items??[]),n=E(()=>t.showHeader!==!1);return(s,l)=>(y(),k("div",Zx,[n.value&&a.value?(y(),k("h3",Xx,B(a.value),1)):G("",!0),o.value?(y(),k("p",Qx,B(o.value),1)):G("",!0),r.value.length?(y(!0),k(ue,{key:2},xe(r.value,i=>(y(),k("div",{key:i.key,class:"line"},[i.label?(y(),k("span",eC,B(i.label),1)):G("",!0),i.value?(y(),k("span",tC,B(i.value),1)):G("",!0)]))),128)):G("",!0)]))}}),[["__scopeId","data-v-f5a0bc50"]])},Symbol.toStringTag,{value:"Module"})),oC={key:0,class:"time-summary-firstline"},rC={key:1,class:"today-highlight"},nC={class:"today-value"},sC={key:2,class:"today-cats"},lC={class:"name"},iC={class:"value"},cC={key:3,class:"time-summary-inline"},dC={key:4,class:"time-summary-inline"},uC={key:5,class:"time-summary-inline"},fC={key:6,class:"time-summary-row"},gC={key:7,class:"time-summary-row"},pC={key:0,class:"share"},hC={key:8,class:"time-summary-row calendars"},vC={class:"label"},mC={class:"text"},bC={key:9,class:"time-summary-row top-category"},yC={class:"text"},wC={key:10,class:"time-summary-activity"},kC={class:"time-summary-activity__line"},_C={class:"time-summary-activity__line"},xC={key:0,class:"time-summary-activity__delta"},CC={key:1,class:"time-summary-activity__delta"},SC={class:"time-summary-activity__line"},$C={class:"time-summary-activity__line"},TC={class:"time-summary-activity__line"},MC={key:11,class:"time-summary-delta"},Sc=Object.freeze(Object.defineProperty({__proto__:null,default:We(Te({__name:"TimeSummaryCard",props:{summary:{},activitySummary:{},mode:{},config:{},todayGroups:{},title:{},cardBg:{},rangeMode:{},rangeStart:{},rangeEnd:{},offset:{},showHeader:{type:Boolean}},setup(e){const t={showTotal:!0,showAverage:!0,showMedian:!0,showBusiest:!0,showWorkday:!0,showWeekend:!0,showWeekendShare:!0,showCalendarSummary:!0,showTopCategory:!0,showBalance:!0},a=e,o=E(()=>Object.assign({},t,a.config??{})),r=E(()=>a.mode==="active"?"active days":"all days"),n=E(()=>(a.todayGroups||[]).filter(N=>Number(N.todayHours)>0).map(N=>({...N,todayHours:Number(N.todayHours)||0,color:N.color||"var(--brand)"}))),s=E(()=>{var J;if(n.value.length)return n.value.reduce((de,F)=>de+F.todayHours,0);const N=(J=a.summary)==null?void 0:J.todayHours;return typeof N=="number"&&Number.isFinite(N)?N:null}),l=E(()=>a.title||"Time Summary"),i=E(()=>({background:a.cardBg||void 0})),c=E(()=>a.showHeader!==!1),f=E(()=>{const N=a.summary.rangeLabel||(a.rangeMode==="month"?"Month":"Week"),J=O.value;return J?`${N} (${J})`:N}),p=E(()=>Number.isFinite(a.summary.offset)?a.summary.offset:a.offset??0),b=E(()=>p.value-1),m=E(()=>b.value-p.value),g=E(()=>U(b.value)),u=E(()=>K(m.value)),v=E(()=>p.value===0?"":` (offset ${U(p.value)})`),M=E(()=>{if(!o.value.showWeekendShare)return"";const N=a.summary.weekendShare;return N==null?"":`${re(N)}%`}),$=E(()=>{if(!o.value.showTopCategory)return null;const N=a.summary.topCategory;if(!N)return null;const J=I(N.actualHours),de=Number(N.percent??0).toFixed(0),F=N.targetHours>0?` (${de}% of ${I(N.targetHours)} h)`:"";return{text:`${N.label}  ${J} h${F}`,badge:N.statusLabel||"",badgeClass:X(N.status)}}),T=E(()=>{if(!o.value.showBusiest)return"";const N=a.summary.busiest;if(!N||!N.date)return"";const J=Number(N.hours??0);return`Busiest ${N.date}  ${I(J)} h`}),C=E(()=>{const N=[];return o.value.showAverage&&(N.push(`${I(a.summary.avgDay)} h/day (${r.value})`),N.push(`${I(a.summary.avgEvent)} h/event`)),o.value.showMedian&&N.push(`${I(a.summary.medianDay)} h median/day`),N.filter(Boolean).join("  ")}),S=E(()=>a.activitySummary??null),P=E(()=>{var N;return((N=S.value)==null?void 0:N.lastDayOff)||""}),w=E(()=>{var de,F;const N=V(((de=S.value)==null?void 0:de.typicalStart)??null),J=V(((F=S.value)==null?void 0:F.typicalEnd)??null);return N&&J?`${N}${J}`:N?`${N}`:J?`${J}`:""}),_=E(()=>{var de,F;const N=V(((de=S.value)==null?void 0:de.earliestStart)??null),J=V(((F=S.value)==null?void 0:F.latestEnd)??null);return!N&&!J?"":`${N||""} / ${J||""}`}),x=E(()=>{var J;const N=(J=S.value)==null?void 0:J.longestSession;return N==null?"":`${Number(N).toFixed(1)} h`}),h=E(()=>{var N;return(N=S.value)!=null&&N.delta?Q(S.value.weekendShare,S.value.delta.weekendShare):""}),D=E(()=>{var N;return(N=S.value)!=null&&N.delta?Q(S.value.eveningShare,S.value.delta.eveningShare):""}),O=E(()=>{const N=a.summary.rangeStart||a.rangeStart,J=a.summary.rangeEnd||a.rangeEnd;if(!N||!J)return"";const de=he(N),F=he(J);if(!de||!F)return"";const H=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),R=H.format(de),ae=H.format(F);return R===ae?R:`${R}${ae}`}),z=E(()=>{const N=a.summary.delta;if(!N)return"";const de=a.summary.totalHours-N.totalHours,F=de!==0?N.totalHours/de*100:0,H=u.value,R=N.totalHours>=0?"+":"",ae=`${R}${I(Math.abs(N.totalHours))} h`,ye=`${R}${Math.abs(F).toFixed(1)}%`,L=g.value,W=H?` (${H})`:"";return` vs. offset ${L}${W}: ${ae} / ${ye}`});function re(N){return Number(N??0).toFixed(1)}function I(N){return Number(N??0).toFixed(2)}function V(N){if(!N)return"";const J=new Date(N);return Number.isNaN(J.getTime())?"":J.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function X(N){switch(N){case"on_track":return"status-on";case"at_risk":return"status-risk";case"behind":return"status-behind";case"done":return"status-done";default:return"status-none"}}function Y(N){return N==null?"0.0%":`${Math.max(0,Math.min(100,Number(N))).toFixed(1)}%`}function he(N){const J=N.trim();if(!J)return null;const de=new Date(J.length===10?`${J}T00:00:00`:J);return Number.isNaN(de.getTime())?null:de}function ee(N,J,de){const F=new Date(N);return J==="month"?F.setMonth(F.getMonth()+de):F.setDate(F.getDate()+de*7),F}function K(N){const J=(a.rangeMode||"week").toString().toLowerCase(),de=he(a.summary.rangeStart||a.rangeStart||""),F=he(a.summary.rangeEnd||a.rangeEnd||"");if(!de||!F)return"";const H=ee(de,J,N),R=ee(F,J,N),ae=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),ye=ae.format(H),L=ae.format(R);return ye===L?ye:`${ye}${L}`}function U(N){return N===0?"0":N>0?`+${N}`:`${N}`}function Q(N,J){if(J==null||N==null)return"";const de=N-J;return` vs. offset ${g.value}  ${Y(de)}`}return(N,J)=>(y(),k("div",{class:"card time-summary compact",style:Le(i.value)},[c.value?(y(),k("div",oC,[d("em",null,B(l.value)+"  "+B(f.value),1)])):G("",!0),s.value!==null?(y(),k("div",rC,[J[0]||(J[0]=d("div",{class:"today-label"},"Total today",-1)),d("div",nC,B(I(s.value))+" h",1)])):G("",!0),n.value.length?(y(),k("div",sC,[(y(!0),k(ue,null,xe(n.value,de=>(y(),k("div",{class:"today-cat",key:de.id},[d("span",{class:"dot",style:Le({background:de.color||"var(--brand)"})},null,4),d("span",lC,B(de.label),1),d("span",iC,B(I(de.todayHours))+" h",1)]))),128))])):G("",!0),o.value.showTotal?(y(),k("div",cC,[d("strong",null,B(I(N.summary.totalHours))+" h",1),J[1]||(J[1]=Me(" total ",-1))])):G("",!0),C.value?(y(),k("div",dC,B(C.value),1)):G("",!0),o.value.showBusiest&&T.value?(y(),k("div",uC,B(T.value),1)):G("",!0),o.value.showWorkday?(y(),k("div",fC,[J[2]||(J[2]=d("span",{class:"label"},"Workdays",-1)),Me(" "+B(I(N.summary.workdayAvg))+" h avg  "+B(I(N.summary.workdayMedian))+" h median ",1)])):G("",!0),o.value.showWeekend?(y(),k("div",gC,[J[3]||(J[3]=d("span",{class:"label"},"Weekend",-1)),Me(" "+B(I(N.summary.weekendAvg))+" h avg  "+B(I(N.summary.weekendMedian))+" h median ",1),o.value.showWeekendShare&&M.value?(y(),k("span",pC,"("+B(M.value)+")",1)):G("",!0)])):G("",!0),o.value.showCalendarSummary?(y(),k("div",hC,[d("span",vC,B(N.summary.activeCalendars)+" calendars",1),N.summary.calendarSummary?(y(),k(ue,{key:0},[J[4]||(J[4]=d("span",{class:"sep"},"",-1)),d("span",mC,B(N.summary.calendarSummary),1)],64)):G("",!0)])):G("",!0),o.value.showTopCategory&&$.value?(y(),k("div",bC,[J[5]||(J[5]=d("span",{class:"label"},"Top category",-1)),d("span",yC,B($.value.text),1),$.value.badge?(y(),k("span",{key:0,class:Ee(["summary-badge",$.value.badgeClass])},B($.value.badge),3)):G("",!0)])):G("",!0),S.value?(y(),k("div",wC,[J[6]||(J[6]=d("div",{class:"time-summary-activity__title"},"Activity & Schedule",-1)),d("div",kC," Events "+B(S.value.events)+"  Active Days "+B(S.value.activeDays??0)+"  Typical "+B(w.value)+B(v.value),1),d("div",_C,[Me(" Weekend "+B(Y(S.value.weekendShare))+" ",1),h.value?(y(),k("span",xC,"("+B(h.value)+")",1)):G("",!0),Me("  Evening "+B(Y(S.value.eveningShare))+" ",1),D.value?(y(),k("span",CC,"("+B(D.value)+")",1)):G("",!0)]),d("div",SC," Earliest/Late "+B(_.value),1),d("div",$C," Overlaps "+B(S.value.overlapEvents??0)+"  Longest "+B(x.value),1),d("div",TC," Last day off "+B(P.value),1)])):G("",!0),z.value?(y(),k("div",MC,B(z.value),1)):G("",!0)],4))}}),[["__scopeId","data-v-30983ce4"]])},Symbol.toStringTag,{value:"Module"}))})();
